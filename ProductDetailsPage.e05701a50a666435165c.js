(window.salesJsonp=window.salesJsonp||[]).push([[12],{"/Z0B":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return oe}));var a=n("vJKn"),r=n.n(a),i=n("rg98"),s=n("H+61"),o=n("UlJF"),c=n("+Css"),l=n("7LId"),d=n("VIvw"),p=n("iHvq"),u=n("cpVT"),m=n("q1tI"),f=n("5dM3"),h=n("RrNd"),g=n("Vvt1"),b=n.n(g),v=n("Ftt6"),y=n("BX1O"),C=n("eI37"),k=n("xLlQ"),S=n("rk93"),O=n.n(S),x=n("Ra6Z"),w=n("U/e8"),T=n("Da3r"),I=n("BgAt"),L=n("cq7Z"),j=n("mOvS"),M=n.n(j),N=n("JNjH"),P=n("BTSr"),D=n("HW76"),A=n("mwIZ"),R=n.n(A),E=n("RBan"),F=n.n(E),U=n("ijCd"),H=n.n(U),B=n("J2m7"),W=n.n(B),_=n("MJIl"),V=n.n(_),q=n("a9jo"),G=n.n(q),Q=n("C3wX"),Z=n("0Yz8"),z=n("gNO3"),X=n("wvx5"),J=n("oWEr"),K=n("Xz2m"),Y=n.n(K),$=n("Xugw"),ee=m.createElement;function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var re=b()((function(){return Promise.resolve().then((function(){return n("Kn+w")}))}),{ssr:!1,loadableGenerated:{webpack:function(){return["Kn+w"]},modules:["../src/pages/ProductDetailsPage/components/NextStepCta/NextStepCta.tsx -> ../SalesIntentModal"]}}),ie=b()((function(){return Promise.resolve().then((function(){return n("x2bk")}))}),{ssr:!1,loadableGenerated:{webpack:function(){return["x2bk"]},modules:["../src/pages/ProductDetailsPage/components/NextStepCta/NextStepCta.tsx -> ../AccessoryIntentModal"]}}),se=b()((function(){return Promise.resolve().then((function(){return n("AGoX")}))}),{loadableGenerated:{webpack:function(){return["AGoX"]},modules:["../src/pages/ProductDetailsPage/components/NextStepCta/NextStepCta.tsx -> ../../../../common/components/Modal/Modal"]}}),oe=function(t){Object(l.a)(a,t);var n=ae(a);function a(t){var o;return Object(s.a)(this,a),o=n.call(this,t),Object(u.a)(Object(c.a)(o),"context",void 0),Object(u.a)(Object(c.a)(o),"reporting",void 0),Object(u.a)(Object(c.a)(o),"textContent",{dataConnectDeviceAddHeader:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.dataConnectDeviceAddHeader",T.d.nonCompatibleDeviceModal.dataConnectDeviceAddHeader),dataConnectConflictDescription:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.dataConnectConflictDescription",T.d.nonCompatibleDeviceModal.dataConnectConflictDescription),dataConnectKeepElseCTALabel:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.dataConnectKeepElseCTALabel",T.d.nonCompatibleDeviceModal.dataConnectKeepElseCTALabel),dataConnectKeepCTALabel:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.dataConnectKeepCTALabel",T.d.nonCompatibleDeviceModal.dataConnectKeepCTALabel),dataConnectConflictCode:T.d.nonCompatibleDeviceModal.dataConnectConflictCode}),Object(u.a)(Object(c.a)(o),"esimErrorModalTextContent",{header:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.eSimConflictModalHeader",T.d.esimConflictModal.header),description:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.eSimConflictModalDescription",T.d.esimConflictModal.description),elseCTALabel:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.eSimConflictModalElseCTALabel",T.d.esimConflictModal.elseCTALabel),keepCTALabel:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.eSimConflictModalKeepCTALabel",T.d.esimConflictModal.keepCTALabel),conflictCode:T.d.esimConflictModal.conflictCode}),Object(u.a)(Object(c.a)(o),"maxLinesLimitModalTextContent",{maxLinesLimitModalHeader:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimitModal.master.maxLinesLimitModalTooManyHeader",T.d.maxLinesLimitModal.maxLinesLimitModalTooManyHeader),maxLinesLimitModalDescription:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimitModal.master.maxLinesLimitModalMaxNumDevicesInOrder",T.d.maxLinesLimitModal.maxLinesLimitModalMaxNumDevicesInOrder),maxLinesLimitModalCartCTALabel:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimitModal.master.maxLinesLimitModalCartCTALabel",T.d.maxLinesLimitModal.maxLinesLimitModalCartCTALabel)}),Object(u.a)(Object(c.a)(o),"deviceLimitModalTextContent",{deviceLimitModalHeading:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.deviceLimitModalHeading",T.d.deviceLimitModal.deviceLimitModalHeading),deviceMultipleLimitModalText:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.deviceLimitModalText",T.d.deviceLimitModal.deviceMultipleLimitModalText),deviceSingleLimitModalText:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.deviceLimitModalText",T.d.deviceLimitModal.deviceSingleLimitModalText),deviceLimitModalRemove:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.deviceLimitModalRemove",T.d.deviceLimitModal.deviceLimitModalRemove),mixedDeviceMultipleLimitModalText:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.mixedDeviceLimitModalText",T.d.deviceLimitModal.mixedDeviceMultipleLimitModalText),sameDeviceMultipleLimitModalText:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.sameDeviceLimitModalText",T.d.deviceLimitModal.sameDeviceMultipleLimitModalText)}),Object(u.a)(Object(c.a)(o),"paymentTypeTextContext",{cartConflictLabelHeader:R()(o.props.modalsContent,"master.cartConflict.master.cartConflictLabelHeader",T.d.paymentTypes.conflictModal.cartConflictLabelHeader),type:"prepaid"===R()(o.props,"selectedSku.paymentType")?T.d.paymentTypes.conflictModal.cartConflictPrepaidService:T.d.paymentTypes.conflictModal.cartConflictPostpaidService,cartConflictPrimaryPrepaid1:R()(o.props.modalsContent,"master.cartConflict.master.cartConflictPrimaryPrepaid1",T.d.paymentTypes.conflictModal.cartConflictPrimaryPrepaid1),cartConflictPrimaryPrepaid2:R()(o.props.modalsContent,"master.cartConflict.master.cartConflictPrimaryPrepaid2",T.d.paymentTypes.conflictModal.cartConflictPrimaryPrepaid2),cartConflictPrimaryPostpaid1:R()(o.props.modalsContent,"master.cartConflict.master.cartConflictPrimaryPostpaid1",T.d.paymentTypes.conflictModal.cartConflictPrimaryPostpaid1),cartConflictPrimaryPostpaid2:R()(o.props.modalsContent,"master.cartConflict.master.cartConflictPrimaryPostpaid2",T.d.paymentTypes.conflictModal.cartConflictPrimaryPostpaid2),cartConflictPaymentTypeSubheader:R()(o.props.modalsContent,"master.cartConflict.master.cartConflictPaymentTypeSubheader",T.d.paymentTypes.conflictModal.cartConflictPaymentTypeSubheader)}),Object(u.a)(Object(c.a)(o),"wirelineConflictModalTextContent",{wirelineConfilctHeading:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.wirelineConfilctHeading",T.d.wirelineConfilctModal.wirelineConfilctHeading),wirelineConflictDescription:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.wirelineConflictDescription",T.d.wirelineConfilctModal.wirelineConflictDescription),wirelineConfilctStartOverLabel:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.wirelineConfilctStartOverLabel",T.d.wirelineConfilctModal.wirelineConfilctStartOverLabel),wirelineConfilctContinueCTALabel:R()(o.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.wirelineConfilctContinueCTALabel",T.d.wirelineConfilctModal.wirelineConfilctContinueCTALabel)}),Object(u.a)(Object(c.a)(o),"checkForPlanConstruct",function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.items,(a=Object.keys(n))&&a.length>0&&a.map((function(e){var t=R()(n,e),a=(R()(t,"_itemExtraAttributes.isLLP"),R()(t,"_itemExtraAttributes.isUnlimitedSharedDataGroup"));"true"===R()(t,"_itemExtraAttributes.dataConnectSharedPlan")&&o.setState({firstLineIsDataConnectSharedPlan:!0}),"true"===a&&o.setState({firstLineIsUYW:!0}),"4GBSTSDG"!==t.billingCode&&"LLGMS4GBB"!==t.billingCode||o.setState({firstLineIs4GB:!0}),"FN2GBST"===t.billingCode&&o.setState({firstLineIs2GB:!0})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(u.a)(Object(c.a)(o),"getPriceText",(function(){var e="",t=Object(w.j)(o.context.selectedContractTerm,o.context,!0);if(t&&t.displayPrice&&"FREE"!==t.displayPrice){var n=t.displayPrefix||"",a=t.displayPrice||"",r=t.displaySuffix||"";e=" (".concat(n).concat(a).concat(r,")")}return e})),Object(u.a)(Object(c.a)(o),"getButtonText",(function(){return o.props.selectedSku.effectiveOutOfStock?"Out of Stock":o.props.selectedSku.isComingSoon?"Coming Soon":o.props.selectedSku.preOrderable?"Pre Order":o.isIdpEditAction()?"Update cart":o.shouldAddToCart()?"Add to Cart":"UP"===o.props.profileInfo.flowIndicator&&o.props.profileInfo.wirelessAuthenticated?"Upgrade":"Continue"})),Object(u.a)(Object(c.a)(o),"openPaymentTypeConflictModal",(function(){o.setState({showPaymentTypeConflictModal:!0,showSpinner:!1})})),Object(u.a)(Object(c.a)(o),"closePaymentTypeConflictModal",(function(){o.setState({showPaymentTypeConflictModal:!1})})),Object(u.a)(Object(c.a)(o),"closeAddToCartErrorModal",(function(){o.setState({addToCartModalVisible:!1})})),Object(u.a)(Object(c.a)(o),"openAddToCartErrorModal",(function(){o.setState({addToCartModalVisible:!0,showSpinner:!1},(function(){o.IntentModalVisibility()}))})),Object(u.a)(Object(c.a)(o),"closeAccessoryRedirectModal",(function(){Object(w.Ac)(),o.setState({accessoryModalVisible:!1})})),Object(u.a)(Object(c.a)(o),"openAccessoryRedirectModal",(function(){o.setState({accessoryModalVisible:!0,showSpinner:!1})})),Object(u.a)(Object(c.a)(o),"openMaxLinesLimitModal",(function(){o.setState({openMaxLinesModal:!0,showSpinner:!1});o.reporting.firePageLoadEvent({"page.location.url":"/buy/linelevelpricing/modal","page.pageInfo.friendlyPageName":"DS Maximum Lines Warning Modal Pg"})})),Object(u.a)(Object(c.a)(o),"closeMaxLinesLimitModal",(function(){o.setState({openMaxLinesModal:!1}),o.fireLinkClick("maxLinesModalClose",window.location.href)})),Object(u.a)(Object(c.a)(o),"onMaxLinesLimitModalCartClick",(function(){window.location.href="".concat(h.b.productDetailsUrls.idseCart),o.fireLinkClick(o.maxLinesLimitModalTextContent.maxLinesLimitModalCartCTALabel,"".concat(h.b.productDetailsUrls.idseCart)),o.closeMaxLinesLimitModal})),Object(u.a)(Object(c.a)(o),"getMaxLinesModalDescription",(function(){var e={maxDevicesOrder:o.state.maxLinesGroupLineLimit};return Object(w.gc)(o.maxLinesLimitModalTextContent.maxLinesLimitModalDescription,e)})),Object(u.a)(Object(c.a)(o),"cancelEsimConflictModal",(function(){var e,t,n={linkDestinationUrl:"/buy/".concat(o.props.deviceType,"/").concat(null!==(e=location)&&void 0!==e&&null!==(t=e.href)&&void 0!==t&&t.includes("config")?"config":"details"),linkName:"X - click",linkPosition:"Multi sim error modal"};o.reporting.fireLinkClickEvent(n),o.closeEsimConflictModal()})),Object(u.a)(Object(c.a)(o),"openEsimConflictModal",(function(){o.setState({showEsimConflictModal:!0,showSpinner:!1}),setTimeout((function(){var e={url:"/buy/multisimerror/modal","page.pageInfo.friendlyPageName":"DS BYOD Multi SIM Error Modal Pg","page.pageInfo.flowCode":Object(Q.b)(o.props.profileInfo.flowIndicator,o.props.profileInfo.subFlowType,o.props.selectedSku.paymentType,!0)};o.reporting.firePageLoadEvent(e)}),1e3)})),Object(u.a)(Object(c.a)(o),"closeEsimConflictModal",(function(){o.setState({showEsimConflictModal:!1}),o.props.pageLoadEvent(void 0,o.context)})),Object(u.a)(Object(c.a)(o),"esimRemoveCurrentDevice",(function(){var e=o.esimErrorModalTextContent,t={linkDestinationUrl:"/buy/cart",linkName:"".concat(e.elseCTALabel," - click"),linkPosition:"Multi sim error modal"};o.reporting.fireLinkClickEvent(t),o.closeEsimConflictModal(),o.removeCurrentDevice()})),Object(u.a)(Object(c.a)(o),"esimRemoveAllOtherItems",Object(i.a)(r.a.mark((function e(){var t,n,a,i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.initializeCart)();case 2:a=o.esimErrorModalTextContent,i="/buy/".concat(o.props.deviceType,"/").concat(null!==(t=location)&&void 0!==t&&null!==(n=t.href)&&void 0!==n&&n.includes("config")?"config":"details"),s={linkDestinationUrl:i,linkName:"".concat(a.keepCTALabel," - click"),linkPosition:"Multi sim error modal"},o.reporting.fireLinkClickEvent(s),o.closeEsimConflictModal(),o.addToCartAndRedirect();case 8:case"end":return e.stop()}}),e)})))),Object(u.a)(Object(c.a)(o),"EsimConflictModal",(function(){var e=o.esimErrorModalTextContent;return ee(se,{isOpen:o.state.showEsimConflictModal,onRequestClose:o.cancelEsimConflictModal,width:6,modalCloseClassName:"close-button mar-t-sm-all mar-r-sm-all"},ee(m.Fragment,null,ee("h1",{className:"heading-md mar-b-xxs ".concat(f.headerText)},e.header),ee("div",{className:"font-regular type-sm ".concat(f.modalSubText)},Object(w.gc)(e.description,{deviceName:o.props.selectedSku.shortDisplayName}),ee("button",{type:"button",style:{height:"auto"},className:"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(f.nonCompatibleDeviceButton),onClick:o.esimRemoveCurrentDevice},ee("div",{className:"type-sm font-regular ".concat(f.btnText)},e.elseCTALabel)),ee("button",{type:"button",style:{height:"auto"},className:"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(f.nonCompatibleDeviceButton," ").concat(f.btnMargin),onClick:o.esimRemoveAllOtherItems},ee("div",{className:"type-sm font-regular ".concat(f.btnText)},Object(w.gc)(e.keepCTALabel,{deviceName:o.props.selectedSku.shortDisplayName}))))))})),Object(u.a)(Object(c.a)(o),"openNonCompatibleDeviceModal",(function(){o.setState({showNonCompatibleDeviceModal:!0,showSpinner:!1})})),Object(u.a)(Object(c.a)(o),"closeNonCompatibleDeviceModal",(function(){o.setState({showNonCompatibleDeviceModal:!1})})),Object(u.a)(Object(c.a)(o),"openWirelineConfilctModal",(function(){o.setState({showWirelineConfilctModal:!0,showSpinner:!1})})),Object(u.a)(Object(c.a)(o),"closeWirelineConfilctModal",(function(){o.setState({showWirelineConfilctModal:!1})})),Object(u.a)(Object(c.a)(o),"openDeviceLimitModal",(function(){o.setState({showDeviceLimitModal:!0,showSpinner:!1})})),Object(u.a)(Object(c.a)(o),"closeDeviceLimitModal",(function(){o.setState({showDeviceLimitModal:!1})})),Object(u.a)(Object(c.a)(o),"removeTheExtra",(function(){o.closeDeviceLimitModal(),o.redirectToCartPage()})),Object(u.a)(Object(c.a)(o),"removeCurrentDevice",(function(){o.setState({showNonCompatibleDeviceModal:!1}),o.redirectToCartPage()})),Object(u.a)(Object(c.a)(o),"removeAllOtherItems",(function(){o.setState({showNonCompatibleDeviceModal:!1}),sessionStorage.setItem("cartConflictFound","true"),o.addToCartAndRedirect()})),Object(u.a)(Object(c.a)(o),"wirelineRemoveCurrentDevice",(function(){o.setState({showWirelineConfilctModal:!1}),o.redirectToBundlePage()})),Object(u.a)(Object(c.a)(o),"redirectToListPage",(function(){window.location.href="/buy/accessories"})),Object(u.a)(Object(c.a)(o),"redirectToCartPage",(function(){window.location.href="/buy/cart"})),Object(u.a)(Object(c.a)(o),"redirectToBundlePage",(function(){window.location.href="/buy/bundles/"})),Object(u.a)(Object(c.a)(o),"wirelineRemoveAllOtherItems",(function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i,s,c,l,d,p;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(c in a=h.b.deleteWirelineCart,i=e.lobListFound,s=[],i)s.push(a+i[c]);if(z.a.removeAllOtherLobCarts(s),!o.props.isAccessory){t.next=16;break}return l={offerId:o.props.selectedSku.productId,productSKU:o.props.selectedSku.skuId,quantity:o.props.quantity},t.next=9,v.a.addToIdpCart(l);case 9:d=t.sent,p=v.a.checkATCIdpSuccess(d),o.setState({addToCartSuccess:p,showWirelineConfilctModal:!1}),o.props.events.handleSubmitReporting("/accessories/keepshopping/modal","Add to Cart",o.context,p?1:-1),o.openAccessoryRedirectModal(),t.next=17;break;case 16:o.addToCartAndRedirect();case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),Object(u.a)(Object(c.a)(o),"redirectToCart",Object(i.a)(r.a.mark((function e(){var t,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.state.paymentTypeConflict?window.location.href=h.b.productDetailsUrls.idseRetrieveCart:o.props.isIdpAccessoryRedirectOn?(t="true"===sessionStorage.getItem("cartModalAlreadyOpened"),o.state.isLoggedIn||t?window.location.href="".concat(h.b.productDetailsUrls.idseCart):(o.closeAccessoryRedirectModal(),sessionStorage.setItem("cartModalAlreadyOpened","true"),o.setState({intentsToShow:["ACC","ACCNEW"],intentModalVisible:!0,showNewCustomerLink:!1}))):((n=JSON.parse(sessionStorage.getItem("userIntent")))||(n=w.dc),n&&n.payload&&!0===n.payload.showIntentModal&&n.payload.userIntent.length>0?(o.closeAccessoryRedirectModal(),o.setState({intentsToShow:n.payload.userIntent,intentModalVisible:!0,showNewCustomerLink:n.payload.showNewCustomerLink})):!1===o.props.profileInfo.wirelessAuthenticated&&"authenticated"===o.props.profileInfo.customerState?(sessionStorage.setItem("userIntent",JSON.stringify(w.Db)),w.Db.response.redirectURL&&(window.location.href=w.Db.response.redirectURL)):window.location.href="/cart/mycart.html"),a=o.props.isAccessory?"/accessories/keepshopping/modal":null,o.fireLinkClick("Check out","/cart/mycart.html",a);case 3:case"end":return e.stop()}}),e)})))),Object(u.a)(Object(c.a)(o),"fireReportingAndCloseModal",(function(){o.fireLinkClick("CloseKeepShoppingModal","/buy/accessories/details"),o.closeAccessoryRedirectModal(),o.props.pageLoadEvent(o.state.addToCartSuccess?"DSACC":null,o.context)})),Object(u.a)(Object(c.a)(o),"keepShopping",(function(){o.fireLinkClick("Keep Shopping","/buy/accessories/details"),o.closeAccessoryRedirectModal(),window.location.href="/buy/accessories"})),Object(u.a)(Object(c.a)(o),"keepShoppingPageLoadEvent",(function(){var e={"page.location.url":"/accessories/keepshopping/modal","page.pageInfo.friendlyPageName":"DS Accessories Keep Shopping Modal Pg","page.pageInfo.flowCode":o.state.addToCartSuccess?"DSACC":"DSUNK"};o.reporting.firePageLoadEvent(e)})),Object(u.a)(Object(c.a)(o),"fireLinkClick",(function(e,t,n){var a={linkName:e,linkPosition:"Body",linkDestinationUrl:t};n&&(a=ne(ne({},a),{},{"page.location.url":n})),o.reporting.fireLinkClickEvent(a)})),Object(u.a)(Object(c.a)(o),"addToCartAndRedirect",Object(i.a)(r.a.mark((function e(){var t,n,a,i,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"prepaid"===o.props.selectedSku.paymentType&&x.prepaidRedirect.enabled,e.next=3,o.props.cartDetails.addDeviceToCart(o.props.selectedSku,!0);case 3:if(t=e.sent,n=Object(Q.b)(o.props.profileInfo.flowIndicator,o.props.profileInfo.subFlowType,o.props.selectedSku.paymentType,!0),o.props.events.handleSubmitReporting(o.props.configViewPath,o.getButtonText(),o.context,t?1:-1,n),a=R()(t,"content.payload.conflictingCartDetails",void 0),i=R()(t,"error",void 0),s="true"===localStorage.getItem("maxLinesModal"),!(t&&i&&i.errorId===I.w.code&&i.message===I.w.message||s)){e.next=17;break}return c=o.props.cartDetails.losgCount?o.props.cartDetails.losgCount:5,o.setState({maxLinesGroupLineLimit:c}),o.IntentModalVisibility(),o.openMaxLinesLimitModal(),e.abrupt("return",!1);case 17:if(!a||a.conflictCode!==o.textContent.dataConnectConflictCode){e.next=23;break}return o.props.cartDetails.priceConfigContext.setConflictActionType("CLEAR_CONFLICT_CART"),o.openNonCompatibleDeviceModal(),e.abrupt("return");case 23:if(!a||a.conflictCode!==o.esimErrorModalTextContent.conflictCode){e.next=29;break}return o.props.cartDetails.priceConfigContext.setConflictActionType("CLEAR_CONFLICT_CART"),o.openEsimConflictModal(),e.abrupt("return");case 29:if(!t){e.next=36;break}return o.setState({shouldNotSetSelectedDeviceConfig:!0}),sessionStorage.removeItem("selectedDeviceConfig"),"true"===Object(w.bb)()["pdp-progressive"]?o.props.events.redirectToPlansConfig():o.props.events.redirectToConfigView(),e.abrupt("return",!0);case 36:return o.setState({atcFired:0},(function(){o.openAddToCartErrorModal()})),e.abrupt("return",!1);case 38:case"end":return e.stop()}}),e)})))),Object(u.a)(Object(c.a)(o),"renderAccessoryRedirectModalHeader",(function(){return o.state.addToCartSuccess?ee("div",{className:f.addToCartModalAbove},ee(k.a,{icon:O.a,size:"24px",style:{fill:"#008917"}}),ee("span",{className:f.addToCartModalTextSuccess},ee("h3",{className:"heading-md"},"You added ".concat(o.props.selectedSku.shortDisplayName," to your cart!")),ee("p",null,"What would you like to do next?"))):ee("div",{className:f.addToCartModalAbove},ee("span",{className:"".concat(f.addToCartModalTextError," mar-b-xxs")},ee("h3",null,"We've encountered an error adding\n                                ".concat(o.props.selectedSku.displayName||o.props.selectedSku.shortDisplayName,"\n                            to the cart, please try again"))))})),Object(u.a)(Object(c.a)(o),"renderAddToCartErrorModalHeader",(function(){return ee(P.a.Consumer,null,(function(e){return ee("div",{className:f.addToCartModalAbove},ee("span",{className:"".concat(f.addToCartModalTextError," mar-b-xxs")},ee("h3",null,e.errorModalHeaderContent?e.errorModalHeaderContent:"Oops, something went wrong! Please try adding that item to your cart again.")))}))})),Object(u.a)(Object(c.a)(o),"createAccessoryRedirectModalContent",(function(){return o.state.addToCartSuccess?ee(m.Fragment,null,ee("div",{className:f.intentSpace},ee("hr",{className:f.modalDivider}),ee("div",{className:f.addToCartModalButtonsContainer},ee(y.a,{events:{onClick:o.keepShopping},buttonConfig:{disabled:!1,type:[C.b.GhostWhite]},className:"btn-small btn-full-width ".concat(f.intentButton)},"Keep shopping"),ee(y.a,{events:{onClick:function(){return o.redirectToCart()}},buttonConfig:{disabled:!1,type:[C.b.GhostWhite]},className:"btn-small btn-full-width ".concat(f.intentButton)},"Go to cart")))):ee(m.Fragment,null,ee("div",{className:f.intentSpace},ee("hr",{className:f.modalDivider}),ee("div",{className:f.addToCartModalButtonsContainer},ee(y.a,{events:{onClick:o.closeAccessoryRedirectModal},buttonConfig:{disabled:!1,type:[C.b.GhostWhite]},className:"btn-small btn-full-width ".concat(f.intentButton)},"Close"))))})),Object(u.a)(Object(c.a)(o),"createAddToCartErrorModalContent",(function(e){return ee(m.Fragment,null,ee("div",{className:f.intentSpace},ee("hr",{className:f.modalDivider}),ee("div",{className:f.addToCartModalButtonsContainer},ee(y.a,{events:{onClick:e},buttonConfig:{disabled:!1,type:[C.b.GhostWhite]},className:"btn-small btn-full-width ".concat(f.intentButton)},"Close"))))})),Object(u.a)(Object(c.a)(o),"clearSessionStorageItems",(function(){sessionStorage.getItem("offerId")&&sessionStorage.removeItem("offerId"),sessionStorage.getItem("offerBOGOid")&&sessionStorage.removeItem("offerBOGOid"),sessionStorage.getItem("myFavstoreCurrentSku")&&sessionStorage.removeItem("myFavstoreCurrentSku")})),Object(u.a)(Object(c.a)(o),"setContractTermSessionStorage",(function(e,t){var n=Object(w.bb)(),a=n&&"true"===n["pdp-hyla-tradein-tablet-wearable"],r=t&&t.paymentType&&"postpaid"===t.paymentType,i=t&&t.deviceType&&"pda"===t.deviceType||a&&(t&&t.deviceType&&"netbook"===t.deviceType||t&&t.deviceType&&"network"===t.deviceType&&"wearable"===t.deviceSubType),s=r&&i&&n&&"true"===n["pdp-hyla-tradein"],c={};if(void 0!==o.context.isTradeInSelected&&(c.hylaTradeInIntentIndicator=o.context.isTradeInSelected),void 0!==o.context.isPortInSelected&&(c.portinIndicator=o.context.isPortInSelected),void 0!==o.context.isTradeInSelected&&void 0!==o.context.hylaOfferCodeInContext&&"DEFAULT"!==o.context.hylaOfferCodeInContext&&(c.shoppingContext={offerCode:o.context.hylaOfferCodeInContext}),s)if(Object(w.Mb)(o.context.hylaTradeInResponse)){var l=sessionStorage.getItem("selectedDeviceConfig")&&JSON.parse(sessionStorage.getItem("selectedDeviceConfig"));c.hylaTradeInResponse=l&&l.hylaTradeInResponse||{}}else void 0!==o.context.hylaTradeInResponse&&(c.hylaTradeInResponse=o.context.hylaTradeInResponse);var d=t&&t.deviceSubType&&t.paymentType&&"postpaid"===t.paymentType&&"simcard"===t.deviceSubType?{extraData:{deviceTypeForByod:t.deviceType}}:{},p=ne(ne({},c),{},{commitmentTerm:Object(w.Zb)(e),sku:t},d);sessionStorage.setItem("selectedDeviceConfig",JSON.stringify(p))})),Object(u.a)(Object(c.a)(o),"planFirstBreakIntent",function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("phones"===(n=Object(w.M)(o.props.selectedSku.deviceType,o.props.selectedSku.deviceSubType,o.props.selectedSku.paymentType))||n===T.d.CONNECTED_DEVICES_AND_MORE||!t.isPartiallyCompleteLosgLines){e.next=6;break}return o.setState({showPlanFirstBreakIntentModal:!0}),e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(u.a)(Object(c.a)(o),"ctaClick",function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,s,c,l,d,p,u,m,f,h,g,b,y,C,k,S,O,I,L,j,M,N,P,D,A,E,F,U,H;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.setState({showSpinner:!0}),!t||!t.wirelineLobsFound){e.next=4;break}return o.setState({showWirelineConfilctModal:!0}),e.abrupt("return");case 4:if(!o.state.paymentTypeConflict){e.next=6;break}return e.abrupt("return");case 6:if(n="prepaid"===o.props.selectedSku.paymentType&&x.prepaidRedirect.enabled,o.paymentTypeConflictRedirection(t,n)){e.next=10;break}return e.abrupt("return");case 10:return a=new CustomEvent(T.b.INTENT_CONTINUE),window.dispatchEvent(a),i=x.IntentModalPDP&&window.location.href.includes("intent=NEW"),s="true"===Object(w.bb)()["pdp-plan-view-redirect"],c="true"===Object(w.bb)()["pdp-data-connect-llp"],l="true"===Object(w.bb)()["pdp-auth-wireline-to-config"],d="true"===Object(w.bb)()["pdp-unauth-wireline-to-login"],e.next=19,X.a.getProfileInfo();case 19:if(void 0!==(p=e.sent)&&(u=X.a.getAuthState(p),console.log("NSCTA profileInfoResponse",p,u),o.setState({isIdpAuthenticated:u.isAuthenticated},(function(){console.log("NSCTA update isIdpAuth",o.state.isIdpAuthenticated)})),o.setState({hasIdpWireless:u.isWireless},(function(){console.log("NSCTA update hasWireless",o.state.hasIdpWireless)})),o.setState({hasIdpWireline:u.isWireline},(function(){console.log("NSCTA update hasWireline",o.state.hasIdpWireline)}))),!l){e.next=35;break}if(m=(m=localStorage.getItem("redirectedLogin"))?JSON.parse(m):{},f=o.getUrlMap(),h=Object(w.lc)("fnIntend"),g=Object(w.E)().indexOf(h)>-1,b=JSON.parse(sessionStorage.getItem("userIntent")),!(o.state.isIdpAuthenticated&&!o.state.hasIdpWireless&&!o.props.isAccessory&&!g&&"existing"!==h||g&&b&&"existing"!==h)){e.next=34;break}return void 0!==m&&Object(w.o)(),e.next=32,o.addToCartAndRedirect();case 32:e.next=35;break;case 34:o.state.isIdpAuthenticated&&o.state.hasIdpWireless&&void 0!==m&&(y=R()(m,"intentUpgrade"),C=R()(m,"selectedDeviceConfig"),y&&C&&(sessionStorage.setItem("selectedDeviceConfig",JSON.stringify(C)),Object(w.o)(),k=f.idseUrl+"&wlsfi=up",window.location.href=k));case 35:if(!d||o.state.isIdpAuthenticated||void 0===o.state.isIdpAuthenticated){e.next=40;break}if(!o.state.hasIdpWireline||localStorage.getItem("redirectedLogin")){e.next=40;break}return Object(w.uc)(!0),window.location.href=Object(w.sb)(),e.abrupt("return");case 40:if(!o.isIdpEditAction()){e.next=52;break}return S={losgId:o.props.idpAccessoryDetails.losgsId,itemId:o.props.idpAccessoryDetails.id,offerId:o.props.selectedSku.productId,productSKU:o.props.selectedSku.skuId,quantity:o.props.quantity},e.next=44,v.a.modifyIdpCart(S);case 44:return O=e.sent,I=v.a.checkATCIdpSuccess(O),o.setState({addToCartSuccess:I}),o.props.events.handleSubmitReporting("/accessories/keepshopping/modal","Update Cart",o.context,I?1:-1),o.openAccessoryRedirectModal(),e.abrupt("return");case 52:if(!o.props.isAccessory||!o.props.isIdpAccessoryRedirectOn){e.next=64;break}return L={offerId:o.props.selectedSku.productId,productSKU:o.props.selectedSku.skuId,quantity:o.props.quantity},e.next=56,v.a.addToIdpCart(L);case 56:return j=e.sent,M=v.a.checkATCIdpSuccess(j),o.setState({addToCartSuccess:M}),o.props.events.handleSubmitReporting("/accessories/keepshopping/modal","Add to Cart",o.context,M?1:-1),o.openAccessoryRedirectModal(),e.abrupt("return");case 64:if(!o.props.isAccessory){e.next=75;break}return e.next=67,v.a.addItemsToCart(o.props.selectedSku.skuId,o.props.selectedSku.productId,o.props.quantity);case 67:return N=e.sent,P=v.a.checkATCSuccess(N),o.setState({addToCartSuccess:P}),o.props.events.handleSubmitReporting("/accessories/keepshopping/modal","Add to Cart",o.context,P?1:-1),o.openAccessoryRedirectModal(),e.abrupt("return");case 75:if("simcard"!==o.props.deviceSubType){e.next=83;break}if(o.setContractTermSessionStorage(o.context.selectedContractTerm.name,o.props.selectedSku),o.props.selectedSku.deviceType&&o.props.selectedSku.deviceType.toUpperCase()===T.d.simDeviceTypes.Wearable&&(window.location.href="/buy/wireless/byod/"),!n){e.next=81;break}return o.fireReportingAndNavigate("/buy/wireless/prepaid/?wlsview=prepaidbyod",o.getButtonText(),-2),e.abrupt("return");case 81:e.next=101;break;case 83:if(!n){e.next=101;break}if("true"!==Object(w.bb)()["pdp-prepaid"]||!s||R()(t,"isPlanFirstMode")){e.next=98;break}if(!c){e.next=92;break}return e.next=88,o.displayConflictModal(t);case 88:!e.sent&&o.props.configViewPath&&(o.state.atcFired||o.setState({atcFired:o.state.atcFired+1},(function(){o.addToCartAndRedirect()}))),e.next=96;break;case 92:return e.next=94,o.conflictRedirection(t);case 94:e.sent&&o.props.configViewPath&&(o.state.atcFired||o.setState({atcFired:o.state.atcFired+1},(function(){o.addToCartAndRedirect()})));case 96:e.next=100;break;case 98:o.setContractTermSessionStorage(R()(o.context,"selectedContractTerm.name"),o.props.selectedSku),o.fireReportingAndNavigate("/buy/wireless/prepaid/?wlsview=devicesfirst&sku=".concat(R()(o.props,"selectedSku.skuId")),o.getButtonText(),-2);case 100:return e.abrupt("return");case 101:if(D=o.getUrlMap(),x.contractTermsPDP.enabled&&localStorage.removeItem("termPrevSelectedByUser"),!s||n||!i){e.next=117;break}if(!c){e.next=111;break}return e.next=107,o.displayConflictModal(t);case 107:e.sent||o.addToCartAndRedirect(),e.next=115;break;case 111:return e.next=113,o.conflictRedirection(t);case 113:e.sent&&o.addToCartAndRedirect();case 115:e.next=153;break;case 117:if(!x.IntentModalPDP||!window.location.href.includes("intent=NEW")){e.next=125;break}return e.next=120,o.conflictRedirection(t);case 120:return e.sent&&(window.location.href="CRU"===o.props.profileInfo.customerType?D.deviceConfigUrl:D.idseUrl),e.abrupt("return");case 125:if(!x.IntentModalPDP){e.next=147;break}if(A=!1,E=!1,!c){e.next=132;break}return e.next=131,o.displayConflictModal(t);case 131:A=e.sent;case 132:if(A){e.next=136;break}return e.next=135,o.displayDeviceLimitModal(t);case 135:E=e.sent;case 136:return e.next=138,o.conflictRedirection(t);case 138:if(F=e.sent,U=!0,!t||!t.isPlanFirstMode){e.next=144;break}return e.next=143,o.planFirstBreakIntent(t);case 143:U=e.sent;case 144:F&&U&&!A&&!E&&o.handleIntentModalDeviceCTA(t),e.next=153;break;case 147:return H="",x.IDSERedirect?(H=D.idseUrl,sessionStorage.setItem(T.d.intentModalContent.sessionStorageKey,'{"intent": "DSUNK"}')):H=screen.width<767?D.termSelectUrl:D.deviceConfigUrl,e.next=151,o.conflictRedirection(t);case 151:e.sent&&(o.props.events.handleSubmitReporting(H,o.getButtonText(),o.context,0),o.clearSessionStorageItems(),o.setContractTermSessionStorage(o.context.selectedContractTerm.name,o.props.selectedSku),!o.props.profileInfo||!0!==o.props.profileInfo.wirelessAuthenticated||"CRU"!==o.props.profileInfo.customerType||!0!==o.props.profileInfo.exAlFlow||"AL"!==o.props.profileInfo.flowIndicator&&"ALF"!==o.props.profileInfo.flowIndicator?o.props.profileInfo&&!0===o.props.profileInfo.wirelessAuthenticated&&"CRU"===o.props.profileInfo.customerType&&!0===o.props.profileInfo.exUpFlow&&"UP"===o.props.profileInfo.flowIndicator?window.location.href=D.upgradeEligibilityUrl:window.location.href=H:window.location.href=D.deviceRecommenderUrl);case 153:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(u.a)(Object(c.a)(o),"emptyCart",function(){var t=Object(i.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e&&document&&n)){t.next=5;break}return sessionStorage&&sessionStorage.getItem("addAnotherDevice")&&sessionStorage.removeItem("addAnotherDevice"),t.next=4,n.clearCart();case 4:window.location.reload();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(u.a)(Object(c.a)(o),"redirectLegacy",(function(e){e.clearCart();var t="prepaid"===o.props.selectedSku.paymentType&&x.prepaidRedirect.enabled;if("true"===Object(w.bb)()["pdp-data-connect-llp"])o.props.isSmb||o.props.isByod||t?(o.fireLinkClick("Keep connected device","Config view"),o.props.events.redirectToConfigView()):(o.fireLinkClick("Keep connected device","plan config"),o.props.events.redirectToPlansConfig());else{var n="".concat(h.b.productDetailsUrls.deviceConfigUrl).concat(o.props.selectedSku.skuId);o.fireLinkClick("Keep connected device",n),o.setState({showConflictModal:!1}),window.location.href=n}})),Object(u.a)(Object(c.a)(o),"redirectHub",(function(e){o.setState({showConflictModal:!1});var t=e.getCurrentCartItem().productSKU?"?skuId=".concat(e.getCurrentCartItem().productSKU):"";if(o.fireLinkClick("Remove connected device","/buy/hub/".concat(t)),o.props.cartDetails.isPlanFirstMode){var n=o.getUrlMap();window.location.href=n.deviceConfigUrl}else window.location.href="/buy/hub/".concat(t)})),Object(u.a)(Object(c.a)(o),"planFirstBreakIntentCancel",(function(){var e="".concat(h.b.plpUrl);o.fireLinkClick("Cancel",e),o.setState({showConflictModal:!1}),window.location.href=e})),Object(u.a)(Object(c.a)(o),"planFirstBreakIntentContinue",(function(){o.setState({showConflictModal:!1}),o.addToCartAndRedirect()})),Object(u.a)(Object(c.a)(o),"hideConflictModal",(function(){o.setState({showConflictModal:!1,showSpinner:!1})})),Object(u.a)(Object(c.a)(o),"hidePlanFirstBreakIntentModal",(function(){o.setState({showPlanFirstBreakIntentModal:!1,showSpinner:!1})})),Object(u.a)(Object(c.a)(o),"getDataConnectConflictDescription",(function(){var e=Object(u.a)({deviceName:o.props.selectedSku.shortDisplayName},"name-of-device",o.props.selectedSku.shortDisplayName);return Object(w.gc)(o.textContent.dataConnectConflictDescription,e)})),Object(u.a)(Object(c.a)(o),"getDeviceLimitModalText",(function(){var e={limitDeviceName:o.state.deviceLimit+" "+o.props.selectedSku.shortDisplayName},t={limit:o.state.deviceLimit},n={limitDeviceSubTypeName:o.state.deviceLimit+" "+o.state.dataConnectedDeviceName};return o.state.deviceLimit>1&&o.state.dataConnectedDeviceName?Object(w.gc)(o.deviceLimitModalTextContent.sameDeviceMultipleLimitModalText,n):o.state.deviceLimit>1?o.state.isMixedCount?Object(w.gc)(o.deviceLimitModalTextContent.mixedDeviceMultipleLimitModalText,t):Object(w.gc)(o.deviceLimitModalTextContent.deviceMultipleLimitModalText,e):Object(w.gc)(o.deviceLimitModalTextContent.deviceSingleLimitModalText,e)})),o.state={accessoryModalVisible:!1,addToCartSuccess:!1,intentModalVisible:!1,intentsToShow:[],showNewCustomerLink:!1,addToCartModalVisible:!1,userIntentApiResponse:{payload:{},response:{}},showConflictModal:!1,showNonCompatibleDeviceModal:!1,showDeviceLimitModal:!1,showPaymentTypeConflictModal:!1,paymentTypeConflict:!1,showPlanFirstBreakIntentModal:!1,shouldNotSetSelectedDeviceConfig:!1,firstDeviceDataConnect:!1,firstLineIs4GB:!1,firstLineIs2GB:!1,firstLineIsUYW:!1,firstLineIsDataConnectSharedPlan:!1,atcFired:0,cartRedirect:!1,emptyCart:!1,deviceLimit:0,showWirelineConfilctModal:!1,isMixedCount:!1,dataConnectedDeviceName:"",isLoggedIn:!1,hasIdpWireless:!1,isIdpAuthenticated:!1,hasIdpWireline:!1,showSpinner:!1,openMaxLinesModal:!1,maxLinesGroupLineLimit:0,showEsimConflictModal:!1},o.closeAccessoryRedirectModal=o.closeAccessoryRedirectModal.bind(Object(c.a)(o)),o.IntentModalVisibility=o.IntentModalVisibility.bind(Object(c.a)(o)),o.disabledButtonClick=o.disabledButtonClick.bind(Object(c.a)(o)),o.fireReportingAndNavigate=o.fireReportingAndNavigate.bind(Object(c.a)(o)),o.conflictRedirection=o.conflictRedirection.bind(Object(c.a)(o)),o.addToCartAndRedirect=o.addToCartAndRedirect.bind(Object(c.a)(o)),o.emptyCart=o.emptyCart.bind(Object(c.a)(o)),o.closePaymentTypeConflictModal=o.closePaymentTypeConflictModal.bind(Object(c.a)(o)),o.openPaymentTypeConflictModal=o.openPaymentTypeConflictModal.bind(Object(c.a)(o)),o.paymentTypeConflictRedirection=o.paymentTypeConflictRedirection.bind(Object(c.a)(o)),o.reporting=new L.a,o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoggedIn:!Object(w.Pb)()}),e.next=3,this.callDisplayUserIntentApi();case 3:return e.t0=JSON,e.next=6,localStorage.getItem("redirectedLogin");case 6:e.t1=e.sent,t=e.t0.parse.call(e.t0,e.t1),!0===R()(t,"redirectedToLogin")&&window.location.href.includes("haloSuccess=true")&&this.ctaClick();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){e.selectedSku.deviceSubType!==this.props.selectedSku.deviceSubType&&this.callDisplayUserIntentApi()}},{key:"displayDeviceLimitModal",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,s,o,c,l,d,p,u,m,f,h,g,b,v,y,C;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=2,a=1,s=[(i={harmanMake:"HARMAN",harmanModel:"Spark",aWIMake:"AT&T",aWIModel:"Wireless Internet",tablet:"tablet",camera:"connecteddevice",miFI:"hotspot",modem:"usbconnect"}).tablet,i.camera,i.miFI,i.modem],o=H()(this.props.selectedSku.manufacturer,i.harmanMake)&&H()(this.props.selectedSku.model,i.harmanModel),c=H()(this.props.selectedSku.manufacturer,i.aWIMake)&&H()(this.props.selectedSku.model,i.aWIModel),l=H()(s,this.props.selectedSku.deviceSubType),d=0,p=0,u=0,m=0,f=0,h=0,g=!1,!(o||c||l)){e.next=45;break}if(!(t.cartItems.length>0)){e.next=44;break}if(t.cartItems.forEach((function(e){switch(R()(e,"device.hardGood.make")===i.harmanMake&&R()(e,"device.hardGood.model")===i.harmanModel&&d++,R()(e,"device.hardGood.make")===i.aWIMake&&R()(e,"device.hardGood.model")===i.aWIModel&&p++,R()(e,"device.hardGood.wirelessHardGoodCharacteristics._deviceSubType")){case i.tablet:u++;break;case i.modem:h++;break;case i.camera:f++;break;case i.miFI:m++}var t=W()(e.items,(function(e){return"sharedDataGroup"===e.itemType}));g=R()(t,"_itemExtraAttributes.isUnlimitedSharedDataGroup",!1)})),b=[{name:i.tablet,count:u},{name:i.camera,count:f},{name:i.miFI,count:m},{name:i.modem,count:h}],v=G()(b,"count"),!(o&&d>=n)){e.next=25;break}return this.setState({deviceLimit:n}),this.openDeviceLimitModal(),e.abrupt("return",!0);case 25:if(!(c&&p>=a)){e.next=31;break}return this.setState({deviceLimit:a}),this.openDeviceLimitModal(),e.abrupt("return",!0);case 31:if(o||!l||!V()(b,(function(e){return e.count>=n}))){e.next=40;break}if(y=W()(b,(function(e){return e.count>=n})),C=i.tablet===y.name&&!0===g,this.props.deviceSubType===y.name?this.setState({deviceLimit:n,dataConnectedDeviceName:y.name+"s"}):this.setState({deviceLimit:n,isMixedCount:!0}),C||this.props.editLosgId){e.next=38;break}return this.openDeviceLimitModal(),e.abrupt("return",!0);case 38:e.next=44;break;case 40:if(!(!o&&l&&v>=n)){e.next=44;break}return this.setState({deviceLimit:n,isMixedCount:!0}),this.openDeviceLimitModal(),e.abrupt("return",!0);case 44:case 45:return e.abrupt("return",!1);case 46:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"displayConflictModal",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,s,o,c,l,d,p,u,m,f,h,g,b,v,y,C,k,S=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.cartItems.length>0&&(n=F()(t.cartItems),a=R()(n,"device._itemExtraAttributes.deviceCategory")?R()(n,"device._itemExtraAttributes.deviceCategory"):R()(n,"device.hardGood.wirelessHardGoodCharacteristics._deviceSubType",!1)),!a){e.next=54;break}return e.next=4,this.checkForPlanConstruct(n);case 4:if(s=[(i={harmanMake:"HARMAN",harmanModel:"Spark",aWIMake:"AT&T",aWIModel:"Wireless Internet",smartphone:"smartphone",phone:"pda",tablet:"tablet",wearable:"wearable",camera:"connecteddevice",miFI:"hotspot",modem:"usbconnect"}).camera,i.miFI,i.modem],o=[i.phone,i.smartphone],c=this.state.firstLineIsUYW,l=this.state.firstLineIs4GB,d=this.state.firstLineIs2GB,p=this.state.firstLineIsDataConnectSharedPlan,u=a===i.tablet,m=!1,f=!1,h=H()(this.props.selectedSku.manufacturer,i.harmanMake)&&H()(this.props.selectedSku.model,i.harmanModel),g=H()(this.props.selectedSku.manufacturer,i.aWIMake)&&H()(this.props.selectedSku.model,i.aWIModel),b=this.props.selectedSku.deviceSubType===i.tablet,v=H()(o,this.props.selectedSku.deviceSubType),y=this.props.selectedSku.deviceSubType===i.wearable,C=H()(s,this.props.selectedSku.deviceSubType)&&!h&&!g,n&&n.items?Object.keys(n.items).forEach((function(e){var t=R()(n.items,e);R()(t,"hardGood.make")===i.aWIMake&&R()(t,"hardGood.model")===i.aWIModel&&(m=!0,S.setState({firstDeviceDataConnect:!0})),R()(t,"hardGood.make")===i.harmanMake&&R()(t,"hardGood.model")===i.harmanModel&&(f=!0,S.setState({firstDeviceDataConnect:!0}))})):(H()(s,a)&&!u||u&&p)&&this.setState({firstDeviceDataConnect:!0}),k=!u&&(H()(s,a)&&!m&&!f),!m||g){e.next=27;break}return this.openNonCompatibleDeviceModal(),e.abrupt("return",!0);case 27:if(!f||h){e.next=32;break}return this.openNonCompatibleDeviceModal(),e.abrupt("return",!0);case 32:if(!k||!(g||h||v||y)){e.next=37;break}return this.openNonCompatibleDeviceModal(),e.abrupt("return",!0);case 37:if(!u){e.next=43;break}if(!(g||y&&!c&&!l||h&&!c)){e.next=41;break}return this.openNonCompatibleDeviceModal(),e.abrupt("return",!0);case 41:e.next=53;break;case 43:if(!H()(o,a)){e.next=49;break}if(!(g||h&&!c||C&&!h&&!c||b&&!c&&!l&&!d)){e.next=47;break}return this.openNonCompatibleDeviceModal(),e.abrupt("return",!0);case 47:e.next=53;break;case 49:if(a!==i.wearable){e.next=53;break}if(!(g||h&&!c||b&&!c&&!l||C&&!h&&!c)){e.next=53;break}return this.openNonCompatibleDeviceModal(),e.abrupt("return",!0);case 53:case 54:return e.abrupt("return",!1);case 55:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"callDisplayUserIntentApi",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=JSON.parse(sessionStorage.getItem("userIntent")),n=R()(t,"payload.userIntent"),a=0===(null===n||void 0===n?void 0:n.length),t?a&&this.state.isIdpAuthenticated&&(t=w.e):t="authenticated"===this.props.customerState?w.e:w.dc,this.setState({userIntentApiResponse:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isIdpEditAction",value:function(){return this.props.isAccessory&&this.props.isIdpEditAction&&"CRU"!==this.props.profileInfo.customerType&&this.props.isIdpAccessoryRedirectOn&&this.props.idpAccessoryDetails}},{key:"getButtonTypes",value:function(){var e=[C.b.Blue];return(this.context.selectedContractTerm&&this.context.selectedContractTerm.monthlyNextUpCharge&&!this.context.isContractTermSelected||this.props.selectedSku.effectiveOutOfStock||this.props.selectedSku.isComingSoon)&&(e[0]=C.b.DarkDisabledBackground),e}},{key:"getFlowType",value:function(e){return e&&e.wirelessAuthenticated&&("AL"===e.flowIndicator||"ALF"===e.flowIndicator)||e.exAlFlow?"AAL":e&&e.wirelessAuthenticated&&"UP"===e.flowIndicator?"UP":null}},{key:"shouldAddToCart",value:function(){return this.props.isAccessory||x.IntentModalPDP&&"prepaid"===this.props.selectedSku.paymentType||"AAL"===this.getFlowType(this.props.profileInfo)&&x.contractTermsPDP.enabled&&"CRU"!==this.props.profileInfo.customerType}},{key:"IntentModalVisibility",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({intentModalVisible:e,showSpinner:e})}},{key:"paymentTypeConflictRedirection",value:function(e,t){if(!e)return!0;var n,a,r=e.cartItems;if(!r||!Array.isArray(r))return!0;r.forEach((function(e){if(e){var t=e.items;if(t&&"object"===typeof t){var r=Object.keys(t);if(r&&Array.isArray(r)){var i=r.filter((function(e){if(e&&-1!==e.indexOf(T.d.paymentTypes.prepaidItemIdPrefix))return!0})),s=r.filter((function(e){if(e&&-1===e.indexOf(T.d.paymentTypes.prepaidItemIdPrefix))return!0}));a||(a=!!i.length),n||(n=!!r.length&&!!s.length)}}}}));var i=t?n:a;return i&&this.openPaymentTypeConflictModal(),!i}},{key:"conflictRedirection",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,s,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(w.M)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),a=this.state.userIntentApiResponse,i=this.props.profileInfo,s="true"===Object(w.bb)()["pdp-data-connect-llp"],o=a&&a.payload&&!1===a.payload.showIntentModal&&0===a.payload.userIntent.length&&this.isEligibleForATC(n),c="UP"===this.getFlowType(i)||"AAL"===this.getFlowType(i),!o&&!c){e.next=12;break}if(n!==T.d.CONNECTED_DEVICES_AND_MORE||0!=t.cartItems.length||s){e.next=10;break}return this.redirectLegacy(t),e.abrupt("return",!1);case 10:e.next=15;break;case 12:if(!(n===T.d.CONNECTED_DEVICES_AND_MORE&&t.cartItems.length>0)||s){e.next=15;break}return this.setState({showConflictModal:!0}),e.abrupt("return",!1);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fireDeviceATC",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={contractLength:"regular"===this.context.selectedContractTerm.type?this.context.selectedContractTerm.name:this.context.selectedContractTerm.leaseTotalMonths,contractType:"regular"===this.context.selectedContractTerm.type?this.context.selectedContractTerm.type:this.context.selectedContractTerm.name,downPaymentAmt:0},e.next=3,z.a.addItemToCart(this.props.selectedSku.skuId,this.props.selectedSku.productId,this.props.profileInfo.flowIndicator,"deviceDetails",n);case 3:a=e.sent,Object(w.Ac)(),v.a.checkATCSuccess(a)&&""!==a.addToCartResultHolder.redirectionURLValue?(localStorage.setItem("rexDeviceSkuId",JSON.stringify(this.props.selectedSku.skuId)),i=a.addToCartResultHolder.redirectionURLValue,"prepaid-phones"===t&&screen.width<767&&(i=h.b.productDetailsUrls.plansServicesHubUrl),i.endsWith("deviceconfigurator.html")&&(i+="?sku=".concat(this.props.selectedSku.skuId,"&hideTerms=true&term=").concat(this.context.selectedContractTerm.name)),this.props.events.handleSubmitReporting(i,this.getButtonText(),this.context,1),window.location.href=i):(this.setState({accessoryModalVisible:!0,addToCartSuccess:!1}),this.props.events.handleSubmitReporting("/product/details/modal/error",this.getButtonText(),this.context,-1));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"processUserIntentApi",value:function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a,i,s,o,c,l,d,p,u,m,f,h,g,b,v,y,C,k=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.payload,i=t.response,s=Object(w.M)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),o=JSON.parse(sessionStorage.getItem("addAnotherDevice")),c="true"===Object(w.bb)()["pdp-data-connect-llp"],l=R()(this.props,"profileInfo.flowIndicator"),d="authenticated"===R()(this.props,"profileInfo.customerState"),p=this.state.isIdpAuthenticated&&this.state.hasIdpWireless,u=this.state.isIdpAuthenticated&&this.state.hasIdpWireline,m=!1;try{f=JSON.parse(sessionStorage.getItem("appShell:IDSEIntent")).wirelessIntent}catch(r){}if(!(a.showIntentModal&&a.userIntent&&a.userIntent.length>0)||o||this.props.cartDetails.isPlanFirstMode||!(n&&0===n.cartItems.length||d&&("al"===f||"up"===f)||l)){e.next=20;break}this.props.events.handleSubmitReporting("/devices/intent/modal",this.getButtonText(),this.context,0),h=Object(w.lc)("fnIntend"),g=Object(w.E)().indexOf(h)>-1,a.showNewCustomerLink&&p?(console.log("NSCTA showLinks showNewCustomer and authenticated wireless"),m=!1):u&&!g?(console.log("NSCTA showLinks authenticated wireline"),m=!0):this.state.isIdpAuthenticated&&"existing"===h?(console.log("NSCTA showLinks authenticated wireline and FNIntend as existing"),m=!0):(console.log("NSCTA showLinks fallthrough"),m=!1),console.log("NSCTA authenticated with-intent",{isAuthenticatedHasWireline:u,isAuthenticatedHasWireless:p,shouldShowNewCustomer:m,sessionIntent:f,profileInfoFlowIndicator:l}),this.setState({intentsToShow:a.userIntent,intentModalVisible:!0,showSpinner:!1,showNewCustomerLink:m}),e.next=66;break;case 20:if(!this.state.isLoggedIn&&!d||"AAL"===l||"UP"===l||!p&&!u){e.next=28;break}console.log("NSCTA authenticated no-intent",{idpAuth:this.state.isIdpAuthenticated,hasWireless:this.state.hasIdpWireless,hasWireline:this.state.hasIdpWireline,shouldShowNewCustomer:m,sessionIntent:f,profileInfoFlowIndicator:l}),b=a.userIntent,(v=0===b.length)&&this.props.isByod?b.push("AL"):v&&(b.push("AL"),b.push("UP")),this.setState({intentsToShow:b,intentModalVisible:!0,showNewCustomerLink:!1}),e.next=66;break;case 28:if(c||"tablets"!==s||"simcard"===this.props.selectedSku.deviceSubType||!this.props.cartDetails.isPlanFirstMode){e.next=32;break}this.redirectLegacy(n),e.next=66;break;case 32:if("true"!==Object(w.bb)()["pdp-plan-view-redirect"]){e.next=43;break}if(!c){e.next=40;break}return e.next=36,this.displayConflictModal(n);case 36:e.sent||this.state.atcFired||this.setState({atcFired:this.state.atcFired+1},(function(){k.addToCartAndRedirect()})),e.next=41;break;case 40:this.state.atcFired||this.setState({atcFired:this.state.atcFired+1},(function(){k.addToCartAndRedirect()}));case 41:e.next=66;break;case 43:if(!i.redirect||null===i.redirectURL){e.next=48;break}this.props.events.handleSubmitReporting(i.redirectURL,this.getButtonText(),this.context,0),window.location.href=i.redirectURL,e.next=66;break;case 48:if(y=this.getUrlMap(),C="",x.contractTermsPDP.enabled&&localStorage.removeItem("termPrevSelectedByUser"),!x.IDSERedirect||"CRU"===this.props.profileInfo.customerType){e.next=56;break}C=y.idseUrl,sessionStorage.setItem(T.d.intentModalContent.sessionStorageKey,'{"intent": "DSUNK"}'),e.next=62;break;case 56:if("CRU"!==this.props.profileInfo.customerType){e.next=61;break}return this.fireDeviceATC(s),e.abrupt("return");case 61:C=screen.width<767?y.termSelectUrl:y.deviceConfigUrl;case 62:this.props.events.handleSubmitReporting(C,this.getButtonText(),this.context,0),this.clearSessionStorageItems(),this.setContractTermSessionStorage(this.context.selectedContractTerm.name,this.props.selectedSku),window.location.href=C;case 66:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"isNextUpTerm",value:function(){return!0!==this.isSMBDefaultTermSelected()&&!this.context.selectedPricingIndex&&(this.context.selectedContractTerm&&Object(w.jc)(this.props.selectedSku.priceList)&&!this.context.isContractTermSelected)}},{key:"isSMBDefaultTermSelected",value:function(){return"CRU"===this.props.profileInfo.customerType&&this.props.selectedSku.defaultCommitmentTerm&&this.props.selectedSku.includedCommitmentTerm}},{key:"isButtonDisabled",value:function(){return this.props.selectedSku.effectiveOutOfStock||this.props.selectedSku.isComingSoon}},{key:"disabledButtonClick",value:function(){this.isNextUpTerm()&&this.context.setShowProductPricingError(!0)}},{key:"renderButtonContent",value:function(){return ee(J.a,{dataQa:this.props.dataQa,usedOn:"learn",toolTipContent:T.d.nextStepCTA.tooltipErrorMessage,getPriceText:this.getPriceText(),isNextUpTerm:this.isNextUpTerm(),isButtonDisabled:this.isButtonDisabled(),getButtonTypes:this.getButtonTypes(),getButtonText:this.getButtonText(),ctaClickHandler:this.ctaClick,disabledButtonClick:this.disabledButtonClick,showSpinner:this.state.showSpinner})}},{key:"render",value:function(){var e=this;return ee(m.Fragment,null,ee("div",{className:"".concat(f.deviceCta," bg-ui-white"),"data-qa":this.props.dataQa},this.renderButtonContent()),ee(P.a.Consumer,null,(function(t){return ee(D.a,{show:e.state.showConflictModal,title:"Hmm...we ran into a snag",description:"You\u2019ve selected connected device that must be purchased separately from the rest of your order. What do you want to do?",action1Label:"Remove all other items",action2Label:"Remove the connected device",action1:function(){return e.redirectLegacy(t)},action2:function(){return e.redirectHub(t)},onClose:e.hideConflictModal})})),ee(D.a,{show:this.state.showPlanFirstBreakIntentModal,title:"Before you checkout...",description:"You added a device that's not a phone, so the prices shown at the start of your order no longer apply. Therefore, we updated your price per line.",action1Label:"Cancel",action2Label:"Continue",action1:function(){return e.planFirstBreakIntentCancel()},action2:function(){return e.planFirstBreakIntentContinue()},onClose:this.hidePlanFirstBreakIntentModal}),ee("div",{className:f.addToCartModalStyles},"undefined"!==typeof document&&ee(se,{isOpen:this.state.accessoryModalVisible,onRequestClose:this.fireReportingAndCloseModal,onAfterOpen:this.keepShoppingPageLoadEvent,header:this.renderAccessoryRedirectModalHeader(),width:6},this.createAccessoryRedirectModalContent())),ee("div",{className:f.addToCartModalStyles},"undefined"!==typeof document&&ee(se,{isOpen:this.state.addToCartModalVisible,onRequestClose:this.closeAddToCartErrorModal,header:this.renderAddToCartErrorModalHeader(),width:6},this.createAddToCartErrorModalContent(this.closeAddToCartErrorModal))),!this.props.isAccessory&&this.state.intentModalVisible&&ee(re,{intentsToShow:this.state.intentsToShow,isIntentModalOpen:this.state.intentModalVisible,showNewCustomerLink:this.state.showNewCustomerLink,closeModal:this.IntentModalVisibility,selectedSku:this.props.selectedSku,selectedContractTerm:this.context.selectedContractTerm,deviceSubType:this.props.deviceSubType,profileInfo:this.props.profileInfo,bgPageLoadEvent:function(){return e.props.pageLoadEvent(void 0,e.context)},isAccessory:this.props.isAccessory,intentModalContent:this.props.modalsContent,priceOptions:this.context.priceOptions,selectedPricingIndex:this.context.selectedPricingIndex,redirectToConfigView:this.addToCartAndRedirect,isAuthenticated:this.state.isIdpAuthenticated,headerSVGIcon:Y.a}),this.props.isAccessory&&ee(ie,{intentsToShow:this.state.intentsToShow,isIntentModalOpen:this.state.intentModalVisible,showNewCustomerLink:this.state.showNewCustomerLink,closeModal:this.IntentModalVisibility,selectedSku:this.props.selectedSku,selectedContractTerm:this.context.selectedContractTerm,deviceSubType:this.props.deviceSubType,profileInfo:this.props.profileInfo,bgPageLoadEvent:function(){return e.props.pageLoadEvent(void 0,e.context)},isAccessory:this.props.isAccessory,fireReportingAndNavigate:this.fireReportingAndNavigate,isIdpAccessoryRedirectOn:this.props.isIdpAccessoryRedirectOn}),ee(se,{isOpen:this.state.showNonCompatibleDeviceModal,onRequestClose:this.closeNonCompatibleDeviceModal,width:6},ee(m.Fragment,null,ee("h1",{className:"heading-md mar-b-xxs ".concat(f.headerText)},this.textContent.dataConnectDeviceAddHeader),ee("div",{className:"font-regular type-sm ".concat(f.modalSubText)},this.getDataConnectConflictDescription(),ee("button",{type:"button",className:"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(f.nonCompatibleDeviceButton),onClick:this.removeAllOtherItems},ee("div",{className:"type-sm font-regular ".concat(f.btnText)},this.textContent.dataConnectKeepCTALabel)),ee("button",{type:"button",className:"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(f.nonCompatibleDeviceButton," ").concat(f.btnMargin),onClick:this.removeCurrentDevice},ee("div",{className:"type-sm font-regular ".concat(f.btnText)},this.textContent.dataConnectKeepElseCTALabel))))),ee(this.EsimConflictModal,null),ee(se,{isOpen:this.state.openMaxLinesModal,onRequestClose:this.closeMaxLinesLimitModal,width:6},ee(m.Fragment,null,ee("h1",{className:"heading-md mar-b-xxs ".concat(f.headerText)},this.maxLinesLimitModalTextContent.maxLinesLimitModalHeader),ee("div",{className:"font-regular type-sm ".concat(f.modalSubText)},this.getMaxLinesModalDescription(),ee("button",{type:"button",className:"btn btn-large btn-full-width btn-primary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left",onClick:this.onMaxLinesLimitModalCartClick},ee("div",{className:"type-sm font-regular ".concat(f.btnText)},this.maxLinesLimitModalTextContent.maxLinesLimitModalCartCTALabel))))),ee(P.a.Consumer,null,(function(t){return!!t&&ee(se,{isOpen:e.state.showWirelineConfilctModal,onRequestClose:e.closeWirelineConfilctModal,width:6},ee(m.Fragment,null,ee("h1",{className:"heading-md mar-b-xxs ".concat(f.headerText)},e.wirelineConflictModalTextContent.wirelineConfilctHeading),ee("div",{className:"font-regular type-sm ".concat(f.modalSubText)},ee("div",{dangerouslySetInnerHTML:{__html:e.wirelineConflictModalTextContent.wirelineConflictDescription}}),ee("button",{type:"button",className:"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(f.nonCompatibleDeviceButton),onClick:e.wirelineRemoveAllOtherItems(t)},ee("div",{className:"type-sm font-regular ".concat(f.wirelineButtonText)},e.wirelineConflictModalTextContent.wirelineConfilctStartOverLabel)),ee("button",{type:"button",className:"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(f.nonCompatibleDeviceButton," ").concat(f.btnMargin),onClick:e.wirelineRemoveCurrentDevice},ee("div",{className:"type-sm font-regular ".concat(f.wirelineButtonText)},e.wirelineConflictModalTextContent.wirelineConfilctContinueCTALabel)))))})),ee(se,{isOpen:this.state.showDeviceLimitModal,onRequestClose:this.closeDeviceLimitModal,width:6},ee(m.Fragment,null,ee("h1",{className:"heading-md mar-b-xxs"},this.deviceLimitModalTextContent.deviceLimitModalHeading),ee("div",{className:"font-regular type-base"},this.getDeviceLimitModalText(),ee("button",{type:"button",className:"btn btn-large btn-full-width btn-secondary btn-arrow mar-t-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg",onClick:this.removeTheExtra},ee("div",{className:"type-base font-regular"},this.deviceLimitModalTextContent.deviceLimitModalRemove))))),ee(P.a.Consumer,null,(function(t){return!!t&&ee(se,{isOpen:e.state.showPaymentTypeConflictModal,onRequestClose:e.closePaymentTypeConflictModal,width:6,modalTextClassName:"inline-flex"},ee("div",null,ee("div",{className:"mar-b-xxs type-md font-medium ".concat(f.paymentTypeConflictModalHeader)},e.paymentTypeTextContext.cartConflictLabelHeader),ee("div",{className:"type-sm font-regular",dangerouslySetInnerHTML:{__html:Object(w.gc)(e.paymentTypeTextContext.cartConflictPaymentTypeSubheader,e.paymentTypeTextContext)}}),ee("button",{"data-qa":"PDP-paymentType-conflictModal-emptyCart",type:"button",className:"btn btn-small btn-full-width btn-primary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg",onClick:function(){e.state.paymentTypeConflict||e.setState({paymentTypeConflict:!0,emptyCart:!0},(function(){return e.emptyCart(t)}))}},ee("div",{className:"type-xs"},e.state.emptyCart?ee(Z.a,{config:{size:"20px"}}):Object(w.gc)(t&&t.prepaidFlow?e.paymentTypeTextContext.cartConflictPrimaryPostpaid1:e.paymentTypeTextContext.cartConflictPrimaryPrepaid1,e.paymentTypeTextContext))),ee("button",{"data-qa":"PDP-paymentType-conflictModal-cartRedirect",type:"button",className:"btn btn-small btn-full-width btn-secondary mar-t-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg",onClick:function(){e.state.paymentTypeConflict||e.setState({paymentTypeConflict:!0,cartRedirect:!0},(function(){return e.redirectToCart()}))}},ee("div",{className:"type-xs"},e.state.cartRedirect?ee(Z.a,{config:{size:"20px"}}):Object(w.gc)(t&&t.prepaidFlow?e.paymentTypeTextContext.cartConflictPrimaryPostpaid2:e.paymentTypeTextContext.cartConflictPrimaryPrepaid2,e.paymentTypeTextContext)))))})))}},{key:"getUrlMap",value:function(){var e="".concat(h.b.productDetailsUrls.deviceRecommenderUrl).concat(this.props.selectedSku.skuId),t="".concat(h.b.productDetailsUrls.upgradeEligibilityUrl),n="".concat(h.b.productDetailsUrls.idseUrl).concat(this.props.selectedSku.skuId),a="".concat(h.b.productDetailsUrls.deviceConfigUrl).concat(this.props.selectedSku.skuId);x.contractTermsPDP.enabled&&(a+="&hideTerms=true&term=".concat(this.context.selectedContractTerm.name));var r="".concat(h.b.productDetailsUrls.termSelectUrl).concat(this.props.selectedSku.skuId);x.IntentModalPDP||"prepaid"===this.props.selectedSku.paymentType||(r+="&checkintent=true");var i=window.location.host;return"www.att.com"===i?r="https://m.att.com".concat(r):i.indexOf("finalstage")>-1?r="https://fs.att.com".concat(r):i.startsWith("m")||(r="https://m".concat(i).concat(r)),{idseUrl:n,termSelectUrl:r,deviceConfigUrl:a,deviceRecommenderUrl:e,upgradeEligibilityUrl:t}}},{key:"fireReportingAndNavigate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.props.events.handleSubmitReporting(e,t,this.context,n),window.location.href=e}},{key:"isEligibleForATC",value:function(e){return"CRU"===this.props.profileInfo.customerType&&window.location.href.includes("invalidateAuthCRUSession=true")||"prepaid-phones"===e||"connected-devices-and-more"===e}},{key:"handleIntentModalDeviceCTA",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,s,o,c,l,d,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.profileInfo,a=this.getUrlMap(),this.clearSessionStorageItems(),this.state.shouldNotSetSelectedDeviceConfig||this.setContractTermSessionStorage(this.context.selectedContractTerm.name,this.props.selectedSku),i=Object(w.M)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),s=this.state.userIntentApiResponse,o=s&&s.payload&&!1===s.payload.showIntentModal&&0===s.payload.userIntent.length&&this.isEligibleForATC(i),c="UP"===this.getFlowType(n)||"AAL"===this.getFlowType(n),"true"!==Object(w.bb)()["pdp-plan-view-redirect"]||!c&&!o){e.next=11;break}return this.addToCartAndRedirect(),e.abrupt("return");case 11:if(!o){e.next=14;break}return this.fireDeviceATC(i),e.abrupt("return");case 14:if(l=M()().publicRuntimeConfig,d=Object(w.b)(l,this.props.profileInfo.customerType,this.props.profileInfo.flowIndicator),"UP"!==this.getFlowType(n)){e.next=25;break}return p=this.context.selectedContractTerm.name,this.context.selectedContractTerm.leaseTotalMonths,"1"!==p&&"24"!==p||(p,p="regular"),sessionStorage.setItem("userIntent",JSON.stringify(w.Db)),this.fireReportingAndNavigate(a.upgradeEligibilityUrl,this.getButtonText()),e.abrupt("return");case 25:if("AAL"!==this.getFlowType(n)||"CRU"!==n.customerType){e.next=30;break}return this.fireReportingAndNavigate(a.deviceRecommenderUrl,this.getButtonText()),e.abrupt("return");case 30:if("AAL"!==this.getFlowType(n)){e.next=35;break}return d?this.fireReportingAndNavigate("".concat(a.idseUrl,"&wlsfi=al"),this.getButtonText()):this.fireDeviceATC(i),e.abrupt("return");case 35:this.processUserIntentApi(s,t);case 36:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(m.Component);Object(u.a)(oe,"contextType",N.a)}).call(this,n("8oxB"))},"2d1R":function(e,t,n){"use strict";n.r(t),n.d(t,"OfferTrayLoader",(function(){return m}));var a=n("HALo"),r=n("MX0m"),i=n.n(r),s=n("q1tI"),o=n("U/e8"),c=n("NDP7"),l=n("zm1R"),d=n("/78k"),p=n("AGoX"),u=s.createElement;function m(e){var t=Object(s.useState)(!1),n=t[0],r=t[1],m=Object(o.ib)(e.showOfferTray,e.skuId,Object(o.jb)(e.customerType),void 0,e.flowType,e.isAccessory),f=window.innerWidth<=440,h="true"===e.IXPFeatureFlags["pdp-progressive"],g=!e.showOfferTray&&window.location.href.includes("offerId=")&&!e.hasRibbonBeenClicked&&!n&&!e.isOfferTrayCloseIconClicked;return u(c.a,Object(a.a)({},m,{offerId:e.offerId,externalOffers:e.catalogOffers,campaignId:e.campaignId}),u("div",{className:"offer-tray-anchor",tabIndex:-1}),e.showOfferTray&&u(s.Fragment,null,f?u(p.default,{isOpen:!0,className:"modal container flex-items-center",modalClassName:"offerTrayModal",modalContentClassName:"modal-content pad-b-none type-base",overlayClassName:"overlay pad-sm flex justify-center",portalClassName:"ReactModalPortal full-width-container",htmlOpenClassName:"modal-open",hideUpperRightClose:!0,closeTimeoutMS:300},u(l.d,{className:""},u("div",{className:"jsx-1546970150 centered modal-content overflow-y-scroll bg-ui-background-gray"},u(c.b,{events:{onCloseClicked:e.events.onCloseClicked,onSeeLegalClicked:e.events.onSeeLegalClicked,onVisibleChanged:e.events.onVisibleChanged},classes:{trayClassName:"mar-b-xs"},disableMobileCarousel:!1}),u(i.a,{id:"1546970150"},[".modal-content.jsx-1546970150 .slick-dots{margin-top:0px;}"])))):u(s.Fragment,null,u(l.b,{type:l.c.FullWidth,className:"rel nopad"},u("div",{className:i.a.dynamic([["1288638593",[h?"1272px":"1336px"]]])+" centered carousel-offer-container"},u(c.b,{events:{onCloseClicked:e.events.onCloseClicked,onSeeLegalClicked:e.events.onSeeLegalClicked,onVisibleChanged:e.events.onVisibleChanged},classes:{trayClassName:"mar-b-xs"},arrow:85}))),u(i.a,{id:"1288638593",dynamic:[h?"1272px":"1336px"]},[".carousel-offer-container.__jsx-style-dynamic-selector{max-width:".concat(h?"1272px":"1336px",";}")]))),g&&u(d.a,{commonCmsContent:e.commonCmsContent,displayOfferRibbon:e.displayOfferRibbon,updateShowOfferTray:e.updateShowOfferTray,isProgressive:h,alertBannerLinkClickHandler:r}))}t.default=s.forwardRef((function(e,t){return u(m,Object(a.a)({},e,{ref:t}))}))},"3JNU":function(e,t,n){"use strict";var a=n("H+61"),r=n("UlJF"),i=n("7LId"),s=n("VIvw"),o=n("iHvq"),c=n("q1tI"),l=n("U/e8"),d=n("g4pe"),p=n.n(d),u=n("mwIZ"),m=n.n(u),f=c.createElement;function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(o.a)(e);if(t){var r=Object(o.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(s.a)(this,n)}}var g=function(e){Object(i.a)(n,e);var t=h(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"renderMetaData",value:function(){var e=this.props.seoContent&&this.props.seoContent.metaKeywords?this.props.seoContent.metaKeywords:"",t="";t=this.props.isConfigPage?"NOINDEX,NOFOLLOW":this.props.seoContent&&this.props.seoContent.metaRobots?this.props.seoContent.metaRobots:"INDEX,FOLLOW";var n=this.props.seoContent&&this.props.seoContent.metaDescription?this.props.seoContent.metaDescription:"",a=m()(this.props,"seoContent.dynamicSEO.metaDescription",void 0)?m()(this.props,"seoContent.dynamicSEO.metaDescription"):Object(l.lb)(n,this.props.selectedSku,this.props.deviceType);return a=Object(l.oc)(a,this.props.selectedSku),f(c.Fragment,null,f("meta",{name:"keywords",content:e}),f("meta",{name:"description",content:a}),f("meta",{name:"robots",content:t,key:"robotsKey"}),f("link",{rel:"alternate",hrefLang:"en",href:Object(l.f)(this.props.selectedSku,this.props.selectedSku.deviceType,this.props.selectedSku.subCategory)}),f("link",{rel:"alternate",hrefLang:"es",href:Object(l.f)(this.props.selectedSku,this.props.selectedSku.deviceType,this.props.selectedSku.subCategory,!0)}))}},{key:"renderMetaOGData",value:function(){var e=this.props.seoContent&&this.props.seoContent.ogTitle?this.props.seoContent.ogTitle:"",t=this.props.seoContent&&this.props.seoContent.ogDescription?this.props.seoContent.ogDescription:"",n=m()(this.props,"seoContent.dynamicSEO.metaSeotitle",void 0)?this.props.seoContent.dynamicSEO.metaSeotitle:Object(l.mb)(e,this.props.selectedSku,this.props.deviceType);n=Object(l.oc)(n,this.props.selectedSku);var a=m()(this.props,"seoContent.dynamicSEO.metaDescription",void 0)?this.props.seoContent.dynamicSEO.metaDescription:Object(l.lb)(t,this.props.selectedSku,this.props.deviceType);a=Object(l.oc)(a,this.props.selectedSku);var r=this.props.image?"https://www.att.com"+this.props.image:Object(l.g)(this.props.selectedSku,void 0,!0);return f(c.Fragment,null,f("meta",{property:"og:title",content:n}),f("meta",{property:"og:url",content:Object(l.f)(this.props.selectedSku,this.props.selectedSku.deviceType,this.props.selectedSku.subCategory)}),f("meta",{property:"og:description",content:a}),f("meta",{property:"og:image",content:r}),f("meta",{property:"og:type",content:"product"}),f("meta",{property:"og:site_name",content:"AT&T"}))}},{key:"render",value:function(){return f(p.a,null,this.renderMetaData(),this.renderMetaOGData())}}]),n}(c.Component);t.a=g},"4eeI":function(e,t,n){"use strict";n.r(t);var a=n("H+61"),r=n("UlJF"),i=n("7LId"),s=n("VIvw"),o=n("iHvq"),c=n("q1tI"),l=n("S1fC"),d=n("+Css"),p=n("OrDy"),u=n("vyOo"),m=c.createElement;function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(o.a)(e);if(t){var r=Object(o.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(s.a)(this,n)}}var h=function(e){Object(i.a)(n,e);var t=f(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={showAllStoreHours:!1},r.toggleAllStoreHours=r.toggleAllStoreHours.bind(Object(d.a)(r)),r}return Object(r.a)(n,[{key:"renderAllStoreHours",value:function(e){var t=e.hours.split(","),n=[],a=new Date,r=0!==a.getDay()?a.getDay()-1:6;return t.forEach((function(t,a){var i=r===a?"type-sm font-medium":"type-sm font-regular";i+=" flex justify-between mar-b-none",r===a&&"Open "===e.storeStatus.slice(0,5)?n.push(m("p",{className:i,key:"".concat(e.id,"-").concat(a)},m("span",{className:"mar-r-lg"},t.substr(0,t.indexOf(" "))),m("span",null,e.storeStatus+" - "+e.todayshours.substr(e.todayshours.indexOf("-")+1)))):n.push(m("p",{className:i,key:"".concat(e.id,"-").concat(a)},m("span",{className:"mar-r-lg"},t.substr(0,t.indexOf(" "))),m("span",null,t.substr(t.indexOf(" ")+1))))})),e.notes&&n.push(m("p",{className:p.holidayMessage},e.notes)),n}},{key:"toggleAllStoreHours",value:function(){this.setState({showAllStoreHours:!this.state.showAllStoreHours})}},{key:"render",value:function(){return m("div",{className:"mar-t-xs"},m(u.a,{ariaLabel:"show or hide Store Hours",events:{onClick:this.toggleAllStoreHours},dataQa:"$-show/hideStoreHours",className:"color-ui-black"},"".concat(this.state.showAllStoreHours?"Hide":"Show all"," store hours"),m("span",{className:["mar-l-xs icon-chevron inline-block",this.state.showAllStoreHours?"rotate270":"rotate90"].join(" ")})),m("div",{className:"grid-col-10 ".concat(this.state.showAllStoreHours?"":p.hidden)},this.renderAllStoreHours(this.props.data.store).map((function(e){return e}))))}}]),n}(c.Component),g=n("eI37"),b=n("QYhm"),v=n.n(b),y=n("xLlQ"),C=n("Da3r"),k=n("U/e8"),S=c.createElement;function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(o.a)(e);if(t){var r=Object(o.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(s.a)(this,n)}}var x=function(e){Object(i.a)(n,e);var t=O(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"formatTime",value:function(e,t){var n=e.split(":"),a=parseInt(n[0],10),r=a<12?"am":"pm",i=(a=0===a?12:a%12)+":"+n[1]+r,s=t.split(":"),o=parseInt(s[0],10);return r=o<12?"am":"pm",i+" - "+((o=0===o?12:o%12)+":"+s[1]+r)}},{key:"formatStandardTime",value:function(e){var t=e.split(":"),n=parseInt(t[0],10),a=n<12?" am":" pm";return(n=0===n?12:n%12)+":"+t[1]+a}},{key:"getTodaysHours",value:function(e){var t="";switch((new Date).getDay()){case 0:t=this.formatTime(e.sundayOpeningTime,e.sundayClosingTime);break;case 1:t=this.formatTime(e.mondayOpeningTime,e.mondayClosingTime);break;case 2:t=this.formatTime(e.tuesdayOpeningTime,e.tuesdayClosingTime);break;case 3:t=this.formatTime(e.wednesdayOpeningTime,e.wednesdayClosingTime);break;case 4:t=this.formatTime(e.thursdayOpeningTime,e.thursdayClosingTime);break;case 5:t=this.formatTime(e.fridayOpeningTime,e.fridayClosingTime);break;case 6:t=this.formatTime(e.saturdayOpeningTime,e.saturdayClosingTime)}return t}},{key:"getStoreHoursMessageUIS",value:function(e){var t="Now closed",n=l.closedMessage,a=e.storeStatus.toLowerCase();return"closing soon"===a||"opening soon"===a?(t=e.storeStatus,n=l.soonMessage):"open now"===a?(t=e.storeStatus,n=l.openMessage):"now closed"!==a&&"closed today"!==a||(t=e.storeStatus,n=l.closedMessage),S("p",null,S("span",{className:[n,l.storeHoursMessage].join(" ")},t),S("span",{className:"type-sm"}," "+e.todayshours))}},{key:"renderHours",value:function(){var e=this.getStoreHoursMessageUIS(this.props.data.currentStore);return S(c.Fragment,null,e,S(h,{data:{store:this.props.data.currentStore,storeHoursMessage:e.props.children}}))}},{key:"render",value:function(){var e=this;return S(c.Fragment,null,S("hr",{className:l.cardDivider}),S("div",{className:l.storeCardContainer},S("div",{className:l.cardHeader},S("span",{className:l.deliveryIcon},S(y.a,{icon:v.a,size:"45px"}),S("div",{className:l.iconText},this.props.data.index)),S("div",{className:l.storeTitleAndMiles},S("h3",{className:l.storeTitle},this.props.data.currentStore.mystore_name),S("p",{className:l.milesAway},this.props.data.currentStore.arcdist," miles from ",this.props.data.zipCode))),S("div",{className:"flex flex-column"},S("div",{className:l.storeAddressContainer},S("p",{className:l.subHeader},"address"),S("p",{className:l.storeAddress},this.props.data.currentStore.address1,this.props.data.currentStore.address2&&", "+this.props.data.currentStore.address2),S("p",{className:l.storeAddress},this.props.data.currentStore.city,", ",this.props.data.currentStore.region," ",this.props.data.currentStore.postal),S("p",{className:l.storeAddress},this.props.data.currentStore.phone),this.props.data.currentStore.addr_hint&&S("p",{className:l.stockMessage},this.props.data.currentStore.addr_hint),this.props.data.currentStore.availableQuantity<=this.props.data.displayQuantityThreshold&&S("p",{className:l.stockMessage},"Selling fast! Just ",this.props.data.currentStore.availableQuantity," left in stock."),this.props.data.currentStore.service.indexOf(231)>-1&&S("p",{className:l.curbsideAvailable},Object(k.U)(this.props.data.commonCmsContent,"curbsideAvailable",C.d.deliveryOptions.curbsideAvailable))),S("div",{className:"mar-t-xs mar-b-xs"},S("p",{className:l.subHeader},"today's hours"),this.renderHours())),S(g.c,{dataQa:"Click2StoreModal-StoreSelectButton",buttonConfig:{disabled:!1,primary:!0,type:[this.props.data.currentStore.id===this.props.data.activeStoreId?g.b.Ghost:g.b.Blue,g.b.Large]},events:{onClick:function(t){return e.props.data.updateStore(e.props.data.currentStore,"Pick this store",e.props.data.isAccessory?C.d.reporting.pageUrl.storeAvailModal.accessories:C.d.reporting.pageUrl.storeAvailModal.phones)}}},"Pick this store")))}}]),n}(c.Component);t.default=x},Iu1G:function(e,t,n){"use strict";var a=n("H+61"),r=n("UlJF"),i=n("7LId"),s=n("VIvw"),o=n("iHvq"),c=n("q1tI"),l=n("U/e8"),d=n("g4pe"),p=n.n(d),u=n("mwIZ"),m=n.n(u),f=c.createElement;function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(o.a)(e);if(t){var r=Object(o.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(s.a)(this,n)}}var g=function(e){Object(i.a)(n,e);var t=h(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.seoContent&&this.props.seoContent.twitterTitle?this.props.seoContent.twitterTitle:"",t=this.props.seoContent&&this.props.seoContent.twitterDescription?this.props.seoContent.twitterDescription:"",n=m()(this.props,"seoContent.dynamicSEO.metaSeotitle",void 0)?this.props.seoContent.dynamicSEO.metaSeotitle:Object(l.mb)(e,this.props.selectedSku,this.props.deviceType);n=Object(l.oc)(n,this.props.selectedSku);var a=m()(this.props,"seoContent.dynamicSEO.metaDescription",void 0)?this.props.seoContent.dynamicSEO.metaDescription:Object(l.lb)(t,this.props.selectedSku,this.props.deviceType);a=Object(l.oc)(a,this.props.selectedSku);var r=this.props.image?"https://www.att.com"+this.props.image:Object(l.g)(this.props.selectedSku,void 0,!0);return f(p.a,null,f("meta",{name:"twitter:card",content:"summary_large_image"}),f("meta",{name:"twitter:site",content:"@att"}),f("meta",{name:"twitter:creator",content:"@att"}),f("meta",{name:"twitter:title",content:n}),f("meta",{property:"twitter:image",content:r}),f("meta",{name:"twitter:description",content:a}))}}]),n}(c.PureComponent);t.a=g},J9hU:function(e,t,n){"use strict";var a=n("H+61"),r=n("UlJF"),i=n("7LId"),s=n("VIvw"),o=n("iHvq"),c=n("q1tI"),l=n("U/e8"),d=n("g4pe"),p=n.n(d),u=n("mwIZ"),m=n.n(u),f=c.createElement;function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(o.a)(e);if(t){var r=Object(o.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(s.a)(this,n)}}var g=function(e){Object(i.a)(n,e);var t=h(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"JsonLd",value:function(e){var t=this.getImageGallery();return f(c.Fragment,null,f("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(e)}}),t&&f("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}}))}},{key:"populateItemAvailability",value:function(){return m()(this.props,"data.tagDetails.preOrderable",void 0)?"https://schema.org/PreOrder":!0===m()(this.props,"data.tagDetails.effectiveOutOfStock",void 0)?"http://schema.org/OutOfStock":"http://schema.org/InStock"}},{key:"populateItemCondition",value:function(e){switch(e.key){case"new":return"http://schema.org/NewCondition";case"used":return"http://schema.org/UsedCondition";case"refurb":return"http://schema.org/RefurbishedCondition";default:return""}}},{key:"populateAggregateRating",value:function(){var e={"@type":"AggregateRating",bestRating:"5",worstRating:"1"},t=m()(this.props,"data.tagDetails.rating",""),n=m()(this.props,"data.tagDetails.reviewCount","");return t&&(e.ratingValue="".concat(String(Number.parseFloat(t).toFixed(1)))),n&&(e.reviewCount="".concat(String(n))),e}},{key:"populateAggregrateOffers",value:function(){var e={"@type":"AggregateOffer",priceCurrency:"USD"},t=this.getPriceRange();if(t){t.minLeasePrice?(e.lowPrice=String(t.minLeasePrice.toFixed(2)),t.maxListPrice?e.highPrice=String(Math.max(t.minLeasePrice,t.maxListPrice).toFixed(2)):t.maxLeasePrice?e.highPrice=String(Math.max(t.minLeasePrice,t.maxLeasePrice).toFixed(2)):e.highPrice=String(t.minLeasePrice.toFixed(2))):t.minListPrice&&(e.lowPrice=String(t.minListPrice.toFixed(2)),t.maxListPrice?e.highPrice=String(Math.max(t.minListPrice,t.maxListPrice).toFixed(2)):t.maxLeasePrice?e.highPrice=String(Math.max(t.minListPrice,t.maxLeasePrice).toFixed(2)):e.highPrice=String(t.minListPrice.toFixed(2)));var n=null,a=null;e.lowPrice&&(n={"@type":"Offer",price:e.lowPrice,priceCurrency:"USD"}),e.highPrice&&(a={"@type":"Offer",price:e.highPrice,priceCurrency:"USD"}),(n||a)&&(e.offers=[],n&&e.offers.push(n),a&&e.offers.push(a))}return e.offerCount="2",e.availability=this.populateItemAvailability(),e}},{key:"populateProductVariants",value:function(){return m()(this.props,"data.tagDetails.model","")}},{key:"getPriceRange",value:function(){var e,t,n,a;if(this.props.data){var r=m()(this.props,"data.tagDetails.priceList",[]);if(this.props.data.skuItems&&Array.isArray(this.props.data.skuItems))for(var i=0;i<this.props.data.skuItems.length;i++){var s=this.props.data.skuItems[i];s&&Array.isArray(s.priceList)&&s.priceList.length>0&&null!==s.priceList&&(e=void 0===e?s.priceList[0].monthlyLeasePrice:Math.min(s.priceList[0].monthlyLeasePrice,e),t=void 0===t?s.priceList[0].monthlyLeasePrice:Math.max(s.priceList[0].monthlyLeasePrice,t),s.priceList[0].listPrice?(n=void 0===n?s.priceList[0].listPrice:Math.min(s.priceList[0].listPrice,n),a=void 0===a?s.priceList[0].listPrice:Math.max(s.priceList[0].listPrice,a)):s.priceList[0].msrp&&(n=void 0===n?s.priceList[0].msrp:Math.min(s.priceList[0].msrp,n),a=void 0===a?s.priceList[0].msrp:Math.max(s.priceList[0].msrp,a)))}else if(r&&Array.isArray(r))for(var o=0;o<r.length;o++){var c=r[o];c&&(e=void 0===e?c.monthlyLeasePrice:void 0!==c.monthlyLeasePrice?Math.min(c.monthlyLeasePrice,e):e,t=void 0===t?c.monthlyLeasePrice:void 0!==c.monthlyLeasePrice?Math.max(c.monthlyLeasePrice,e):t,null!==c.listPrice?(n=void 0===n?c.listPrice:void 0!==c.noCommitmentTermPrice?Math.min(c.listPrice,n):n,a=void 0===a?c.listPrice:void 0!==c.noCommitmentTermPrice?Math.max(c.listPrice,a):a):null!==c.msrp&&(n=void 0===n?c.msrp:void 0!==c.msrp?Math.min(c.listPrice,n):n,a=void 0===a?c.msrp:void 0!==c.msrp?Math.max(c.listPrice,a):a))}}return{minLeasePrice:e,maxLeasePrice:t,minListPrice:n,maxListPrice:a}}},{key:"getImageGallery",value:function(){var e=m()(this.props,"idpcmsContent",void 0),t=m()(this.props,"selectedSku",void 0),n=m()(this.props,"selectedSku.skuId",void 0);if(e&&t&&n){var a=Object(l.a)(e,t).galleryContent;if(a){var r,i=a.filter((function(e){return m()(e,"master.skuId",void 0)===n}));if(Array.isArray(i)&&i.length)return(r=i[0].master)&&r.imageUrls&&Array.isArray(r.imageUrls)?{"@context":"http://schema.org","@type":"ImageGallery",url:"".concat(Object(l.f)(m()(this.props,"data.tagDetails"),m()(this.props,"data.deviceType"),m()(this.props,"data.tagDetails.subCategory"))),associatedMedia:r.imageUrls.map((function(e){return{"@type":"MediaObject",image:{"@type":"ImageObject",contentUrl:"https://www.att.com".concat(e)},name:r.title}}))}:null}}}},{key:"render",value:function(){var e=m()(this.props,"data.seoContent.metaDescription",""),t=m()(this.props,"data.seoContent.dynamicSEO.metaDescription","")?m()(this.props,"data.seoContent.dynamicSEO.metaDescription",""):Object(l.lb)(e,this.props.selectedSku,m()(this.props,"data.deviceType",""));t=Object(l.oc)(t,this.props.selectedSku);this.props.data.skuItems.length;var n=this.getPriceRange(),a=m()(this.props,"data.image")||Object(l.g)(m()(this.props,"data.tagDetails")),r={"@context":"http://schema.org","@type":"Product",name:"".concat(this.props.data.tagDetails.displayName),description:"".concat(t),brand:"".concat(this.props.data.tagDetails.manufacturer),url:"".concat(Object(l.f)(this.props.data.tagDetails,this.props.data.deviceType,this.props.data.tagDetails.subCategory)),image:"https://www.att.com".concat(a),manufacturer:"".concat(this.props.data.tagDetails.manufacturer),model:this.populateProductVariants(),sku:"".concat(this.props.data.tagDetails.skuId),aggregateRating:this.populateAggregateRating()},i=this.populateAggregrateOffers();i.lowPrice&&(r.offers=i),n.minLeasePrice?(r.additionalType={"@type":"PriceSpecification",priceCurrency:"USD",minPrice:String(n.minLeasePrice.toFixed(2))},n.maxListPrice?r.additionalType.maxPrice=String(Math.max(n.minLeasePrice,n.maxListPrice).toFixed(2)):n.maxLeasePrice?r.additionalType.maxPrice=String(Math.max(n.minLeasePrice,n.maxLeasePrice).toFixed(2)):r.additionalType.maxPrice=String(n.minLeasePrice.toFixed(2))):n.minListPrice&&(r.additionalType={"@type":"PriceSpecification",priceCurrency:"USD",minPrice:String(n.minListPrice.toFixed(2))},n.maxListPrice?r.additionalType.maxPrice=String(Math.max(n.minListPrice,n.maxListPrice).toFixed(2)):n.maxLeasePrice?r.additionalType.maxPrice=String(Math.max(n.minListPrice,n.maxLeasePrice).toFixed(2)):r.additionalType.maxPrice=String(n.minListPrice.toFixed(2))),r.color="".concat(m()(this.props,"data.tagDetails.color","")),r.itemCondition=this.populateItemCondition(m()(this.props,"data.tagDetails.condition",""));var s=m()(this.props,"selectedSku.upc","");return r.gtin12="".concat(s),r.productID="upc:".concat(s),s&&(r.identifier_exists=!0),f(p.a,null,this.JsonLd(r))}}]),n}(c.Component);t.a=g},"Kn+w":function(e,t,n){"use strict";n.r(t);var a=n("vJKn"),r=n.n(a),i=n("rg98"),s=n("H+61"),o=n("UlJF"),c=n("+Css"),l=n("7LId"),d=n("VIvw"),p=n("iHvq"),u=n("cpVT"),m=n("q1tI"),f=n("xEeC"),h=n("cq7Z"),g=n("RrNd"),b=n("Ra6Z"),v=n("Da3r"),y=n("U/e8"),C=n("C3wX"),k=n("0Yz8"),S=n("mOvS"),O=n.n(S),x=n("BTSr"),w=n("Z2Qj"),T=n("HW76"),I=n("mwIZ"),L=n.n(I),j=n("wvx5"),M=m.createElement;function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var A=function(e){Object(l.a)(n,e);var t=D(n);function n(e){var a;return Object(s.a)(this,n),a=t.call(this,e),Object(u.a)(Object(c.a)(a),"reporting",void 0),Object(u.a)(Object(c.a)(a),"fireLinkClick",(function(e,t){var n={linkName:e,linkPosition:"Body",linkDestinationUrl:t};a.reporting.fireLinkClickEvent(n)})),Object(u.a)(Object(c.a)(a),"redirectLegacy",(function(){var e="".concat(g.b.productDetailsUrls.deviceConfigUrl).concat(a.props.selectedSku.skuId);window.location.href=e})),Object(u.a)(Object(c.a)(a),"hideCtoModal",(function(){a.setState({showCtoModal:!1}),a.generateIntentsObject(a.props.intentsToShow,a.props.showNewCustomerLink)})),Object(u.a)(Object(c.a)(a),"redirectAndHideCtoModal",(function(){a.hideCtoModal(),window.location.href="/buy/tablets/"})),Object(u.a)(Object(c.a)(a),"clearSessionStorageItems",(function(){sessionStorage.getItem("offerId")&&sessionStorage.removeItem("offerId"),sessionStorage.getItem("offerBOGOid")&&sessionStorage.removeItem("offerBOGOid"),sessionStorage.getItem("myFavstoreCurrentSku")&&sessionStorage.removeItem("myFavstoreCurrentSku")})),a.state={intentsObject:{},addToCartSuccess:void 0,showCtoModal:!1,ixpFlags:{}},a.reporting=new h.a,a.intentModalCallback=a.intentModalCallback.bind(Object(c.a)(a)),a.intentModalPageLoadEvent=a.intentModalPageLoadEvent.bind(Object(c.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.intentsToShow.length>0&&this.generateIntentsObject(this.props.intentsToShow,this.props.showNewCustomerLink),Promise.resolve(w.a.getMnmFlags()).then((function(t){e.setState({ixpFlags:t})}))}},{key:"componentWillUpdate",value:function(e){e.intentsToShow.length>0&&(e.intentsToShow!==this.props.intentsToShow||e.showNewCustomerLink!==this.props.showNewCustomerLink)&&this.generateIntentsObject(e.intentsToShow,e.showNewCustomerLink)}},{key:"render",value:function(){var e=this;return M(m.Fragment,null,M(T.a,{show:this.state.showCtoModal,title:"What do you want to do?",description:"Are you new to AT&T, and want to add a tablet? Call us at 800.331.0500 and we\u2019ll help you complete your order.",action1Label:"Ok",action1:this.redirectAndHideCtoModal,onClose:this.hideCtoModal}),Object.keys(this.state.intentsObject).length>0&&M(f.default,{userIntentData:this.state.intentsObject,headerText:this.getModalHeader(),dataQa:"PDPPage-intentModal-",isIntentModalOpen:this.props.isIntentModalOpen,onUserInput:this.intentModalCallback,showNewCustomerLink:this.props.showNewCustomerLink,bgPageLoadEvent:this.props.bgPageLoadEvent,modalPageLoadEvent:function(){e.intentModalPageLoadEvent(null,null,null)},reportingEventTimeout:1e3,headerSVGIcon:this.props.headerSVGIcon}))}},{key:"intentModalPageLoadEvent",value:function(e,t,n){var a=this,r="";if(this.props.priceOptions){var i=this.props.priceOptions&&this.props.priceOptions[this.props.selectedSku.skuId]?this.props.priceOptions[this.props.selectedSku.skuId][this.props.selectedPricingIndex||0]:null;if(r=null!==i?i.displayPrice:null!==this.props.selectedSku.priceList?"".concat(this.props.selectedSku.priceList[0].monthlyLeasePrice):"",null!==i){var s=i.name;"0"!==s&&"1"!==s||(r="0")}}var o=e||"/devices/intent/modal",c=t||Object(C.b)(this.props.profileInfo.flowIndicator,this.props.profileInfo.subFlowType,this.props.selectedSku.deviceType),l=n||"DS Customer Intent Modal Pg",d=P({},{"page.attributes.productType":Object(C.e)(c,"simcard"===L()(this.props,"selectedSku.deviceSubType"),this.props.isAccessory),"page.attributes.sku":this.props.selectedSku.skuId,"page.attributes.skuName":this.props.selectedSku.shortDisplayName||this.props.selectedSku.displayName,"page.attributes.itemCapacity":this.props.selectedSku.capacity,"page.attributes.itemCondition":this.props.selectedSku.condition.displayName,"page.attributes.itemRecurringPrice":r,"page.category.applicationName":"Sales Wireless Full Web","page.category.pageFunction":"Sales","page.category.pageGroup":"WIRELESS ONLINE STORE","page.category.pageOwnership":"Consumer","page.location.url":o,"page.category.siteSection":"myATT Sales","page.location._addressBarFullURL":window.location.href,"page.location.domain":window.location.hostName,"page.pageInfo.lineOfBusiness":"Wireless","page.pageInfo.flowCode":c,"page.pageInfo.responsiveWebDesignFlag":1,"page.pageInfo.zipCode":this.props.profileInfo.zipCode,"chat.offerCode":"Default","user.customerType":Object(C.c)(this.props.profileInfo.customerType),"user.account.liabilityType":Object(C.d)(this.props.profileInfo.customerType),"user.uuid":this.props.profileInfo.uuid,"page.pageInfo.friendlyPageName":l,"user.account.fan":this.props.profileInfo.fanNumber,url:o});setTimeout((function(){return a.reporting.firePageLoadEvent(d)}),1e3)}},{key:"isMobile",value:function(){var e=window.innerWidth||0,t=window.innerHeight||0;return e<767&&t<=812}},{key:"intentModalCallback",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,s,o,c,l,d,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setIntentButtonAsSpinner(t),e.t0=t,e.next="NEW"===e.t0?4:"WIRELINE"===e.t0||"AL"===e.t0||"UP"===e.t0?20:(e.t0,23);break;case 4:if(n=Object(y.M)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),a=!0,i=0,s=0,this.context.cartItems.map((function(e){e.isPlanFirst&&i++,e.isPlanFirst&&e.status&&s++})),o=i>0&&0===s,c=0==this.context.cartItems.length,l="true"===Object(y.bb)()["pdp-data-connect-llp"],d=L()(this.state.ixpFlags,"allocations.svc-idp-wireless-enable-mix-n-match-plans.value"),p="true"===d,l||"tablets"!==n||"simcard"===this.props.selectedSku.deviceSubType||this.isMobile()?!l&&"tablets"===n&&"simcard"!==this.props.selectedSku.deviceSubType&&p&&(c||o)&&this.isMobile()?(this.props.closeModal(),this.setState({showCtoModal:!0}),a=!1):"tablets"===n&&"simcard"===this.props.selectedSku.deviceSubType&&p&&c&&(this.props.closeModal(),l||(this.setState({showCtoModal:!0}),a=!1)):p&&(c||o)&&(this.redirectLegacy(),a=!1),!a){e.next=19;break}return this.fireModalLinkClickEvent("create a new wireless account",window.location.href),e.next=19,this.onIntentSelection(t);case 19:return e.abrupt("break",24);case 20:return e.next=22,this.onIntentSelection(t);case 22:return e.abrupt("break",24);case 23:this.props.closeModal();case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setIntentButtonAsSpinner",value:function(e){if("NEW"===e)this.setState({intentsObject:P(P({},this.state.intentsObject),{},{New:[P(P({},this.state.intentsObject.New[0]),{},{intentDisplayName:M(k.a,{config:{size:"20px"}})})]})});else if("WIRELINE"===e)this.setState({intentsObject:P(P({},this.state.intentsObject),{},{Wireline:[P(P({},this.state.intentsObject.Wireline[0]),{},{intentDisplayName:M(k.a,{config:{size:"20px"}})})]})});else{var t=this.state.intentsObject.Existing.map((function(t){return t.key===e?P(P({},t),{},{intentDisplayName:M(k.a,{config:{size:"20px"}})}):t}));this.setState({intentsObject:P(P({},this.state.intentsObject),{},{Existing:t})})}}},{key:"getModalHeader",value:function(){var e=this.formatIdpIntentModalContent(this.props.intentModalContent)||v.d;return this.props.showNewCustomerLink?e.intentModalHeader.olam:e.intentModalHeader.common}},{key:"formatIdpIntentModalContent",value:function(e){var t=L()(e,"master.standaloneIntentModal.master",void 0);return!!t&&{intentModalContent:{intentModalSubheaders:{newWireline:t.newWirelineSubheading,aalUp:t.aalUpSubheading},UnauthWireless:{New:{key:"NEW",intentDisplayName:t.continueCTA,sectionHeader:t.newUserDesc},Wireline:{key:"WIRELINE",intentDisplayName:t.wirelineCTA},AddALine:{key:"AL",intentDisplayName:t.addALineCTA,sectionHeader:t.existingUserDesc,premierMessage:t.premierText,premierLink:t.premierLinkURL,premierLinkText:t.premierLinkLabel,businessLinkText:v.d.intentModalContent.UnauthWireless.AddALine.businessLinkText},Upgrade:{key:"UP",intentDisplayName:t.upgradeCTA,sectionHeader:t.existingUserDesc}},OlamWireless:{AddALine:{key:"AL",intentDisplayName:t.addALineCTA,sectionHeader:t.preAuthUserDesc,textToLink:t.preAuthLink},Upgrade:{key:"UP",intentDisplayName:t.upgradeCTA}}},intentModalHeader:{olam:t.preAuthHeading,common:t.commonHeading}}}},{key:"generateIntentsObject",value:function(e,t){var n={Existing:[],New:[],Wireline:[],Subheadings:{}},a=this.formatIdpIntentModalContent(this.props.intentModalContent)||v.d;console.log("NSCTA generate",P(P({},this.props),{},{showNewCustomerLink:t}));var r=t?a.intentModalContent.OlamWireless:a.intentModalContent.UnauthWireless;if(n.Subheadings=a.intentModalContent.intentModalSubheaders,e.indexOf("NEW")>-1&&(n.New=r.New?[r.New]:null),e.indexOf("WIRELINE")>-1&&(n.Wireline=r.Wireline?[r.Wireline]:null),e.indexOf("AL")>-1){var i=P(P({},r.AddALine),{},{displayPremierLink:"CRU"===this.props.profileInfo.customerType,displayBusinessLink:("CON"===this.props.profileInfo.customerType||"IRU"===this.props.profileInfo.customerType)&&!t&&!this.props.isAuthenticated});n.Existing.push(i)}e.indexOf("UP")>-1&&this.isEligibleforUpgrade()&&n.Existing.push(r.Upgrade),console.log("NSCTA intentContent",n,this.props),this.setState({intentsObject:n})}},{key:"isEligibleforUpgrade",value:function(){var e=Object(y.M)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),t="simcard"===this.props.deviceSubType;return!(this.props.selectedSku&&e===v.d.CONNECTED_DEVICES_AND_MORE&&(this.props.selectedSku.isWHP||this.props.selectedSku.isWHPI||!this.props.selectedSku.isEligibleForUpgrade)||t)}},{key:"onIntentSelection",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,s,o,c,l,d,p,u,m,f,h,b,C,k,S,x,w,T,I,M,N,P=this,D=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=D.length>1&&void 0!==D[1]?D[1]:this.props.selectedContractTerm.name,a=D.length>2&&void 0!==D[2]?D[2]:this.context.cartItems,i=D.length>3&&void 0!==D[3]?D[3]:this.props.selectedContractTerm.termLength,s=n,i,"1"!==n&&"24"!==n||(s,s="regular"),c=!1,"UP"!==t){e.next=12;break}return e.next=10,j.a.getProfileInfo();case 10:void 0!==(l=e.sent)&&(d=j.a.getAuthState(l),o=d.isAuthenticated,c=d.isWireless);case 12:"NEW"===t&&sessionStorage.setItem("userIntent",JSON.stringify(y.Db)),p="true"===Object(y.bb)()["pdp-data-connect-llp"],u=L()(this.state.ixpFlags,"allocations.svc-idp-wireless-enable-mix-n-match-plans.value"),m="true"===u,f=0===a.length,h=Object(y.M)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),b="AL"===t?"Add a new line":"Upgrade a device",!p&&"NEW"===t&&h===v.d.CONNECTED_DEVICES_AND_MORE&&m&&f?window.location.href="".concat(g.b.productDetailsUrls.deviceConfigUrl).concat(this.props.selectedSku.skuId):"NEW"!==t||"CRU"!==this.props.profileInfo.customerType||m?"NEW"===t&&"CRU"===this.props.profileInfo.customerType&&m||"NEW"===t&&"CRU"===this.props.profileInfo.customerType&&m&&f?this.props.redirectToConfigView():"true"===Object(y.bb)()["pdp-plan-view-redirect"]&&"NEW"===t?p||h!==v.d.CONNECTED_DEVICES_AND_MORE?"CRU"===this.props.profileInfo.customerType&&"NEW"===t?this.NewCustomerClick():this.props.redirectToConfigView().then((function(e){e||P.generateIntentsObject(P.props.intentsToShow,P.props.showNewCustomerLink)})):window.location.href="".concat(g.b.productDetailsUrls.deviceConfigUrl).concat(this.props.selectedSku.skuId):"NEW"===t?this.NewCustomerClick():"CRU"===this.props.profileInfo.customerType?(C=Object(y.gc)(g.b.productDetailsUrls.shopLandingService,{intent:t,skuId:this.props.selectedSku.skuId}),this.fireModalLinkClickEvent(b,C),window.location.href=C):"WIRELINE"===t?(Object(y.uc)(!0),k=Object(y.sb)(),this.fireModalLinkClickEvent("I have another AT&T account",k),window.location.href=k):"UP"===t&&!0!==o&&void 0!==o?Object(y.Nb)()?(x="".concat(g.b.productDetailsUrls.postpaid).concat(this.props.selectedSku.skuId,"&wlsfi=").concat(t.toLowerCase()),window.location.href=x,console.log("redirectURL is ",x)):(Object(y.uc)(!0,!0),S=Object(y.sb)(),console.log("redirectURL is ",S),this.fireModalLinkClickEvent(b,S),window.location.href=S):"UP"===t&&!0===o&&c?(void 0!==(w=localStorage.getItem("redirectedLogin"))&&(T=!!(T=L()(w,"selectedDeviceConfig"))&&JSON.parse(w))&&(T=JSON.stringify(T),sessionStorage.setItem("selectedDeviceConfig",T),Object(y.o)()),window.location.href=Object(y.gc)(g.b.productDetailsUrls.shopLandingService,{intent:t,skuId:this.props.selectedSku.skuId})):(I="",y.Db.response.redirect&&y.Db.response.redirectURL&&(I=y.Db.response.redirectURL+"?wlsfi=".concat(t)),M=Object(y.M)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),this.props.showNewCustomerLink&&(I=Object(y.gc)(g.b.productDetailsUrls.shopLandingService,{intent:t,skuId:this.props.selectedSku.skuId})),N=O()().publicRuntimeConfig,Object(y.b)(N,this.props.profileInfo.customerType,t)&&M!==v.d.CONNECTED_DEVICES_AND_MORE&&(I=("IRU"===this.props.profileInfo.customerType||"EMO"===this.props.profileInfo.customerType||"IMO"===this.props.profileInfo.customerType||this.props.profileInfo.customerType,"".concat(g.b.productDetailsUrls.idseUrl).concat(this.props.selectedSku.skuId,"&wlsfi=").concat(t.toLowerCase()))),""===I&&(console.error("onIntentSelection :: No redirect URL defined. Redirecting to IDSE."),I="".concat(g.b.productDetailsUrls.postpaid).concat(this.props.selectedSku.skuId,"&wlsfi=").concat(t.toLowerCase())),this.fireModalLinkClickEvent(b,I),window.location.href=I):this.redirectLegacy();case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRelevantUrls",value:function(){var e="".concat(g.b.productDetailsUrls.idseUrl).concat(this.props.selectedSku.skuId),t="".concat(g.b.productDetailsUrls.termSelectUrl).concat(this.props.selectedSku.skuId),n="".concat(g.b.productDetailsUrls.deviceConfigUrl).concat(this.props.selectedSku.skuId);b.contractTermsPDP.enabled&&(n+="&hideTerms=true&term=".concat(this.props.selectedContractTerm.name));var a=window.location.host;return"www.att.com"===a?t="https://m.att.com".concat(t):a.indexOf("finalstage")>-1?t="https://fs.att.com".concat(t):a.startsWith("m")||(t="https://m".concat(a).concat(t)),{idseUrl:e,termSelectUrl:t,deviceConfigUrl:n}}},{key:"fireModalLinkClickEvent",value:function(e,t){var n={linkDestinationUrl:t,linkName:e,linkPosition:"Body","page.location.url":"/devices/intent/modal"};this.reporting.fireLinkClickEvent(n)}},{key:"fireModalFormResponseEvent",value:function(){var e={statusMessage:"Success",statusCode:"0",successFlag:"1",eventCode:"DS_Add_To_Cart_Submit",linkDestinationUrl:window?window.location.href:"",linkName:"create a new wireless account",linkPosition:"Body",items:[{itemofferId:"9999999",itemOfferCategory:"private"}]};this.reporting.fireFormResponseEvent(e.eventCode,e)}},{key:"NewCustomerClick",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getRelevantUrls(),Object(y.M)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),t="",b.contractTermsPDP.enabled&&localStorage.removeItem("termPrevSelectedByUser"),this.clearSessionStorageItems(),this.props.showNewCustomerLink&&(n="".concat(window.location.origin).concat(window.location.pathname.replace("//","/")),"CRU"===this.props.profileInfo.customerType?n+="?invalidateAuthCRUSession=true&intent=NEW":n+="?intent=NEW",a=encodeURIComponent(n),t=g.b.productDetailsUrls.halo.newCustLogout.replace("{0}",a)),this.fireModalLinkClickEvent("I'm brand new here",t),window.location.href=t;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"generateMobileHostName",value:function(e){return"www.att.com"===e?"https://m.att.com":e.indexOf("finalstage")>-1?"https://fs.att.com":"https://m".concat(e)}},{key:"generateCgateDomain",value:function(e){return"www.att.com"===e?"https://cprodx.att.com":"https://cgate.stage.att.com"}}]),n}(m.Component);Object(u.a)(A,"contextType",x.a);t.default=A},N3eb:function(e,t,n){"use strict";var a=n("vJKn"),r=n.n(a),i=n("rg98"),s=n("H+61"),o=n("UlJF"),c=n("+Css"),l=n("7LId"),d=n("VIvw"),p=n("iHvq"),u=n("cpVT"),m=n("q1tI"),f=n.n(m),h=n("98cJ"),g=n("buUn"),b=n("uVxl"),v=n("z7pX"),y=n("ciDm"),C=n("0Yz8"),k=n("jXxo"),S=n("jSiu"),O=m.createElement;function x(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var I=function(e){Object(l.a)(n,e);var t=T(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(o.a)(n,[{key:"content",value:function(){if(this.props.galleryContent){var e,t=x(this.props.galleryContent);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.master&&n.master.skuId&&n.master.skuId===this.props.skuId){var a=[],r=[];return n.master.moviegvpURLs&&(a=n.master.moviegvpURLs.map((function(e){return{type:"video",videoId:e,videoDuration:"",videoUrl:""}}))),n.master.moviegvpURLs&&this.props.videoPromises&&this.props.videoPromises.length>0&&(a=this.props.videoPromises.map((function(e){return{type:"video",videoId:e.id,videoDuration:e.duration,videoUrl:e.url}}))),n.master.imageUrls&&(r=n.master.imageUrls.map((function(e){return{type:"image",url:e}}))),[].concat(Object(v.a)(a),Object(v.a)(r))}}}catch(i){t.e(i)}finally{t.f()}}return[]}},{key:"render",value:function(){var e=this;return O("div",{className:y.galleryTabContainer},this.content().map((function(t,n){return O("div",{key:n,className:y.galleryTabPanel},"video"===t.type?O(S.a,{videoId:t.videoId,videoUrl:t.videoUrl,videoDuration:t.videoDuration,isAccessory:e.props.isAccessory,sku:e.props.sku}):O(k.a,{imageProps:{src:t.url,alt:t.url,placeholder:O(C.a,null)},shouldLazyLoad:!0}))})))}}]),n}(m.Component),L=n("MX0m"),j=n.n(L),M=n("0YLE"),N=n("xLlQ"),P=n("U/e8"),D=m.createElement,A=function(e){var t=m.useMemo((function(){return{maxWidth:"25vh",height:"100%"}}),[]);return D(m.Fragment,null,D("div",{className:"jsx-2156755142 "+(M.inTheBoxContainer||"")},e.dataInTheBox&&e.dataInTheBox.map((function(e){return e.master&&e.master.subtitle&&e.master.iconselected&&D(m.Fragment,null,D("div",{key:e.master.subtitle,className:"jsx-2156755142 "+(M.inTheBoxItem||"")},D("div",{className:"jsx-2156755142 keyFeatureIcon"},D("div",{className:"jsx-2156755142 svgIconContainer"},D(N.a,{style:t,iconName:Object(P.ac)(e.master.iconselected),size:"100%"}))),D("div",{className:"jsx-2156755142 keyFeatureText"},D("span",{dangerouslySetInnerHTML:{__html:"".concat(e.master.subtitle,"<br />")},className:"jsx-2156755142 "+(M.inTheBoxHeader||"")}))))}))),D(j.a,{id:"2156755142"},["@media (min-width:768px){.keyFeatureIcon.jsx-2156755142{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;padding-right:15px;-webkit-flex-basis:54px;-ms-flex-preferred-size:54px;flex-basis:54px;}.svgIconContainer.jsx-2156755142{max-width:100%;height:100%;}.keyFeatureText.jsx-2156755142{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;font-family:att,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}}","@media (max-width:767px){.keyFeatureIcon.jsx-2156755142{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;padding-right:15px;-webkit-flex-basis:54px;-ms-flex-preferred-size:54px;flex-basis:54px;}.keyFeatureText.jsx-2156755142{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;font-family:att,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.svgIconContainer.jsx-2156755142{max-width:100%;height:100%;}}"]))},R=n("Qm9c"),E=m.createElement,F=function(e){return E("div",{className:"accordionContent"},E("div",{className:"flex align-items-center mar-b-md-lg"},E("img",{src:e.eSimImageUrl,className:R.eSIMIcon}),E("div",{className:"".concat(R.eSimContent," flex-column justify-center")},E("div",{className:R.eSimTitle,dangerouslySetInnerHTML:{__html:e.eSimTitle}}),E("div",{className:"".concat(R.eSimText," ").concat(R.eSimContent," type-sm mar-l-xs"),dangerouslySetInnerHTML:{__html:e.eSimContent}}))))},U=n("YoPm"),H=n("Ra6Z"),B=n("UMZ/"),W=n("H80Z"),_=n("i0Wh"),V=n("BX1O"),q=n("eI37"),G=n("olL2"),Q=n("Da3r"),Z=n("vyOo"),z=n("AXlk"),X=n.n(z),J=n("EHBT"),K=n.n(J),Y=n("Y+p1"),$=n.n(Y),ee=n("g4pe"),te=n.n(ee),ne=m.createElement;function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var se=function(e){Object(l.a)(n,e);var t=ie(n);function n(e){var a;Object(s.a)(this,n),a=t.call(this,e);var r=null!==e.defaultReviewsToShow&&void 0!==e.defaultReviewsToShow?e.defaultReviewsToShow:2;return a.state={reviewsContent:e.reviewsContent?e.reviewsContent:{},currentVotes:{},numOfReviewsShowing:r,showingAllReviews:!0},a.toggleReviewsSection=a.toggleReviewsSection.bind(Object(c.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){window.bvCallback=function(e){window.addEventListener(Q.b.LOAD,(function(){console.log("BV REVIEWS RENDERING"),e.reviews.render(document.querySelector("[data-bv-show='reviews']"))}),{once:!0})}}},{key:"componentDidUpdate",value:function(e){(e.skuId!==this.props.skuId||!e.reviewsContent&&this.props.reviewsContent||e.reviewsContent&&!$()(e.reviewsContent,this.props.reviewsContent))&&this.setState({reviewsContent:this.props.reviewsContent,numOfReviewsShowing:2})}},{key:"renderOverallRatingsSection",value:function(){var e=this,t=47.45,n=39.25,a=78.5*Math.PI,r=this.state.reviewsContent&&this.state.reviewsContent.reviewRecommend&&this.state.reviewsContent.reviewRecommend.percentRating&&!isNaN(this.state.reviewsContent.reviewRecommend.percentRating)?this.state.reviewsContent.reviewRecommend.percentRating:0,i=a-r/100*a;return this.state.reviewsContent&&ne("div",{className:"flex flex-wrap justify-between mar-b-lg"},this.state.reviewsContent.starsSection&&this.state.reviewsContent.starsSection.map((function(e,t){return ne(m.Fragment,null,ne("div",{className:"pad-r-xs",key:t},ne("div",{className:"".concat(B.starTitle," font-bold")},e.title),ne(N.a,{icon:X.a,className:"".concat(B.starIcon," mar-r-xxxs"),iconStyle:{fill:"#F95700"},size:"24px"}),ne("span",{className:B.starRating},e&&e.rating?e.rating.toFixed(1):"")),ne("hr",{className:B.starDivider}))})),this.state.reviewsContent.reviewRecommend&&ne(_.Spring,{config:_.config.slow,from:{strokeDashoffset:a,number:0},to:{strokeDashoffset:i,number:r},native:!0,reset:this.props.isOpen},(function(i){return ne("div",{className:B.progressContainer},ne(_.animated.svg,{height:94.9,width:94.9,className:B.progressCircle,style:{strokeDashoffset:i.strokeDashoffset,width:"95px",height:"95px"}},ne("circle",{stroke:"#d2d2d2",fill:"transparent",strokeWidth:8.2,r:n,cx:t,cy:t}),ne("circle",{stroke:"green",fill:"transparent",strokeWidth:8.2,strokeDasharray:a+" "+a,r:n,cx:t,cy:t})),ne(_.animated.span,{className:[B.progressPercentage,r>=100&&B.threeDigit,r<100&&r>=10&&B.twoDigit,r<10&&B.oneDigit,"font-bold"].join(" ")},i.number.interpolate((function(e){return Math.ceil(e)}))),ne("span",{className:"".concat(B.progressMessage," font-medium")},Object(P.Eb)(e.state.reviewsContent.reviewRecommend.description,[e.state.reviewsContent.reviewRecommend.totalReviews,e.props.productDisplayName])))})))}},{key:"toggleReviewText",value:function(e){this.setState(Object(u.a)({},e,!this.state[e]))}},{key:"renderReviewText",value:function(e,t){var n=this;if(e.length>500){var a=e.substring(0,500);return null!==this.state["reviewTextShowing"+t]&&void 0!==this.state["reviewTextShowing"+t]||this.setState(Object(u.a)({},"reviewTextShowing"+t,!1)),ne(m.Fragment,null,ne("span",{className:this.state["reviewTextShowing"+t]&&B.hidden},a,"...\xa0",ne(Z.a,{events:{onClick:function(){return n.toggleReviewText("reviewTextShowing"+t)}}},Q.d.reviewsSection.seeMoreLabel)),ne("span",{className:!this.state["reviewTextShowing"+t]&&B.hidden},e,"\xa0",ne(Z.a,{events:{onClick:function(){return n.toggleReviewText("reviewTextShowing"+t)}}},Q.d.reviewsSection.seeLessLabel)))}return e}},{key:"renderReviewSectionLabel",value:function(e){return 0===e?ne("div",{className:"".concat(B.reviewSectionLabel," font-bold")},Q.d.reviewsSection.highRatingLabel):1===e?ne("div",{className:"".concat(B.reviewSectionLabel," font-bold")},Q.d.reviewsSection.lowRatingLabel):""}},{key:"renderReviewsSection",value:function(){var e=this,t=function(t,n,a){var r=0;return e.state.currentVotes&&e.state.currentVotes[a]&&(t&&e.state.currentVotes[a]===Q.d.reviewsSection.positiveVote||!t&&e.state.currentVotes[a]===Q.d.reviewsSection.negativeVote)&&(r=1),n+r};return ne("div",{className:"jsx-2049600871 "+(B.allReviews||"")},this.state.reviewsContent&&this.state.reviewsContent.reviews&&this.state.reviewsContent.reviews.map((function(n,a){var r=new Date(n.SubmissionTime),i="".concat(r.getMonth()+1,"/").concat(r.getDate(),"/").concat(r.getFullYear());return ne("div",{key:a,className:"jsx-2049600871 "+([B.reviewContainer,a>e.state.numOfReviewsShowing-1&&B.hidden].join(" ")||"")},ne("div",{className:"jsx-2049600871 "+(B.reviewContent||"")},e.renderReviewSectionLabel(a),ne("div",{className:"jsx-2049600871 mar-b-xs"},ne("span",{className:"jsx-2049600871 mar-r-sm"},ne(W.a,{data:{name:"Review Stars",rate:n.Rating/n.RatingRange*5,readOnly:!0,starCount:5},dataQa:"".concat(e.props.dataQa,"-reviewStars")})),ne("span",{className:"jsx-2049600871 font-medium type-base"},n.UserNickname,ne("span",{className:"jsx-2049600871 color-functional-lt-green"},n.IsRecommended&&Q.d.reviewsSection.positiveQualifier),ne("span",{className:"jsx-2049600871 color-ui-medium-gray"},"\u2022 ",i))),ne("div",{className:"jsx-2049600871 font-bold type-base mar-t-xxxs mar-b-xxxs"},n.Title),ne("div",{className:"jsx-2049600871 type-base"},e.renderReviewText(n.ReviewText,a)),n.Photos&&n.Photos.length>0&&n.Photos.map((function(e,t){return ne("img",{src:e.Sizes.thumbnail.Url,key:t,className:"jsx-2049600871 "+(B.reviewImage||"")})}))),ne("div",{className:"jsx-2049600871 "+(B.ratingContainer||"")},ne("div",{className:"jsx-2049600871 "+"".concat(B.ratingSection," flex flex-items-baseline")},ne("span",{className:"jsx-2049600871"},"Helpful?"),ne(V.a,{buttonConfig:{disabled:!1,type:[q.b.Skinny]},className:"color-att-blue pad-l-md pad-r-md type-base bg-ui-background-gray no-border mar-l-sm pad-t-xxs pad-b-xxxs",events:{onClick:function(){return e.onVoteButtonPress(!0,n.Id)}}},ne(N.a,{icon:K.a,className:"mar-r-xxxs",iconStyle:{fill:"#009fdb"},size:"19px"}),t(!0,n.TotalPositiveFeedbackCount,n.Id)),ne(V.a,{buttonConfig:{disabled:!1,type:[q.b.Skinny]},className:"color-att-blue pad-l-md pad-r-md type-base bg-ui-background-gray no-border mar-l-sm pad-t-xxs pad-b-xxxs",events:{onClick:function(){return e.onVoteButtonPress(!1,n.Id)}}},ne(N.a,{icon:K.a,className:"mar-r-xxxs",iconStyle:{fill:"#009fdb",transform:"rotateX(180deg)"},size:"19px"}),t(!1,n.TotalNegativeFeedbackCount,n.Id)))))})),ne(j.a,{id:"2049600871"},[".flex-items-baseline.jsx-2049600871{-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;}"]))}},{key:"toggleReviewsSection",value:function(){this.setState((function(e){return e.showingAllReviews?re(re({},e),{},{showingAllReviews:!1}):re(re({},e),{},{showingAllReviews:!0})}))}},{key:"onVoteButtonPress",value:function(e,t){var n=e?Q.d.reviewsSection.positiveVote:Q.d.reviewsSection.negativeVote;if(this.state.currentVotes&&(!this.state.currentVotes[t]||this.state.currentVotes[t]!==n)){G.a.sendVote("helpfulness",n,t),this.setState({currentVotes:re(re({},this.state.currentVotes),{},Object(u.a)({},t,n))})}}},{key:"renderAllReviewsSection",value:function(){var e=this.state.showingAllReviews?{display:"block"}:{display:"none"};return ne("div",{style:e,"data-bv-show":"reviews","data-bv-product-id":this.props.skuId})}},{key:"render",value:function(){return ne(m.Fragment,null,ne(te.a,null,ne("script",{src:"https://apps.bazaarvoice.com/deployments/att/main_site/production/en_US/bv.js",async:!0})),ne("div",{className:B.reviewSection},this.renderOverallRatingsSection(),this.renderReviewsSection(),this.renderAllReviewsSection()))}}]),n}(m.Component),oe=f.a.createElement;function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var le=function(e){Object(l.a)(n,e);var t=ce(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={reviewsContent:null},a}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.isUserRequest&&t.productDisplayName!==this.props.productDisplayName&&H.reviewsRedesign.enabled&&G.a.fetchReviewsHighlights(this.props.skuId).then((function(e){n.setState({reviewsContent:e})}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.isUserRequest&&(G.a.loadBazaarVoice(),H.reviewsRedesign.enabled&&G.a.fetchReviewsHighlights(this.props.skuId).then((function(e){t.setState({reviewsContent:e}),!(e.reviews.length>0)&&window.BV&&window.BV.reviews.render(document.querySelector("[data-bv-show='reviews']"))})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.props.isUserRequest)return H.reviewsRedesign.enabled&&this.state.reviewsContent&&this.state.reviewsContent.reviews&&this.state.reviewsContent.reviews.length>0?oe(se,{productDisplayName:this.props.productDisplayName,isOpen:this.props.isOpen,skuId:this.props.skuId,defaultReviewsToShow:2,reviewsContent:this.state.reviewsContent}):oe(f.a.Fragment,null,oe("div",{"data-bv-show":"reviews","data-bv-product-id":this.props.skuId}));return oe("div",{dangerouslySetInnerHTML:{__html:e.props.reviewsSeoContent}})}}]),n}(f.a.Component),de=f.a.createElement;function pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var ue=function(e){Object(l.a)(n,e);var t=pe(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){G.a.loadBazaarVoice(),window&&(window.bvCallback=function(e){window.addEventListener(Q.b.LOAD,(function(){console.log("BV QA RENDERING"),e.questions.render(document.querySelector("[data-bv-show='questions']"))}),{once:!0})})}},{key:"render",value:function(){return de(f.a.Fragment,null,de("div",{"data-bv-show":"questions","data-bv-product-id":this.props.skuId}))}}]),n}(f.a.Component),me=n("TNFy"),fe=m.createElement;function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var ge=function(e){Object(l.a)(n,e);var t=he(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(o.a)(n,[{key:"render",value:function(){return fe("div",null,this.props.keyFeaturesContent&&this.props.keyFeaturesContent.length&&fe("h3",{className:"font-bold type-base mar-t-xs"},this.props.keyFeaturesHeading),fe("ul",{className:me.keyFeatures,"data-qa":this.props.dataQa},this.props.keyFeaturesContent&&this.props.keyFeaturesContent.map((function(e,t){return e.master&&e.master.iconName&&e.master.iconClass&&fe("li",{key:t,className:"flex flex-items-center"},fe(N.a,{iconName:Object(P.ac)(e.master.iconClass),size:"32px"}),fe("div",{className:me.keyFeatureDescription,dangerouslySetInnerHTML:{__html:e.master.iconName}}))}))))}}]),n}(m.Component),be=n("rMk0"),ve=m.createElement;function ye(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var Ce=function(e){Object(l.a)(n,e);var t=ye(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return ve("div",null,Object.keys(this.props.compatibleDevices).map((function(t){return ve("div",{className:be.divTable,key:t},ve("h3",{className:be.divSectionHeader},e.manufacturerToCamelCase(t)),ve("div",{className:be.divSectionRow},e.props.compatibleDevices[t].map((function(e){return!0===e.skuEOL?ve("div",{className:be.divRow,key:e.model},e.model):ve("div",{className:be.divRow,key:e.model},ve(Z.a,{dataQa:"",ariaLabel:e.model,href:"/buy/".concat(e.generatedDeviceType,"/").concat(e.uniqueURLName,".html")},e.model))}))))})))}},{key:"manufacturerToCamelCase",value:function(e){return e.length>4?e.charAt(0).toUpperCase()+e.slice(1):e.toUpperCase()}}]),n}(m.Component),ke=function e(t,n,a,r){Object(s.a)(this,e),Object(u.a)(this,"generatedDeviceType",void 0),Object(u.a)(this,"model",void 0),Object(u.a)(this,"uniqueURLName",void 0),Object(u.a)(this,"skuEOL",void 0),this.generatedDeviceType=t,this.model=n,this.uniqueURLName=a,this.skuEOL=r},Se=n("hTfz"),Oe=n("A8C6"),xe=n.n(Oe),we=n("mwIZ"),Te=n.n(we),Ie=m.createElement;function Le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var je=function(e){Object(l.a)(n,e);var t=Le(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(o.a)(n,[{key:"populatePlaceholders",value:function(e,t){var n=e;return e===Q.d.contentPlaceholders.checkbox?n="":e===Q.d.contentPlaceholders.capacity?n=t.capacity:e===Q.d.contentPlaceholders.upc?n=t.upc:e===Q.d.contentPlaceholders.billCode&&(n=t.billCode),n}},{key:"renderSpecValue",value:function(e){var t="pad-xs border-left border-light-gray grid-col-8 type-sm line-h-xxl grid-col-8 mar-b-none inline-block ".concat("checkbox"!==e&&"line-h-base");return e===Q.d.contentPlaceholders.checkbox?Ie("td",{className:t},Ie(N.a,{icon:xe.a,size:"14px"})):Ie("td",{className:t,dangerouslySetInnerHTML:{__html:this.populatePlaceholders(e,this.props.selectedSku)}})}},{key:"render",value:function(){var e=this,t=Object(P.A)(Te()(this.props,"selectedSku.manufacturer","")||""),n=Object(P.A)(Te()(this.props,"selectedSku.model","")||""),a=t&&n?"https://www.att.com/device-support/index/"+"".concat(t.replace(/ /g,""),"/")+"".concat(n.replace(/ /g,""),"/"):"";return Ie("div",{className:"jsx-1663706573"},this.props.selectedSku.manufacturer&&this.props.selectedSku.model&&Ie("div",{className:"jsx-1663706573 mar-b-xs mar-t-xs"},Ie("a",{"data-qa":"".concat(this.props.dataQa,"-manualAndTutorialLink"),href:a,"aria-label":"Manual and tutorial",className:"jsx-1663706573 link-tertiary"},"Manual and tutorial")),this.props.data&&this.props.data.map((function(t){return t.master&&t.master.accordionLabels&&t.master.accordionData&&t.master.accordionData.length>0&&Ie(m.Fragment,null,Ie("h3",{className:"jsx-1663706573 font-bold type-base mar-t-xs"},t.master.accordionLabels),Ie("table",{className:"jsx-1663706573 full-width"},t.master.accordionData.map((function(t){return t.master&&t.master.key&&t.master.value&&Ie("tr",{key:t.master.key,className:"jsx-1663706573 "+(Se.divRow||"")},Ie("td",{dangerouslySetInnerHTML:{__html:t.master.key},className:"jsx-1663706573 pad-xs mar-b-none grid-col-4-md type-sm line-h-base grid-col-4 inline-block"}),e.renderSpecValue(t.master.value))}))))})),Ie(j.a,{id:"1663706573"},[".full-width.jsx-1663706573{min-width:100%;}"]))}}]),n}(m.Component),Me=n("cq7Z"),Ne=m.createElement;function Pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var De=function(e){Object(l.a)(n,e);var t=Pe(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(o.a)(n,[{key:"render",value:function(){return Ne("div",null,Ne("div",{dangerouslySetInnerHTML:{__html:"".concat(this.props.overviewContent[0].master.overviewDescription,"<br />")}}))}}]),n}(m.Component),Ae=n("HMs9"),Re=n("lNN+"),Ee=n("psIL"),Fe=m.createElement;function Ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var He=function(e){Object(l.a)(n,e);var t=Ue(n);function n(e){var a;return Object(s.a)(this,n),a=t.call(this,e),Object(u.a)(Object(c.a)(a),"reporting",void 0),a.state={inTheBoxContent:[],specsContent:[],isReviewOpen:!1,isQAOpen:!1,longLegalContent:""},a.accordionClick=a.accordionClick.bind(Object(c.a)(a)),a.reporting=new Me.a,a}return Object(o.a)(n,[{key:"accordionClick",value:function(e,t,n){var a={linkDestinationUrl:t,linkName:e+(n?"_closed":"_open"),linkPosition:"Body"};setTimeout((function(){Object(Ae.forceCheck)()}),10),this.reporting.fireLinkClickEvent(a)}},{key:"getCompatibleDevices",value:function(){var e=Object(P.xb)(this.props.compatibleDevices);return e.sort((function(e,t){return e.manufacturer>t.manufacturer?1:e.manufacturer<t.manufacturer?-1:e.skuEOL>t.skuEOL?1:e.skuEOL<t.skuEOL||e.model>t.model?-1:e.model<t.model?1:void 0})),e.reduce((function(e,t){return(e[t.manufacturer]=e[t.manufacturer]||[]).push(new ke(Object(P.M)(t.deviceType,t.deviceSubType,t.paymentType),t.model,t.uniqueURLName,t.skuEOL)),e}),{})}},{key:"shouldShowCompatibleDevicesAccordion",value:function(){return this.props.compatibleDevices&&this.props.compatibleDevices.payload&&Object(P.xb)(this.props.compatibleDevices).length>1&&(this.props.isAccessory||this.props.selectedSku.isUniversalSim)}},{key:"componentWillReceiveProps",value:function(e){this.setState({isQAOpen:e.isQAOpen,inTheBoxContent:e.inTheBoxContent,specsContent:e.specsContent})}},{key:"componentDidMount",value:function(){this.props.featureFlags&&"true"===this.props.featureFlags["pdp-bv-on-pageload"]&&G.a.loadBazaarVoice()}},{key:"onReviewOpen",value:function(){this.setState({isReviewOpen:!0})}},{key:"onQAOpen",value:function(){this.setState({isQAOpen:!0})}},{key:"onGalleryOpen",value:function(){this.setState({isGalleryOpen:!0})}},{key:"onFeaturesAndSpecsClick",value:function(e){var t=this;""===this.state.longLegalContent&&this.getDeviceLongLegalContent(this.props.idpcmsContent).then((function(e){t.setState({longLegalContent:e})})),this.accordionClick("FeaturesAndSpecs",this.props.selectedSku.devicePageURL,e)}},{key:"getDeviceLongLegalContent",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Ee.a.fetchDeviceLegalPathsFromCMS(t),e.t0=Promise,e.next=5,Ee.a.getLegalContentFromIDPCMS6_4(n,null,null,null);case 5:return e.t1=e.sent,a=e.t0.resolve.call(e.t0,e.t1),e.abrupt("return",a);case 10:e.prev=10,e.t2=e.catch(0),console.log("Error fetching device legal: ",e.t2);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.galleryContent&&void 0!==this.props.galleryContent,n=!(this.props.featureFlags&&"true"===this.props.featureFlags["pdp-disable-gvp"]),a=Te()(this.props.commonCmsContent,"[0].master.legal.master.globalLegal[3].master.legalShortPath.master.legalText",Q.d.commonLegal.commonLegalText);return Fe(g.a,{options:{allowMultipleOpen:!0},dataQa:"".concat(this.props.dataQa)},this.props.overviewContent&&this.props.overviewContent.length>0&&this.props.overviewContent[0].master&&this.props.overviewContent[0].master.overviewDescription&&Fe(h.b,{title:this.props.drawerNamesForAccordionGroup.overviewAccordionTitle||"Overview",id:"overview",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-Overview"),expanded:!0,onAccordionClick:function(t,n,a){return e.accordionClick("Overview",e.props.selectedSku.devicePageURL,a)}},Fe(De,{overviewContent:this.props.overviewContent})),t&&n&&Fe(h.b,{title:this.props.drawerNamesForAccordionGroup.galleryAccordionTitle||"Gallery",id:"gallery",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-Gallery"),onOpenAccordion:function(){return e.onGalleryOpen()},onAccordionClick:function(t,n,a){return e.accordionClick("Gallery",e.props.selectedSku.devicePageURL,a)}},(this.state.isGalleryOpen||"true"!==this.props.featureFlags["pdp-perf-b"])&&Fe(I,{skuId:this.props.selectedSku.skuId,galleryContent:this.props.galleryContent,isAccessory:this.props.isAccessory,sku:this.props.selectedSku,videoPromises:this.props.videoPromises})),this.props.featureFlags&&"true"===this.props.featureFlags["pdp-bv"]&&Fe(h.b,{title:this.props.drawerNamesForAccordionGroup.qaAccordionTitle||"Q & A",id:"qa",isListItem:!0,url:this.props.selectedSku.devicePageURL,onOpenAccordion:function(t){return e.onQAOpen()},onAccordionClick:function(t,n,a){return e.accordionClick("Q&A",e.props.selectedSku.devicePageURL,a)},dataQa:"".concat(this.props.dataQa,"-QA"),isAccessory:this.props.isAccessory,sku:this.props.selectedSku},Fe("div",null,(this.state.isQAOpen||this.props.featureFlags&&"true"===this.props.featureFlags["pdp-bv-on-pageload"])&&Fe(ue,{skuId:this.props.selectedSku.skuId}))),this.props.featureFlags&&"true"===this.props.featureFlags["pdp-bv"]&&this.props.selectedSku.hasBazaarVoiceReview&&!this.props.selectedSku.preOrderable&&!this.props.selectedSku.isComingSoon&&Fe(h.b,{title:this.props.drawerNamesForAccordionGroup.reviewsAccordionTitle||"Reviews",id:"reviews",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-Reviews"),onOpenAccordion:function(t){return e.onReviewOpen()},onAccordionClick:function(t,n,a){return e.accordionClick("Reviews",e.props.selectedSku.devicePageURL,a)},isAccessory:this.props.isAccessory,sku:this.props.selectedSku},(this.state.isReviewOpen||this.props.featureFlags&&"true"===this.props.featureFlags["pdp-bv-on-pageload"])&&Fe(le,{productDisplayName:this.props.selectedSku.displayName,isOpen:this.state.isReviewOpen,skuId:this.props.selectedSku.skuId,isUserRequest:this.props.isUserRequest,reviewsSeoContent:this.props.reviewsSeoContent})),this.shouldShowCompatibleDevicesAccordion()&&Fe(h.b,{title:this.props.drawerNamesForAccordionGroup.compatibleDevicesAccordionTitle||"Compatible Devices",id:"compatibleDevices",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-Compatible"),onAccordionClick:function(t,n,a){return e.accordionClick("Compatible Devices",e.props.selectedSku.devicePageURL,a)}},Fe(Ce,{compatibleDevices:this.getCompatibleDevices()})),this.props.specsContent&&(this.props.specsContent.length>1||!(this.props.selectedSku.isComingSoon||this.props.selectedSku.preOrderable))&&Fe(h.b,{title:this.props.drawerNamesForAccordionGroup.featuresAndSpecsAccordionTitle||"Features and Specs",id:"featuresAndSpecs",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-FeaturesAndSpecs"),onAccordionClick:function(t,n,a){return e.onFeaturesAndSpecsClick(a)}},Fe("div",null,Fe(ge,{keyFeaturesHeading:this.props.keyFeaturesHeading,keyFeaturesContent:this.props.keyFeaturesContent,dataQa:this.props.dataQa+"-KeyFeatures"}),Fe(je,{data:this.props.specsContent,selectedSku:this.props.selectedSku}),""!==this.state.longLegalContent&&Fe(m.Fragment,null,Fe(b.a,{space:8,topSpace:8}),Fe("div",{className:"type-legal",dangerouslySetInnerHTML:{__html:this.state.longLegalContent}}),Fe("div",{className:"type-legal",dangerouslySetInnerHTML:{__html:a}})))),this.props.inTheBoxContent&&0!==this.props.inTheBoxContent.length&&!this.props.isAccessory&&Fe(h.b,{title:this.props.drawerNamesForAccordionGroup.inTheBoxAccordionTitle||"In the box",id:"inTheBox",isListItem:!0,url:this.props.selectedSku.devicePageURL,onAccordionClick:function(t,n,a){return e.accordionClick("In the box",e.props.selectedSku.devicePageURL,a)},dataQa:"".concat(this.props.dataQa,"-InTheBox")},Fe(A,{dataInTheBox:this.props.inTheBoxContent})),this.props.featureFlags&&"true"===this.props.featureFlags["pdp-esim"]&&this.props.selectedSku.isEsim&&Fe(h.b,{title:this.props.drawerNamesForAccordionGroup.eSimAccordionTitle||"Setup & activation",id:"esim",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-ESIMs"),onAccordionClick:function(t,n,a){return e.accordionClick("ESIMs",e.props.selectedSku.devicePageURL,a)}},Fe(F,{eSimTitle:this.props.eSimTitle,eSimContent:this.props.eSimContent,eSimImageUrl:this.props.eSimImageUrl})),!0===this.props.prop65Flag&&Fe(h.b,{title:this.props.drawerNamesForAccordionGroup.legalAccordionTitle||"Legal",id:"legal",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-Legal"),onAccordionClick:function(t,n,a){return e.accordionClick("Legal",e.props.selectedSku.devicePageURL,a)}},Fe(U.a,{data:void 0,prop65Flag:this.props.prop65Flag,prop65Content:this.props.prop65Content})))}}]),n}(m.Component);Object(u.a)(He,"contextType",Re.a);t.a=He},SSme:function(e,t,n){"use strict";var a=n("HALo"),r=n("xvhg"),i=n("q1tI"),s=n("Vvt1"),o=n.n(s),c=n("zm1R"),l=n("h9dW"),d=n("aJ4A"),p=n("jKe7"),u=n("2INN"),m=n("k2q6"),f=n("U/e8"),h=n("z7pX"),g=n("BDw/"),b=n("vyOo"),v=i.createElement,y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return Object.keys(e).map((function(n){""!==e[n].displayName&&t.push(e[n])})),t},C=[{displayName:"Home",url:"/"},{displayName:"Wireless",url:"/wireless/"}],k=function(e,t,n){var a=[].concat(C,Object(h.a)(y(n))),r={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[]};return a.forEach((function(n,i){r.itemListElement.push({"@type":"ListItem",position:i+1,name:n.displayName,item:i===a.length-1?"https://www.att.com/buy"+Object(f.L)(e,t,t.uniqueURLName):"https://www.att.com"+n.url})})),r},S=function(e){var t;return v(i.Fragment,null,v("div",{className:"pad-t-xxl"},v("div",{className:"full-width-container bg-ui-light-gray ".concat(g.marginSpacer)},v("div",{className:"container"},v("div",{className:"row"},v("div",{className:"grid-col-12-md grid-col-12-sm"},v("div",{className:"".concat(g.container," rel")},v("span",{className:"".concat(g.breadcrumb," bg-ui-light pad-r-xxs rel")},v("ul",null,(t=e.data,[].concat(C,Object(h.a)(y(t))).map((function(t,n){return v("li",{key:n},t.url?v("span",null,v(b.a,{ariaLabel:t.displayName,dataQa:"".concat(e.dataQa,"-NavLink"),href:t.url,className:g.active_Link,reportingLinkName:t.displayName,reportingLinkUrl:t.url,options:{linkPosition:"Breadcrumb"}},v("span",null,t.displayName))):v("span",{className:"color-ui-dark-gray"},t.displayName))})))))),v("hr",null)))))),v("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(k(e.isAccessory,e.selectedSku,e.data))}}))},O=n("I4GN"),x=n("sKpN"),w=n("Da3r"),T=n("cr+I"),I=n.n(T),L=n("BTSr"),j=n("JNjH"),M=n("pvQS"),N=n("fo0C"),P=n("mwIZ"),D=n.n(P),A=i.createElement,R=o()((function(){return Promise.resolve().then((function(){return n("a2dA")}))}),{loadableGenerated:{webpack:function(){return["a2dA"]},modules:["../src/pages/ProductDetailsPage/components/PscRouter/PscRouter.tsx -> ../PlansConfig"]}}),E=o()((function(){return Promise.resolve().then((function(){return n("8wHY")}))}),{loadableGenerated:{webpack:function(){return["8wHY"]},modules:["../src/pages/ProductDetailsPage/components/PscRouter/PscRouter.tsx -> ../ConfigView"]}});t.a=function(e){var t=e.pdpProps,n=e.pdpState,s=e.events,o="PDP",h=i.useState(!1),g=Object(r.a)(h,2),b=g[0],v=g[1],y=i.useState(!0),C=Object(r.a)(y,2),k=C[0],T=C[1],P=i.useRef(void 0),F=i.useRef(void 0),U=i.useState(void 0),H=Object(r.a)(U,2),B=H[0],W=H[1],_=i.useState(!1),V=Object(r.a)(_,2),q=V[0],G=V[1],Q=i.useContext(L.a),Z=i.useContext(j.a),z=t.dtabCookieExists,X="simcard"===D()(n,"selectedSku.deviceSubType"),J="prepaidpda"===D()(n,"selectedSku.deviceSubType"),K="accessories"===t.deviceType,Y="authenticated"===t.profileInfo.customerState,$=!(z||X||J||K||Y),ee="true"===t.IXPFeatureFlags["pdp-prescreen"],te=t.referer;i.useEffect((function(){ne(),F.current=!$,ee&&$&&(ae(),re())}),[]),i.useEffect((function(){ee&&$&&re()}),[Q.cartItems,Z.selectedSku,B,Z.selectedContractTerm,Z.selectedPricingIndex,Z.isTradeInSelected,Z.hylaOfferCodeInContext]);var ne=function(){var e=I.a.parse(window.location.search).invalidateAuthCRUSession;t.profileInfo.customerProfile&&"CRU"===t.profileInfo.customerProfile.customerType&&e&&(sessionStorage.setItem("userIntent",JSON.stringify(f.Db)),v(!0))},ae=function(){P.current=Object(M.prescreenStatus)(),P.current&&P.current!==B&&W(P.current)},re=function(){var e=D()(Z,"selectedContractTerm"),t=D()(e,"monthlyLeasePrice"),n=D()(e,"promoPricing"),a=void 0;if(n)for(var r in n)("DEFAULT"!==D()(Z,"hylaOfferCodeInContext")&&void 0!==D()(Z,"hylaOfferCodeInContext")&&D()(n[r],"hylaOfferCode")===D()(Z,"hylaOfferCodeInContext")&&"generictradein"!==D()(n[r],"promoType")||"standalone"===D()(n[r],"promoType"))&&(a=n[r]);var i=D()(a,"creditApplied"),s=D()(a,"monthlyCredit"),o=D()(a,"monthlyPromoPrice"),c=D()(a,"promotion.discount"),l=D()(a,"monthlyPromoPrice"),d=D()(a,"downPayment"),p=D()(e,"downPayment"),u=d||p,m=D()(e,"msrp")+""===u+"";l&&t!==l||(l=t);var f=D()(Q.prescreen,"prescreenType",void 0),h=m,g=!(B&&(!B||!1!==D()(B,"complete",!1))),b=D()(B,"complete",!1),v=D()(B,"success",!1),y=D()(B,"creditStatus",null),C=!0===D()(B,"fully_qualified",null),k=!0===D()(B,"debtInd",null),S="AR"===D()(B,"creditStatus",null),O="CA"===D()(B,"creditStatus",null),x=S,w=D()(B,"invalidAddress",null),T=D()(B,"iACount",null),I=3===T&&w,L=!0===D()(B,"safeScanInd",null),j=!0===D()(B,"safeScanVerified",null),M=!!L&&!j,N=D()(B,"error",null),P=ie({activePromotion:a,monthlyCredit:s,discount:c,prescreenType:f,complete:b,success:v,creditStatus:y,creditApproved:O,creditAutoRejected:S,monthlyPromoPrice:o,error:N,noPrescreen:g,isFullDownPayment:h,downPayment:u,creditApplied:i,monthlyLeasePrice:l,prescreenApproved:C,debtInd:k,invalidAddress:w,iACount:T,iAMaxAttemptReached:I,failedPrescreen:x,systemDown:"E00008"===N,safeScanInd:L,safeScanVerified:j,safeScanFailed:M,validationIsPending:"E00004"===N,validationErrors:"E00009"===N});Q.setPrescreen(P)},ie=function(e){if(D()(e,"invalidAddress")||D()(e,"failedPrescreen")||D()(e,"safeScanFailed")||D()(e,".systemDown"))return e.prescreenType=null,e;var t,n=D()(Q,"cartItems",[]),a=!1;return n.forEach((function(e){var t="device"===D()(e,"device.itemType"),n=D()(e,"prepaidFlow",!1);t&&!n?(a=!0,T(!1)):t&&n&&T(!1)})),D()(e,"noPrescreen")&&!a&&!1===D()(e,"complete",!1)&&!1===D()(e,"downPayment",!1)?t="NO_PRESCREEN":!0===!!D()(e,"debtInd",!1)?t="OUTSTANDING_BALANCE":D()(e,"complete")&&D()(e,"isFullDownPayment")?t="NO_QUALIFY":D()(e,"downPayment",!1)?t="DOWN_PAYMENT":D()(e,"complete")&&D()(e,"creditApproved")&&!D()(e,"downPayment",!1)?t="NO_DOWN_PAYMENT":D()(e,"validationIsPending")?t="VALIDATION_IS_PENDING":D()(e,"validationErrors")&&(t="VALIDATION_ERRORS"),e.prescreenType=t,e},se=!(!J||!t.IXPFeatureFlags||"true"!==t.IXPFeatureFlags["pdp-prepaid"]||"true"!==t.IXPFeatureFlags["pdp-progressive"])||(J?void 0:t.IXPFeatureFlags&&"true"===t.IXPFeatureFlags["pdp-progressive"]),oe="rel nopad "+"".concat(se?N.breadCrumbContainer:"");return A(c.b,{type:c.c.FullWidth,className:"bg-ui-background-gray"},A(c.b,{className:oe},b&&A(x.default,{data:{message:w.d.alertBoxMessages.alertMessageCRU,icon:w.a.alertIcon,closeAlertBox:function(){v(!1)}},dataQa:"".concat(o,"-DeviceConfig")}),n.selectedSku.isComingSoon&&A(O.default,{deviceName:n.selectedSku.model,manufacturer:n.selectedSku.manufacturer,content:function(){var e=D()(t.planCmsContent,"idp-cms-feed.productselectionconfig.contentFragments.common.master.emailSubscription",w.d.emailCapture),a="undefined";if(n.selectedSku.skuRelations.forEach((function(e){"conditionGroup"===e.key&&(a=e.value)})),e&&e.length&&e.length>0){var r=e.filter((function(e){return void 0!==e.master.conditionGroup}));if(r&&r.length>0&&r[0].master.conditionGroup.split(",").indexOf(a)>-1)return r[0].master;var i=e.filter((function(e){var t;return(null===(t=e.master.skuIds)||void 0===t?void 0:t.indexOf(n.selectedSku.skuId))>=0}));if(i&&i.length>0)return i[0].master;var s=e.filter((function(e){return"default"===e.master.skuIds}));return s&&s.length>0?s[0].master:w.d.emailCapture}return w.d.emailCapture}(),isAccessory:t.productField.isAccessory,skuInContext:n.selectedSku})),A(d.a,{history:n.history},A(p.a,null,A(u.a,{path:s.generateNewAsUrl(n.selectedSku,n.selectedSku.uniqueURLName,l.c),render:function(e){return A(R,Object(a.a)({},e,{IXPFeatureFlags:t.IXPFeatureFlags,customerProfile:t.profileInfo,isAccessory:t.productField.isAccessory,deviceType:t.deviceType,deviceSubType:t.deviceSubType,selectedSku:n.selectedSku,idpcmsContent:t.idpcmsContent,planCmsContent:t.planCmsContent,dataQa:o,pageLoadEvent:s.pageLoadEvent,learnViewPath:s.generateNewAsUrl(n.selectedSku,n.selectedSku.uniqueURLName),dtabCookieExists:t.dtabCookieExists,updateSelectedSku:s.updateSelectedSku,editLosgId:n.editLosgId,updateEditLosgId:s.updateEditLosgId,catalogOffers:n.catalogOffers,legalPaths:t.legalPaths,prescreenCookieData:B,suppressPrescreen:F.current,isSmb:z,userZipCode:t.userZipCode,isFirstNetOn:t.isFirstNetOn,referer:t.referer,campaignId:t.campaignId}))}}),A(u.a,{path:s.generateNewAsUrl(n.selectedSku,n.selectedSku.uniqueURLName,l.a),render:function(e){return A(E,Object(a.a)({},e,{IXPFeatureFlags:t.IXPFeatureFlags,customerProfile:t.profileInfo,isAccessory:t.productField.isAccessory,deviceType:t.deviceType,deviceSubType:t.deviceSubType,selectedSku:n.selectedSku,idpcmsContent:t.idpcmsContent,planCmsContent:t.planCmsContent,product:t.productField,dataQa:o,pageLoadEvent:s.pageLoadEvent,learnViewPath:s.generateNewAsUrl(n.selectedSku,n.selectedSku.uniqueURLName),dtabCookieExists:t.dtabCookieExists,updateSelectedSku:s.updateSelectedSku,editLosgId:n.editLosgId,updateEditLosgId:s.updateEditLosgId,catalogOffers:n.catalogOffers,legalPaths:t.legalPaths,prescreenCookieData:B,suppressPrescreen:F.current,isSmb:z,userZipCode:t.userZipCode,priceOptions:Z.priceOptions,isFirstNetOn:t.isFirstNetOn,referer:t.referer,campaignId:t.campaignId}))}}),A(u.a,{render:function(e){return A(m.a,Object(a.a)({},e,{IXPFeatureFlags:t.IXPFeatureFlags,configViewPath:s.generateNewAsUrl(n.selectedSku,n.selectedSku.uniqueURLName,l.a),planConfigPath:s.generateNewAsUrl(n.selectedSku,n.selectedSku.uniqueURLName,l.c),product:t.productField,deviceType:t.deviceType,deviceSubType:t.deviceSubType,customerProfile:t.profileInfo,flowType:Object(f.cb)(t.deviceType),dataQa:o,pageLoadEvent:s.pageLoadEvent,selectedSku:n.selectedSku,idpcmsContent:n.idpcmsContent?n.idpcmsContent:t.idpcmsContent,updateSelectedSku:s.updateSelectedSku,standaloneOffers:t.standaloneOffers,deviceLegalContent:t.deviceLegalContent,legalPaths:t.legalPaths,catalogOffers:n.catalogOffers,offerId:t.offerId,selectedPricingIndex:s.getSelectedPricingIndex(),priceOptions:t.priceOptions,offerLegal:t.offerLegal,hasCmsOffers:t.hasCmsOffers,hasPromotionalOffers:Object(f.q)(t.IXPFeatureFlags,n.catalogOffers),isIdpEditAction:t.isIdpEditAction,openOfferTray:t.openOfferTray,openLegalModal:t.openLegalModal,isSkuOutOfStock:n.selectedSku.effectiveOutOfStock,dtabCookieExists:t.dtabCookieExists,isUserRequest:t.isUserRequest,reviewsSeoContent:t.reviewsSeoContent,commonCmsContent:t.commonCmsContent,planCmsContent:t.planCmsContent,updateEditLosgId:s.updateEditLosgId,cartContext:Q,paymentInFull:t.paymentInFull,prescreenCookieData:B,suppressPrescreen:F.current,updatePrescreenData:ae,showPrescreenOptIn:k,setPrescreenStarted:G,prescreenStarted:q,userZipCode:t.userZipCode,prop65Content:t.prop65Content,productFulfillmentRes:n.productFulfillmentRes,urgencyMsg:n.urgencyMsg,editLosgId:n.editLosgId,isGreenroomCookie:t.isGreenroomCookie,isFirstNetOn:t.isFirstNetOn,customerOffers:t.customerOffers,appleWatchColorDetails:t.appleWatchColorDetails,referer:te,campaignId:t.campaignId}))}}))),function(e){var a=[],r="/buy";switch(t.deviceType){case"phones":a.push({displayName:"Cell Phones",url:"".concat(r,"/phones/")});break;case"prepaid-phones":a.push({displayName:"Prepaid Phones",url:"".concat(r,"/prepaid-phones/")});break;case"tablets":a.push({displayName:"Tablets",url:"".concat(r,"/tablets/")});break;case"wearables":a.push({displayName:"Wearables",url:"".concat(r,"/wearables/")});break;case"connected-devices-and-more":a.push({displayName:"Connected Devices and More",url:"".concat(r,"/connected-devices-and-more/")});break;case"accessories":a.push({displayName:"Accessories",url:"".concat(r,"/accessories/")})}var i=e.shortDisplayName||e.model||e.displayName;return A(S,{data:[].concat(a,[{displayName:i,url:""}]),isAccessory:t.productField.isAccessory,selectedSku:n.selectedSku,dataQa:"PDP-BreadCrumbs"})}(n.selectedSku))}},XjkZ:function(e,t,n){"use strict";var a=n("H+61"),r=n("UlJF"),i=n("+Css"),s=n("7LId"),o=n("VIvw"),c=n("iHvq"),l=n("MX0m"),d=n.n(l),p=n("q1tI"),u=n.n(p),m=n("uVxl"),f=n("98cJ"),h=n("mwIZ"),g=n.n(h),b=n("zm1R"),v=n("zAYd"),y=u.a.createElement;function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(c.a)(e);if(t){var r=Object(c.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(o.a)(this,n)}}var k=function(e){Object(s.a)(n,e);var t=C(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={collapsed:!0,numberOfCols:4},r.getLinkFarmData=r.getLinkFarmData.bind(Object(i.a)(r)),r.handleAccordionToggle=r.handleAccordionToggle.bind(Object(i.a)(r)),r.getColumnData=r.getColumnData.bind(Object(i.a)(r)),r}return Object(r.a)(n,[{key:"handleAccordionToggle",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"getColumnData",value:function(e,t){for(var n,a={subheading:g()(e,"master.subHeading",""),text:{},href:{},target:{}},r=g()(e,"master.linkList",[]).length,i=0;i<r;i++)(n=JSON.parse(g()(e,"master.linkList[".concat(i,"]"),void 0)))&&(a.text["text_".concat(i+1)]=n.linkLabel,a.href["href_".concat(i+1)]=n.linkURL,a.target["target_".concat(i+1)]=n.linkTarget);return a}},{key:"getLinkFarmData",value:function(e){var t=this,n=[];return Array.isArray(e)&&(n=Array(e.length).fill(0).map((function(n,a){return t.getColumnData(e[a],a)}))),n}},{key:"render",value:function(){var e=this,t=this.props.linkFarmsContent,n=g()(t,"master.heading","Looking for more?"),a=this.getLinkFarmData(g()(t,"master.linkSections",[])),r=g()(t,"master.headingFontSize","md"),i="type-".concat(r),s=this.props.defaultSubheadings?"color-ui-black":"color-ui-dark-gray",o=!(!this.state.collapsed&&a.length);return y(u.a.Fragment,null,!!a.length&&y(b.b,{className:"bg-ui-background-gray rel pad-r-none pad-l-none"},y(b.d,null,y(b.a,{width:12,offset:0,widthMd:12,className:"mar-l-none-md pad-t-none"},y("div",{id:"pdpLinkFarmsID",className:"jsx-747556331"},y("div",{className:"jsx-747556331 col-pad-l col-pad-r"},y(m.a,{space:0,topSpace:0}),y("div",{"data-qa":"".concat(this.props.dataQa,"-header"),"aria-label":"PDP Link Farms","aria-expanded":!this.state.collapsed,className:"jsx-747556331 "+"".concat(v.accordionIconMargin," mar-t-md")},y("span",{onClick:this.handleAccordionToggle,className:"jsx-747556331 "+"formfield-label ".concat(o?"pad-b-none":"pad-b-xs")},y("span",{style:{width:"100%"},className:"jsx-747556331 "+"font-medium color-ui-black line-h-md ".concat(i)},n),y(f.a,{expanded:!this.state.collapsed})))),!this.state.collapsed&&y(b.d,{className:"".concat(a.length?"mar-t-xxs":""," ").concat(o?"mar-b-md":""," flex-wrap")},a.map((function(t,n){var a=t.text&&Object.keys(t.text);return y(S,{key:n,keyProp:n,numberOfCols:e.state.numberOfCols,collapsed:e.state.collapsed,subheadingClass:s,subheadingText:t.subheading,linkFarmText:t.text,linkFarmHref:t.href,linkFarmTarget:t.target,linkKeys:a})}))),y("div",{className:"jsx-747556331 "+"col-pad-l col-pad-r ".concat(o?"mar-t-md":"")},y(m.a,{space:0,topSpace:o?0:-8})))))),y(d.a,{id:"747556331"},["#pdpLinkFarmsID.jsx-747556331{padding-top:96px;}","@media (min-width:768px) and (max-width:1024px){#pdpLinkFarmsID.jsx-747556331{padding-top:64px;}}","@media (max-width:767px){#pdpLinkFarmsID.jsx-747556331{padding-top:32px;}}"]))}}]),n}(u.a.Component),S=function(e){var t=e.keyProp,n=e.numberOfCols,a=(e.collapsed,e.subheadingClass),r=e.subheadingText,i=e.linkFarmText,s=e.linkFarmHref,o=e.linkFarmTarget,c=e.linkKeys;return y(b.a,{key:t,width:Math.floor(12/n),widthSm:6,widthMd:6,className:"mar-b-md pad-t-none pad-b-none"},y("h3",{className:"mar-b-sm"},y("span",{className:"type-base font-medium ".concat(a," mar-t-none mar-b-sm")},r)),c.length&&y("ul",{id:"linkFarmSection".concat(t+1),role:"list","aria-hidden":"true"},c.map((function(e,t){return y(O,{key:t,keyProp:t,link:s["href_".concat(t+1)],text:i[e],target:o["target_".concat(t+1)]})}))))},O=function(e){var t=e.keyProp,n=e.link,a=e.text,r=e.target,i=n||"";return y(u.a.Fragment,null,n&&a&&r&&y("li",{key:t,className:"pad-t-xxxs pad-b-xxxs mar-t-xxs mar-b-xxs"},y("a",{href:i,target:r,className:"type-sm color-ui-dark-gray font-regular"},a)))};t.a=k},dCWH:function(e,t,n){"use strict";var a=n("MX0m"),r=n.n(a),i=n("q1tI"),s=n.n(i),o=n("vJKn"),c=n.n(o),l=n("rg98"),d=n("H+61"),p=n("UlJF"),u=n("+Css"),m=n("7LId"),f=n("VIvw"),h=n("iHvq"),g=n("PIkj"),b=n("vyOo"),v=n("AGoX"),y=n("Qn6F"),C=n("98cJ"),k=n("xr5b"),S=n("eI37"),O=n("zm1R"),x=n("jXxo"),w=n("PoZn"),T=i.createElement;function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var L=function(e){Object(m.a)(n,e);var t=I(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={offerTitle:"",offerSubheading:"",offerDescription:"",offerImage:"",offerLegal:""},a.setStateWithOfferDetails=a.setStateWithOfferDetails.bind(Object(u.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;k.a.getOfferContent(this.props.data.offerId).then((function(t){e.setStateWithOfferDetails(t)}))}},{key:"setStateWithOfferDetails",value:function(e){this.setState({offerTitle:e.offername,offerSubheading:e.offerkey,offerDescription:e.shorttext,offerImage:"",offerLegal:e.longtext})}},{key:"render",value:function(){return T(O.b,{className:"rel nopad"},T(O.d,{className:"flex flex-items-stretch flex-column-sm"},T(O.a,{widthSm:12,width:8},T("div",{className:"jsx-2872593988 "+(y.offerContent||"")},T("h2",{dangerouslySetInnerHTML:{__html:this.state.offerTitle},className:"jsx-2872593988 "+(y.offerTitle||"")}),T("p",{dangerouslySetInnerHTML:{__html:this.state.offerSubheading},className:"jsx-2872593988 "+(y.offerDescriptionSmall||"")}),T("span",{dangerouslySetInnerHTML:{__html:this.state.offerDescription},className:"jsx-2872593988 "+(y.offerDescription||"")}))),T(O.a,{widthSm:12,width:4,className:"flex flex-items-center justify-center"},T("div",{className:"jsx-2872593988 full-width"},T(x.a,{imageProps:{src:this.props.data.imgUrl,alt:"Special Offer Device",placeholder:T(w.a,null)},shouldLazyLoad:!1})))),T(O.d,null,T(O.a,{className:"justify-center",widthSm:12},T("section",{className:"jsx-2872593988 "+(y.legalAccordion||"")},T(C.b,{title:"Legal",id:"specialOffersLegal",url:"",dataQa:"specialOffersLegal-Accordion"},T("div",{dangerouslySetInnerHTML:{__html:this.state.offerLegal},className:"jsx-2872593988 "+(y.offerLegal||"")}))))),T(O.d,null,T(O.a,{className:"justify-center flex",widthSm:12},T(S.c,{dataQa:"specialOffersModal",events:{onClick:this.props.data.closeModal},buttonConfig:{primary:!0,type:[S.b.Large,S.b.Short]}},"Continue"))),T(r.a,{id:"2872593988"},[".full-width.jsx-2872593988{height:330px;}"]))}}]),n}(i.Component),j=n("YSed"),M=n("8bTO"),N=i.createElement;function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var D=function(e){Object(m.a)(n,e);var t=P(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={activeOfferId:"",listOfOffers:[],specialOffersModalOpen:!1},a.openSpecialOffersModal=a.openSpecialOffersModal.bind(Object(u.a)(a)),a.closeSpecialOffersModal=a.closeSpecialOffersModal.bind(Object(u.a)(a)),a.populateListOfOffers=a.populateListOfOffers.bind(Object(u.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("prepaid"===this.props.data.paymentType){e.next=5;break}return e.next=3,this.populateListOfOffers(this.props.data.skuId).then((function(e){return e}));case 3:t=e.sent,this.setState({listOfOffers:t||[]});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.data.skuId===t.data.skuId||"prepaid"===this.props.data.paymentType){e.next=5;break}return e.next=3,this.populateListOfOffers(this.props.data.skuId).then((function(e){return e}));case 3:n=e.sent,this.setState({listOfOffers:n||[]});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"openSpecialOffersModal",value:function(e){this.setState({activeOfferId:e,specialOffersModalOpen:!0})}},{key:"closeSpecialOffersModal",value:function(){this.setState({specialOffersModalOpen:!1})}},{key:"populateListOfOffers",value:function(e){var t=this;this.props.onOffersApiComplete(!1);var n=[],a={};return j.a.getOffers(e).then((function(e){if(e&&e.methodReturnValues)return e.methodReturnValues.forEach((function(e,r){var s=e.offerDisplayName||e.description;"modal"!==(e.displayType||"")&&void 0===a[s]&&(a[s]=e.offerId,t.props.onOffersApiComplete(!0),n.push(N(i.Fragment,null,N("p",{className:g.offerMessageParagraph,"data-offerId":e.offerId,key:r},N(b.a,{events:{onClick:function(){return t.openSpecialOffersModal(e.offerId)}},dataQa:"SpecialOffers-offerLink",className:g.offerMessage,href:"#",reportingLinkUrl:"/products/offers/".concat(e.offerId,"/modal/")},s,N("span",{className:[M.attIcon,M.attIconStraightArrowRight,g.specialOffersArrow].join(" ")}))))))})),n.slice(0,2)}))}},{key:"render",value:function(){return N(i.Fragment,null,this.state.listOfOffers.length>0&&N("div",null,N("div",{className:g.listOfOffers},this.state.listOfOffers),"undefined"!==typeof document&&N(v.default,{isOpen:this.state.specialOffersModalOpen,onRequestClose:this.closeSpecialOffersModal},N(L,{data:{closeModal:this.closeSpecialOffersModal,imgUrl:this.props.data.imgUrl,offerId:this.state.activeOfferId}}))))}}]),n}(i.Component),A=n("ACOC"),R=n("kksn"),E=i.createElement;function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var U=function(e){Object(m.a)(n,e);var t=F(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={offerLegal:"",offerSubheading:"",offerTitle:""},a.setStateWithOfferDetails=a.setStateWithOfferDetails.bind(Object(u.a)(a)),a}return Object(p.a)(n,[{key:"cmsOffersModalContent",value:function(){return E(i.Fragment,null,E("h2",{className:R.offerTitle,dangerouslySetInnerHTML:{__html:this.state.offerTitle}}),E("div",{className:"type-legal",dangerouslySetInnerHTML:{__html:this.state.offerLegal}}))}},{key:"componentDidMount",value:function(){var e=this;k.a.getCmsOfferLegal(this.props.data.cmsLegalPath).then((function(t){e.setStateWithOfferDetails(t)}))}},{key:"setStateWithOfferDetails",value:function(e){this.setState({offerLegal:e.longtext,offerSubheading:e.shorttext,offerTitle:e.offername})}},{key:"render",value:function(){return E(i.Fragment,null,this.cmsOffersModalContent())}}]),n}(i.Component),H=i.createElement;function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(f.a)(this,n)}}var W=function(e){Object(m.a)(n,e);var t=B(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={cmsLegalPath:"",cmsOffersModalOpen:!1,listOfOffers:[]},a.openCmsOffersModal=a.openCmsOffersModal.bind(Object(u.a)(a)),a.closeCmsOffersModal=a.closeCmsOffersModal.bind(Object(u.a)(a)),a.populateListOfOffers=a.populateListOfOffers.bind(Object(u.a)(a)),a.getCmsOfferCustomerType=a.getCmsOfferCustomerType.bind(Object(u.a)(a)),a}return Object(p.a)(n,[{key:"componentWillMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.populateListOfOffers(this.props.data.cmsOffersContent,this.props.data.customerProfile),this.setState({listOfOffers:t||[]});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.uniqueURLName!==t.uniqueURLName&&(n=this.populateListOfOffers(this.props.data.cmsOffersContent,this.props.data.customerProfile),this.setState({listOfOffers:n||[]}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"openCmsOffersModal",value:function(e,t,n){!0===e?this.setState({cmsLegalPath:n,cmsOffersModalOpen:!0}):!1===e&&""!==t&&(window.location.href=t)}},{key:"closeCmsOffersModal",value:function(){this.setState({cmsOffersModalOpen:!1})}},{key:"getCmsOfferCustomerType",value:function(e){var t=[];return e&&e.master&&!0===e.master.smbOffer&&t.push("CRU"),e&&e.master&&!0===e.master.iruOffer&&t.push("IRU"),e&&e.master&&!0===e.master.consumerOffer&&t.push("CON"),t}},{key:"checkCustomerType",value:function(e,t){return this.getCmsOfferCustomerType(e).includes(t.customerType)}},{key:"populateListOfOffers",value:function(e,t){var n=this;if(!e)return null;var a=[],r=!0,i="";return e&&e.master&&e.master.offerContainers&&e.master.offerContainers.forEach((function(e,s){var o=n.checkCustomerType(e,t);e&&e.master&&e.master.heading&&!0===e.master.showOffer&&!0===o&&(e.master.linkType&&e.master.linkURL&&"link"===e.master.linkType&&""!==e.master.linkURL&&(r=!1,i=e.master.linkURL),a.push(H("p",{className:A.offerMessageParagraph,"data-offerId":e.offerId,key:s},H(b.a,{events:{onClick:function(){return n.openCmsOffersModal(r,i,e.master.legal)}},dataQa:"CmsOffers-offerLink",className:A.offerMessage,href:"#"},e.master.heading,H("span",{className:[M.attIcon,M.attIconStraightArrowRight,A.cmsOffersArrow].join(" ")})))))})),a}},{key:"render",value:function(){return H(i.Fragment,null,this.state.listOfOffers.length>0&&H("div",null,"undefined"!==typeof document&&H(i.Fragment,null,H("div",{className:A.listOfOffers},this.state.listOfOffers),H(v.default,{isOpen:this.state.cmsOffersModalOpen,onRequestClose:this.closeCmsOffersModal},H(U,{data:{closeModal:this.closeCmsOffersModal,cmsLegalPath:this.state.cmsLegalPath}})))))}}]),n}(i.Component),_=n("U/e8"),V=s.a.createElement;t.a=function(e){var t=e.selectedSku,n=e.onShouldShowRibbon,a=e.deviceType,o=e.cmsData,c=e.customerProfile,l=e.hasCmsOffers,d=Object(i.useState)(""),p=d[0],u=d[1],m=Object(i.useState)(!1),f=m[0],h=m[1];return Object(i.useEffect)((function(){return function(){sessionStorage.getItem("offerId")?u(sessionStorage.getItem("offerId")):sessionStorage.getItem("offerBOGOid")&&u(sessionStorage.getItem("offerBOGOid"))}}),[]),Object(i.useEffect)((function(){n(f)}),[f]),""===p||o&&!t.effectiveOutOfStock&&!t.isEndOfSku?V("section",{className:"jsx-1863495496"},(l||f)&&V("div",{id:"specialOffersSection",className:"jsx-1863495496 offers block grad-purple-cobalt-135 color-ui-white text-center line-h-lg mar-b-xs"},"Special Offers"),""===p&&V(s.a.Fragment,null,V(D,{data:{imgUrl:Object(_.g)(t),skuId:t.skuId,paymentType:t.paymentType},onOffersApiComplete:h}),V(W,{data:{cmsOffersContent:o,customerProfile:c},deviceType:a,uniqueURLName:t.uniqueURLName})),V(r.a,{id:"1863495496"},[".offers.jsx-1863495496{width:100%;height:24px;font-size:14px;font-weight:600;}"])):null}},iuvk:function(e,t,n){"use strict";var a=n("nlCM"),r=n("q1tI"),i=n.n(r),s=n("U/e8"),o=n("JNjH"),c=n("BTSr"),l=n("mwIZ"),d=n.n(l),p=n("Da3r"),u=n("TdNM"),m=i.a.createElement;t.a=function(e){var t,n=e.selectedSku,r=e.dataQa,l=e.shortLegalOverride,f=e.prescreenFlag,h=(e.planCmsContent,i.a.useContext(c.a)),g=d()(h,"prescreen"),b=i.a.useContext(o.a),v=b.priceOptions,y=b.selectedPricingIndex,C=v[n.skuId],k=C?C[y]:null,S="postpaid"!==n.paymentType||k&&0===(k.netPrice||k.monthlyLeasePrice),O=Object(s.k)(k,b,!0);if(""!==l&&(O.shortLegal=l),k){var x=d()(k,"downPayment"),w=!1;void 0!==x&&x>0&&g&&f&&(w=!0);var T=Object(s.j)(k,b,!0,!1,w),I=k.showStrikeThrough||b.isTradeInSelected;t={displayStrikethroughPrefix:k.displayStrikethroughPrefix,displayStrikeThrough:I?k.displayStrikeThrough:null,displayStrikethroughSuffix:k.displayStrikethroughSuffix,displayPrefix:"",displayPrice:T.displayPrefix+T.displayPrice,displayPriceSuffix:T.displaySuffix}}var L,j=g&&!0===g.failedPrescreen,M=g&&"VALIDATION_ERRORS"===g.prescreenType,N=g&&!!g.downPayment,P=!!d()(g,"creditApplied")&&g.creditApplied,D=e.prescreenFlag&&!N&&!!P,A=g&&g.complete,R="simcard"===d()(e,"sku.deviceSubType"),E=e.prescreenFlag&&!j&&!N&&!M,F=d()(e.planCmsContent,"idp-cms-feed.productselectionconfig.contentFragments.common.master.creditPrescreen.master",p.d.creditPreScreen);L="color-ui-dark-gray mar-b-xxxs";var U=b.selectedContractTerm&&b.selectedContractTerm.commitmentTerm,H=d()(e,"displayPrice")===""+d()(h,"prescreen.downPayment"),B=d()(b,"selectedContractTerm.termLength"),W=d()(g,"downPayment"),_=d()(g,"monthlyCredit"),V={downPaymentAmount:W?W.toFixed(2):void 0,"XX.XX":_,X:B},q=d()(g,"downPayment",!1)?Object(s.gc)(F.afterDownPaymentText,V):F.afterDownPaymentText;return m(i.a.Fragment,null,t&&b.priceOptions[b.selectedSku.skuId]&&b.priceOptions[b.selectedSku.skuId][b.selectedPricingIndex]&&m(i.a.Fragment,null,m("div",{className:"".concat(u.desktopCol," ").concat(u.desktopMarTxxs)},m(a.a,{price:t,dataQa:"".concat(r,"-Display"),fontSize:"1.333rem",isCarousel:false,prescreenFlag:f})),!!A&&!R&&D&&!E||E&&!D&&m("div",{style:{alignSelf:"flex-end"}},D&&!E&&!!A&&!R&&m("div",{className:"type-sm line-h-sm  ".concat(L)},F.zeroDownPaymentText),E&&!D&&!!A&&!R&&!b.isTradeInSelected&&m("div",{className:"type-sm line-h-sm  ".concat(L)},F.withNoDownPaymentText)),m("div",null,e.prescreenFlag&&g&&!!g.complete&&!g.creditAutoRejected&&!g.invalidAddress&&!g.systemDown&&!g.debtInd&&!g.validationIsPending&&!g.validationErrors&&!g.safeScanFailed&&!E&&!D&&"NoCommitment"!==U&&(!d()(g,"creditApplied",!1)||d()(g,"creditApplied"))&&!H&&g.downPayment>0&&m("div",{className:" ".concat(L," ").concat(u.pricingLegal," ")},q," ","",b.isTradeInSelected&&m("span",null,F.withDownPaymentPlusTradeIn)),b.isTradeInSelected&&(E||D)&&m("div",{className:"mar-b-xxxs ".concat(u.pricingLegal)},F.noDownPaymentWithTradeIn),!S&&k.msrp&&m(i.a.Fragment,null,m("div",{className:"type-xs ".concat(L)},"NoCommitment"!==U&&m(i.a.Fragment,null,m("div",{className:"mar-b-xs"},F.retailPriceText.replace("[[retailPriceAmount]]",k.msrp))))))))}},kinY:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("cpVT"),r=n("q1tI"),i=n.n(r),s=n("AGoX"),o=n("maZt"),c=n("C3wX"),l=n("cq7Z"),d=i.a.createElement;function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var u=function(e){var t=e.isOpen,n=e.profile,i=e.product,u=e.bgPageLoadEvent,m=e.onCloseModal,f=e.legalContent,h=Object(r.useContext)(o.a),g=new l.a;return d(s.default,{isOpen:t,onRequestClose:function(){m(),u()},onAfterOpen:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{"page.attributes.productType":i.type,"page.attributes.sku":i.skuId,"page.attributes.skuName":i.name,"page.category.applicationName":"Sales Wireless Full Web","page.category.pageFunction":"Sales","page.category.pageOwnership":"Consumer","page.location.url":"/product/carousel/legal/modal","page.category.siteSection":"myATT Sales","page.location._addressBarFullURL":window.location.href,"page.location.domain":window.location.hostname,"page.pageInfo.lineOfBusiness":"Wireless","page.pageInfo.flowCode":Object(c.b)(n.flowType,n.subFlowType,i.deviceType),"page.pageInfo.responsiveWebDesignFlag":1,"page.pageInfo.zipCode":n.zipCode,"user.customerType":Object(c.c)(n.customerType),"user.account.liabilityType":Object(c.d)(n.customerType),"user.uuid":h,"page.pageInfo.friendlyPageName":"DS Products Carousel Legal Modal Pg"});g.firePageLoadEvent(e)}},d("div",{className:"type-legal",dangerouslySetInnerHTML:{__html:f}}))}},"mdj/":function(e,t,n){"use strict";var a=n("LMD0"),r=n("q1tI"),i=n.n(r),s=n("U/e8"),o=n("JNjH"),c=n("BTSr"),l=n("mwIZ"),d=n.n(l),p=i.a.createElement,u=function(e){var t,n=e.selectedSku,r=e.displayingLegalContent,l=e.dataQa,u=e.onLegalClick,m=e.onOfferClick,f=e.prescreenFlag,h=e.onSeeDetailsClick,g=e.planCmsContent,b=e.deviceType,v=i.a.useContext(c.a),y=d()(v,"prescreen"),C=d()(y,"prescreenType"),k=i.a.useContext(o.a),S=k.priceOptions,O=k.selectedPricingIndex,x=S[n.skuId],w=x?x[O]:null,T=null===n.deviceType||void 0===n.deviceType,I="postpaid"!==n.paymentType||w&&0===(w.netPrice||w.monthlyLeasePrice),L=Object(s.k)(w,k,!0);if(""!==e.shortLegalOverride&&(L.shortLegal=e.shortLegalOverride),w){var j=d()(w,"downPayment"),M=!1;void 0!==j&&j>0&&y&&f&&(M=!0);var N=Object(s.j)(w,k,!0,!1,M),P=w.showStrikeThrough||k.isTradeInSelected;t={displayStrikethroughPrefix:w.displayStrikethroughPrefix,displayStrikeThrough:P?w.displayStrikeThrough:null,displayStrikethroughSuffix:w.displayStrikethroughSuffix,displayPrefix:"",displayPrice:N.displayPrefix+N.displayPrice,displayPriceSuffix:N.displaySuffix}}var D=k&&k.selectedContractTerm&&k.selectedContractTerm.commitmentTerm,A=k&&k.selectedContractTerm&&k.selectedContractTerm.displayPrice,R=k&&k.selectedContractTerm&&k.selectedContractTerm.msrp;return p(i.a.Fragment,null,t&&k.priceOptions[k.selectedSku.skuId]&&k.priceOptions[k.selectedSku.skuId][k.selectedPricingIndex]&&p(i.a.Fragment,null,p(a.a,{msrpPrice:!I&&w.msrp,legalContent:L,specialPriceblockLegal:w.displaySpecialPriceblockLegal,termLength:!I&&w.termLength,linkContent:w.displayLegalContent.detailsLink,linkCallback:u,offerLinkCallback:m,displayingLegalContent:r,dataQa:"".concat(l,"-Legal"),isAccessory:T,sku:n,isCarousel:!1,prescreenFlag:f,prescreenType:C,radioButtonName:"custom-pricing-display",onSeeDetailsClick:h,planCmsContent:g,selectNextUpName:D,displayPrice:A,msrp:R,deviceType:b})))};t.a=u},rZam:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("cpVT"),r=n("xvhg"),i=n("q1tI"),s=n("AGoX"),o=n("BTSr"),c=n("JNjH"),l=n("HS9N"),d=n("mwIZ"),p=n.n(d),u=n("Da3r"),m=n("U/e8"),f=i.createElement,h=function(e){var t,n=p()(e.planCmsContent,"idp-cms-feed.productselectionconfig.contentFragments.common.master.creditPrescreen.master",u.d.creditPreScreen),d=i.useContext(o.a),h=i.useContext(c.a),g=i.useState(void 0),b=Object(r.a)(g,2),v=b[0],y=b[1];i.useEffect((function(){j()}),[d.prescreen,h.isTradeInSelected]);var C=p()(d,"prescreen.creditApplied"),k=p()(d,"prescreen.monthlyCredit"),S=p()(d,"prescreen.downPayment"),O=p()(h,"selectedContractTerm.termLength"),x=p()(h,"selectedContractTerm.tradeindiscount"),w=p()(h,"selectedContractTerm.msrp"),T=(p()(d,"prescreen.monthlyPromoPrice")>0&&p()(d,"prescreen.monthlyPromoPrice"),p()(h,"prescreen.activePromotion")),I=void 0!==h.hylaOfferCodeInContext&&"DEFAULT"!==h.hylaOfferCodeInContext&&!1!==h.hylaOfferCodeInContext,L=I&&h.isPortInSelected,j=(p()(T,"promoType"),function(){var e=p()(h,"selectedContractTerm.displayTradeIn"),t=e?e[h.hylaOfferCodeInContext]:void 0,a=!!p()(t,"tradeInType")&&"generictradein"===t.tradeInType,r=!(!I||a),i=r&&L,s=r;y(i?n.negativePriceDeviceOfferTradeIn:s?n.negativePriceDeviceOffer:n.negativePriceDeviceOfferCredits)}),M=p()(d,"prescreen.discount"),N=M||x,P=(t={deviceName:e.deviceName,retailPriceAmount:w,remainingBalanceAmount:C,totalMonthlyPriceAmount:k},Object(a.a)(t,"XX.XX",k),Object(a.a)(t,"X",O),Object(a.a)(t,"downPaymentAmount",S.toFixed(2)),Object(a.a)(t,"negativePriceAmount",Object(m.ob)(N,!0)),t),D=Object(m.gc)(n.leftOverRemainingBalance,P),A=Object(m.gc)(n.retailPrice,P),R=Object(m.gc)(n.retailPriceAmount,P),E=Object(m.gc)(n.requiredDownPaymentText,P),F=Object(m.gc)(n.negativePriceModalHeading,P),U=Object(m.gc)(n.negativePriceModalText,P),H=Object(m.gc)(n.remainingBalanceText,P),B=Object(m.gc)(n.remainingBalanceAmount,P),W=Object(m.gc)(n.totalMonthlyPriceText,P),_=Object(m.gc)(n.totalMonthlyPriceAmount,P),V=Object(m.gc)(n.negativePriceAmount,P),q=Object(m.gc)(n.postCreditCheckPositiveDownPayment,P);return f(s.default,{isOpen:e.data.isOpen,onRequestClose:e.data.onRequestClose,modalContainerClassName:e.data.containerClassName,modalContentClassName:e.data.contentClassName,modalRowClassName:e.data.rowClassName,modalCloseClassName:e.data.closeClassName,modalTextClassName:e.data.textClassName,showSeperator:e.data.showSeperator,width:e.data.width},f("div",null,f(l.a,{hasOwnCurrency:!0,hasNegativePricing:!0,data:{legelDesclimer:D,priceDetailsList:[{discount:!1,description:A,name:A,price:R},{discount:!0,description:v,name:v,price:V},{discount:!0,description:E,name:E,price:q}],heading:F,subHeading:U,subTotalItem:{desclimer:"",discount:!1,description:"Sub total",name:H,price:B},totalItem:{desclimer:"",discount:!0,description:"Total",name:W,price:_}}})))}},rhS2:function(e,t,n){"use strict";n.r(t);var a=n("vJKn"),r=n.n(a),i=n("rg98"),s=n("H+61"),o=n("UlJF"),c=n("+Css"),l=n("7LId"),d=n("VIvw"),p=n("iHvq"),u=n("cpVT"),m=n("q1tI"),f=n("cq7Z"),h=n("Da3r"),g=n("U/e8"),b=n("RrNd"),v=n("BgAt"),y=n("IyUE"),C=n("b7XW"),k=n("zm1R"),S=n("Lnk0"),O=n("mwIZ"),x=n.n(O),w=m.createElement;function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}var j=function(e){Object(l.a)(n,e);var t=L(n);function n(e){var a;return Object(s.a)(this,n),a=t.call(this,e),Object(u.a)(Object(c.a)(a),"deviceTypes",{netbook:"tablets",network:"wearables",pda:"phones"}),Object(u.a)(Object(c.a)(a),"reporting",void 0),Object(u.a)(Object(c.a)(a),"sliderClick",(function(e){a.fireLinkClick(window.location.href,e,"productRecommenderCarousel")})),Object(u.a)(Object(c.a)(a),"fireLinkClick",(function(e,t,n){var r=new f.a,i={linkDestinationUrl:e,linkName:a.props.selectedSku.skuId+"_"+n+"_"+t,linkPosition:"Body"};r.fireLinkClickEvent(i)})),a.reporting=new f.a,a.handleCardClick=a.handleCardClick.bind(Object(c.a)(a)),a.state={rexRecommendationProducts:[]},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.selectedSku&&this.props.selectedSku.skuId&&this.getRexInformation(this.props.selectedSku.skuId,this.props.product.isAccessory)}},{key:"componentWillUpdate",value:function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.selectedSku.skuId!==t.selectedSku.skuId&&this.getRexInformation(t.selectedSku.skuId,t.product.isAccessory);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRexInformation",value:function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a,i,s,o,c,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.featureFlags,i=h.d.RecommendationType.Bought,s=n?h.d.RecommendationType.Accessory:"",o=Object(g.Eb)(b.b.productDetailsUrls.rexRecommendation,[t,i,s]),e.prev=4,e.next=7,Object(g.p)(o,{});case 7:return c=e.sent,e.next=10,c.json();case 10:if(0!==(c=e.sent).length){e.next=14;break}return y.a.Error("REX API returned an empty response: []."),e.abrupt("return");case 14:return e.next=16,this.getRexOffer(c);case 16:(l=e.sent)&&(c=l),this.setState({rexRecommendationProducts:c}),this.props.setProductRecommends(c),e.next=29;break;case 22:if(e.prev=22,e.t0=e.catch(4),"true"!==a["pdp-spo-device-details"]){e.next=28;break}throw v.t;case 28:throw v.i;case 29:case"end":return e.stop()}}),e,this,[[4,22]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getRexOffer",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,s,o,c,l,d,p,u,m=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,a={},i={},s=t.map((function(e,t){return a[e.skuId]=t,e.skuId})),c=this.props.product.isAccessory?"accessory":"device","pricing",l=this.props.selectedSku.paymentType,"standalone,tradein",d=this.props.customerProfile.customerType,!(s.length>0)){e.next=30;break}return p=Object(g.Eb)(b.b.productDetailsUrls.offer.rexOffers,[s.join(","),c,"pricing",l,"standalone,tradein",d]),e.prev=11,e.next=14,Object(g.p)(p,{});case 14:return o=e.sent,e.next=17,o.json();case 17:o=e.sent,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(11),y.a.Error("Error fetching offers for rex carousel: ".concat(p));case 23:if(!(o&&o.content&&o.content.wireless)){e.next=30;break}if(u={},o.content.wireless.promotions&&o.content.wireless.promotions.forEach((function(e){u[e.id]=e.endDate})),!o.content.wireless.devices){e.next=30;break}return o.content.wireless.devices.forEach((function(e){if(e&&e.product&&e.product.childSkus&&e.product.childSkus[0]&&e.product.childSkus[0].skuId&&e.product.childSkus[0].price&&e.product.childSkus[0].price[0]&&void 0!==e.product.childSkus[0].price[0].promoPrice){var t=a[e.product.childSkus[0].skuId];i[e.product.childSkus[0].price[0].promoReference]=t;var r=e.product.childSkus[0].price[0].promoReference;n[t].offerData=I(I({},e.product.childSkus[0].price[0]),{},{endDate:u[e.product.childSkus[0].price[0].promoReference],promoReference:e.product.childSkus[0].price[0].promoReference}),"prepaid"!==m.props.selectedSku.paymentType&&(n[t].offerData=I(I({},n[t].offerData),{},{strikethroughRestrictionText:m.props.offerShortLegal&&m.props.offerShortLegal[r]&&m.props.offerShortLegal[r].strikethroughRestrictionText||"",legalText:m.props.offerShortLegal&&m.props.offerShortLegal[r]&&m.props.offerShortLegal[r].legalText||""}))}})),e.abrupt("return",n);case 30:case"end":return e.stop()}}),e,this,[[11,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findSkuInSiblingsMap",value:function(e,t){for(var n in t)if(e===n)return t[n];return{}}},{key:"pricing",value:function(e,t,n,a,r,i){var s={productLeaseTerm:null,productMonthlyNextUpCharge:null,productPrice:null,productTermName:null};if(e.length>0){var o=Number.MAX_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,l="",d=0;if(null!==e[0].sequence&&void 0!==e[0].sequence){var p=Number.MAX_SAFE_INTEGER;for(var u in e)Number(e[u].sequence)<p&&(o=Number(e[u].monthLeasePrice),c=Number(e[u].leaseMonths),l=e[u].termName,p=e[u].sequence,d=Number(e[u].monthlyNextUpCharge))}else for(var m in e)Number(e[m].monthLeasePrice)<o&&(o=Number(e[m].monthLeasePrice),c=Number(e[m].leaseMonths),l=e[m].termName,d=Number(e[m].monthlyNextUpCharge));s={productLeaseTerm:c.toFixed(2).toString(),productMonthlyNextUpCharge:d.toFixed(2).toString(),productPrice:o.toFixed(2).toString()+"/mo.",productTermName:l}}else void 0!==t&&null!==t?(s={productLeaseTerm:"",productMonthlyNextUpCharge:"",productPrice:t,productTermName:""},t!==parseFloat(n)&&(s=I(I({},s),{},{productPrice:parseFloat(n),promoPrice:t}))):s={productLeaseTerm:"",productMonthlyNextUpCharge:"",productPrice:this.findSkuInSiblingsMap(a,r).mDueTodayPrice,productTermName:""};return i&&i.commitmentTerm===s.productTermName&&(s=I(I({},s),{},{promoPrice:i.promoPrice})),s}},{key:"buildDeviceCards",value:function(){var e=this,t={},n=this.state.rexRecommendationProducts.filter((function(e){return!(e.name in t)&&(t[e.name]=!0,!0)}));return(n=n.length>10?n.slice(0,10):n).map((function(t,n){var a=e.pricing(t.attNextPricing,t.price,t.listPrice,t.skuId,t.siblingsMapWithProperties,t.offerData);return t.contractType=""!==a.productLeaseTerm?"next":"regular",w(S.a,{isAccessory:"accessory"===x()(e.props,"product.details.productType",void 0),key:n,product:t,offerData:t.offerData,profile:e.props.customerProfile,offerLegal:e.props.offerLegal})}))}},{key:"handleCardClick",value:function(e,t){var n={linkName:t,linkPosition:"Body",linkDestinationUrl:e};this.reporting.fireLinkClickEvent(n)}},{key:"getRecommenderHeaderText",value:function(){return this.props.isEndOfSku?"Find a similar device":"You might also like these"}},{key:"render",value:function(){return null!==this.state.rexRecommendationProducts&&void 0!==this.state.rexRecommendationProducts&&this.state.rexRecommendationProducts.length>0?w(m.Fragment,null,w(k.b,null,w("h2",{className:"row col-pad-l col-pad-r type-lg mar-t-lg mar-b-sm-lg",id:"recommender","data-qa":"".concat(this.props.dataQa,"-carouselLink")},this.getRecommenderHeaderText())),w(C.a,{dataQa:"".concat(this.props.dataQa,"-Carousel"),sliderClick:this.sliderClick},this.buildDeviceCards())):null}}]),n}(m.Component);t.default=j},sJBw:function(e,t,n){"use strict";var a=n("HALo"),r=n("vJKn"),i=n.n(r),s=n("rg98"),o=n("MX0m"),c=n.n(o),l=n("q1tI"),d=n.n(l),p=n("maZt"),u=n("xLlQ"),m=d.a.createElement,f=function(e){var t=e.title,n=e.details,a=e.iconName,r=e.damIconPath;return m("div",{className:"jsx-4184568704 flex align-items-center mar-b-md-lg"},m(u.a,{iconName:a,damIconPath:r,size:"32px"}),m("div",{className:"jsx-4184568704 flex-column justify-center mar-l-xxs"},m("div",{className:"jsx-4184568704 type-sm font-medium color-ui-dark-gray mar-b-none"},t),m("div",{className:"jsx-4184568704 type-sm"},n)),m(c.a,{id:"4184568704"},[".delivery-method.jsx-4184568704{margin-bottom:1.4rem;}",".delivery-method.jsx-4184568704 i.jsx-4184568704 svg.jsx-4184568704{fill:#1D2329;}"]))},h=n("uVxl"),g=n("AGoX"),b=n("zyV8"),v=n("U/e8"),y=n("vyOo"),C=l.createElement;function k(e){return C(l.Fragment,null,C(l.Fragment,null,C("p",{className:"mar-b-none"},e.subHeading),e.storeInformation&&e.storeInformation.id&&C(l.Fragment,null,C("p",{className:"mar-b-none mar-t-xs"},e.storeInformation.mystore_name),C("p",{className:"mar-b-none mar-t-none"},e.storeInformation.address1,e.storeInformation.address2&&", "+e.storeInformation.address2),C("p",{className:"mar-b-xxs mar-t-none"},e.storeInformation.city,",\xa0",e.storeInformation.region,"\xa0",e.storeInformation.postal))),C(y.a,{ariaLabel:"show more stores",dataQa:"".concat(e.dataQa,"-showMoreStores"),events:{onClick:function(){return e.openModal()}},reportingLinkUrl:"/products/details/c2s/modal",className:"font-medium",href:"#"},e.linkLabel))}var S=n("Da3r"),O=n("H+61"),x=n("UlJF"),w=n("+Css"),T=n("7LId"),I=n("VIvw"),L=n("iHvq"),j=n("cpVT"),M=n("J5Nc"),N=n("8bTO"),P=n("Vvt1"),D=n.n(P),A=n("eI37"),R=n("0Yz8"),E=n("cq7Z"),F=n("mwIZ"),U=n.n(F),H=l.createElement;function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(L.a)(e);if(t){var r=Object(L.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(I.a)(this,n)}}var W=D()((function(){return Promise.resolve().then((function(){return n("4eeI")}))}),{loadableGenerated:{webpack:function(){return["4eeI"]},modules:["../src/pages/ProductDetailsPage/components/Click2Store/Click2Store.tsx -> ../StoreItem"]}}),_=function(e){Object(T.a)(n,e);var t=B(n);function n(e){var a;return Object(O.a)(this,n),a=t.call(this,e),Object(j.a)(Object(w.a)(a),"reporting",void 0),Object(j.a)(Object(w.a)(a),"pickUpCTA",(function(){a.getClick2StoreList()})),Object(j.a)(Object(w.a)(a),"click2StorePageLoadEvent",(function(){var e={"page.location.url":a.props.data.isAccessory?S.d.reporting.pageUrl.storeAvailModal.accessories:S.d.reporting.pageUrl.storeAvailModal.phones,"page.pageInfo.friendlyPageName":a.props.data.isAccessory?S.d.reporting.friendlyPageName.storeAvailModal.accessories:S.d.reporting.friendlyPageName.storeAvailModal.phones};a.reporting.firePageLoadEvent(e)})),a.state={activeStoreId:a.props.data.activeStoreId,displayQuantityThreshold:0,errorMessage:"",favStore:{},showAllStoreHours:!1,showChangeZip:""===a.props.data.zipCode,storeList:[],submitZipCode:a.props.data.zipCode,workingZipCode:a.props.data.zipCode,isAccessory:a.props.data.isAccessory},a.ctaClick=a.ctaClick.bind(Object(w.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(w.a)(a)),a.handleChangeZip=a.handleChangeZip.bind(Object(w.a)(a)),a.reporting=new E.a,a}return Object(x.a)(n,[{key:"componentDidMount",value:function(){null!==this.props.data.zipCode&&this.props.data.zipCode.length>-1&&this.getClick2StoreList(),this.click2StorePageLoadEvent()}},{key:"componentWillReceiveProps",value:function(e){this.setState({workingZipCode:e.data.zipCode})}},{key:"getStoreAvailabilityErrorMsg",value:function(e,t){var n,a={zipCode:t,numOfMiles:"50"};return U()(this.props.data.planCmsContent,"".concat(S.d.configView.pscCMSFeedRootPath,".modals.master.errorModal"),S.d.uisStoreavailabilityErrorCodes.errorModal).map((function(t){U()(t,"master.code")===e.errorId.toLowerCase()&&(n=Object(v.gc)(U()(t,"master.description",e.message),a))})),n}},{key:"generateCategory",value:function(e){if(this.props.data.isAccessory)return"accessory";switch(e){case"pda":return"phone";case"netbook":return"computer";case"network":return"electronic";default:return"phone"}}},{key:"getClick2StoreList",value:function(){var e=this,t=this;this.validateZipCode(t.state.workingZipCode)?b.a.getClick2StoreList(t.props.data.skuBillCode,t.state.workingZipCode,this.generateCategory(t.props.data.deviceType)).then((function(n){if(null!=U()(n,"error"))t.setState({errorMessage:e.getStoreAvailabilityErrorMsg(n.error,t.state.workingZipCode),showChangeZip:!0});else{t.setState({errorMessage:"",showChangeZip:!1});var a=1,r=[];Object.keys(n.content.storeList).sort((function(e,t){var a=n.content.storeList[e],r=n.content.storeList[t];return parseFloat(a.arcdist)>parseFloat(r.arcdist)?1:-1})).forEach((function(i){parseInt(n.content.storeList[i].availableQuantity)>0&&r.push(H(W,{data:{activeStoreId:t.props.data.activeStoreId,currentStore:n.content.storeList[i],displayQuantityThreshold:5,index:a++,skuId:t.props.data.skuId,updateStore:t.props.data.updateStore,zipCode:t.state.submitZipCode,isAccessory:e.props.data.isAccessory,commonCmsContent:e.props.data.commonCmsContent}}))})),t.setState({storeList:r})}})):t.setState({errorMessage:this.getStoreAvailabilityErrorMsg({errorId:"uis-inv-00001",message:"Enter a valid ZIP Code"},t.state.workingZipCode),showChangeZip:!0})}},{key:"handleChangeZip",value:function(){this.setState({showChangeZip:!this.state.showChangeZip}),this.fireLinkClick("Change",this.props.data.isAccessory?S.d.reporting.pageUrl.storeAvailModal.accessories:S.d.reporting.pageUrl.storeAvailModal.phones)}},{key:"fireLinkClick",value:function(e,t){var n={linkDestinationUrl:t,linkName:e,linkPosition:"Body"};this.reporting.fireLinkClickEvent(n)}},{key:"handleInputChange",value:function(e){RegExp(/^\d{0,5}$/).test(e.target.value.trim())&&this.setState({workingZipCode:e.target.value})}},{key:"renderModalHeader",value:function(){return H(l.Fragment,null,H("h2",{className:M.modalHeader},"Stores with ",this.props.data.displayName," in stock"))}},{key:"renderStoreList",value:function(){return H(l.Fragment,null,H("div",{className:M.changeZip},"Showing stores near ",this.state.submitZipCode,H(y.a,{ariaLabel:"change Zip",events:{onClick:this.handleChangeZip},dataQa:"$-changeZip"},"Change",H("span",{className:[M.changeArrow,N.attIcon,N.attIconStraightArrowRight].join(" ")}))),this.state.storeList.map((function(e,t){return H("p",{key:t},e)})),H("div",{className:M.legalContainer},this.renderLegalDisclaimer()))}},{key:"ctaClick",value:function(){this.fireLinkClick("Search",this.props.data.isAccessory?S.d.reporting.pageUrl.storeAvailModal.accessories:S.d.reporting.pageUrl.storeAvailModal.phones),this.setState({errorMessage:"",storeList:[],submitZipCode:this.state.workingZipCode}),this.getClick2StoreList()}},{key:"validateZipCode",value:function(e){return/^\d{5}$|^\d{5}-\d{4}$/.test(e)}},{key:"renderZipCodeForm",value:function(){return H(l.Fragment,null,""!==this.state.errorMessage&&H("p",{className:M.error},this.state.errorMessage),H("form",{className:M.zipCodeForm},H("div",{className:M.zipCodeLabel},"Enter your zip code"),H("input",{className:M.zipTextField,type:"text",value:this.state.workingZipCode,onInput:this.handleInputChange}),H(A.c,{buttonConfig:{disabled:!this.state.workingZipCode,primary:!0,type:[A.b.Blue,A.b.Large]},events:{onClick:this.ctaClick},extraProps:{formAction:"javascript:void"}},"Search")))}},{key:"renderLegalDisclaimer",value:function(){var e=Object(v.U)(this.props.data.commonCmsContent,"bopisModalDisclaimer",S.d.deliveryOptions.bopis.bopisModalDisclaimer);return H(l.Fragment,null,H("p",{className:M.legalDisclaimer},e))}},{key:"renderLoader",value:function(){return H(l.Fragment,null,H("div",{className:M.loadingContainer},H(R.a,null)))}},{key:"render",value:function(){return H("div",null,this.state.showChangeZip&&this.renderZipCodeForm(),!(this.state.storeList.length>0)&&""===this.state.errorMessage&&this.renderLoader(),this.state.storeList&&this.state.storeList.length>0&&""!==this.state.submitZipCode&&""===this.state.errorMessage&&this.renderStoreList())}}]),n}(l.Component),V=n("OFL0"),q=n.n(V),G=d.a.createElement,Q=function(e){var t=new Date(e.dateFrom),n=new Date(e.dateTo);return t.getDate()===n.getDate()?G(d.a.Fragment,null,e.subHeading&&G("p",{className:"mar-b-none"},e.subHeading),G("p",{className:"mar-b-none"},e.isDelivery?"Delivery ":"Shipping ","by",G("b",null," ",e.dateFrom," "))):G(d.a.Fragment,null,e.subHeading&&G("p",{className:"mar-b-none"},e.subHeading),G("p",{className:"mar-b-none"},e.isDelivery?"Delivers ":"Ships ","between",G("b",null," ",e.dateFrom," "),"and",G("b",null," ",e.dateTo," ")))};t.a=function(e){var t=Object(l.useState)({}),n=t[0],r=t[1],o=Object(l.useState)([]),u=o[0],m=o[1],y=Object(l.useState)(!1),C=y[0],O=y[1],x=Object(l.useState)(""),w=x[0],T=x[1],I=[],L=Object(l.useContext)(p.a),j=(e.isAccessory,e.billCode,!1),M=function(){var e=new CustomEvent(S.b.CRITICAL_PATH_COMPLETE);window.dispatchEvent(e)};Object(l.useEffect)((function(){e.isComingSoon||e.isEndOfSku||!L||N()}),[e.billCode,L,e.productFulfillmentRes]);var N=function(){var t=Object(s.a)(i.a.mark((function t(){var n,a,s,o,c,l,d;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout(M,2e3),n="selectedstore",!1!==(a=Object(v.W)(document.cookie,n))&&(a=(a=a.replace("selectedstore=","")).split("|"),a[0].split("=")[1],s=a[1].split("=")[1]),o=[],c=e.userZipCode,l=e.productFulfillmentRes,e.sku.skuId&&q()(l,"content.fulfillmentOptions["+e.sku.skuId+"]")&&l.content.fulfillmentOptions[e.sku.skuId].length>0&&(l.content.fulfillmentOptions[e.sku.skuId].map((function(t){if("DOO"===t.fulfillmentMethod&&t.available&&(o.push(P()),I.push("SAME DAY DROP OFF")),"C2S"===t.fulfillmentMethod&&t.available)if(q()(t,"stores")&&q()(l,"content.stores["+t.stores[0]+"]")){var n;n=l.content.stores[t.stores[0]],r(n),o.push(A(n)),I.push("STORE")}else{var a={};a.postal=s||c,r(a),o.push(A(a)),I.push("STORE")}var i;"DF"===t.fulfillmentMethod&&t.available&&(void 0!==t.dates?(i=t.dates,o.push(R(i)),I.push("DIRECT")):e.isAccessory&&(o.push(U()),I.push("DEFAULT SHIPPING METHOD")))})),void 0!==(d=o.sort(v.bc))[0]&&e.onFinished(I,d[0].reportingName,""),m(d));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=function(){return{available:!0,marketingsequence:parseInt(Object(v.U)(e.commonCmsContent,"rtgMargetingSequence",S.d.deliveryOptions.rtg.marketingSequence)),damIconPath:"black/transportation/truckL",key:"SDD",title:Object(v.U)(e.commonCmsContent,"rtgHeading",S.d.deliveryOptions.rtg.heading),details:Object(v.A)(Object(v.U)(e.commonCmsContent,"rtgSubHeading",S.d.deliveryOptions.rtg.subHeading)),reportingName:"SAME DAY DROP OFF"}},D=function(e){var t="";if(e){var n=e.split("+");t=n[0]?n[0]:e}return t},A=function(t){if(t.service){var n=t.service;j=n.indexOf(231)>-1}H();var a=parseInt(Object(v.U)(e.commonCmsContent,"bopisMarketingSequence",S.d.deliveryOptions.bopis.marketingSequence)),r=j?Object(v.U)(e.commonCmsContent,"bopisHeadingCurbsideAndInstore",S.d.deliveryOptions.bopis.headingCurbsideAndInstore):Object(v.U)(e.commonCmsContent,"bopisHeading",S.d.deliveryOptions.bopis.heading),i=j?Object(v.U)(e.commonCmsContent,"bopisSubheadingCurbsideAndInstore",S.d.deliveryOptions.bopis.subHeadingCurbsideAndInstore):Object(v.U)(e.commonCmsContent,"bopisSubheading",S.d.deliveryOptions.bopis.subHeading),s=Object(v.U)(e.commonCmsContent,"bopisLinkLabel",S.d.deliveryOptions.bopis.linkLabel);return e.disableC2S||!t.isAvailable&&!e.rtiFunctionFlag||(document.cookie="selectedstore=storeinvid=".concat(t.inv_id,"|selectedzip=").concat(t.postal,";path=/")),Object(v.rc)(D(t.postal)),{available:!!t.isAvailable,marketingsequence:a,damIconPath:"black/retail/instorepickupL",key:"C2S",details:G(k,{subHeading:i,linkLabel:s,storeInformation:t,dataQa:e.dataQa,openModal:B}),title:r,reportingName:"STORE",isCurbsideAvailable:j}},R=function(t){var n={isDelivery:!0,standardShipping:!1,dateFrom:void 0,dateTo:void 0,subHeading:void 0},a=parseInt(Object(v.U)(e.commonCmsContent,"dfMarketingSequence",S.d.deliveryOptions.df.marketingSequence)),r=Object(v.U)(e.commonCmsContent,"dfStandardHeading",S.d.deliveryOptions.df.standardHeading),i=Object(v.U)(e.commonCmsContent,"dfNonStandardHeading",S.d.deliveryOptions.df.nonStandardHeading),s=Object(v.U)(e.commonCmsContent,"dfSubHeading",S.d.deliveryOptions.df.subHeading);return void 0!==t.deliveryDates?(n.dateFrom=F(t.deliveryDates.dateFrom),n.dateTo=F(t.deliveryDates.dateTo)):void 0!==t.shipmentDates&&(n.isDelivery=!1,n.dateFrom=F(t.shipmentDates.dateFrom),n.dateTo=F(t.shipmentDates.dateTo)),void 0!==n.dateFrom&&(n.standardShipping=Z(n.dateFrom)),n.subHeading=s,{damIconPath:"black/retail/shippingL",title:n.standardShipping?r:i,details:Q(n),marketingsequence:a,key:"DF",reportingName:"DIRECT"}},F=function(e){var t=e.split("-");return S.d.months[Number(t[1])-1]+" "+t[2]+", "+t[0]},U=function(){return{damIconPath:"black/retail/shippingL",title:"Free Shipping",details:"Delivered in 3 - 5 business days",marketingsequence:parseInt(Object(v.U)(e.commonCmsContent,"dfMarketingSequence",S.d.deliveryOptions.df.marketingSequence)),key:"AD",reportingName:"DEFAULT SHIPPING METHOD"}},H=function(){T(Object(v.A)(Object(v.U)(e.commonCmsContent,"deliveryOptionsSubheadingEnjoyIneligible",S.d.deliveryOptions.deliveryOptionsSubheadingEnjoyIneligible)))},B=function(){O(!0)},W=function(){O(!1)},V=function(e,t){var n={linkDestinationUrl:t,linkName:e,linkPosition:"Body"};(new E.a).fireLinkClickEvent(n)},Z=function(e){var t=new Date,n=new Date(e);return t.setDate(t.getDate()+3),t<n};return 0===u.length||e.isComingSoon||e.isEndOfSku||e.effectiveOutOfStock?null:G(d.a.Fragment,null,G(h.a,{space:24,topSpace:0}),G("span",{className:"jsx-2040886240 type-base color-ui-black font-medium"},"Delivery options"),G("div",{className:"jsx-2040886240 mar-t-sm-lg mar-b-sm-lg type-sm color-ui-black font-regular"},w),G("div",{id:"deliveryOptions",className:"jsx-2040886240 mar-b-sm"},u.map((function(t){return("C2S"!==t.key||e.disableC2S)&&("SDD"!==t.key||e.disableSDD)?"DF"===t.key||"AD"===t.key?G(f,Object(a.a)({key:t.key},t)):void 0:G(f,Object(a.a)({key:t.key},t))}))),G(g.default,{isOpen:C,onRequestClose:function(){V("CloseX",e.isAccessory?S.d.reporting.pageUrl.storeAvailModal.accessories:S.d.reporting.pageUrl.storeAvailModal.phones),W()},header:G("h1",{className:"jsx-2040886240 heading-md"},"Stores with "+e.deviceName+" in stock"),width:5},G(_,{data:{activeStoreId:n.id||"",displayName:e.deviceName,skuId:e.skuId,skuBillCode:e.billCode,updateStore:function(t,n,a){var i={};i.mystore_name=t.mystore_name,i.address1=t.address1,i.address2=t.address2,i.postal=t.postal,i.city=t.city,i.region=t.region,i.id=t.id,i.isAvailable=!0,i.service=t.service,j=i.service.indexOf(231)>-1,H(),r(i);var s=parseInt(Object(v.U)(e.commonCmsContent,"bopisMarketingSequence",S.d.deliveryOptions.bopis.marketingSequence)),o=j?Object(v.U)(e.commonCmsContent,"bopisHeadingCurbsideAndInstore",S.d.deliveryOptions.bopis.headingCurbsideAndInstore):Object(v.U)(e.commonCmsContent,"bopisHeading",S.d.deliveryOptions.bopis.heading),c=j?Object(v.U)(e.commonCmsContent,"bopisSubheadingCurbsideAndInstore",S.d.deliveryOptions.bopis.subHeadingCurbsideAndInstore):Object(v.U)(e.commonCmsContent,"bopisSubheading",S.d.deliveryOptions.bopis.subHeading),l=Object(v.U)(e.commonCmsContent,"bopisLinkLabel",S.d.deliveryOptions.bopis.linkLabel);document.cookie="selectedstore=storeinvid=".concat(t.inv_id,"|selectedzip=").concat(t.postal,";path=/"),Object(v.rc)(D(t.postal));var d=u.map((function(t){return"C2S"===t.key?{marketingsequence:s,iconName:"shoppingcart-fast",key:"C2S",details:G(k,{linkLabel:l,subHeading:c,storeInformation:i,dataQa:e.dataQa,openModal:B}),title:o,reportingName:"STORE"}:t}));m(d),V(n,a),b.a.saveFavStoreLocalStorage(t),W()},zipCode:n.postal||"",ignoreFlow:e.ignoreFlowForBopis,commonCmsContent:e.commonCmsContent,isAccessory:e.isAccessory,deviceType:e.sku.deviceType,planCmsContent:e.planCmsContent}})),G(c.a,{id:"2040886240"},[".collapsed.jsx-2040886240{padding-bottom:14px;}"]))}},v7gz:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("q1tI"),r=n.n(a),i=n("bNcH"),s=n("uVxl"),o=n("JNjH"),c=n("lNN+"),l=n("mwIZ"),d=n.n(l),p=r.a.createElement,u=function(e){var t=e.selectedSku,n=e.dataQa,a=e.onLegalClick,l=r.a.useContext(o.a),u=r.a.useContext(c.a),m=l.priceOptions,f=l.selectedPricingIndex,h=m[t.skuId],g=h?h[f]:null,b=null===t.deviceType,v="postpaid"!==t.paymentType||g&&0===g.monthlyLeasePrice,y=d()(g,"heroInstallmentLegal.master.legalShortPath.master.legalText","");return p(r.a.Fragment,null,!!g&&!!l.selectedContractTerm&&!!l.selectedContractTerm.leaseTotalMonths&&!!(l.selectedContractTerm.leaseTotalMonths>0)&&!!u&&"true"===u.featureFlags["pdp-commonlegal"]&&y.length>0&&p(r.a.Fragment,null,p(i.a,{msrpPrice:!v&&g.listPrice,legalContent:g.heroInstallmentLegal,termLength:!v&&g.leaseTotalMonths,linkContent:g.displayLegalContent.detailsLink,linkCallback:a,dataQa:"".concat(n,"-Legal"),isAccessory:b,sku:t}),p(s.a,{space:24,topSpace:24})))}},x2bk:function(e,t,n){"use strict";n.r(t);var a=n("H+61"),r=n("UlJF"),i=n("+Css"),s=n("7LId"),o=n("VIvw"),c=n("iHvq"),l=n("cpVT"),d=n("q1tI"),p=n("xEeC"),u=n("cq7Z"),m=n("RrNd"),f=n("Da3r"),h=n("C3wX"),g=n("U/e8"),b=n("0Yz8"),v=d.createElement;function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(c.a)(e);if(t){var r=Object(c.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(o.a)(this,n)}}var S=function(e){Object(s.a)(n,e);var t=k(n);function n(e){var r;return Object(a.a)(this,n),r=t.call(this,e),Object(l.a)(Object(i.a)(r),"reporting",void 0),r.state={intentsObject:{},addToCartSuccess:void 0},r.reporting=new u.a,r.intentModalCallback=r.intentModalCallback.bind(Object(i.a)(r)),r.intentModalPageLoadEvent=r.intentModalPageLoadEvent.bind(Object(i.a)(r)),r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.intentsToShow.length>0&&this.generateIntentsObject(this.props.intentsToShow,this.props.showNewCustomerLink)}},{key:"componentWillUpdate",value:function(e){(e.intentsToShow.length>0&&e.intentsToShow!==this.props.intentsToShow||e.showNewCustomerLink!==this.props.showNewCustomerLink)&&this.generateIntentsObject(e.intentsToShow,e.showNewCustomerLink)}},{key:"render",value:function(){return v(d.Fragment,null,v(p.default,{userIntentData:this.state.intentsObject,headerText:"Sign in for faster checkout",dataQa:"PDPPage-intentModal-",isIntentModalOpen:this.props.isIntentModalOpen,onUserInput:this.intentModalCallback,showNewCustomerLink:this.props.showNewCustomerLink,bgPageLoadEvent:this.props.bgPageLoadEvent,modalPageLoadEvent:this.intentModalPageLoadEvent,isAccessory:this.props.isAccessory}))}},{key:"intentModalPageLoadEvent",value:function(){var e=C({},{"page.attributes.productType":"Accessory","page.attributes.sku":this.props.selectedSku.skuId,"page.attributes.skuName":this.props.selectedSku.shortDisplayName||this.props.selectedSku.displayName,"page.category.applicationName":"Sales Wireless Full Web","page.category.pageFunction":"Sales","page.category.pageGroup":"WIRELESS ONLINE STORE","page.category.pageOwnership":"Consumer","page.location.url":"/accessories/intent/modal","page.category.siteSection":"myATT Sales","page.location._addressBarFullURL":window.location.href,"page.location.domain":window.location.hostName,"page.pageInfo.lineOfBusiness":"Wireless","page.pageInfo.flowCode":"DSACC","page.pageInfo.responsiveWebDesignFlag":1,"page.pageInfo.zipCode":this.props.profileInfo.zipCode,"chat.offerCode":"Default","user.customerType":Object(h.c)(this.props.profileInfo.customerType),"user.account.liabilityType":Object(h.d)(this.props.profileInfo.customerType),"user.uuid":this.props.profileInfo.uuid,"page.pageInfo.friendlyPageName":"DS Accessory Only Intent Modal Pg",url:"/devices/intent/modal"});this.reporting.firePageLoadEvent(e)}},{key:"intentModalCallback",value:function(e){var t=this.props.isIdpAccessoryRedirectOn;if(this.setIntentButtonAsSpinner(e),!0===t)switch(e){case"ACCNEW":window.location.href="".concat(m.b.productDetailsUrls.idseCart);break;case"ACC":window.location.href=Object(g.sb)(m.b.productDetailsUrls.idseRetrieveCart);break;case"EXIT":default:this.props.closeModal()}else switch(e){case"ACCNEW":Object(g.ec)(f.d.intentModalContent.UnauthWirelessAccessory.New.intentDisplayName);break;case"ACC":Object(g.ec)(f.d.intentModalContent.UnauthWirelessAccessory.Existing.intentDisplayName);break;case"EXIT":default:this.props.closeModal()}}},{key:"setIntentButtonAsSpinner",value:function(e){v(b.a,{config:{size:"30px"}});if("ACCNEW"===e)this.setState({intentsObject:C(C({},this.state.intentsObject),{},{New:[C(C({},this.state.intentsObject.New[0]),{},{intentDisplayName:v(b.a,{config:{size:"20px"}})})]})});else{var t=this.state.intentsObject.Existing.map((function(t){return t.key===e?C(C({},t),{},{intentDisplayName:v(b.a,{config:{size:"20px"}})}):t}));this.setState({intentsObject:C(C({},this.state.intentsObject),{},{Existing:t})})}}},{key:"generateIntentsObject",value:function(e,t){var n={Existing:[],New:[]};e.indexOf("ACCNEW")>-1&&(n.New=[f.d.intentModalContent.UnauthWirelessAccessory.New]),e.indexOf("ACC")>-1&&n.Existing.push(f.d.intentModalContent.UnauthWirelessAccessory.Existing),this.setState({intentsObject:n})}},{key:"fireModalLinkClickEvent",value:function(e,t){var n={linkDestinationUrl:t,linkName:e,linkPosition:"Body"};this.reporting.fireLinkClickEvent(n)}}]),n}(d.Component);t.default=S}}]);