(this["webpackChunkapplication"]=this["webpackChunkapplication"]||[]).push([[1620,4370,1565],{328363:e=>{e.exports={}},779217:e=>{e.exports={"de-DE":{menu:{app:{about:"\xdcber",preferences:"Voreinstellungen...",hide:"Ausblenden",hideOthers:"Andere ausblenden",unhide:"Alle anzeigen",quit:"Beenden"},edit:{edit:"Bearbeiten",undo:"R\xfcckg\xe4ngig",redo:"Wiederholen",cut:"Ausschneiden",copy:"Kopieren",paste:"Einf\xfcgen",selectAll:"Alle ausw\xe4hlen"},view:{view:"Anzeigen",reload:"Neu laden",actualSize:"Tats\xe4chliche Gr\xf6\xdfe",zoomIn:"Vergr\xf6\xdfern",zoomOut:"Verkleinern",reset:"Zur\xfccksetzen"},help:{help:"Hilfe"},file:{file:"Datei",autoStart:"Starten Sie die Anwendung beim Systemstart",quit:"Beenden"}},tray:{menu:{bringToFront:"In den Vordergrund",quit:"Beenden"}},appIsOutOfDateError:"Ihre App ist veraltet. Bitte laden Sie die App neu, um die neueste Version zu laden und diese Funktion zu nutzen.",desktopAppIsOutOfDateError:"Ihre Desktop-App ist veraltet. Aktualisieren Sie auf die neueste Version, um diese Funktion nutzen zu k\xf6nnen.",restartToUpdate:"Zum Aktualisieren erneut starten",appInBackground:"{{appName}} wird im Hintergrund ausgef\xfchrt",ForceUpgradeBanner:{topBannerPrompt:"Eine neue Release-Version, die in RingCentral umbenannt wurde, ist jetzt verf\xfcgbar und ersetzt diese Beta-Version. Laden Sie sie herunter und installieren Sie sie, oder bitten Sie Ihre IT-Abteilung, die neue Version 20.2.20 bereitzustellen."},downloadForMac:"{{appName}} f\xfcr Mac herunterladen",downloadForWindows:"{{appName}} f\xfcr Windows herunterladen"},en:{menu:{app:{about:"About",preferences:"Preferences...",hide:"Hide",hideOthers:"Hide Others",unhide:"Show All",quit:"Quit"},edit:{edit:"Edit",undo:"Undo",redo:"Redo",cut:"Cut",copy:"Copy",paste:"Paste",selectAll:"Select All"},view:{view:"View",reload:"Reload",actualSize:"Actual Size",zoomIn:"Zoom In",zoomOut:"Zoom Out",reset:"Reset"},help:{help:"Help"},file:{file:"File",autoStart:"Launch Application on System Start",quit:"Quit"}},tray:{menu:{bringToFront:"Bring to front",quit:"Quit"}},appIsOutOfDateError:"Your app is out-of-date. Please reload the app to load the newest version, to use this feature.",desktopAppIsOutOfDateError:"Your desktop app is out-of-date. Upgrade to the newest version, to be able to use this feature.",restartToUpdate:"Restart to update",appInBackground:"{{appName}} is running in the background",ForceUpgradeBanner:{topBannerPrompt:"A new release version, renamed to RingCentral, is now available to replace this Beta. Please download it and install or ask your IT department to provide the new version 20.2.20."},downloadForMac:"Download {{appName}} for Mac",downloadForWindows:"Download {{appName}} for Windows"},"en-GB":{menu:{app:{about:"About",preferences:"Preferences...",hide:"Hide",hideOthers:"Hide Others",unhide:"Show All",quit:"Quit"},edit:{edit:"Edit",undo:"Undo",redo:"Redo",cut:"Cut",copy:"Copy",paste:"Paste",selectAll:"Select all"},view:{view:"View",reload:"Reload",actualSize:"Actual size",zoomIn:"Zoom in",zoomOut:"Zoom out",reset:"Reset"},help:{help:"Help"},file:{file:"File",autoStart:"Launch application on system start",quit:"Quit"}},tray:{menu:{bringToFront:"Bring to front",quit:"Quit"}},appIsOutOfDateError:"Your app is out-of-date. To use this feature, please reload the app to load the newest version.",desktopAppIsOutOfDateError:"Your desktop app is out-of-date. To use this feature, upgrade to the newest version.",restartToUpdate:"Restart to update",appInBackground:"{{appName}} is running in the background",ForceUpgradeBanner:{topBannerPrompt:"A new release version, renamed RingCentral, is now available to replace this Beta. Please download and install it or ask your IT department to provide the new version 20.2.20."},downloadForMac:"Download {{appName}} for Mac",downloadForWindows:"Download {{appName}} for Windows"},"es-419":{menu:{app:{about:"Acerca de",preferences:"Preferencias...",hide:"Ocultar",hideOthers:"Ocultar otros",unhide:"Mostrar todo",quit:"Salir"},edit:{edit:"Editar",undo:"Deshacer",redo:"Rehacer",cut:"Cortar",copy:"Copiar",paste:"Pegar",selectAll:"Seleccionar todo"},view:{view:"Ver",reload:"Cargar de nuevo",actualSize:"Tama\xf1o real",zoomIn:"Acercar",zoomOut:"Alejar",reset:"Restablecer"},help:{help:"Ayuda"},file:{file:"Archivo",autoStart:"Ejecutar la aplicaci\xf3n al iniciar el sistema",quit:"Salir"}},tray:{menu:{bringToFront:"Traer al frente",quit:"Salir"}},appIsOutOfDateError:"Su aplicaci\xf3n no est\xe1 actualizada. Vuelva a cargar la aplicaci\xf3n para cargar la versi\xf3n m\xe1s reciente y utilizar esta funci\xf3n.",desktopAppIsOutOfDateError:"Su aplicaci\xf3n de escritorio no est\xe1 actualizada. Actualice a la versi\xf3n nueva para poder utilizar esta funci\xf3n.",restartToUpdate:"Reiniciar para actualizar",appInBackground:"{{appName}} se est\xe1 ejecutando en segundo plano",ForceUpgradeBanner:{topBannerPrompt:"Ya est\xe1 disponible una nueva versi\xf3n, que ha cambiado su nombre a RingCentral, para reemplazar a esta versi\xf3n beta. Desc\xe1rguela e inst\xe1lela o solicite a su departamento de TI que le proporcione la nueva versi\xf3n\xa020.2.20."},downloadForMac:"Descargar {{appName}} para Mac",downloadForWindows:"Descargar {{appName}} para Windows"},"es-ES":{menu:{app:{about:"Acerca de",preferences:"Preferencias...",hide:"Ocultar",hideOthers:"Ocultar otros",unhide:"Mostrar todo",quit:"Salir"},edit:{edit:"Editar",undo:"Deshacer",redo:"Rehacer",cut:"Cortar",copy:"Copiar",paste:"Pegar",selectAll:"Seleccionar todo"},view:{view:"Ver",reload:"Volver a cargar",actualSize:"Tama\xf1o real",zoomIn:"Acercar",zoomOut:"Alejar",reset:"Restablecer"},help:{help:"Ayuda"},file:{file:"Archivo",autoStart:"Ejecutar la aplicaci\xf3n al iniciar el sistema",quit:"Salir"}},tray:{menu:{bringToFront:"Traer al frente",quit:"Salir"}},appIsOutOfDateError:"Su aplicaci\xf3n no est\xe1 actualizada. Para utilizar esta funci\xf3n, vuelva a cargar la aplicaci\xf3n y actual\xedcela a la versi\xf3n m\xe1s reciente.",desktopAppIsOutOfDateError:"Su aplicaci\xf3n de sobremesa no est\xe1 actualizada. Actual\xedcela a la nueva versi\xf3n para poder utilizar esta funci\xf3n.",restartToUpdate:"Reiniciar para actualizar",appInBackground:"{{appName}} se est\xe1 ejecutando en segundo plano",ForceUpgradeBanner:{topBannerPrompt:"Hay nueva versi\xf3n, con el nombre de RingCentral, disponible para reemplazar esta versi\xf3n beta. Desc\xe1rguela e inst\xe1lela o solicite a su departamento de TI que le proporcione la nueva versi\xf3n 20.2.20."},downloadForMac:"Descargar {{appName}} para Mac",downloadForWindows:"Descargar {{appName}} para Windows"},"fi-FI":{menu:{app:{about:"Tietoja sovelluksesta",preferences:"Asetukset...",hide:"Piilota",hideOthers:"Piilota muut",unhide:"N\xe4yt\xe4 kaikki",quit:"Sulje"},edit:{edit:"Muokkaa",undo:"Kumoa",redo:"Tee uudelleen",cut:"Leikkaa",copy:"Kopioi ",paste:"Liit\xe4",selectAll:"Valitse kaikki"},view:{view:"N\xe4yt\xe4",reload:"Lataa uudelleen",actualSize:"Todellinen koko",zoomIn:"L\xe4henn\xe4",zoomOut:"Loitonna",reset:"Palauta"},help:{help:"Ohje"},file:{file:"Tiedosto",autoStart:"Avaa sovellus j\xe4rjestelm\xe4n k\xe4ynnistyess\xe4",quit:"Sulje"}},tray:{menu:{bringToFront:"Tuo etualalle",quit:"Sulje"}},appIsOutOfDateError:"Sovelluksesi on vanhentunut. Sinun on ladattava se uudelleen ja p\xe4ivitett\xe4v\xe4 se uusimpaan versioon, jotta voit k\xe4ytt\xe4\xe4 t\xe4t\xe4 ominaisuutta.",desktopAppIsOutOfDateError:"Ty\xf6p\xf6yt\xe4sovelluksesi on vanhentunut. Sinun on p\xe4ivitett\xe4v\xe4 se uusimpaan versioon, jotta voit k\xe4ytt\xe4\xe4 t\xe4t\xe4 ominaisuutta.",restartToUpdate:"K\xe4ynnist\xe4 uudelleen ja p\xe4ivit\xe4",appInBackground:"{{appName}} on k\xe4ynniss\xe4 taustalla",ForceUpgradeBanner:{topBannerPrompt:"Uusi RingCentral-niminen julkaisu on nyt saatavilla, ja se korvaa t\xe4m\xe4n beetaversion. Lataa ja asenna se tai pyyd\xe4 IT-osastolta uutta 20.2.20-versiota."},downloadForMac:"Lataa {{appName}} Macille",downloadForWindows:"Lataa {{appName}} Windowsille"},"fr-CA":{menu:{app:{about:"\xc0 propos",preferences:"Pr\xe9f\xe9rences...",hide:"Masquer",hideOthers:"Masquer les autres",unhide:"Afficher tout",quit:"Quitter"},edit:{edit:"Modifier",undo:"Annuler",redo:"Refaire",cut:"Couper",copy:"Copier",paste:"Coller",selectAll:"S\xe9lectionner tout"},view:{view:"Afficher",reload:"Recharger",actualSize:"Taille r\xe9elle",zoomIn:"Zoom avant",zoomOut:"Zoom arri\xe8re",reset:"R\xe9initialiser"},help:{help:"Aide"},file:{file:"Fichier",autoStart:"Lancer l\u2019application au d\xe9marrage du syst\xe8me",quit:"Quitter"}},tray:{menu:{bringToFront:"Mettre \xe0 l\u2019avant",quit:"Quitter"}},appIsOutOfDateError:"Votre application est obsol\xe8te. Veuillez recharger l\u2019application afin d\u2019obtenir la nouvelle version pour utiliser cette fonctionnalit\xe9.",desktopAppIsOutOfDateError:"Votre application de bureau est obsol\xe8te. Mettez \xe0 niveau vers la derni\xe8re version pour pouvoir utiliser cette fonctionnalit\xe9.",restartToUpdate:"Red\xe9marrer pour mettre \xe0 jour",appInBackground:"{{appName}} fonctionne en arri\xe8re-plan",ForceUpgradeBanner:{topBannerPrompt:"Une nouvelle version, renomm\xe9e RingCentral, est d\xe9sormais disponible pour remplacer cette version b\xeata. Veuillez la t\xe9l\xe9charger et l\u2019installer ou demander \xe0 votre service informatique de vous installer la nouvelle version\xa020.2.20."},downloadForMac:"T\xe9l\xe9charger {{appName}} pour Mac",downloadForWindows:"T\xe9l\xe9charger {{appName}} pour Windows"},"fr-FR":{menu:{app:{about:"\xc0 propos de",preferences:"Pr\xe9f\xe9rences...",hide:"Masquer",hideOthers:"Masquer les autres",unhide:"Afficher tout",quit:"Quitter"},edit:{edit:"Modifier",undo:"Annuler",redo:"Restaurer",cut:"Couper",copy:"Copier",paste:"Coller",selectAll:"S\xe9lectionner tout"},view:{view:"Afficher",reload:"Recharger",actualSize:"Taille r\xe9elle",zoomIn:"Zoom avant",zoomOut:"Zoom arri\xe8re",reset:"R\xe9initialiser"},help:{help:"Aide"},file:{file:"Fichier",autoStart:"Lancer l\u2019application au d\xe9marrage du syst\xe8me",quit:"Quitter"}},tray:{menu:{bringToFront:"Mettre au premier plan",quit:"Quitter"}},appIsOutOfDateError:"Votre application est obsol\xe8te. Veuillez recharger l\u2019application pour charger la nouvelle version pour utiliser cette fonctionnalit\xe9.",desktopAppIsOutOfDateError:"Votre application logicielle est obsol\xe8te. Passez \xe0 la derni\xe8re version pour pouvoir utiliser cette fonctionnalit\xe9.",restartToUpdate:"Red\xe9marrer pour mettre \xe0 jour",appInBackground:"{{appName}} fonctionne en arri\xe8re-plan",ForceUpgradeBanner:{topBannerPrompt:"Une nouvelle version, renomm\xe9e RingCentral, est d\xe9sormais disponible pour remplacer cette version b\xeata. Veuillez la t\xe9l\xe9charger et l\u2019installer ou demandez \xe0 votre service informatique de vous fournir la nouvelle version 20.2.20."},downloadForMac:"T\xe9l\xe9charger {{appName}} pour Mac",downloadForWindows:"T\xe9l\xe9charger {{appName}} pour Windows"},"it-IT":{menu:{app:{about:"Informazioni",preferences:"Preferenze...",hide:"Nascondi",hideOthers:"Nascondi altri",unhide:"Mostra tutto",quit:"Esci"},edit:{edit:"Modifica",undo:"Annulla",redo:"Ripeti",cut:"Taglia",copy:"Copia",paste:"Incolla",selectAll:"Seleziona tutto"},view:{view:"Visualizza",reload:"Ricarica",actualSize:"Dimensione reale",zoomIn:"Zoom avanti",zoomOut:"Zoom indietro",reset:"Ripristina"},help:{help:"Guida"},file:{file:"File",autoStart:"Avvia l'applicazione all'avvio del sistema",quit:"Esci"}},tray:{menu:{bringToFront:"Porta in primo piano",quit:"Esci"}},appIsOutOfDateError:"La tua applicazione non \xe8 aggiornata. Per utilizzare questa funzione, ricarica l'applicazione per caricare la versione pi\xf9 recente.",desktopAppIsOutOfDateError:"L'app desktop non \xe8 aggiornata. Per poter utilizzare questa funzione, effettua l'upgrade alla versione pi\xf9 recente.",restartToUpdate:"Riavvia per aggiornare",appInBackground:"{{appName}} \xe8 in esecuzione in background",ForceUpgradeBanner:{topBannerPrompt:"Una nuova release, rinominata RingCentral, \xe8 ora disponibile per sostituire questa beta. Scaricala e installala o chiedi al tuo reparto IT di fornirti la nuova versione 20.2.20."},downloadForMac:"Scarica {{appName}} per Mac",downloadForWindows:"Scarica {{appName}} per Windows"},"ja-JP":{menu:{app:{about:"\u88fd\u54c1\u60c5\u5831",preferences:"\u8a2d\u5b9a...",hide:"\u975e\u8868\u793a",hideOthers:"\u305d\u306e\u4ed6\u3092\u975e\u8868\u793a",unhide:"\u3059\u3079\u3066\u8868\u793a",quit:"\u7d42\u4e86"},edit:{edit:"\u7de8\u96c6",undo:"\u5143\u306b\u623b\u3059",redo:"\u3084\u308a\u76f4\u3057",cut:"\u5207\u308a\u53d6\u308a",copy:" \u3092\u30b3\u30d4\u30fc",paste:"\u8cbc\u308a\u4ed8\u3051",selectAll:"\u3059\u3079\u3066\u9078\u629e"},view:{view:"\u8868\u793a",reload:"\u518d\u8aad\u307f\u8fbc\u307f",actualSize:"\u5b9f\u969b\u306e\u30b5\u30a4\u30ba",zoomIn:"\u30ba\u30fc\u30e0\u30a4\u30f3",zoomOut:"\u30ba\u30fc\u30e0\u30a2\u30a6\u30c8",reset:"\u30ea\u30bb\u30c3\u30c8"},help:{help:"\u30d8\u30eb\u30d7"},file:{file:"\u30d5\u30a1\u30a4\u30eb",autoStart:"\u30b7\u30b9\u30c6\u30e0\u8d77\u52d5\u6642\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8d77\u52d5",quit:"\u7d42\u4e86"}},tray:{menu:{bringToFront:"\u524d\u9762\u306b\u79fb\u52d5",quit:"\u7d42\u4e86"}},appIsOutOfDateError:"\u30a2\u30d7\u30ea\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u304f\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u306b\u306f\u3001\u30a2\u30d7\u30ea\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3057\u3066\u3001\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8aad\u307f\u8fbc\u3093\u3067\u304f\u3060\u3055\u3044\u3002",desktopAppIsOutOfDateError:"\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u30a2\u30d7\u30ea\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u53e4\u304f\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u306b\u306f\u3001\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002",restartToUpdate:"\u518d\u8d77\u52d5\u3057\u3066\u66f4\u65b0",appInBackground:"{{appName}}\u304c\u30d0\u30c3\u30af\u30b0\u30e9\u30a6\u30f3\u30c9\u3067\u5b9f\u884c\u4e2d\u3067\u3059",ForceUpgradeBanner:{topBannerPrompt:"\u3053\u306e\u30d9\u30fc\u30bf\u7248\u306b\u4ee3\u308f\u308a\u3001RingCentral\u306b\u540d\u524d\u304c\u5909\u66f4\u3055\u308c\u305f\u65b0\u3057\u3044\u30ea\u30ea\u30fc\u30b9\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u304b\u3001IT\u90e8\u9580\u306b\u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f320.2.20\u306e\u63d0\u4f9b\u3092\u4f9d\u983c\u3057\u3066\u304f\u3060\u3055\u3044\u3002"},downloadForMac:"{{appName}} Mac\u7248\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9",downloadForWindows:"{{appName}} Windows\u7248\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"},"ko-KR":{menu:{app:{about:"\uc815\ubcf4",preferences:"\uae30\ubcf8 \uc124\uc815...",hide:"\uc228\uae30\uae30",hideOthers:"\uae30\ud0c0 \uc228\uae30\uae30",unhide:"\ubaa8\ub450 \ud45c\uc2dc",quit:"\uc885\ub8cc"},edit:{edit:"\ud3b8\uc9d1",undo:"\uc2e4\ud589 \ucde8\uc18c",redo:"\ub2e4\uc2dc \uc2e4\ud589",cut:"\uc798\ub77c\ub0b4\uae30",copy:"  \ubcf5\uc0ac",paste:"\ubd99\uc5ec\ub123\uae30",selectAll:"\ubaa8\ub450 \uc120\ud0dd"},view:{view:"\ubcf4\uae30",reload:"\ub2e4\uc2dc \ub85c\ub4dc",actualSize:"\uc2e4\uc81c \ud06c\uae30",zoomIn:"\ud655\ub300",zoomOut:"\ucd95\uc18c",reset:"\uc7ac\uc124\uc815"},help:{help:"\ub3c4\uc6c0\ub9d0"},file:{file:"\ud30c\uc77c",autoStart:"\uc2dc\uc2a4\ud15c \uc2dc\uc791 \uc2dc \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc2e4\ud589",quit:"\uc885\ub8cc"}},tray:{menu:{bringToFront:"\uc55e\uc73c\ub85c \uac00\uc838\uc624\uae30",quit:"\uc885\ub8cc"}},appIsOutOfDateError:"\uc571\uc774 \uc624\ub798\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc774 \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud558\ub824\uba74 \uc571\uc744 \ub2e4\uc2dc \ub85c\ub4dc\ud574 \ucd5c\uc2e0 \ubc84\uc804\uc744 \ubc1b\uc73c\uc138\uc694.",desktopAppIsOutOfDateError:"\ub370\uc2a4\ud06c\ud1b1 \uc571\uc774 \uc774\uc804 \ubc84\uc804\uc785\ub2c8\ub2e4. \uc774 \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud558\ub824\uba74 \ucd5c\uc2e0 \ubc84\uc804\uc73c\ub85c \uc5c5\uadf8\ub808\uc774\ub4dc\ud558\uc138\uc694.",restartToUpdate:"\uc5c5\ub370\uc774\ud2b8\ud558\ub824\uba74 \ub2e4\uc2dc \uc2dc\uc791\ud558\uc138\uc694.",appInBackground:"{{appName}}\uc774(\uac00) \ubc31\uadf8\ub77c\uc6b4\ub4dc\uc5d0\uc11c \uc2e4\ud589 \uc911\uc785\ub2c8\ub2e4.",ForceUpgradeBanner:{topBannerPrompt:"RingCentral\ub85c \uc774\ub984\uc774 \ubcc0\uacbd\ub41c \uc0c8 \ub9b4\ub9ac\uc2a4 \ubc84\uc804\uc774 \uc774\uc81c \ubca0\ud0c0 \ubc84\uc804\uc744 \ub300\uccb4\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub97c \ub2e4\uc6b4\ub85c\ub4dc\ud558\uace0 \uc124\uce58\ud558\uac70\ub098 IT \ubd80\uc11c\uc5d0 \uc0c8 \ubc84\uc804\uc778 20.2.20\uc744 \uc81c\uacf5\ud574 \ub2ec\ub77c\uace0 \uc694\uccad\ud558\uc138\uc694."},downloadForMac:"Mac\uc6a9 {{appName}} \ub2e4\uc6b4\ub85c\ub4dc",downloadForWindows:"Windows\uc6a9 {{appName}} \ub2e4\uc6b4\ub85c\ub4dc"},"nl-NL":{menu:{app:{about:"Over",preferences:"Voorkeuren...",hide:"Verbergen",hideOthers:"Anderen verbergen",unhide:"Alles weergeven",quit:"Stoppen"},edit:{edit:"Bewerken",undo:"Terugdr",redo:"Opnieuw",cut:"Knippen",copy:"Kopi\xebren",paste:"Plakken",selectAll:"Alles selecteren"},view:{view:"Weergeven",reload:"Opnieuw laden",actualSize:"Ware grootte",zoomIn:"Inzoomen",zoomOut:"Uitzoomen",reset:"Resetten"},help:{help:"Hulp"},file:{file:"Bestand",autoStart:"Toepassing starten bij opstarten van het systeem",quit:"Stoppen"}},tray:{menu:{bringToFront:"Naar voren brengen",quit:"Stoppen"}},appIsOutOfDateError:"Uw app is verouderd. Laad de app opnieuw om de nieuwste versie te laden om deze functie te kunnen gebruiken.",desktopAppIsOutOfDateError:"Uw desktop-app is verouderd. Upgrade naar de nieuwste versie om deze functie te kunnen gebruiken.",restartToUpdate:"Opnieuw opstarten om bij te werken",appInBackground:"{{appName}} draait op de achtergrond",ForceUpgradeBanner:{topBannerPrompt:"Er is nu een nieuwe releaseversie beschikbaar, met de gewijzigde naam RingCentral, om deze b\xe8taversie te vervangen. Download deze versie en installeer hem of vraag uw IT-afdeling naar de nieuwe versie 20.2.20."},downloadForMac:"{{appName}} voor Mac downloaden",downloadForWindows:"{{appName}} voor Windows downloaden"},"pt-BR":{menu:{app:{about:"Sobre",preferences:"Prefer\xeancias...",hide:"Ocultar",hideOthers:"Ocultar outros",unhide:"Mostrar tudo",quit:"Encerrar"},edit:{edit:"Editar",undo:"Desfazer",redo:"Refazer",cut:"Recortar",copy:"Copiar",paste:"Colar",selectAll:"Selecionar tudo"},view:{view:"Exibir",reload:"Recarregar",actualSize:"Tamanho real",zoomIn:"Ampliar",zoomOut:"Reduzir",reset:"Redefinir"},help:{help:"Ajuda"},file:{file:"Arquivo",autoStart:"Iniciar o aplicativo na inicializa\xe7\xe3o do sistema",quit:"Encerrar"}},tray:{menu:{bringToFront:"Colocar em primeiro plano",quit:"Encerrar"}},appIsOutOfDateError:"O aplicativo est\xe1 desatualizado. Recarregue-o para carregar a vers\xe3o mais recente e usar este recurso.",desktopAppIsOutOfDateError:"O aplicativo da \xe1rea de trabalho est\xe1 desatualizado. Atualize para a vers\xe3o mais recente para usar esse recurso.",restartToUpdate:"Reiniciar para atualizar",appInBackground:"{{appName}} est\xe1 sendo executado em segundo plano",ForceUpgradeBanner:{topBannerPrompt:"Uma nova vers\xe3o, renomeada como RingCentral, est\xe1 dispon\xedvel agora para substituir esta vers\xe3o beta. Fa\xe7a o download e instale ou pe\xe7a ao departamento de TI que forne\xe7a a nova vers\xe3o 20.2.20."},downloadForMac:"Baixar {{appName}} para Mac",downloadForWindows:"Baixar {{appName}} para Windows"},"pt-PT":{menu:{app:{about:"Sobre",preferences:"Prefer\xeancias...",hide:"Ocultar o",hideOthers:"Ocultar outros",unhide:"Mostrar tudo",quit:"Sair do"},edit:{edit:"Editar",undo:"Anular",redo:"Refazer",cut:"Cortar",copy:"Copiar",paste:"Colar",selectAll:"Selecionar tudo"},view:{view:"Ver",reload:"Recarregar",actualSize:"Tamanho atual",zoomIn:"Aumentar zoom",zoomOut:"Reduzir zoom",reset:"Repor"},help:{help:"Ajuda"},file:{file:"Ficheiro",autoStart:"Iniciar a aplica\xe7\xe3o no in\xedcio do sistema",quit:"Sair"}},tray:{menu:{bringToFront:"Trazer para a frente",quit:"Sair"}},appIsOutOfDateError:"A sua aplica\xe7\xe3o est\xe1 desatualizada. Recarregue a aplica\xe7\xe3o para carregar a vers\xe3o mais recente, para utilizar esta funcionalidade.",desktopAppIsOutOfDateError:"A sua aplica\xe7\xe3o para computador est\xe1 desatualizada. Atualize para a vers\xe3o mais recente para poder utilizar esta funcionalidade.",restartToUpdate:"Reiniciar para atualizar",appInBackground:"O {{appName}} est\xe1 em execu\xe7\xe3o em segundo plano",ForceUpgradeBanner:{topBannerPrompt:"Uma nova vers\xe3o, renomeada para RingCentral, est\xe1 agora dispon\xedvel para substituir esta vers\xe3o Beta. Transfira-a e instale-a ou pe\xe7a ao seu departamento de TI que forne\xe7a a nova vers\xe3o 20.2.20."},downloadForMac:"Transferir o {{appName}} para Mac",downloadForWindows:"Transferir o {{appName}} para Windows"},"zh-CN":{menu:{app:{about:"\u5173\u4e8e",preferences:"\u9996\u9009\u9879...",hide:"\u9690\u85cf",hideOthers:"\u9690\u85cf\u5176\u4ed6",unhide:"\u663e\u793a\u6240\u6709",quit:"\u9000\u51fa"},edit:{edit:"\u7f16\u8f91",undo:"\u64a4\u6d88",redo:"\u91cd\u505a",cut:"\u526a\u5207",copy:"\u590d\u5236",paste:"\u7c98\u8d34",selectAll:"\u5168\u9009"},view:{view:"\u67e5\u770b",reload:"\u91cd\u65b0\u52a0\u8f7d",actualSize:"\u5b9e\u9645\u5c3a\u5bf8",zoomIn:"\u653e\u5927",zoomOut:"\u7f29\u5c0f",reset:"\u91cd\u7f6e"},help:{help:"\u5e2e\u52a9"},file:{file:"\u6587\u4ef6",autoStart:"\u5728\u7cfb\u7edf\u542f\u52a8\u65f6\u542f\u52a8\u5e94\u7528\u7a0b\u5e8f",quit:"\u9000\u51fa"}},tray:{menu:{bringToFront:"\u79fb\u81f3\u6700\u4e0a\u65b9",quit:"\u9000\u51fa"}},appIsOutOfDateError:"\u60a8\u7684\u5e94\u7528\u5df2\u8fc7\u671f\u3002\u8bf7\u91cd\u65b0\u52a0\u8f7d\u8be5\u5e94\u7528\u4ee5\u52a0\u8f7d\u6700\u65b0\u7248\u672c\uff0c\u624d\u80fd\u4f7f\u7528\u6b64\u529f\u80fd\u3002",desktopAppIsOutOfDateError:"\u4f60\u7684\u684c\u9762\u5e94\u7528\u5df2\u8fc7\u671f\u3002\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c\uff0c\u624d\u80fd\u591f\u4f7f\u7528\u6b64\u529f\u80fd\u3002",restartToUpdate:"\u91cd\u542f\u4ee5\u66f4\u65b0",appInBackground:"{{appName}} \u6b63\u5728\u540e\u53f0\u8fd0\u884c",ForceUpgradeBanner:{topBannerPrompt:"\u73b0\u5df2\u63a8\u51fa\u91cd\u547d\u540d\u4e3a RingCentral \u7684\u65b0\u53d1\u5e03\u7248\u672c\u6765\u66ff\u4ee3\u6b64 Beta \u7248\u3002\u8bf7\u4e0b\u8f7d\u5e76\u5b89\u88c5\u6b64\u65b0\u7248\u672c\uff0c\u6216\u8bf7\u60a8\u7684 IT \u90e8\u95e8\u63d0\u4f9b\u65b0\u7248\u672c 20.2.20\u3002"},downloadForMac:"\u4e0b\u8f7d Mac \u7248 {{appName}}",downloadForWindows:"\u4e0b\u8f7d Windows \u7248 {{appName}}"},"zh-TW":{menu:{app:{about:"\u95dc\u65bc",preferences:"\u504f\u597d\u8a2d\u5b9a...",hide:"\u96b1\u85cf",hideOthers:"\u96b1\u85cf\u5176\u4ed6",unhide:"\u986f\u793a\u5168\u90e8",quit:"\u9000\u51fa"},edit:{edit:"\u7de8\u8f2f",undo:"\u5fa9\u539f",redo:"\u91cd\u505a",cut:"\u526a\u4e0b",copy:"\u8907\u88fd  ",paste:"\u8cbc\u4e0a",selectAll:"\u5168\u90e8\u9078\u53d6"},view:{view:"\u6aa2\u8996",reload:"\u91cd\u65b0\u8f09\u5165",actualSize:"\u5be6\u969b\u5927\u5c0f",zoomIn:"\u653e\u5927",zoomOut:"\u7e2e\u5c0f",reset:"\u91cd\u8a2d"},help:{help:"\u8aaa\u660e"},file:{file:"\u6a94\u6848",autoStart:"\u5728\u7cfb\u7d71\u555f\u52d5\u6642\u555f\u52d5\u61c9\u7528\u7a0b\u5f0f",quit:"\u9000\u51fa"}},tray:{menu:{bringToFront:"\u79fb\u81f3\u6700\u4e0a\u5c64",quit:"\u9000\u51fa"}},appIsOutOfDateError:"\u60a8\u7684\u61c9\u7528\u7a0b\u5f0f\u5df2\u904e\u671f\u3002\u8acb\u91cd\u65b0\u8f09\u5165\u6700\u65b0\u7248\u672c\u7684\u61c9\u7528\u7a0b\u5f0f\uff0c\u4ee5\u4f7f\u7528\u6b64\u529f\u80fd\u3002",desktopAppIsOutOfDateError:"\u60a8\u7684\u684c\u9762\u61c9\u7528\u7a0b\u5f0f\u5df2\u904e\u671f\u3002\u82e5\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8acb\u5347\u7d1a\u70ba\u6700\u65b0\u7248\u672c\u3002",restartToUpdate:"\u91cd\u65b0\u555f\u52d5\u4ee5\u66f4\u65b0",appInBackground:"{{appName}} \u6b63\u5728\u80cc\u666f\u57f7\u884c",ForceUpgradeBanner:{topBannerPrompt:"\u73fe\u5728\u53ef\u4ee5\u4f7f\u7528\u91cd\u65b0\u547d\u540d\u70ba RingCentral \u7684\u65b0\u767c\u884c\u7248\u672c\u4f86\u53d6\u4ee3\u6b64\u6e2c\u8a66\u7248\u3002\u8acb\u4e0b\u8f09\u4e26\u5b89\u88dd\u65b0\u7248\u672c\uff0c\u6216\u8981\u6c42\u60a8\u7684 IT \u90e8\u9580\u63d0\u4f9b\u65b0\u7248\u672c 20.2.20\u3002"},downloadForMac:"\u4e0b\u8f09 Mac \u7248 {{appName}}",downloadForWindows:"\u4e0b\u8f09 Windows \u7248 {{appName}}"}}},873453:e=>{e.exports={"de-DE":{leaveBlockerDialog:{title:"Nicht gespeicherte \xc4nderungen",content:"Wenn Sie jetzt abbrechen, werden alle Ihre nicht gespeicherten \xc4nderungen verworfen. M\xf6chten Sie wirklich abbrechen und Ihre \xc4nderungen verwerfen?",confirmText:"Verwerfen",cancelText:"Bearbeitung fortsetzen"}},en:{leaveBlockerDialog:{title:"Unsaved changes",content:"Leaving now will discard all unsaved changes you've made. Are you sure you want to cancel and discard?",confirmText:"Discard",cancelText:"Continue editing"}},"en-GB":{leaveBlockerDialog:{title:"Unsaved changes",content:"Leaving now will discard all unsaved changes you\u2019ve made. Are you sure you want to cancel and discard?",confirmText:"Discard",cancelText:"Continue editing"}},"es-419":{leaveBlockerDialog:{title:"Cambios sin guardar",content:"Si sale ahora, se descartar\xe1n todos los cambios que no haya guardado. \xbfEst\xe1 seguro de que desea cancelar y descartar?",confirmText:"Descartar",cancelText:"Continuar editando"}},"es-ES":{leaveBlockerDialog:{title:"Cambios sin guardar",content:"Si se marcha ahora, se descartar\xe1n todos los cambios que no haya guardado. \xbfEst\xe1 seguro de que desea cancelar y descartar?",confirmText:"Descartar",cancelText:"Continua editando"}},"fi-FI":{leaveBlockerDialog:{title:"Tallentamattomia muutoksia",content:"Jos poistut nyt, kaikki tekem\xe4si tallentamattomat muutokset hyl\xe4t\xe4\xe4n. Haluatko varmasti peruuttaa ja hyl\xe4t\xe4 muutokset?",confirmText:"Hylk\xe4\xe4",cancelText:"Jatka muokkaamista"}},"fr-CA":{leaveBlockerDialog:{title:"Modifications non enregistr\xe9es",content:"Si vous quittez maintenant, toutes les modifications non enregistr\xe9es que vous avez effectu\xe9es seront annul\xe9es. Voulez-vous vraiment annuler les modifications?",confirmText:"Jeter",cancelText:"Continuer la modification"}},"fr-FR":{leaveBlockerDialog:{title:"Modifications non enregistr\xe9es",content:"Si vous quittez maintenant, toutes les modifications non enregistr\xe9es que vous avez effectu\xe9es seront ignor\xe9es. Voulez-vous vraiment annuler et abandonner\xa0?",confirmText:"Abandonner",cancelText:"Continuer les modifications"}},"it-IT":{leaveBlockerDialog:{title:"Modifiche non salvate",content:"Se esci ora, tutte le modifiche non salvate verranno annullate. Annullare le modifiche?",confirmText:"Annulla",cancelText:"Continua la modifica"}},"ja-JP":{leaveBlockerDialog:{title:"\u5909\u66f4\u304c\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u305b\u3093",content:"\u4eca\u3053\u3053\u3092\u96e2\u308c\u308b\u3068\u4fdd\u5b58\u3057\u3066\u3044\u306a\u3044\u5909\u66f4\u306f\u3059\u3079\u3066\u7834\u68c4\u3055\u308c\u307e\u3059\u3002\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u3066\u7834\u68c4\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",confirmText:"\u7834\u68c4",cancelText:"\u7de8\u96c6\u3092\u7d9a\u884c"}},"ko-KR":{leaveBlockerDialog:{title:"\uc800\uc7a5\ub418\uc9c0 \uc54a\uc740 \ubcc0\uacbd \uc0ac\ud56d",content:"\uc9c0\uae08 \ub098\uac00\uba74 \uc800\uc7a5\ub418\uc9c0 \uc54a\uc740 \ubaa8\ub4e0 \ubcc0\uacbd \uc0ac\ud56d\uc774 \uc0ad\uc81c\ub429\ub2c8\ub2e4. \ubcc0\uacbd \ub0b4\uc6a9\uc744 \ucde8\uc18c\ud558\uace0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",confirmText:"\uc0ad\uc81c",cancelText:"\uacc4\uc18d \ud3b8\uc9d1"}},"nl-NL":{leaveBlockerDialog:{title:"Niet-opgeslagen wijzigingen",content:"Als u nu weggaat, worden alle niet-opgeslagen wijzigingen die u hebt aangebracht, verwijderd. Weet u zeker dat u wilt annuleren en verwijderen?",confirmText:"Verwijderen",cancelText:"Doorgaan met bewerken"}},"pt-BR":{leaveBlockerDialog:{title:"Altera\xe7\xf5es n\xe3o salvas",content:"Se voc\xea sair agora, todas as altera\xe7\xf5es n\xe3o salvas ser\xe3o descartadas. Tem certeza de que deseja cancelar e descartar?",confirmText:"Descartar",cancelText:"Continuar editando"}},"pt-PT":{leaveBlockerDialog:{title:"Altera\xe7\xf5es n\xe3o guardadas",content:"Ao sair agora descartar\xe1 todas as altera\xe7\xf5es realizadas que n\xe3o guardou. Tem a certeza de que pretende cancelar e descartar?",confirmText:"Descartar",cancelText:"Continuar a editar"}},"zh-CN":{leaveBlockerDialog:{title:"\u672a\u4fdd\u5b58\u7684\u66f4\u6539",content:"\u73b0\u5728\u79bb\u5f00\u5c06\u653e\u5f03\u60a8\u6240\u505a\u7684\u6240\u6709\u672a\u4fdd\u5b58\u7684\u66f4\u6539\u3002\u786e\u5b9a\u8981\u53d6\u6d88\u5e76\u653e\u5f03\u5417\uff1f",confirmText:"\u653e\u5f03",cancelText:"\u7ee7\u7eed\u7f16\u8f91"}},"zh-TW":{leaveBlockerDialog:{title:"\u672a\u5132\u5b58\u7684\u8b8a\u66f4",content:"\u73fe\u5728\u96e2\u958b\u5c07\u6703\u6368\u68c4\u6240\u6709\u672a\u5132\u5b58\u7684\u8b8a\u66f4\u3002\u60a8\u78ba\u5b9a\u8981\u53d6\u6d88\u4e26\u6368\u68c4\u8b8a\u66f4\u55ce\uff1f",confirmText:"\u6368\u68c4",cancelText:"\u7e7c\u7e8c\u7de8\u8f2f"}}}},921119:e=>{e.exports={"de-DE":{pause:"Anhalten",play:"Wiedergabe",reload:"Neu laden",setting:{playSound:"Ton abspielen",sounds:{options:{0:"Aus","2Beep":"2 Piept\xf6ne","3Beep":"3 Piept\xf6ne","air-raid-ring":"Warnsignal",Alert1:"Warnung",Alert2:"Warnung 2",Alert3:"Warnung 3","allusive-ring":"Anspielung","attention-ring":"Achtung",BingBong:"Bing Bong","blub-blub-ring":"Blub Blub",Button9:"Spritzen","buzzy-ring":"Lebhaft",Ching:"Ching","communication-channel-ring":"Kanal offen",default:"Standard","disco-ring":"Disko","door-bell-ring":"T\xfcrklingel","fab-ring":"Fee","fast-bells-ring":"Schnelle Glocken","high-gong-ring":"Hoher Gong","indeed-ring":"Wirklich",LogDrum2:"Log-Trommel","nice-ring":"Nett",PhoneRing:"Rufton","ring-ring":"Klingeln","ringing-bells-ring":"Glocken l\xe4uten","simple-ring":"Einfach",Snap:"Schnappen","soothing-ring":"Beruhigend",Whoosh:"Rauschen",Whoosh2:"Rauschen 2"}}}},en:{pause:"Pause",play:"Play",reload:"Reload",setting:{playSound:"Play sound",sounds:{options:{0:"Off","2Beep":"2 Beeps","3Beep":"3 Beeps","air-raid-ring":"Air Raid",Alert1:"Alert",Alert2:"Alert 2",Alert3:"Alert 3","allusive-ring":"Allusive","attention-ring":"Attention",BingBong:"Bing Bong","blub-blub-ring":"Blub Blub",Button9:"Squirt","buzzy-ring":"Buzzy",Ching:"Ching","communication-channel-ring":"Channel Open",default:"Default","disco-ring":"Disco","door-bell-ring":"Door Bell","fab-ring":"Fairy","fast-bells-ring":"Fast Bells","high-gong-ring":"High Gong","indeed-ring":"Indeed",LogDrum2:"Log Drum","nice-ring":"Nice",PhoneRing:"Phone Ring","ring-ring":"Ring","ringing-bells-ring":"Ringing Bells","simple-ring":"Simple",Snap:"Snap","soothing-ring":"Soothing",Whoosh:"Whoosh",Whoosh2:"Whoosh 2"}}}},"en-GB":{pause:"Pause",play:"Play",reload:"Reload",setting:{playSound:"Play sound",sounds:{options:{0:"Off","2Beep":"2 Beeps","3Beep":"3 Beeps","air-raid-ring":"Air Raid",Alert1:"Alert",Alert2:"Alert 2",Alert3:"Alert 3","allusive-ring":"Allusive","attention-ring":"Attention",BingBong:"Bing Bong","blub-blub-ring":"Blub Blub",Button9:"Squirt","buzzy-ring":"Buzzy",Ching:"Ching","communication-channel-ring":"Channel Open",default:"Default","disco-ring":"Disco","door-bell-ring":"Door Bell","fab-ring":"Fairy","fast-bells-ring":"Fast Bells","high-gong-ring":"High Gong","indeed-ring":"Indeed",LogDrum2:"Log Drum","nice-ring":"Nice",PhoneRing:"Phone Ring","ring-ring":"Ring","ringing-bells-ring":"Ringing Bells","simple-ring":"Simple",Snap:"Snap","soothing-ring":"Soothing",Whoosh:"Whoosh",Whoosh2:"Whoosh 2"}}}},"es-419":{pause:"Pausar",play:"Reproducir",reload:"Cargar de nuevo",setting:{playSound:"Reproducir sonido",sounds:{options:{0:"Desactivado","2Beep":"2\xa0pitidos","3Beep":"3\xa0pitidos","air-raid-ring":"Ataque a\xe9reo",Alert1:"Alerta",Alert2:"Alerta\xa02",Alert3:"Alerta\xa03","allusive-ring":"Alusivo","attention-ring":"Atenci\xf3n",BingBong:"Bing bong","blub-blub-ring":"Burbuja",Button9:"Agua","buzzy-ring":"Zumbido",Ching:"Chin","communication-channel-ring":"Canal abierto",default:"Predeterminado","disco-ring":"Disco","door-bell-ring":"Timbre","fab-ring":"Hada","fast-bells-ring":"Campanas ligeras","high-gong-ring":"Gong alto","indeed-ring":"Seguro",LogDrum2:"Tambor xilof\xf3nico","nice-ring":"Agradable",PhoneRing:"Tono de llamada","ring-ring":"Ring","ringing-bells-ring":"Campanas","simple-ring":"Simple",Snap:"Chasquido","soothing-ring":"Reconfortante",Whoosh:"Chirrido",Whoosh2:"Chirrido\xa02"}}}},"es-ES":{pause:"Pausar",play:"Reproducir",reload:"Volver a cargar",setting:{playSound:"Reproducir sonido",sounds:{options:{0:"Desactivado","2Beep":"2\xa0pitidos","3Beep":"3\xa0pitidos","air-raid-ring":"Ataque a\xe9reo",Alert1:"Alerta",Alert2:"Alerta\xa02",Alert3:"Alerta\xa03","allusive-ring":"Alusivo","attention-ring":"Atenci\xf3n",BingBong:"Bing Bong","blub-blub-ring":"Blub Blub",Button9:"Squirt","buzzy-ring":"Buzzy",Ching:"Ching","communication-channel-ring":"Canal abierto",default:"Predeterminado","disco-ring":"Disco","door-bell-ring":"Timbre","fab-ring":"Hada","fast-bells-ring":"Campanas ligeras","high-gong-ring":"Gong alto","indeed-ring":"Seguro",LogDrum2:"Tambor xilof\xf3nico","nice-ring":"Bonito",PhoneRing:"Sonido del tel\xe9fono","ring-ring":"Ring","ringing-bells-ring":"Campanas que suenan","simple-ring":"Simple",Snap:"Chasquido","soothing-ring":"Relajante",Whoosh:"Soplido",Whoosh2:"Soplido\xa02"}}}},"fi-FI":{pause:"Tauko",play:"Toista",reload:"Lataa uudelleen",setting:{playSound:"Toista \xe4\xe4ni",sounds:{options:{0:"Pois","2Beep":"Kaksi piippausta","3Beep":"Kolme piippausta","air-raid-ring":"Ilmah\xe4lytys",Alert1:"H\xe4lytys",Alert2:"H\xe4lytys 2",Alert3:"H\xe4lytys 3","allusive-ring":"Vihjaileva","attention-ring":"Huomio",BingBong:"Bing Bong","blub-blub-ring":"Pulpahdus",Button9:"Ruiskahdus","buzzy-ring":"Surina",Ching:"Kilahdus","communication-channel-ring":"Kanava auki",default:"Oletus","disco-ring":"Disko","door-bell-ring":"Ovikello","fab-ring":"Keijukainen","fast-bells-ring":"Nopeat kellot","high-gong-ring":"Korkea gongi","indeed-ring":"Niinp\xe4",LogDrum2:"Rakorumpu","nice-ring":"Kiva",PhoneRing:"Puhelinsoitto","ring-ring":"Soitto","ringing-bells-ring":"Soivat kellot","simple-ring":"Yksinkertainen",Snap:"Napsaus","soothing-ring":"Rauhoittava",Whoosh:"Viuhaus",Whoosh2:"Viuhaus 2"}}}},"fr-CA":{pause:"Suspendre",play:"Lecture",reload:"Recharger",setting:{playSound:"\xc9mettre un son",sounds:{options:{0:"D\xe9sactiv\xe9","2Beep":"2\xa0bips","3Beep":"3\xa0bips","air-raid-ring":"Raid a\xe9rien",Alert1:"Alerte",Alert2:"Alerte\xa02",Alert3:"Alerte\xa03","allusive-ring":"Allusif","attention-ring":"Attention",BingBong:"Bing Bong","blub-blub-ring":"Blub Blub",Button9:"Jet","buzzy-ring":"Vibration",Ching:"Ching","communication-channel-ring":"Canal ouvert",default:"Par d\xe9faut","disco-ring":"Disco","door-bell-ring":"Sonnette","fab-ring":"F\xe9e","fast-bells-ring":"Cloches Rapides","high-gong-ring":"Gong aigu","indeed-ring":"En effet",LogDrum2:"Tambour","nice-ring":"Agr\xe9able",PhoneRing:"Sonnerie de t\xe9l\xe9phone","ring-ring":"Sonnerie","ringing-bells-ring":"Cloches","simple-ring":"Simple",Snap:"Claquement de doigts","soothing-ring":"Apaisant",Whoosh:"Bruissement",Whoosh2:"Bruissement\xa02"}}}},"fr-FR":{pause:"Pause",play:"Lire",reload:"Recharger",setting:{playSound:"\xc9mettre un son",sounds:{options:{0:"D\xe9sactiv\xe9","2Beep":"2\xa0bips","3Beep":"3\xa0bips","air-raid-ring":"Raid a\xe9rien",Alert1:"Alerte",Alert2:"Alerte\xa02",Alert3:"Alerte\xa03","allusive-ring":"Allusion","attention-ring":"Attention",BingBong:"Bing Bong","blub-blub-ring":"Bloub bloub",Button9:"Pchit","buzzy-ring":"Bzzzt",Ching:"Tching","communication-channel-ring":"Canal ouvert",default:"Par d\xe9faut","disco-ring":"Disco","door-bell-ring":"Sonnette","fab-ring":"F\xe9e","fast-bells-ring":"Cloches rapides","high-gong-ring":"Gong","indeed-ring":"En effet",LogDrum2:"Tambour \xe0 fente","nice-ring":"Joli",PhoneRing:"Sonnerie de t\xe9l\xe9phone","ring-ring":"Sonnerie","ringing-bells-ring":"Cloches","simple-ring":"Simple",Snap:"Clac","soothing-ring":"Apaisant",Whoosh:"Whoouch",Whoosh2:"Whouch 2"}}}},"it-IT":{pause:"Pausa",play:"Riproduci",reload:"Ricarica",setting:{playSound:"Riproduci suono",sounds:{options:{0:"Disattivato","2Beep":"2 segnali acustici","3Beep":"3 segnali acustici","air-raid-ring":"Air Raid",Alert1:"Avviso",Alert2:"Avviso 2",Alert3:"Avviso 3","allusive-ring":"Allusive","attention-ring":"Attenzione",BingBong:"Bing Bong","blub-blub-ring":"Blub Blub",Button9:"Squirt","buzzy-ring":"Buzzy",Ching:"Ching","communication-channel-ring":"Channel Open",default:"Predefinito","disco-ring":"Disco","door-bell-ring":"Door Bell","fab-ring":"Fairy","fast-bells-ring":"Fast Bells","high-gong-ring":"High Gong","indeed-ring":"Indeed",LogDrum2:"Log Drum","nice-ring":"Nice",PhoneRing:"Phone Ring","ring-ring":"Ring","ringing-bells-ring":"Ringing Bells","simple-ring":"Simple",Snap:"Snap","soothing-ring":"Soothing",Whoosh:"Whoosh",Whoosh2:"Whoosh 2"}}}},"ja-JP":{pause:"\u4e00\u6642\u505c\u6b62",play:"\u518d\u751f",reload:"\u518d\u8aad\u307f\u8fbc\u307f",setting:{playSound:"\u97f3\u3092\u518d\u751f",sounds:{options:{0:"\u30aa\u30d5","2Beep":"\u30d3\u30fc\u30d7\u97f32\u56de","3Beep":"\u30d3\u30fc\u30d7\u97f33\u56de","air-raid-ring":"\u7a7a\u8972",Alert1:"\u30a2\u30e9\u30fc\u30c8",Alert2:"\u30a2\u30e9\u30fc\u30c82",Alert3:"\u30a2\u30e9\u30fc\u30c83","allusive-ring":"\u307b\u306e\u3081\u304b\u3057","attention-ring":"\u6ce8\u610f",BingBong:"\u30d3\u30f3\u30fb\u30dc\u30f3","blub-blub-ring":"\u30d6\u30e9\u30d6\u30fb\u30d6\u30e9\u30d6",Button9:"\u5674\u51fa","buzzy-ring":"\u30d0\u30b8\u30fc",Ching:"\u30c1\u30f3","communication-channel-ring":"\u30c1\u30e3\u30f3\u30cd\u30eb\u30aa\u30fc\u30d7\u30f3",default:"\u30c7\u30d5\u30a9\u30eb\u30c8","disco-ring":"\u30c7\u30a3\u30b9\u30b3","door-bell-ring":"\u30c9\u30a2\u30d9\u30eb","fab-ring":"\u5996\u7cbe","fast-bells-ring":"\u901f\u3044\u9418","high-gong-ring":"\u30cf\u30a4\u30b4\u30f3\u30b0","indeed-ring":"\u78ba\u304b\u306b",LogDrum2:"\u30ed\u30b0\u30c9\u30e9\u30e0","nice-ring":"\u3044\u3044\u306d",PhoneRing:"\u96fb\u8a71\u306e\u30d9\u30eb","ring-ring":"\u30d9\u30eb\u306e\u97f3","ringing-bells-ring":"\u9cf4\u308b\u9418","simple-ring":"\u30b7\u30f3\u30d7\u30eb",Snap:"\u30b9\u30ca\u30c3\u30d7","soothing-ring":"\u7652\u3057",Whoosh:"\u30d2\u30e5\u30fc",Whoosh2:"\u30d2\u30e5\u30fc\u30b7\u30e52"}}}},"ko-KR":{pause:"\uc77c\uc2dc \uc911\uc9c0",play:"\uc7ac\uc0dd",reload:"\ub2e4\uc2dc \ub85c\ub4dc",setting:{playSound:"\uc18c\ub9ac \uc7ac\uc0dd",sounds:{options:{0:"\ub044\uae30","2Beep":"\uacbd\uace0\uc74c 2\ud68c","3Beep":"\uacbd\uace0\uc74c 3\ud68c","air-raid-ring":"\uacf5\uc2b5 \uacbd\ubcf4\uc74c",Alert1:"\uacbd\uace0",Alert2:"\uacbd\uace0 2",Alert3:"\uacbd\uace0 3","allusive-ring":"\uc554\uc2dc\uc801 \ub290\ub08c\uc758 \uc18c\ub9ac","attention-ring":"\uc8fc\uc758",BingBong:"\ube59\ubd09","blub-blub-ring":"\uc6b0\ub294 \uc18c\ub9ac",Button9:"\ucc0d","buzzy-ring":"\uc719\uc719 \uc18c\ub9ac",Ching:"\uce6d","communication-channel-ring":"\ucc44\ub110 \uc5f4\uae30",default:"\uae30\ubcf8\uac12","disco-ring":"\ub514\uc2a4\ucf54","door-bell-ring":"\ucd08\uc778\uc885 \uc18c\ub9ac","fab-ring":"\uc694\uc815 \uc18c\ub9ac","fast-bells-ring":"\ube60\ub978 \ubca8\uc18c\ub9ac","high-gong-ring":"\uace0\uc74c \uc9d5","indeed-ring":"\uc815\ub9d0",LogDrum2:"\ud1b5\ub098\ubb34 \ub4dc\ub7fc","nice-ring":"\uc88b\uc74c",PhoneRing:"\uc804\ud654 \ubca8\uc18c\ub9ac","ring-ring":"\ubca8\uc18c\ub9ac","ringing-bells-ring":"\uc6b8\ub9ac\ub294 \uc885","simple-ring":"\ub2e8\uc21c",Snap:"\uc2a4\ub0c5","soothing-ring":"\uae30\ubd84\uc744 \uc548\uc815\uc2dc\ud0a4\ub294 \uc18c\ub9ac",Whoosh:"\uc26c\uc775",Whoosh2:"\uc26c\uc775 2"}}}},"nl-NL":{pause:"Pauzeren",play:"Afspelen",reload:"Opnieuw laden",setting:{playSound:"Geluid afspelen",sounds:{options:{0:"Uit","2Beep":"2 pieptonen","3Beep":"3 pieptonen","air-raid-ring":"Air Raid",Alert1:"Waarschuwing",Alert2:"Waarschuwing 2",Alert3:"Waarschuwing 3","allusive-ring":"Allusive","attention-ring":"Let op",BingBong:"Bing Bong","blub-blub-ring":"Blub Blub",Button9:"Squirt","buzzy-ring":"Buzzy",Ching:"Ching","communication-channel-ring":"Kannaal openen",default:"Standaard","disco-ring":"Disco","door-bell-ring":"Door Bell","fab-ring":"Fairy","fast-bells-ring":"Fast Bells","high-gong-ring":"High Gong","indeed-ring":"Indeed",LogDrum2:"Log Drum","nice-ring":"Nice",PhoneRing:"Beltoon telefoon","ring-ring":"Ring","ringing-bells-ring":"Ringing Bells","simple-ring":"Simpel",Snap:"Snap","soothing-ring":"Soothing",Whoosh:"Whoosh",Whoosh2:"Whoosh 2"}}}},"pt-BR":{pause:"Pausar",play:"Reproduzir",reload:"Recarregar",setting:{playSound:"Reproduzir som",sounds:{options:{0:"Desativado","2Beep":"2 bipes","3Beep":"3 bipes","air-raid-ring":"Ataque a\xe9reo",Alert1:"Alerta",Alert2:"Alerta 2",Alert3:"Alerta 3","allusive-ring":"Alusivo","attention-ring":"Aten\xe7\xe3o",BingBong:"Bing Bong","blub-blub-ring":"Blub Blub",Button9:"Esguicho","buzzy-ring":"Buzzy",Ching:"Ching","communication-channel-ring":"Canal aberto",default:"Padr\xe3o","disco-ring":"Discoteca","door-bell-ring":"Campainha da porta","fab-ring":"Fada","fast-bells-ring":"Sinos r\xe1pidos","high-gong-ring":"Gong alto","indeed-ring":"De fato",LogDrum2:"Log Drum","nice-ring":"Legal",PhoneRing:"Toque de telefone","ring-ring":"Toque","ringing-bells-ring":"Sinos tocando","simple-ring":"Simples",Snap:"Estalo","soothing-ring":"Tranquilizante",Whoosh:"Chicotada",Whoosh2:"Chicotada 2"}}}},"pt-PT":{pause:"Pausa",play:"Reproduzir",reload:"Recarregar",setting:{playSound:"Reproduzir som",sounds:{options:{0:"Desligado","2Beep":"2 bipes","3Beep":"3 bipes","air-raid-ring":"Ataque a\xe9reo",Alert1:"Alerta",Alert2:"Alerta 2",Alert3:"Alerta 3","allusive-ring":"Alusivo","attention-ring":"Aten\xe7\xe3o",BingBong:"Bing Bong","blub-blub-ring":"Blub Blub",Button9:"Esguicho","buzzy-ring":"Zumbido",Ching:"Ching","communication-channel-ring":"Canal Aberto",default:"Predefini\xe7\xe3o","disco-ring":"Discoteca","door-bell-ring":"Campainha de porta","fab-ring":"Fada","fast-bells-ring":"Sinos r\xe1pidos","high-gong-ring":"Gongo alto","indeed-ring":"Realmente",LogDrum2:"Tambor","nice-ring":"Agrad\xe1vel",PhoneRing:"Toque do telefone","ring-ring":"Campainha","ringing-bells-ring":"Sinos a tocar","simple-ring":"Simples",Snap:"Estalo","soothing-ring":"Calmante",Whoosh:"Sopro",Whoosh2:"Sopro 2"}}}},"zh-CN":{pause:"\u6682\u505c",play:"\u64ad\u653e",reload:"\u91cd\u65b0\u52a0\u8f7d",setting:{playSound:"\u64ad\u653e\u58f0\u97f3",sounds:{options:{0:"\u5173\u95ed","2Beep":"2 \u58f0\u561f\u561f\u58f0","3Beep":"3 \u58f0\u561f\u561f\u58f0","air-raid-ring":"\u7a7a\u88ad\u58f0",Alert1:"\u63d0\u9192",Alert2:"\u63d0\u9192 2",Alert3:"\u63d0\u9192 3","allusive-ring":"\u9690\u55bb","attention-ring":"\u8b66\u793a",BingBong:"\u4e52\u4e53\u58f0","blub-blub-ring":"\u5657\u5657\u58f0",Button9:"\u55b7\u5c04\u58f0","buzzy-ring":"\u55e1\u55e1\u58f0",Ching:"\u53ee\u53ee\u58f0","communication-channel-ring":"\u9891\u9053\u5f00\u653e",default:"\u9ed8\u8ba4","disco-ring":"\u8fea\u65af\u79d1","door-bell-ring":"\u95e8\u94c3","fab-ring":"\u7cbe\u7075","fast-bells-ring":"\u5feb\u62cd\u949f\u58f0","high-gong-ring":"\u9ad8\u97f3\u9523","indeed-ring":"\u771f\u5b9e",LogDrum2:"\u6728\u9f13","nice-ring":"\u52a8\u542c",PhoneRing:"\u7535\u8bdd\u94c3\u58f0","ring-ring":"\u94c3\u58f0","ringing-bells-ring":"\u54cd\u94c3","simple-ring":"\u7b80\u5355",Snap:"\u5494\u5693\u58f0","soothing-ring":"\u8212\u7f13",Whoosh:"\u5636\u5636\u58f0",Whoosh2:"\u5636\u5636\u58f0 2"}}}},"zh-TW":{pause:"\u66ab\u505c",play:"\u64ad\u653e",reload:"\u91cd\u65b0\u8f09\u5165",setting:{playSound:"\u64ad\u653e\u97f3\u6548",sounds:{options:{0:"\u95dc\u9589","2Beep":"2 \u8072\u55f6\u55f6\u8072","3Beep":"3 \u8072\u55f6\u55f6\u8072","air-raid-ring":"\u7a7a\u8972\u8072",Alert1:"\u8b66\u793a\u8072",Alert2:"\u8b66\u793a\u8072 2",Alert3:"\u8b66\u793a\u8072 3","allusive-ring":"\u6697\u793a\u8072","attention-ring":"\u6ce8\u610f\u8072",BingBong:"\u4e52\u4e53\u8072","blub-blub-ring":"\u5495\u5695\u8072",Button9:"\u5674\u5c04\u8072","buzzy-ring":"\u55e1\u55e1\u8072",Ching:"\u53ee\u8072","communication-channel-ring":"\u983b\u9053\u958b\u653e",default:"\u9810\u8a2d","disco-ring":"\u8fea\u65af\u53ef","door-bell-ring":"\u9580\u9234\u8072","fab-ring":"\u5c0f\u7cbe\u9748","fast-bells-ring":"\u5feb\u901f\u9418\u8072","high-gong-ring":"\u9cf4\u947c\u8072","indeed-ring":"\u5f37\u8abf\u8072",LogDrum2:"\u6728\u9f13\u8072","nice-ring":"\u6109\u6085",PhoneRing:"\u96fb\u8a71\u9234\u8072","ring-ring":"\u9234\u8072","ringing-bells-ring":"\u9234\u97ff","simple-ring":"\u7c21\u55ae",Snap:"\u5580\u5693\u8072","soothing-ring":"\u7642\u7652",Whoosh:"\u98bc\u98bc\u8072",Whoosh2:"\u98bc\u98bc\u8072 2"}}}}}},862940:e=>{e.exports={"de-DE":{edit:"Bearbeiten",Settings:"Einstellungen",playSound:"Ton abspielen",audioSource:{microphonePermissionBlocked:"Um diese Funktion zu nutzen, gehen Sie zu Ihren Browsereinstellungen, damit {{appName}} auf das Mikrofon zugreifen kann.",microphoneSource:{description:"Aktualisieren Sie Ihre Mikrofonquelle f\xfcr {{appName}}-Sprachverbindungen",label:"Mikrofonquelle"},ringerSource:{description:"Aktualisieren Sie Ihre Klingeltonquelle f\xfcr {{appName}}-{{callSource}}-Anrufe",label:"Klingeltonquelle",callSource:{voice:"Voice",video:"Video",voiceAndVideo:"Sprach- und Videoanrufe"}},speakerSource:{description:"Aktualisieren Sie Ihre Lautsprecherquelle f\xfcr {{appName}}-Sprachverbindungen",label:"Lautsprecherquelle"},title:"Audioquellen",volume:{description:"Aktualisieren des App-Volumes",descriptionForAria:"Verwenden Sie den Pfeil nach links oder rechts, um die Lautst\xe4rke zu \xe4ndern",label:"Lautst\xe4rkeregelung"}},contactsCalendars:{title:{calendars:"Kalender",contacts:"Kontakte",contactsAndCalendars:"Kalender und Kontakte"}},general:"Allgemein",notificationAndSounds:{title:"Benachrichtigungen und T\xf6ne",sounds:{options:{0:"Aus","2Beep":"2 Piept\xf6ne","3Beep":"3 Piept\xf6ne",Alert1:"Warnung",Alert2:"Warnung 2",Alert3:"Warnung 3",BingBong:"Bing Bong",Ching:"Ching",LogDrum2:"Log-Trommel",Snap:"Schnappschuss",Button9:"Spritzen",Whoosh:"Rauschen",Whoosh2:"Rauschen 2",default:"Standard",PhoneRing:"Rufton","air-raid-ring":"Warnsignal","allusive-ring":"Anspielung","attention-ring":"Achtung","blub-blub-ring":"Blub Blub","buzzy-ring":"Lebhaft","communication-channel-ring":"Kanal offen","disco-ring":"Disko","door-bell-ring":"T\xfcrklingel","fab-ring":"Fee","fast-bells-ring":"Schnelle Glocken","high-gong-ring":"Hoher Gong","indeed-ring":"Wirklich","nice-ring":"Nett","ringing-bells-ring":"Glocken l\xe4uten","ring-ring":"Klingeln","simple-ring":"Einfach","soothing-ring":"Beruhigend"}},desktopNotifications:{title:"Desktop-Benachrichtigungen",notificationsForBrowser:{label:"Browser-Benachrichtigungen",description:"Erhalten Sie Benachrichtigungen in Ihrem Webbrowser (Browserberechtigung erforderlich)"},notificationOnFocus:{label:"Benachrichtigungen immer anzeigen, wenn sich die App im Vordergrund befindet",description:"Erhalten Sie Benachrichtigungen, auch wenn sich die App im Vordergrund befindet und verwendet wird"},flashAppIcon:{label:"Blinkendes App-Symbol",description:"Blinkendes App-Symbol bei Erhalt einer Benachrichtigung"},bounceAppIcon:{label:"Wechselndes App-Symbol",description:"Wechselndes App-Symbol im Dock bei Erhalt einer Benachrichtigung",options:{bounce_always:"Kontinuierlich wechseln",bounce_once:"Einmal wechseln",off:"Aus"}}},emailNotifications:{title:"E-Mail-Benachrichtigungen"}},shortcuts:{title:"Tastenkombinationen"},sounds:{title:"T\xf6ne"},useDefault:"Standard",noDevices:"Keine Ger\xe4te",allDevices:"Alle Audioquellen",off:"Aus",microphone:"Mikrofon",speaker:"Lautsprecher",errorText:{server:"Leider ist bei uns etwas schiefgelaufen und wir sind nicht in der Lage, Ihre Einstellungen zu speichern. Versuchen Sie es sp\xe4ter erneut.",network:"Wir waren nicht in der Lage, Ihre Einstellungen zu speichern. \xdcberpr\xfcfen Sie Ihre Netzwerkverbindung und versuchen Sie es dann erneut.",forLink:"Leider ist bei uns etwas schiefgelaufen und wir waren nicht in der Lage, die Seite zu \xf6ffnen. Versuchen Sie es sp\xe4ter erneut."},common:{button:{ariaToggleOn:"Ein, zum Ausschalten anklicken",ariaToggleOff:"Aus, zum Einschalten anklicken"}},notification:{notificationEnabled:"Benachrichtigungen sind nun aktiviert.",notificationPermissionBlocked:"Sie haben derzeit Desktop-Benachrichtigungen f\xfcr {{appName}} deaktiviert. Aktualisieren Sie Ihre Browsereinstellungen, um Desktop-Benachrichtigungen zuzulassen."}},en:{edit:"Edit",Settings:"Settings",playSound:"Play sound",audioSource:{microphonePermissionBlocked:"To use this function, go to your browser settings to allow {{appName}} to access microphone.",microphoneSource:{description:"Update your microphone source for {{appName}} voice calls",label:"Microphone source"},ringerSource:{description:"Update your ringer source for {{appName}} {{callSource}} calls",label:"Ringer source",callSource:{voice:"voice",video:"video",voiceAndVideo:"voice and video"}},speakerSource:{description:"Update your speaker source for {{appName}} voice calls",label:"Speaker source"},title:"Audio sources",volume:{description:"Update the app volume",descriptionForAria:"use left or right arrow to change the volume",label:"Volume control"}},contactsCalendars:{title:{calendars:"Calendars",contacts:"Contacts",contactsAndCalendars:"Calendars and contacts"}},general:"General",notificationAndSounds:{title:"Notifications and sounds",sounds:{options:{0:"Off","2Beep":"2 Beeps","3Beep":"3 Beeps",Alert1:"Alert",Alert2:"Alert 2",Alert3:"Alert 3",BingBong:"Bing Bong",Ching:"Ching",LogDrum2:"Log Drum",Snap:"Snap",Button9:"Squirt",Whoosh:"Whoosh",Whoosh2:"Whoosh 2",default:"Default",PhoneRing:"Phone Ring","air-raid-ring":"Air Raid","allusive-ring":"Allusive","attention-ring":"Attention","blub-blub-ring":"Blub Blub","buzzy-ring":"Buzzy","communication-channel-ring":"Channel Open","disco-ring":"Disco","door-bell-ring":"Door Bell","fab-ring":"Fairy","fast-bells-ring":"Fast Bells","high-gong-ring":"High Gong","indeed-ring":"Indeed","nice-ring":"Nice","ringing-bells-ring":"Ringing Bells","ring-ring":"Ring","simple-ring":"Simple","soothing-ring":"Soothing"}},desktopNotifications:{title:"Desktop notifications",notificationsForBrowser:{label:"Browser notifications",description:"Receive notifications in your web browser (browser permission needed)"},notificationOnFocus:{label:"Always show notifications when the app is in the foreground",description:"Receive notifications even when the app is in the foreground and in use"},flashAppIcon:{label:"Flash app icon",description:"Flash the app icon when receiving a notification"},bounceAppIcon:{label:"Bounce app icon",description:"Bounce the app icon in the dock when receiving a notification",options:{bounce_always:"Bounce continuously",bounce_once:"Bounce once",off:"Off"}}},emailNotifications:{title:"Email notifications"}},shortcuts:{title:"Keyboard shortcuts"},sounds:{title:"Sounds"},useDefault:"Default",noDevices:"No devices",allDevices:"All audio sources",off:"Off",microphone:"Microphone",speaker:"Speaker",errorText:{server:"Sorry, something went wrong on our end and we weren't able to save your settings. Try again later.",network:"We weren't able to save your settings. Check your network connection, then try again.",forLink:"Sorry, something went wrong on our end and we weren't able to open the page. Try again later."},common:{button:{ariaToggleOn:"On, click to turn off",ariaToggleOff:"Off, click to turn on"}},notification:{notificationEnabled:"Notifications are now enabled.",notificationPermissionBlocked:"You currently have desktop notifications for {{appName}} turned off. Update your browser settings to allow desktop notifications."}},"en-GB":{edit:"Edit",Settings:"Settings",playSound:"Play sound",audioSource:{microphonePermissionBlocked:"To use this function, go to your browser settings to allow {{appName}} to access microphone.",microphoneSource:{description:"Update your microphone source for {{appName}} voice calls",label:"Microphone source"},ringerSource:{description:"Update your ringer source for {{appName}} {{callSource}} calls",label:"Ringer source",callSource:{voice:"voice",video:"video",voiceAndVideo:"voice and video"}},speakerSource:{description:"Update your speaker source for {{appName}} voice calls",label:"Speaker source"},title:"Audio sources",volume:{description:"Update the app volume",descriptionForAria:"use the left or right arrow to change the volume",label:"Volume control"}},contactsCalendars:{title:{calendars:"Calendars",contacts:"Contacts",contactsAndCalendars:"Calendars and contacts"}},general:"General",notificationAndSounds:{title:"Notifications and sounds",sounds:{options:{0:"Off","2Beep":"2 Beeps","3Beep":"3 Beeps",Alert1:"Alert",Alert2:"Alert 2",Alert3:"Alert 3",BingBong:"Bing Bong",Ching:"Ching",LogDrum2:"Log Drum",Snap:"Snap",Button9:"Squirt",Whoosh:"Whoosh",Whoosh2:"Whoosh 2",default:"Default",PhoneRing:"Phone Ring","air-raid-ring":"Air Raid","allusive-ring":"Allusive","attention-ring":"Attention","blub-blub-ring":"Blub Blub","buzzy-ring":"Buzzy","communication-channel-ring":"Channel Open","disco-ring":"Disco","door-bell-ring":"Door Bell","fab-ring":"Fairy","fast-bells-ring":"Fast Bells","high-gong-ring":"High Gong","indeed-ring":"Indeed","nice-ring":"Nice","ringing-bells-ring":"Ringing Bells","ring-ring":"Ring","simple-ring":"Simple","soothing-ring":"Soothing"}},desktopNotifications:{title:"Desktop notifications",notificationsForBrowser:{label:"Browser notifications",description:"Receive notifications in your web browser (browser permission needed)"},notificationOnFocus:{label:"Always show notifications when the app is in the foreground",description:"Receive notifications even when the app is in the foreground and in use"},flashAppIcon:{label:"Flash app icon",description:"Flash the app icon when receiving a notification"},bounceAppIcon:{label:"Bounce app icon",description:"Bounce the app icon in the dock when receiving a notification",options:{bounce_always:"Bounce continuously",bounce_once:"Bounce once",off:"Off"}}},emailNotifications:{title:"Email notifications"}},shortcuts:{title:"Keyboard shortcuts"},sounds:{title:"Sounds"},useDefault:"Default",noDevices:"No devices",allDevices:"All audio sources",off:"Off",microphone:"Microphone",speaker:"Speaker",errorText:{server:"Sorry, something went wrong on our end and we weren\u2019t able to save your settings. Try again later.",network:"We weren\u2019t able to save your settings. Check your network connection and then try again.",forLink:"Sorry, something went wrong on our end and we weren\u2019t able to open the page. Try again later."},common:{button:{ariaToggleOn:"On, click to turn off",ariaToggleOff:"Off, click to turn on"}},notification:{notificationEnabled:"Notifications are now enabled.",notificationPermissionBlocked:"You currently have desktop notifications for {{appName}} turned off. Update your browser settings to allow desktop notifications."}},"es-419":{edit:"Editar",Settings:"Config.",playSound:"Reproducir sonido",audioSource:{microphonePermissionBlocked:"Para usar esta funci\xf3n, vaya a la configuraci\xf3n de su navegador y permita que {{appName}} acceda al micr\xf3fono.",microphoneSource:{description:"Actualice el origen de micr\xf3fono para llamadas de voz de {{appName}}",label:"Origen de micr\xf3fono"},ringerSource:{description:"Actualice el origen de timbre para las llamadas de {{appName}} de {{callSource}}",label:"Origen del timbre",callSource:{voice:"voz",video:"video",voiceAndVideo:"voz y video"}},speakerSource:{description:"Actualice el origen de altavoz para llamadas de voz de {{appName}}",label:"Origen de altavoz"},title:"Origen de audio",volume:{description:"Actualizar el volumen de la aplicaci\xf3n",descriptionForAria:"use la flecha izquierda o derecha para cambiar el volumen",label:"Control de volumen"}},contactsCalendars:{title:{calendars:"Calendarios",contacts:"Contactos",contactsAndCalendars:"Calendarios y contactos"}},general:"General",notificationAndSounds:{title:"Notificaciones y sonidos",sounds:{options:{0:"Desactivado","2Beep":"2\xa0pitidos","3Beep":"3\xa0pitidos",Alert1:"Alerta",Alert2:"Alerta\xa02",Alert3:"Alerta\xa03",BingBong:"Bing bong",Ching:"Chin",LogDrum2:"Tambor xilof\xf3nico",Snap:"Chasquido",Button9:"Agua",Whoosh:"Chirrido",Whoosh2:"Chirrido\xa02",default:"Predeterminado",PhoneRing:"Tono de llamada","air-raid-ring":"Ataque a\xe9reo","allusive-ring":"Alusivo","attention-ring":"Atenci\xf3n","blub-blub-ring":"Burbuja","buzzy-ring":"Zumbido","communication-channel-ring":"Canal abierto","disco-ring":"Disco","door-bell-ring":"Timbre","fab-ring":"Hada","fast-bells-ring":"Campanas ligeras","high-gong-ring":"Gong alto","indeed-ring":"Seguro","nice-ring":"Agradable","ringing-bells-ring":"Campanas","ring-ring":"Ring","simple-ring":"Simple","soothing-ring":"Reconfortante"}},desktopNotifications:{title:"Notificaciones de escritorio",notificationsForBrowser:{label:"Notificaciones del navegador",description:"Reciba notificaciones en su navegador web (se necesita permiso del navegador)"},notificationOnFocus:{label:"Mostrar siempre notificaciones cuando la aplicaci\xf3n est\xe9 en primer plano",description:"Reciba notificaciones incluso cuando la aplicaci\xf3n est\xe9 en primer plano y en uso"},flashAppIcon:{label:"Icono de la aplicaci\xf3n con destello",description:"El icono de la aplicaci\xf3n destella al recibir una notificaci\xf3n"},bounceAppIcon:{label:"Icono de la aplicaci\xf3n con rebotes",description:"El icono de la aplicaci\xf3n rebota en la base al recibir una notificaci\xf3n",options:{bounce_always:"Rebotar continuamente",bounce_once:"Rebotar una vez",off:"Desactivado"}}},emailNotifications:{title:"Notificaciones por correo electr\xf3nico"}},shortcuts:{title:"Accesos directos del teclado"},sounds:{title:"Sonidos"},useDefault:"Predeterminado",noDevices:"No hay dispositivos",allDevices:"Todos los or\xedgenes de audio",off:"Desactivado",microphone:"Micr\xf3fono",speaker:"Altavoz",errorText:{server:"Algo sali\xf3 mal y no pudimos guardar su configuraci\xf3n. Vuelva a intentarlo m\xe1s tarde.",network:"No pudimos guardar su configuraci\xf3n. Verifique su conexi\xf3n de red y vuelva a intentarlo.",forLink:"Cometimos un error y no pudimos abrir la p\xe1gina. Vuelva a intentarlo m\xe1s tarde."},common:{button:{ariaToggleOn:"Activado, haga clic para desactivar",ariaToggleOff:"Desactivado, haga clic para activar"}},notification:{notificationEnabled:"Las notificaciones ahora est\xe1n activadas.",notificationPermissionBlocked:"Actualmente tiene las notificaciones de escritorio para {{appName}} desactivadas. Actualice la configuraci\xf3n de su navegador para permitir las notificaciones de escritorio."}},"es-ES":{edit:"Editar",Settings:"Configuraci\xf3n",playSound:"Reproducir sonido",audioSource:{microphonePermissionBlocked:"Para usar esta funci\xf3n, vaya a la configuraci\xf3n de su navegador y permita que {{appName}} acceda al micr\xf3fono.",microphoneSource:{description:"Actualice su fuente de micr\xf3fono para {{appName}} llamadas de voz ",label:"Fuente de micr\xf3fono"},ringerSource:{description:"Actualice su fuente de timbre para {{appName}} {{callSource}} llamadas de voz",label:"Fuente de timbre",callSource:{voice:"voz",video:"v\xeddeo",voiceAndVideo:"voz y v\xeddeo"}},speakerSource:{description:"Actualice su fuente de altavoz para {{appName}} llamadas de voz",label:"Fuente de altavoz"},title:"Fuentes de audio",volume:{description:"Actualizar el volumen de la aplicaci\xf3n",descriptionForAria:"Use la flecha izquierda o derecha para cambiar el volumen",label:"Control de volumen"}},contactsCalendars:{title:{calendars:"Calendarios",contacts:"Contactos",contactsAndCalendars:"Calendarios y contactos"}},general:"General",notificationAndSounds:{title:"Notificaciones y sonidos",sounds:{options:{0:"Desactivado","2Beep":"2\xa0pitidos","3Beep":"3\xa0pitidos",Alert1:"Alerta",Alert2:"Alerta\xa02",Alert3:"Alerta\xa03",BingBong:"Bing Bong",Ching:"Ching",LogDrum2:"Tambor xilof\xf3nico",Snap:"Chasquido",Button9:"Squirt",Whoosh:"Soplido",Whoosh2:"Soplido\xa02",default:"Predeterminado",PhoneRing:"Sonido del tel\xe9fono","air-raid-ring":"Ataque a\xe9reo","allusive-ring":"Alusivo","attention-ring":"Atenci\xf3n","blub-blub-ring":"Blub Blub","buzzy-ring":"Buzzy","communication-channel-ring":"Canal abierto","disco-ring":"Disco","door-bell-ring":"Timbre","fab-ring":"Hada","fast-bells-ring":"Campanas ligeras","high-gong-ring":"Gong alto","indeed-ring":"Seguro","nice-ring":"Bonito","ringing-bells-ring":"Campanas que suenan","ring-ring":"Ring","simple-ring":"Simple","soothing-ring":"Relajante"}},desktopNotifications:{title:"Notificaciones de escritorio",notificationsForBrowser:{label:"Notificaciones del navegador",description:"Recibir notificaciones en el navegador web (se necesita permiso del navegador)"},notificationOnFocus:{label:"Mostrar siempre notificaciones cuando la aplicaci\xf3n est\xe9 en primer plano",description:"Recibir notificaciones incluso cuando la aplicaci\xf3n est\xe9 en primer plano y en uso"},flashAppIcon:{label:"Icono de la aplicaci\xf3n con destello",description:"Con esta opci\xf3n, el icono de la aplicaci\xf3n hace un destello al recibir una notificaci\xf3n"},bounceAppIcon:{label:"Icono de la aplicaci\xf3n con rebote",description:"Con esta opci\xf3n, el icono de la aplicaci\xf3n hace un rebote en el dock al recibir una notificaci\xf3n",options:{bounce_always:"Rebotar continuamente",bounce_once:"Rebotar una vez",off:"Desactivado"}}},emailNotifications:{title:"Notificaciones por correo electr\xf3nico"}},shortcuts:{title:"Accesos directos del teclado"},sounds:{title:"Sonidos"},useDefault:"Predeterminado",noDevices:"No hay dispositivos",allDevices:"Todas las fuentes de audio",off:"Desactivado",microphone:"Micr\xf3fono",speaker:"Altavoz",errorText:{server:"Lo sentimos, se produjo un error y no pudimos guardar su configuraci\xf3n. Vuelva a intentarlo m\xe1s tarde.",network:"No pudimos guardar su configuraci\xf3n. Compruebe su conexi\xf3n de red y vuelva a intentarlo.",forLink:"Lo sentimos, se produjo un error y no pudimos abrir la p\xe1gina. Vuelva a intentarlo m\xe1s tarde."},common:{button:{ariaToggleOn:"Activado, haga clic para desactivar",ariaToggleOff:"Desactivado, haga clic para activar"}},notification:{notificationEnabled:"Las notificaciones est\xe1n ahora habilitadas.",notificationPermissionBlocked:"Actualmente tiene las notificaciones de escritorio para {{appName}} desactivadas. Actualice la configuraci\xf3n de su navegador para permitir las notificaciones de escritorio."}},"fi-FI":{edit:"Muokkaa",Settings:"Asetukset",playSound:"Toista \xe4\xe4ni",audioSource:{microphonePermissionBlocked:"Avaa selaimesi asetukset ja valitse, ett\xe4 {{appName}} saa k\xe4ytt\xe4\xe4 mikrofonia, jotta voit k\xe4ytt\xe4\xe4 t\xe4t\xe4 toimintoa.",microphoneSource:{description:"P\xe4ivit\xe4 mikrofonil\xe4hde sovelluksen {{appName}} \xe4\xe4nipuheluille.",label:"Mikrofonil\xe4hde"},ringerSource:{description:"P\xe4ivit\xe4 soitto\xe4\xe4nil\xe4hde sovelluksen {{appName}} tyypin {{callSource}} puheluille.",label:"Soitto\xe4\xe4nil\xe4hde",callSource:{voice:"\xe4\xe4ni",video:"video",voiceAndVideo:"\xe4\xe4ni ja video"}},speakerSource:{description:"P\xe4ivit\xe4 kaiutinl\xe4hde sovelluksen {{appName}} \xe4\xe4nipuheluille.",label:"Kaiutinl\xe4hde"},title:"\xc4\xe4nil\xe4hteet",volume:{description:"P\xe4ivit\xe4 sovelluksen \xe4\xe4nenvoimakkuus.",descriptionForAria:"muuta \xe4\xe4nenvoimakkuutta k\xe4ytt\xe4m\xe4ll\xe4 vasenta tai oikeaa nuolta",label:"\xc4\xe4nenvoimakkuuden s\xe4\xe4din"}},contactsCalendars:{title:{calendars:"Kalenterit",contacts:"Yhteystiedot",contactsAndCalendars:"Kalenterit ja yhteystiedot"}},general:"Yleiset",notificationAndSounds:{title:"Ilmoitukset ja \xe4\xe4net",sounds:{options:{0:"Pois","2Beep":"Kaksi piippausta","3Beep":"Kolme piippausta",Alert1:"H\xe4lytys",Alert2:"H\xe4lytys 2",Alert3:"H\xe4lytys 3",BingBong:"Bing Bong",Ching:"Kilahdus",LogDrum2:"Rakorumpu",Snap:"Napsaus",Button9:"Ruiskahdus",Whoosh:"Viuhaus",Whoosh2:"Viuhaus 2",default:"Oletus",PhoneRing:"Puhelinsoitto","air-raid-ring":"Ilmah\xe4lytys","allusive-ring":"Vihjaileva","attention-ring":"Huomio","blub-blub-ring":"Pulpahdus","buzzy-ring":"Surina","communication-channel-ring":"Kanava auki","disco-ring":"Disko","door-bell-ring":"Ovikello","fab-ring":"Keijukainen","fast-bells-ring":"Nopeat kellot","high-gong-ring":"Korkea gongi","indeed-ring":"Niinp\xe4","nice-ring":"Kiva","ringing-bells-ring":"Soivat kellot","ring-ring":"Soitto","simple-ring":"Yksinkertainen","soothing-ring":"Rauhoittava"}},desktopNotifications:{title:"Ty\xf6p\xf6yt\xe4ilmoitukset",notificationsForBrowser:{label:"Selainilmoitukset",description:"Vastaanota ilmoituksia verkkoselaimessa (edellytt\xe4\xe4 selaimen k\xe4ytt\xf6lupaa)"},notificationOnFocus:{label:"N\xe4yt\xe4 ilmoituksia aina, kun sovellus on etualalla",description:"Vastaanota ilmoituksia, vaikka sovellus olisi etualalla ja k\xe4yt\xf6ss\xe4"},flashAppIcon:{label:"Vilkkuva sovelluskuvake",description:"Sovelluskuvake vilkkuu, kun saat ilmoituksen"},bounceAppIcon:{label:"Ponnahtava sovelluskuvake",description:"Sovelluskuvake ponnahtaa telakkaan, kun saat ilmoituksen",options:{bounce_always:"Ponnauta toistuvasti",bounce_once:"Ponnauta kerran",off:"Pois"}}},emailNotifications:{title:"S\xe4hk\xf6posti-ilmoitukset"}},shortcuts:{title:"Pikan\xe4pp\xe4imet"},sounds:{title:"\xc4\xe4net"},useDefault:"Oletus",noDevices:"Ei laitteita",allDevices:"Kaikki \xe4\xe4nil\xe4hteet",off:"Pois",microphone:"Mikrofoni",speaker:"Kaiutin",errorText:{server:"Jotakin meni vikaan, ja asetusten tallentaminen ep\xe4onnistui. Yrit\xe4 my\xf6hemmin uudelleen.",network:"Asetusten tallentaminen ep\xe4onnistui. Tarkista verkkoyhteys ja yrit\xe4 uudelleen.",forLink:"Jotakin meni vikaan, ja sivun avaaminen ep\xe4onnistui. Yrit\xe4 my\xf6hemmin uudelleen."},common:{button:{ariaToggleOn:"K\xe4yt\xf6ss\xe4, poista k\xe4yt\xf6st\xe4 napsauttamalla",ariaToggleOff:"Poistettu k\xe4yt\xf6st\xe4, ota k\xe4ytt\xf6\xf6n napsauttamalla"}},notification:{notificationEnabled:"Ilmoitukset ovat nyt k\xe4yt\xf6ss\xe4.",notificationPermissionBlocked:"Sovelluksen {{appName}} ty\xf6p\xf6yt\xe4ilmoitukset on t\xe4ll\xe4 hetkell\xe4 poistettu k\xe4yt\xf6st\xe4. P\xe4ivit\xe4 selaimen asetukset ja salli ty\xf6p\xf6yt\xe4ilmoitukset."}},"fr-CA":{edit:"Modifier",Settings:"Param\xe8tres",playSound:"Lire l\u2019audio",audioSource:{microphonePermissionBlocked:"Pour utiliser cette fonction, acc\xe9dez aux param\xe8tres de votre navigateur pour permettre \xe0 {{appName}} d\u2019acc\xe9der au microphone.",microphoneSource:{description:"Mettez \xe0 jour la source de votre micro pour les appels vocaux de {{appName}}",label:"Source micro"},ringerSource:{description:"Mettez \xe0 jour la source de votre sonnerie pour les appels {{callSource}} de {{appName}}",label:"Source de sonnerie",callSource:{voice:"vocaux",video:"vid\xe9o",voiceAndVideo:"vocaux et vid\xe9o"}},speakerSource:{description:"Mettez \xe0 jour la source de votre haut-parleur pour les appels vocaux de {{appName}}",label:"Source haut-parleur"},title:"Sources audio",volume:{description:"Mettez \xe0 jour l\u2019application volume",descriptionForAria:"utilisez la fl\xe8che gauche ou droite pour r\xe9gler le volume",label:"Contr\xf4le du volume"}},contactsCalendars:{title:{calendars:"Calendriers",contacts:"Contacts",contactsAndCalendars:"Calendriers et contacts"}},general:"G\xe9n\xe9ral",notificationAndSounds:{title:"Sons et notifications",sounds:{options:{0:"D\xe9sactiv\xe9","2Beep":"2\xa0bips","3Beep":"3\xa0bips",Alert1:"Alerte",Alert2:"Alerte\xa02",Alert3:"Alerte\xa03",BingBong:"Bing bong",Ching:"Ching",LogDrum2:"Tambour",Snap:"Claquement des doigts",Button9:"Jet",Whoosh:"Bruissement",Whoosh2:"Bruissement\xa02",default:"Par d\xe9faut",PhoneRing:"Sonnerie de t\xe9l\xe9phone","air-raid-ring":"Raid a\xe9rien","allusive-ring":"Allusif","attention-ring":"Attention","blub-blub-ring":"Blub Blub","buzzy-ring":"Vibration","communication-channel-ring":"Canal ouvert","disco-ring":"Disco","door-bell-ring":"Sonnette","fab-ring":"F\xe9e","fast-bells-ring":"Cloches Rapides","high-gong-ring":"Gong aigu","indeed-ring":"En effet","nice-ring":"Agr\xe9able","ringing-bells-ring":"Sonneries","ring-ring":"Sonnerie","simple-ring":"Simple","soothing-ring":"Apaisant"}},desktopNotifications:{title:"Notifications sur le bureau",notificationsForBrowser:{label:"Notifications du navigateur",description:"Recevoir les notifications dans votre navigateur (autorisation du navigateur requise)"},notificationOnFocus:{label:"Toujours afficher les notifications lorsque l\u2019application est \xe0 l\u2019avant-plan",description:"Recevoir les notifications m\xeame lorsque l\u2019application est \xe0 l\u2019avant-plan et en cours d\u2019utilisation"},flashAppIcon:{label:"Faire clignoter l\u2019ic\xf4ne d\u2019application",description:"Faire clignoter l\u2019ic\xf4ne d\u2019application lors de la r\xe9ception d\u2019une notification"},bounceAppIcon:{label:"Faire rebondir l\u2019ic\xf4ne d\u2019application",description:"Faire rebondir l\u2019ic\xf4ne d\u2019application dans la station d\u2019accueil lors de la r\xe9ception d\u2019une notification",options:{bounce_always:"Rebondissez en continu",bounce_once:"Rebondir une fois",off:"D\xe9sactiv\xe9"}}},emailNotifications:{title:"Notifications par courriel"}},shortcuts:{title:"Raccourcis clavier"},sounds:{title:"Sons"},useDefault:"Par d\xe9faut",noDevices:"Aucun appareil",allDevices:"Toutes les sources audio",off:"D\xe9sactiv\xe9",microphone:"Microphone",speaker:"Haut-parleur",errorText:{server:"D\xe9sol\xe9s, une erreur s\u2019est produite de notre c\xf4t\xe9 et nous n\u2019avons pas pu enregistrer vos param\xe8tres. R\xe9essayez plus tard.",network:"Nous n\u2019avons pas pu enregistrer vos param\xe8tres. V\xe9rifiez votre connexion r\xe9seau, puis r\xe9essayez plus tard.",forLink:"D\xe9sol\xe9s, une erreur s\u2019est produite de notre c\xf4t\xe9 et nous n\u2019avons pas pu ouvrir la page. R\xe9essayez plus tard."},common:{button:{ariaToggleOn:"Si activ\xe9, cliquez pour d\xe9sactiver",ariaToggleOff:"Si d\xe9sactiv\xe9, cliquez pour allumer"}},notification:{notificationEnabled:"Les notifications sont d\xe9sormais activ\xe9s.",notificationPermissionBlocked:"Les notifications sur le bureau de {{appName}} sont actuellement d\xe9sactiv\xe9s. Mettez \xe0 jour les param\xe8tres de votre navigateur pour autoriser les notifications sur le bureau."}},"fr-FR":{edit:"Modifier",Settings:"Param\xe8tres",playSound:"\xc9mettre un son",audioSource:{microphonePermissionBlocked:"Pour utiliser cette fonction, acc\xe9dez aux param\xe8tres de votre navigateur pour permettre \xe0 {{appName}} d\u2019acc\xe9der au microphone.",microphoneSource:{description:"Mettre \xe0 jour votre source de microphone pour les appels vocaux {{appName}}",label:"Source du microphone"},ringerSource:{description:"Mettre \xe0 jour votre source de sonnerie pour les appels {{callSource}} {{appName}}",label:"Source de sonnerie",callSource:{voice:"voix",video:"vid\xe9o",voiceAndVideo:"voix et vid\xe9o"}},speakerSource:{description:"Mettre \xe0 jour votre source de haut-parleur pour les appels vocaux {{appName}}",label:"Source du haut-parleur"},title:"Sources audio",volume:{description:"Mise \xe0 jour du volume de l\u2019application",descriptionForAria:"utilisez la fl\xe8che gauche ou droite pour modifier le volume",label:"Contr\xf4le du volume"}},contactsCalendars:{title:{calendars:"Calendriers",contacts:"Contacts",contactsAndCalendars:"Calendriers et contacts"}},general:"G\xe9n\xe9ral",notificationAndSounds:{title:"Notifications et sons",sounds:{options:{0:"D\xe9sactiv\xe9","2Beep":"2\xa0bips","3Beep":"3\xa0bips",Alert1:"Alerte",Alert2:"Alerte\xa02",Alert3:"Alerte\xa03",BingBong:"Bing bong",Ching:"Tching",LogDrum2:"Tambour \xe0 fente",Snap:"Clac",Button9:"Pchit",Whoosh:"Whoouch",Whoosh2:"Whouch 2",default:"Par d\xe9faut",PhoneRing:"Sonnerie de t\xe9l\xe9phone","air-raid-ring":"Raid a\xe9rien","allusive-ring":"Allusion","attention-ring":"Attention","blub-blub-ring":"Bloub bloub","buzzy-ring":"Bzzzt","communication-channel-ring":"Canal ouvert","disco-ring":"Disco","door-bell-ring":"Sonnette","fab-ring":"F\xe9e","fast-bells-ring":"Cloches rapides","high-gong-ring":"Gong","indeed-ring":"En effet","nice-ring":"Joli","ringing-bells-ring":"Cloches","ring-ring":"Sonnerie","simple-ring":"Simple","soothing-ring":"Apaisant"}},desktopNotifications:{title:"Notifications de bureau",notificationsForBrowser:{label:"Notifications du navigateur",description:"Recevez des notifications dans votre navigateur Web (autorisation du navigateur requise)"},notificationOnFocus:{label:"Toujours afficher les notifications lorsque l\u2019application est au premier plan",description:"Recevez des notifications m\xeame lorsque l\u2019application est au premier plan et en cours d\u2019utilisation"},flashAppIcon:{label:"Faire clignoter l\u2019ic\xf4ne de l\u2019application",description:"Faire clignoter l\u2019ic\xf4ne de l\u2019application lors de la r\xe9ception d\u2019une notification"},bounceAppIcon:{label:"Faire rebondir l\u2019ic\xf4ne de l\u2019application",description:"Faire rebondir l\u2019ic\xf4ne de l\u2019application dans l\u2019accueil lors de la r\xe9ception d\u2019une notification",options:{bounce_always:"Rebondir en continu",bounce_once:"Rebondir une fois",off:"D\xe9sactiv\xe9"}}},emailNotifications:{title:"Notifications par e-mail"}},shortcuts:{title:"Raccourcis clavier"},sounds:{title:"Sons"},useDefault:"Par d\xe9faut",noDevices:"Aucun terminal",allDevices:"Toutes les sources audio",off:"D\xe9sactiv\xe9",microphone:"Microphone",speaker:"Haut-parleur",errorText:{server:"Nous avons rencontr\xe9 une erreur et nous n\u2019avons pas pu enregistrer vos param\xe8tres. R\xe9essayez plus tard.",network:"Nous n\u2019avons pas pu enregistrer vos param\xe8tres. Veuillez v\xe9rifier votre connexion r\xe9seau puis r\xe9essayer.",forLink:"Nous avons rencontr\xe9 une erreur et nous n\u2019avons pas pu ouvrir la page. R\xe9essayez plus tard."},common:{button:{ariaToggleOn:"Activ\xe9, cliquez pour d\xe9sactiver",ariaToggleOff:"D\xe9sactiv\xe9, cliquez pour activer"}},notification:{notificationEnabled:"Les notifications sont maintenant activ\xe9es.",notificationPermissionBlocked:"Les notifications de bureau pour {{appName}} sont actuellement d\xe9sactiv\xe9es. Mettez \xe0 jour les param\xe8tres de votre navigateur pour autoriser les notifications de bureau."}},"it-IT":{edit:"Modifica",Settings:"Impostazioni",playSound:"Riproduci suono",audioSource:{microphonePermissionBlocked:"Per utilizzare questa funzione, vai alle impostazioni del browser e consenti a {{appName}} di accedere al microfono.",microphoneSource:{description:"Aggiorna la sorgente del microfono per le chiamate vocali {{appName}}",label:"Sorgente del microfono"},ringerSource:{description:"Aggiorna sorgente suoneria per le chiamate {{appName}} {{callSource}}",label:"Sorgente suoneria",callSource:{voice:"voce",video:"video",voiceAndVideo:"voce e video"}},speakerSource:{description:"Aggiorna la sorgente altoparlante per le chiamate vocali {{appName}}",label:"Sorgente altoparlante"},title:"Sorgenti audio",volume:{description:"Aggiorna il volume dell'app",descriptionForAria:"utilizza la freccia sinistra o destra per modificare il volume",label:"Controllo volume"}},contactsCalendars:{title:{calendars:"Calendari",contacts:"Contatti",contactsAndCalendars:"Calendari e contatti"}},general:"Generale",notificationAndSounds:{title:"Notifiche e suoni",sounds:{options:{0:"Disattivato","2Beep":"2 segnali acustici","3Beep":"3 segnali acustici",Alert1:"Avviso",Alert2:"Avviso 2",Alert3:"Avviso 3",BingBong:"Bing Bong",Ching:"Ching",LogDrum2:"Log Drum",Snap:"Snap",Button9:"Squirt",Whoosh:"Whoosh",Whoosh2:"Whoosh 2",default:"Predefinito",PhoneRing:"Phone Ring","air-raid-ring":"Air Raid","allusive-ring":"Allusive","attention-ring":"Attenzione","blub-blub-ring":"Blub Blub","buzzy-ring":"Buzzy","communication-channel-ring":"Channel Open","disco-ring":"Disco","door-bell-ring":"Door Bell","fab-ring":"Fairy","fast-bells-ring":"Fast Bells","high-gong-ring":"High Gong","indeed-ring":"Indeed","nice-ring":"Nice","ringing-bells-ring":"Ringing Bells","ring-ring":"Ring","simple-ring":"Simple","soothing-ring":"Soothing"}},desktopNotifications:{title:"Notifiche desktop",notificationsForBrowser:{label:"Notifiche del browser",description:"Ricevi notifiche nel tuo browser web (\xe8 necessaria l'autorizzazione del browser)"},notificationOnFocus:{label:"Mostra sempre le notifiche quando l'app \xe8 in primo piano",description:"Ricevi notifiche anche quando l'app \xe8 in primo piano e in uso"},flashAppIcon:{label:"Lampeggio dell'icona dell'app",description:"Fai lampeggiare l'icona dell'app quando si riceve una notifica"},bounceAppIcon:{label:"Rimbalzo dell'icona dell'app",description:"Fai rimbalzare l'icona dell'app quando si riceve una notifica",options:{bounce_always:"Ritorno continuo al mittente",bounce_once:"Rimbalza una volta",off:"Disattivato"}}},emailNotifications:{title:"Notifiche e-mail"}},shortcuts:{title:"Tasti rapidi"},sounds:{title:"Suoni"},useDefault:"Predefinito",noDevices:"Nessun dispositivo",allDevices:"Tutte le sorgenti audio",off:"Disattivato",microphone:"Microfono",speaker:"Parlante",errorText:{server:"Si \xe8 verificato un problema e non \xe8 stato possibile salvare le impostazioni. Riprova pi\xf9 tardi.",network:"Non \xe8 stato possibile salvare le impostazioni. Verifica la connessione di rete, quindi riprova.",forLink:"Si \xe8 verificato un problema e non \xe8 stato possibile aprire la pagina. Riprova pi\xf9 tardi."},common:{button:{ariaToggleOn:"Attivato. Fai clic per disattivare",ariaToggleOff:"Disattivato. Fai clic per attivare"}},notification:{notificationEnabled:"Ora le notifiche sono abilitate.",notificationPermissionBlocked:"Al momento le notifiche desktop da {{appName}} sono disabilitate. Aggiorna le impostazioni del browser per consentire le notifiche desktop."}},"ja-JP":{edit:"\u7de8\u96c6",Settings:"\u8a2d\u5b9a",playSound:"\u97f3\u3092\u518d\u751f",audioSource:{microphonePermissionBlocked:"\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u7528\u3059\u308b\u306b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u8a2d\u5b9a\u306b\u79fb\u52d5\u3057\u3066\u3001{{appName}}\u304c\u30de\u30a4\u30af\u30ed\u30d5\u30a9\u30f3\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002",microphoneSource:{description:"{{appName}}\u306e\u97f3\u58f0\u901a\u8a71\u7528\u306e\u30de\u30a4\u30af\u30ed\u30d5\u30a9\u30f3\u30bd\u30fc\u30b9\u3092\u66f4\u65b0",label:"\u30de\u30a4\u30af\u30ed\u30d5\u30a9\u30f3\u30bd\u30fc\u30b9"},ringerSource:{description:"{{appName}}\u306e{{callSource}}\u901a\u8a71\u7528\u306e\u30ea\u30f3\u30ac\u30fc\u30bd\u30fc\u30b9\u3092\u66f4\u65b0",label:"\u30ea\u30f3\u30ac\u30fc\u30bd\u30fc\u30b9",callSource:{voice:"\u97f3\u58f0",video:"\u30d3\u30c7\u30aa",voiceAndVideo:"\u97f3\u58f0\u3068\u30d3\u30c7\u30aa"}},speakerSource:{description:"{{appName}}\u306e\u97f3\u58f0\u901a\u8a71\u7528\u306e\u30b9\u30d4\u30fc\u30ab\u30fc\u30bd\u30fc\u30b9\u3092\u66f4\u65b0",label:"\u30b9\u30d4\u30fc\u30ab\u30fc\u30bd\u30fc\u30b9"},title:"\u30aa\u30fc\u30c7\u30a3\u30aa\u30bd\u30fc\u30b9",volume:{description:"\u30a2\u30d7\u30ea\u306e\u97f3\u91cf\u3092\u66f4\u65b0",descriptionForAria:"\u5de6\u77e2\u5370\u307e\u305f\u306f\u53f3\u77e2\u5370\u3092\u4f7f\u7528\u3057\u3066\u97f3\u91cf\u3092\u5909\u66f4\u3057\u307e\u3059",label:"\u30dc\u30ea\u30e5\u30fc\u30e0\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb"}},contactsCalendars:{title:{calendars:"\u30ab\u30ec\u30f3\u30c0\u30fc",contacts:"\u9023\u7d61\u5148",contactsAndCalendars:"\u30ab\u30ec\u30f3\u30c0\u30fc\u3068\u9023\u7d61\u5148"}},general:"\u4e00\u822c",notificationAndSounds:{title:"\u901a\u77e5\u3068\u30b5\u30a6\u30f3\u30c9",sounds:{options:{0:"\u30aa\u30d5","2Beep":"\u30d3\u30fc\u30d7\u97f32\u56de","3Beep":"\u30d3\u30fc\u30d7\u97f33\u56de",Alert1:"\u30a2\u30e9\u30fc\u30c8",Alert2:"\u30a2\u30e9\u30fc\u30c82",Alert3:"\u30a2\u30e9\u30fc\u30c83",BingBong:"\u30d3\u30f3\u30fb\u30dc\u30f3",Ching:"\u30c1\u30f3",LogDrum2:"\u30ed\u30b0\u30c9\u30e9\u30e0",Snap:"\u30b9\u30ca\u30c3\u30d7",Button9:"\u5674\u51fa",Whoosh:"\u30d2\u30e5\u30fc",Whoosh2:"\u30d2\u30e5\u30fc\u30b7\u30e52",default:"\u30c7\u30d5\u30a9\u30eb\u30c8",PhoneRing:"\u96fb\u8a71\u306e\u30d9\u30eb","air-raid-ring":"\u7a7a\u8972","allusive-ring":"\u307b\u306e\u3081\u304b\u3057","attention-ring":"\u6ce8\u610f","blub-blub-ring":"\u30d6\u30e9\u30d6\u30fb\u30d6\u30e9\u30d6","buzzy-ring":"\u30d0\u30b8\u30fc","communication-channel-ring":"\u30c1\u30e3\u30f3\u30cd\u30eb\u30aa\u30fc\u30d7\u30f3","disco-ring":"\u30c7\u30a3\u30b9\u30b3","door-bell-ring":"\u30c9\u30a2\u30d9\u30eb","fab-ring":"\u5996\u7cbe","fast-bells-ring":"\u901f\u3044\u9418","high-gong-ring":"\u30cf\u30a4\u30b4\u30f3\u30b0","indeed-ring":"\u78ba\u304b\u306b","nice-ring":"\u3044\u3044\u306d","ringing-bells-ring":"\u9cf4\u308b\u9418","ring-ring":"\u30d9\u30eb\u306e\u97f3","simple-ring":"\u30b7\u30f3\u30d7\u30eb","soothing-ring":"\u7652\u3057"}},desktopNotifications:{title:"\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u901a\u77e5",notificationsForBrowser:{label:"\u30d6\u30e9\u30a6\u30b6\u901a\u77e5",description:"\u30a6\u30a7\u30d6\u30d6\u30e9\u30a6\u30b6\u3067\u901a\u77e5\u3092\u53d7\u4fe1(\u30d6\u30e9\u30a6\u30b6\u306e\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\u304c\u5fc5\u8981)"},notificationOnFocus:{label:"\u30a2\u30d7\u30ea\u304c\u524d\u9762\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3068\u304d\u306f\u5e38\u306b\u901a\u77e5\u3092\u8868\u793a",description:"\u30a2\u30d7\u30ea\u304c\u524d\u9762\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u3066\u4f7f\u7528\u4e2d\u306e\u5834\u5408\u3067\u3082\u901a\u77e5\u3092\u53d7\u4fe1"},flashAppIcon:{label:"\u30a2\u30d7\u30ea\u30a2\u30a4\u30b3\u30f3\u3092\u70b9\u6ec5",description:"\u901a\u77e5\u3092\u53d7\u3051\u53d6\u3063\u305f\u3068\u304d\u306b\u30a2\u30d7\u30ea\u306e\u30a2\u30a4\u30b3\u30f3\u3092\u70b9\u6ec5\u3055\u305b\u308b"},bounceAppIcon:{label:"\u30a2\u30d7\u30ea\u30a2\u30a4\u30b3\u30f3\u3092\u30d0\u30a6\u30f3\u30b9",description:"\u901a\u77e5\u3092\u53d7\u3051\u53d6\u3063\u305f\u3068\u304d\u306b\u30a2\u30d7\u30ea\u306e\u30a2\u30a4\u30b3\u30f3\u3092\u30d0\u30a6\u30f3\u30b9\u3055\u305b\u308b",options:{bounce_always:"\u7d99\u7d9a\u7684\u306b\u30d0\u30a6\u30f3\u30b9",bounce_once:"1\u56de\u30d0\u30a6\u30f3\u30b9",off:"\u30aa\u30d5"}}},emailNotifications:{title:"E\u30e1\u30fc\u30eb\u901a\u77e5"}},shortcuts:{title:"\u30ad\u30fc\u30dc\u30fc\u30c9\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8"},sounds:{title:"\u30b5\u30a6\u30f3\u30c9"},useDefault:"\u65e2\u5b9a",noDevices:"\u30c7\u30d0\u30a4\u30b9\u304c\u3042\u308a\u307e\u305b\u3093",allDevices:"\u3059\u3079\u3066\u306e\u30aa\u30fc\u30c7\u30a3\u30aa\u30bd\u30fc\u30b9",off:"\u30aa\u30d5",microphone:"\u30de\u30a4\u30af\u30ed\u30d5\u30a9\u30f3",speaker:"\u30b9\u30d4\u30fc\u30ab\u30fc",errorText:{server:"\u7533\u3057\u8a33\u3054\u3056\u3044\u307e\u305b\u3093\u3002\u3053\u3061\u3089\u5074\u3067\u554f\u984c\u304c\u767a\u751f\u3057\u305f\u305f\u3081\u3001\u8a2d\u5b9a\u3092\u4fdd\u5b58\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u5f8c\u3067\u3082\u3046\u4e00\u5ea6\u3084\u308a\u76f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002",network:"\u8a2d\u5b9a\u3092\u4fdd\u5b58\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u3092\u78ba\u8a8d\u3057\u3001\u3082\u3046\u4e00\u5ea6\u3084\u308a\u76f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002",forLink:"\u7533\u3057\u8a33\u3042\u308a\u307e\u305b\u3093\u3002\u554f\u984c\u304c\u767a\u751f\u3057\u305f\u305f\u3081\u3001\u30da\u30fc\u30b8\u3092\u958b\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u5f8c\u3067\u3082\u3046\u4e00\u5ea6\u3084\u308a\u76f4\u3057\u3066\u304f\u3060\u3055\u3044\u3002"},common:{button:{ariaToggleOn:"\u30aa\u30f3\u3001\u30af\u30ea\u30c3\u30af\u3057\u3066\u30aa\u30d5\u306b\u3059\u308b",ariaToggleOff:"\u30aa\u30d5\u3001\u30af\u30ea\u30c3\u30af\u3057\u3066\u30aa\u30f3\u306b\u3059\u308b"}},notification:{notificationEnabled:"\u901a\u77e5\u304c\u6709\u52b9\u5316\u3055\u308c\u307e\u3057\u305f\u3002",notificationPermissionBlocked:"\u73fe\u5728\u3001{{appName}}\u306e\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u901a\u77e5\u306f\u30aa\u30d5\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u30d6\u30e9\u30a6\u30b6\u30fc\u306e\u8a2d\u5b9a\u3092\u66f4\u65b0\u3057\u3066\u3001\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u901a\u77e5\u3092\u8a31\u53ef\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}},"ko-KR":{edit:"\ud3b8\uc9d1",Settings:"\uc124\uc815",playSound:"\uc18c\ub9ac \uc7ac\uc0dd",audioSource:{microphonePermissionBlocked:"\uc774 \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud558\ub824\uba74 \ube0c\ub77c\uc6b0\uc800 \uc124\uc815\uc73c\ub85c \uc774\ub3d9\ud558\uc5ec {{appName}}\uc5d0\uc11c \ub9c8\uc774\ud06c\uc5d0 \uc561\uc138\uc2a4\ud558\ub3c4\ub85d \ud5c8\uc6a9\ud558\uc138\uc694.",microphoneSource:{description:"{{appName}} \uc74c\uc131 \ud1b5\ud654\uc5d0 \ud544\uc694\ud55c \ub9c8\uc774\ud06c \uc18c\uc2a4 \uc5c5\ub370\uc774\ud2b8",label:"\ub9c8\uc774\ud06c \uc18c\uc2a4"},ringerSource:{description:"{{appName}} {{callSource}} \ud1b5\ud654\uc5d0 \ud544\uc694\ud55c \ubca8 \uc18c\ub9ac \uc18c\uc2a4 \uc5c5\ub370\uc774\ud2b8",label:"\ubca8 \uc18c\ub9ac \uc18c\uc2a4",callSource:{voice:"\uc74c\uc131",video:"\ube44\ub514\uc624",voiceAndVideo:"\uc74c\uc131 \ubc0f \ube44\ub514\uc624"}},speakerSource:{description:"{{appName}} \uc74c\uc131 \ud1b5\ud654\uc5d0 \ud544\uc694\ud55c \uc2a4\ud53c\ucee4 \uc18c\uc2a4 \uc5c5\ub370\uc774\ud2b8",label:"\uc2a4\ud53c\ucee4 \uc18c\uc2a4"},title:"\uc624\ub514\uc624 \uc18c\uc2a4",volume:{description:"\uc571 \ubcfc\ub968 \uc5c5\ub370\uc774\ud2b8",descriptionForAria:"\uc67c\ucabd \ub610\ub294 \uc624\ub978\ucabd \ud654\uc0b4\ud45c\ub97c \uc0ac\uc6a9\ud558\uc5ec \ubcfc\ub968 \ubcc0\uacbd",label:"\ubcfc\ub968 \uc81c\uc5b4"}},contactsCalendars:{title:{calendars:"\uc77c\uc815",contacts:"\uc5f0\ub77d\ucc98",contactsAndCalendars:"\uc77c\uc815 \ubc0f \uc5f0\ub77d\ucc98"}},general:"\uc77c\ubc18",notificationAndSounds:{title:"\uc54c\ub9bc \ubc0f \uc18c\ub9ac",sounds:{options:{0:"\ub044\uae30","2Beep":"\uacbd\uace0\uc74c 2\ud68c","3Beep":"\uacbd\uace0\uc74c 3\ud68c",Alert1:"\uacbd\uace0",Alert2:"\uacbd\uace0 2",Alert3:"\uacbd\uace0 3",BingBong:"\ube59\ubd09",Ching:"\uce6d",LogDrum2:"\ud1b5\ub098\ubb34 \ub4dc\ub7fc",Snap:"\uc2a4\ub0c5",Button9:"\ucc0d",Whoosh:"\uc26c\uc775",Whoosh2:"\uc26c\uc775 2",default:"\uae30\ubcf8\uac12",PhoneRing:"\uc804\ud654 \ubca8\uc18c\ub9ac","air-raid-ring":"\uacf5\uc2b5 \uacbd\ubcf4\uc74c","allusive-ring":"\uc554\uc2dc\uc801 \ub290\ub08c\uc758 \uc18c\ub9ac","attention-ring":"\uc8fc\uc758","blub-blub-ring":"\uc6b0\ub294 \uc18c\ub9ac","buzzy-ring":"\uc719\uc719 \uc18c\ub9ac","communication-channel-ring":"\ucc44\ub110 \uc5f4\uae30","disco-ring":"\ub514\uc2a4\ucf54","door-bell-ring":"\ucd08\uc778\uc885 \uc18c\ub9ac","fab-ring":"\uc694\uc815 \uc18c\ub9ac","fast-bells-ring":"\ube60\ub978 \ubca8\uc18c\ub9ac","high-gong-ring":"\uace0\uc74c \uc9d5","indeed-ring":"\uc815\ub9d0","nice-ring":"\uc88b\uc74c","ringing-bells-ring":"\uc6b8\ub9ac\ub294 \uc885","ring-ring":"\ubca8\uc18c\ub9ac","simple-ring":"\ub2e8\uc21c","soothing-ring":"\uae30\ubd84\uc744 \uc548\uc815\uc2dc\ud0a4\ub294 \uc18c\ub9ac"}},desktopNotifications:{title:"\ub370\uc2a4\ud06c\ud1b1 \uc54c\ub9bc",notificationsForBrowser:{label:"\ube0c\ub77c\uc6b0\uc800 \uc54c\ub9bc",description:"\uc6f9 \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \uc54c\ub9bc \uc218\uc2e0(\ube0c\ub77c\uc6b0\uc800 \uad8c\ud55c \ud544\uc694)"},notificationOnFocus:{label:"\uc571\uc774 \ub9e8 \uc55e\uc5d0 \uc788\uc744 \ub54c \ud56d\uc0c1 \uc54c\ub9bc \ud45c\uc2dc",description:"\uc571\uc774 \ub9e8 \uc55e\uc5d0 \uc788\uace0 \uc0ac\uc6a9 \uc911\uc77c \ub54c\ub3c4 \uc54c\ub9bc \uc218\uc2e0"},flashAppIcon:{label:"\uc571 \uc544\uc774\ucf58 \uae5c\ubc15\uc784",description:"\uc54c\ub9bc \uc218\uc2e0 \uc2dc \uc571 \uc544\uc774\ucf58\uc744 \uae5c\ubc15\uc785\ub2c8\ub2e4."},bounceAppIcon:{label:"\uc571 \uc544\uc774\ucf58 \ubc14\uc6b4\uc2a4",description:"\uc54c\ub9bc \uc218\uc2e0 \uc2dc \ub3c4\ud06c\uc5d0\uc11c \uc571 \uc544\uc774\ucf58\uc744 \ubc14\uc6b4\uc2a4\ud569\ub2c8\ub2e4.",options:{bounce_always:"\uacc4\uc18d \ubc14\uc6b4\uc2a4",bounce_once:"\ud55c \ubc88 \ubc14\uc6b4\uc2a4",off:"\ub044\uae30"}}},emailNotifications:{title:"\uc804\uc790 \uba54\uc77c \uc54c\ub9bc"}},shortcuts:{title:"\ubc14\ub85c \uac00\uae30 \ud0a4"},sounds:{title:"\uc18c\ub9ac"},useDefault:"\uae30\ubcf8\uac12",noDevices:"\ub514\ubc14\uc774\uc2a4 \uc5c6\uc74c",allDevices:"\ubaa8\ub4e0 \uc624\ub514\uc624 \uc18c\uc2a4",off:"\ub044\uae30",microphone:"\ub9c8\uc774\ud06c",speaker:"\uc2a4\ud53c\ucee4",errorText:{server:"\uc8c4\uc1a1\ud569\ub2c8\ub2e4. \uc2dc\uc2a4\ud15c\uc5d0\uc11c \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud558\uc5ec \uc124\uc815\uc744 \uc800\uc7a5\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.",network:"\uc124\uc815\uc744 \uc800\uc7a5\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0\uc744 \ud655\uc778\ud55c \ub2e4\uc74c \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.",forLink:"\uc8c4\uc1a1\ud569\ub2c8\ub2e4. \uc2dc\uc2a4\ud15c\uc5d0\uc11c \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud558\uc5ec \ud398\uc774\uc9c0\ub97c \uc5f4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694."},common:{button:{ariaToggleOn:"\ucf1c\uc9d0, \ub044\ub824\uba74 \ud074\ub9ad",ariaToggleOff:"\uaebc\uc9d0, \ucf1c\ub824\uba74 \ud074\ub9ad"}},notification:{notificationEnabled:"\uc774\uc81c \uc54c\ub9bc\uc774 \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc124\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",notificationPermissionBlocked:"\ud604\uc7ac {{appName}}\uc5d0 \ub300\ud55c \ub370\uc2a4\ud06c\ud1b1 \uc54c\ub9bc\uc774 \uaebc\uc838 \uc788\uc2b5\ub2c8\ub2e4. \ub370\uc2a4\ud06c\ud1b1 \uc54c\ub9bc\uc744 \ud5c8\uc6a9\ud558\ub824\uba74 \ube0c\ub77c\uc6b0\uc800 \uc124\uc815\uc744 \uc5c5\ub370\uc774\ud2b8\ud558\uc138\uc694."}},"nl-NL":{edit:"Bewerken",Settings:"Instellingen",playSound:"Geluid afspelen",audioSource:{microphonePermissionBlocked:"Om deze functie te gebruiken, gaat u naar uw browserinstellingen om {{appName}} toegang te geven tot de microfoon.",microphoneSource:{description:"Werk uw microfoonbron bij voor {{appName}} voice-oproepen",label:"Microfoonbron"},ringerSource:{description:"Werk uw beltoonbron bij voor {{appName}} {{callSource}} oproepen",label:"Beltoonbron",callSource:{voice:"voice",video:"video",voiceAndVideo:"voice en video"}},speakerSource:{description:"Werk uw luidsprekerbron bij voor {{appName}} voice-oproepen",label:"Luidsprekerbron"},title:"Audiobronnen",volume:{description:"Het app-volume bijwerken",descriptionForAria:"gebruik de linker- of rechterpijl om het volume te wijzigen",label:"Volumeregeling"}},contactsCalendars:{title:{calendars:"Agenda's",contacts:"Contactpersonen",contactsAndCalendars:"Agenda's en contactpersonen"}},general:"Algemeen",notificationAndSounds:{title:"Meldingen en geluiden",sounds:{options:{0:"Uit","2Beep":"2 pieptonen","3Beep":"3 pieptonen",Alert1:"Waarschuwing",Alert2:"Waarschuwing 2",Alert3:"Waarschuwing 3",BingBong:"Bing Bong",Ching:"Ching",LogDrum2:"Log Drum",Snap:"Snap",Button9:"Squirt",Whoosh:"Whoosh",Whoosh2:"Whoosh 2",default:"Standaard",PhoneRing:"Beltoon telefoon","air-raid-ring":"Air Raid","allusive-ring":"Allusive","attention-ring":"Let op","blub-blub-ring":"Blub Blub","buzzy-ring":"Buzzy","communication-channel-ring":"Kannaal openen","disco-ring":"Disco","door-bell-ring":"Door Bell","fab-ring":"Fairy","fast-bells-ring":"Fast Bells","high-gong-ring":"High Gong","indeed-ring":"Indeed","nice-ring":"Nice","ringing-bells-ring":"Ringing Bells","ring-ring":"Ring","simple-ring":"Simpel","soothing-ring":"Soothing"}},desktopNotifications:{title:"Bureaubladmeldingen",notificationsForBrowser:{label:"Browsermeldingen",description:"Ontvang meldingen in uw webbrowser (toestemming van de browser vereist)"},notificationOnFocus:{label:"Altijd meldingen weergeven wanneer de app op de voorgrond staat",description:"Ontvang meldingen, zelfs wanneer de app op de voorgrond staat en in gebruik is"},flashAppIcon:{label:"Knipperend app-pictogram",description:"Laat het app-pictogram knipperen wanneer u een melding ontvangt"},bounceAppIcon:{label:"Trillend app-pictogram",description:"Laat het app-pictogram trillen in het dockingstation wanneer u een melding ontvangt",options:{bounce_always:"Voortdurend trillen",bounce_once:"E\xe9n keer trillen",off:"Uit"}}},emailNotifications:{title:"E-mailmeldingen"}},shortcuts:{title:"Sneltoetsen"},sounds:{title:"Geluiden"},useDefault:"Standaard",noDevices:"Geen apparaten",allDevices:"Alle audiobronnen",off:"Uit",microphone:"Microfoon",speaker:"Luidspreker",errorText:{server:"Er is een fout opgetreden en we konden uw instellingen niet opslaan. Probeer het later opnieuw.",network:"We konden uw instellingen niet opslaan. Controleer uw netwerkverbinding en probeer het opnieuw.",forLink:"Er is een fout opgetreden en we hebben de pagina niet kunnen openen. Probeer het later opnieuw."},common:{button:{ariaToggleOn:"Aan, klik om uit te schakelen",ariaToggleOff:"Uit, klik om in te schakelen"}},notification:{notificationEnabled:"Meldingen zijn nu ingeschakeld.",notificationPermissionBlocked:"U hebt momenteel bureaubladmeldingen voor {{appName}} uitgeschakeld. Werk uw browserinstellingen bij om bureaubladmeldingen toe te staan."}},"pt-BR":{edit:"Editar",Settings:"Configura\xe7\xf5es",playSound:"Reproduzir som",audioSource:{microphonePermissionBlocked:"Para usar esta fun\xe7\xe3o, v\xe1 para as configura\xe7\xf5es do seu navegador para permitir que o {{appName}} acesse o microfone.",microphoneSource:{description:"Atualize a origem do microfone para chamadas de voz do {{appName}}",label:"Origem do microfone"},ringerSource:{description:"Atualize a origem da campainha para chamadas {{callSource}} do {{appName}}",label:"Origem da campainha",callSource:{voice:"voz",video:"v\xeddeo",voiceAndVideo:"voz e v\xeddeo"}},speakerSource:{description:"Atualize a origem do alto-falante para chamadas de voz do {{appName}}",label:"Origem do alto-falante"},title:"Origens do \xe1udio",volume:{description:"Atualizar o volume do aplicativo",descriptionForAria:"use as teclas de dire\xe7\xe3o para esquerda ou para direita para alterar o volume",label:"Controle de volume"}},contactsCalendars:{title:{calendars:"Calend\xe1rios",contacts:"Contatos",contactsAndCalendars:"Calend\xe1rios e contatos"}},general:"Geral",notificationAndSounds:{title:"Notifica\xe7\xf5es e sons",sounds:{options:{0:"Desativado","2Beep":"2 bipes","3Beep":"3 bipes",Alert1:"Alerta",Alert2:"Alerta 2",Alert3:"Alerta 3",BingBong:"Bing Bong",Ching:"Ching",LogDrum2:"Log Drum",Snap:"Estalo",Button9:"Esguicho",Whoosh:"Chicotada",Whoosh2:"Chicotada 2",default:"Padr\xe3o",PhoneRing:"Toque de telefone","air-raid-ring":"Ataque a\xe9reo","allusive-ring":"Alusivo","attention-ring":"Aten\xe7\xe3o","blub-blub-ring":"Blub Blub","buzzy-ring":"Buzzy","communication-channel-ring":"Canal aberto","disco-ring":"Discoteca","door-bell-ring":"Campainha da porta","fab-ring":"Fada","fast-bells-ring":"Sinos r\xe1pidos","high-gong-ring":"Gong alto","indeed-ring":"De fato","nice-ring":"Legal","ringing-bells-ring":"Sinos tocando","ring-ring":"Toque","simple-ring":"Simples","soothing-ring":"Tranquilizante"}},desktopNotifications:{title:"Notifica\xe7\xf5es de \xe1rea de trabalho",notificationsForBrowser:{label:"Notifica\xe7\xf5es de navegador",description:"Receba notifica\xe7\xf5es em seu navegador da Web (permiss\xe3o do navegador obrigat\xf3ria)"},notificationOnFocus:{label:"Sempre mostrar notifica\xe7\xf5es quando o aplicativo estiver em primeiro plano",description:"Receber notifica\xe7\xf5es mesmo quando o aplicativo estiver em primeiro plano e em uso"},flashAppIcon:{label:"Piscar o \xedcone do aplicativo",description:"Com esta op\xe7\xe3o, o \xedcone do aplicativo pisca ao receber uma notifica\xe7\xe3o"},bounceAppIcon:{label:"\xcdcone do aplicativo de rejei\xe7\xe3o",description:"Balan\xe7ar o \xedcone do aplicativo ao receber uma notifica\xe7\xe3o",options:{bounce_always:"Saltar continuamente",bounce_once:"Ignorar uma vez",off:"Desativar"}}},emailNotifications:{title:"Notifica\xe7\xf5es por email"}},shortcuts:{title:"Atalhos do teclado"},sounds:{title:"Sons"},useDefault:"Padr\xe3o",noDevices:"Sem dispositivo",allDevices:"Todas as origens do \xe1udio",off:"Desativar",microphone:"Microfone",speaker:"Locutor",errorText:{server:"Infelizmente, algo deu errado. N\xe3o foi poss\xedvel salvar as configura\xe7\xf5es. Tente novamente mais tarde.",network:"N\xe3o foi poss\xedvel salvar as configura\xe7\xf5es. Verifique a conex\xe3o de rede e tente novamente.",forLink:"Infelizmente, algo deu errado. N\xe3o foi poss\xedvel abrir a p\xe1gina. Tente novamente mais tarde."},common:{button:{ariaToggleOn:"Ligado, clique para desligar",ariaToggleOff:"Desligado, clique para ligar"}},notification:{notificationEnabled:"Agora as notifica\xe7\xf5es est\xe3o ativadas.",notificationPermissionBlocked:"No momento, as notifica\xe7\xf5es de \xe1rea de trabalho para o {{appName}} est\xe3o desativadas. Atualize as configura\xe7\xf5es do navegador para permitir notifica\xe7\xf5es na \xe1rea de trabalho."}},"pt-PT":{edit:"Editar",Settings:"Defini\xe7\xf5es",playSound:"Reproduzir som",audioSource:{microphonePermissionBlocked:"Para utilizar esta fun\xe7\xe3o, aceda \xe0s suas defini\xe7\xf5es do browser para permitir que o {{appName}} aceda ao microfone.",microphoneSource:{description:"Atualizar a origem do microfone para as chamadas de voz do {{appName}}",label:"Origem do microfone"},ringerSource:{description:"Atualizar a origem do toque para as chamadas de {{callSource}} do {{appName}}",label:"Origem do toque",callSource:{voice:"voz",video:"v\xeddeo",voiceAndVideo:"voz e v\xeddeo"}},speakerSource:{description:"Atualizar a origem do altifalante para as chamadas de voz do {{appName}}",label:"Origem do altifalante"},title:"Origens de \xe1udio",volume:{description:"Atualizar o volume da aplica\xe7\xe3o",descriptionForAria:"utilize a seta para a esquerda ou para a direita para alterar o volume",label:"Controlo do volume"}},contactsCalendars:{title:{calendars:"Calend\xe1rios",contacts:"Contactos",contactsAndCalendars:"Calend\xe1rios e contactos"}},general:"Geral",notificationAndSounds:{title:"Notifica\xe7\xf5es e sons",sounds:{options:{0:"Desligado","2Beep":"2 bipes","3Beep":"3 bipes",Alert1:"Alerta",Alert2:"Alerta 2",Alert3:"Alerta 3",BingBong:"Bing Bong",Ching:"Ching",LogDrum2:"Tambor",Snap:"Estalo",Button9:"Esguicho",Whoosh:"Sopro",Whoosh2:"Sopro 2",default:"Predefini\xe7\xe3o",PhoneRing:"Toque do telefone","air-raid-ring":"Ataque a\xe9reo","allusive-ring":"Alusivo","attention-ring":"Aten\xe7\xe3o","blub-blub-ring":"Blub Blub","buzzy-ring":"Zumbido","communication-channel-ring":"Canal Aberto","disco-ring":"Discoteca","door-bell-ring":"Campainha de porta","fab-ring":"Fada","fast-bells-ring":"Sinos r\xe1pidos","high-gong-ring":"Gongo alto","indeed-ring":"Realmente","nice-ring":"Agrad\xe1vel","ringing-bells-ring":"Sinos a tocar","ring-ring":"Campainha","simple-ring":"Simples","soothing-ring":"Calmante"}},desktopNotifications:{title:"Notifica\xe7\xf5es do ambiente de trabalho",notificationsForBrowser:{label:"Notifica\xe7\xf5es do browser",description:"Receba notifica\xe7\xf5es no seu browser (permiss\xe3o do browser necess\xe1ria)"},notificationOnFocus:{label:"Mostrar sempre notifica\xe7\xf5es quando a aplica\xe7\xe3o estiver em primeiro plano",description:"Receba notifica\xe7\xf5es mesmo quando a aplica\xe7\xe3o estiver em primeiro plano e em utiliza\xe7\xe3o"},flashAppIcon:{label:"Colocar o \xedcone da aplica\xe7\xe3o a piscar",description:"Colocar o \xedcone da aplica\xe7\xe3o a piscar ao receber uma notifica\xe7\xe3o"},bounceAppIcon:{label:"Fazer saltar o \xedcone da aplica\xe7\xe3o",description:"Fazer saltar o \xedcone da aplica\xe7\xe3o quando ancorada ao receber uma notifica\xe7\xe3o",options:{bounce_always:"Saltar continuamente",bounce_once:"Saltar uma vez",off:"Desligado"}}},emailNotifications:{title:"Notifica\xe7\xf5es por e-mail"}},shortcuts:{title:"Atalhos de teclado"},sounds:{title:"Sons"},useDefault:"Predefini\xe7\xe3o",noDevices:"Sem dispositivos",allDevices:"Todas as origens de \xe1udio",off:"Desligado",microphone:"Microfone",speaker:"Altifalante",errorText:{server:"Lamentamos, ocorreu um erro da nossa parte e n\xe3o conseguimos guardar as suas defini\xe7\xf5es. Tente novamente mais tarde.",network:"N\xe3o conseguimos guardar as suas defini\xe7\xf5es. Verifique a sua liga\xe7\xe3o de rede e tente novamente.",forLink:"Lamentamos, ocorreu um erro da nossa parte e n\xe3o conseguimos abrir a p\xe1gina. Tente novamente mais tarde."},common:{button:{ariaToggleOn:"Ligado, clique para desligar",ariaToggleOff:"Desligado, clique para ligar"}},notification:{notificationEnabled:"As notifica\xe7\xf5es est\xe3o agora ativadas.",notificationPermissionBlocked:"Atualmente, as notifica\xe7\xf5es do ambiente de trabalho do {{appName}} est\xe3o desligadas. Atualize as suas defini\xe7\xf5es do browser para permitir as notifica\xe7\xf5es no ambiente de trabalho."}},"zh-CN":{edit:"\u7f16\u8f91",Settings:"\u8bbe\u7f6e",playSound:"\u64ad\u653e\u58f0\u97f3",audioSource:{microphonePermissionBlocked:"\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8bf7\u8f6c\u5230\u6d4f\u89c8\u5668\u8bbe\u7f6e\u4ee5\u5141\u8bb8 {{appName}} \u8bbf\u95ee\u9ea6\u514b\u98ce\u3002",microphoneSource:{description:"\u66f4\u65b0\u7528\u4e8e {{appName}} \u8bed\u97f3\u901a\u8bdd\u7684\u9ea6\u514b\u98ce\u6e90",label:"\u9ea6\u514b\u98ce\u6e90"},ringerSource:{description:"\u66f4\u65b0 {{appName}} {{callSource}}\u901a\u8bdd\u7684\u94c3\u58f0\u6765\u6e90",label:"\u632f\u94c3\u5668\u6e90",callSource:{voice:"\u8bed\u97f3",video:"\u89c6\u9891",voiceAndVideo:"\u8bed\u97f3\u548c\u89c6\u9891"}},speakerSource:{description:"\u66f4\u65b0\u7528\u4e8e {{appName}} \u8bed\u97f3\u901a\u8bdd\u7684\u626c\u58f0\u5668\u6e90",label:"\u626c\u58f0\u5668\u6e90"},title:"\u97f3\u9891\u6e90",volume:{description:"\u66f4\u65b0\u5e94\u7528\u97f3\u91cf",descriptionForAria:"\u4f7f\u7528\u5411\u5de6\u6216\u5411\u53f3\u7bad\u5934\u66f4\u6539\u97f3\u91cf",label:"\u97f3\u91cf\u63a7\u5236"}},contactsCalendars:{title:{calendars:"\u65e5\u5386",contacts:"\u8054\u7cfb\u4eba",contactsAndCalendars:"\u65e5\u5386\u548c\u8054\u7cfb\u4eba"}},general:"\u5e38\u89c4",notificationAndSounds:{title:"\u901a\u77e5\u548c\u58f0\u97f3",sounds:{options:{0:"\u5173\u95ed","2Beep":"2 \u58f0\u561f\u561f\u58f0","3Beep":"3 \u58f0\u561f\u561f\u58f0",Alert1:"\u63d0\u9192",Alert2:"\u63d0\u9192 2",Alert3:"\u63d0\u9192 3",BingBong:"\u4e52\u4e53\u58f0",Ching:"\u53ee\u53ee\u58f0",LogDrum2:"\u6728\u9f13",Snap:"\u5494\u5693\u58f0",Button9:"\u55b7\u5c04\u58f0",Whoosh:"\u5636\u5636\u58f0",Whoosh2:"\u5636\u5636\u58f0 2",default:"\u9ed8\u8ba4",PhoneRing:"\u7535\u8bdd\u94c3\u58f0","air-raid-ring":"\u7a7a\u88ad\u58f0","allusive-ring":"\u9690\u55bb","attention-ring":"\u8b66\u793a","blub-blub-ring":"\u5657\u5657\u58f0","buzzy-ring":"\u55e1\u55e1\u58f0","communication-channel-ring":"\u9891\u9053\u5f00\u653e","disco-ring":"\u8fea\u65af\u79d1","door-bell-ring":"\u95e8\u94c3","fab-ring":"\u7cbe\u7075","fast-bells-ring":"\u5feb\u62cd\u949f\u58f0","high-gong-ring":"\u9ad8\u97f3\u9523","indeed-ring":"\u771f\u5b9e","nice-ring":"\u52a8\u542c","ringing-bells-ring":"\u54cd\u94c3","ring-ring":"\u94c3\u58f0","simple-ring":"\u7b80\u5355","soothing-ring":"\u8212\u7f13"}},desktopNotifications:{title:"\u684c\u9762\u901a\u77e5",notificationsForBrowser:{label:"\u6d4f\u89c8\u5668\u901a\u77e5",description:"\u5728 Web \u6d4f\u89c8\u5668\u4e2d\u63a5\u6536\u901a\u77e5\uff08\u9700\u8981\u6d4f\u89c8\u5668\u6743\u9650\uff09"},notificationOnFocus:{label:"\u5f53\u5e94\u7528\u5728\u524d\u53f0\u65f6\uff0c\u603b\u662f\u663e\u793a\u901a\u77e5",description:"\u5373\u4f7f\u5e94\u7528\u5728\u524d\u53f0\u4e14\u6b63\u5728\u4f7f\u7528\uff0c\u4e5f\u80fd\u63a5\u6536\u901a\u77e5"},flashAppIcon:{label:"\u5e94\u7528\u56fe\u6807\u95ea\u70c1",description:"\u6536\u5230\u901a\u77e5\u65f6\u95ea\u70c1\u5e94\u7528\u56fe\u6807"},bounceAppIcon:{label:"\u5e94\u7528\u56fe\u6807\u8df3\u52a8",description:"\u6536\u5230\u901a\u77e5\u65f6\u5e94\u7528\u56fe\u6807\u8df3\u52a8",options:{bounce_always:"\u8fde\u7eed\u8df3\u52a8",bounce_once:"\u8df3\u52a8\u4e00\u6b21",off:"\u5173"}}},emailNotifications:{title:"\u7535\u5b50\u90ae\u4ef6\u901a\u77e5"}},shortcuts:{title:"\u952e\u76d8\u5feb\u6377\u952e"},sounds:{title:"\u58f0\u97f3"},useDefault:"\u9ed8\u8ba4",noDevices:"\u65e0\u8bbe\u5907",allDevices:"\u6240\u6709\u97f3\u9891\u6e90",off:"\u5173",microphone:"\u9ea6\u514b\u98ce",speaker:"\u626c\u58f0\u5668",errorText:{server:"\u62b1\u6b49\uff0c\u7cfb\u7edf\u51fa\u73b0\u95ee\u9898\uff0c\u65e0\u6cd5\u4fdd\u5b58\u60a8\u7684\u8bbe\u7f6e\u3002\u8bf7\u7a0d\u540e\u91cd\u8bd5\u3002",network:"\u65e0\u6cd5\u4fdd\u5b58\u60a8\u7684\u8bbe\u7f6e\u3002\u8bf7\u68c0\u67e5\u60a8\u7684\u7f51\u7edc\u8fde\u63a5\uff0c\u7136\u540e\u91cd\u8bd5\u3002",forLink:"\u62b1\u6b49\uff0c\u7cfb\u7edf\u51fa\u73b0\u95ee\u9898\uff0c\u65e0\u6cd5\u6253\u5f00\u9875\u9762\u3002\u8bf7\u7a0d\u540e\u91cd\u8bd5\u3002"},common:{button:{ariaToggleOn:"\u5f00\u542f\uff0c\u70b9\u51fb\u4ee5\u5173\u95ed",ariaToggleOff:"\u5173\u95ed\uff0c\u70b9\u51fb\u4ee5\u5f00\u542f"}},notification:{notificationEnabled:"\u901a\u77e5\u73b0\u5df2\u542f\u7528\u3002",notificationPermissionBlocked:"\u60a8\u76ee\u524d\u5df2\u5173\u95ed {{appName}} \u7684\u684c\u9762\u901a\u77e5\u3002\u8bf7\u66f4\u65b0\u60a8\u7684\u6d4f\u89c8\u5668\u8bbe\u7f6e\uff0c\u4ee5\u5141\u8bb8\u684c\u9762\u901a\u77e5\u3002"}},"zh-TW":{edit:"\u7de8\u8f2f",Settings:"\u8a2d\u5b9a",playSound:"\u64ad\u653e\u97f3\u6548",audioSource:{microphonePermissionBlocked:"\u82e5\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8acb\u524d\u5f80\u60a8\u7684\u700f\u89bd\u5668\u8a2d\u5b9a\uff0c\u5141\u8a31 {{appName}} \u5b58\u53d6\u9ea5\u514b\u98a8\u3002",microphoneSource:{description:"\u66f4\u65b0 {{appName}} \u8a9e\u97f3\u901a\u8a71\u7684\u9ea5\u514b\u98a8\u4f86\u6e90",label:"\u9ea5\u514b\u98a8\u4f86\u6e90"},ringerSource:{description:"\u66f4\u65b0 {{appName}} {{callSource}}\u901a\u8a71\u7684\u97ff\u9234\u4f86\u6e90",label:"\u9234\u97ff\u4f86\u6e90",callSource:{voice:"\u8a9e\u97f3",video:"\u8996\u8a0a",voiceAndVideo:"\u8a9e\u97f3\u548c\u8996\u8a0a"}},speakerSource:{description:"\u66f4\u65b0 {{appName}} \u8a9e\u97f3\u901a\u8a71\u7684\u5587\u53ed\u4f86\u6e90",label:"\u5587\u53ed\u4f86\u6e90"},title:"\u97f3\u8a0a\u4f86\u6e90",volume:{description:"\u66f4\u65b0\u61c9\u7528\u7a0b\u5f0f\u97f3\u91cf",descriptionForAria:"\u4f7f\u7528\u5de6\u53f3\u9375\u8b8a\u66f4\u97f3\u91cf",label:"\u97f3\u91cf\u63a7\u5236"}},contactsCalendars:{title:{calendars:"\u884c\u4e8b\u66c6",contacts:"\u9023\u7d61\u4eba",contactsAndCalendars:"\u884c\u4e8b\u66c6\u8207\u9023\u7d61\u4eba"}},general:"\u4e00\u822c",notificationAndSounds:{title:"\u901a\u77e5\u8207\u97f3\u6548",sounds:{options:{0:"\u95dc\u9589","2Beep":"2 \u8072\u55f6\u55f6\u8072","3Beep":"3 \u8072\u55f6\u55f6\u8072",Alert1:"\u8b66\u793a\u8072",Alert2:"\u8b66\u793a\u8072 2",Alert3:"\u8b66\u793a\u8072 3",BingBong:"\u4e52\u4e53\u8072",Ching:"\u53ee\u8072",LogDrum2:"\u6728\u9f13\u8072",Snap:"\u5580\u5693\u8072",Button9:"\u5674\u5c04\u8072",Whoosh:"\u98bc\u98bc\u8072",Whoosh2:"\u98bc\u98bc\u8072 2",default:"\u9810\u8a2d",PhoneRing:"\u96fb\u8a71\u9234\u8072","air-raid-ring":"\u7a7a\u8972\u8072","allusive-ring":"\u6697\u793a\u8072","attention-ring":"\u6ce8\u610f\u8072","blub-blub-ring":"\u5495\u5695\u8072","buzzy-ring":"\u55e1\u55e1\u8072","communication-channel-ring":"\u983b\u9053\u958b\u653e","disco-ring":"\u8fea\u65af\u53ef","door-bell-ring":"\u9580\u9234\u8072","fab-ring":"\u5c0f\u7cbe\u9748","fast-bells-ring":"\u5feb\u901f\u9418\u8072","high-gong-ring":"\u9cf4\u947c\u8072","indeed-ring":"\u5f37\u8abf\u8072","nice-ring":"\u6109\u6085","ringing-bells-ring":"\u9234\u97ff","ring-ring":"\u9234\u8072","simple-ring":"\u7c21\u55ae","soothing-ring":"\u7642\u7652"}},desktopNotifications:{title:"\u684c\u9762\u901a\u77e5",notificationsForBrowser:{label:"\u700f\u89bd\u5668\u901a\u77e5",description:"\u5728\u7db2\u8def\u700f\u89bd\u5668\u4e2d\u63a5\u6536\u901a\u77e5\uff08\u9700\u6388\u4e88\u700f\u89bd\u5668\u6b0a\u9650\uff09"},notificationOnFocus:{label:"\u61c9\u7528\u7a0b\u5f0f\u5728\u524d\u53f0\u6642\u4e00\u5f8b\u986f\u793a\u901a\u77e5",description:"\u5373\u4f7f\u61c9\u7528\u7a0b\u5f0f\u5728\u524d\u53f0\u548c\u4f7f\u7528\u4e2d\u4ecd\u8981\u63a5\u6536\u901a\u77e5"},flashAppIcon:{label:"\u9583\u720d\u986f\u793a\u61c9\u7528\u7a0b\u5f0f\u5716\u793a",description:"\u6536\u5230\u901a\u77e5\u6642\u9583\u720d\u986f\u793a\u61c9\u7528\u7a0b\u5f0f\u5716\u793a"},bounceAppIcon:{label:"\u5f48\u8df3\u986f\u793a\u61c9\u7528\u7a0b\u5f0f\u5716\u793a",description:"\u6536\u5230\u901a\u77e5\u6642\u5728 Dock \u4e2d\u5f48\u8df3\u986f\u793a\u61c9\u7528\u7a0b\u5f0f\u5716\u793a",options:{bounce_always:"\u9023\u7e8c\u5f48\u8df3",bounce_once:"\u5f48\u8df3\u986f\u793a\u4e00\u6b21",off:"\u95dc\u9589"}}},emailNotifications:{title:"\u96fb\u5b50\u90f5\u4ef6\u901a\u77e5"}},shortcuts:{title:"\u9375\u76e4\u5feb\u901f\u9375"},sounds:{title:"\u97f3\u6548"},useDefault:"\u9810\u8a2d",noDevices:"\u7121\u88dd\u7f6e",allDevices:"\u6240\u6709\u97f3\u8a0a\u4f86\u6e90",off:"\u95dc\u9589",microphone:"\u9ea5\u514b\u98a8",speaker:"\u5587\u53ed",errorText:{server:"\u62b1\u6b49\uff0c\u7cfb\u7d71\u767c\u751f\u4e00\u4e9b\u554f\u984c\uff0c\u56e0\u6b64\u7121\u6cd5\u5132\u5b58\u60a8\u7684\u8a2d\u5b9a\u3002\u8acb\u7a0d\u5f8c\u518d\u8a66\u4e00\u6b21\u3002",network:"\u7121\u6cd5\u5132\u5b58\u60a8\u7684\u8a2d\u5b9a\u3002\u8acb\u6aa2\u67e5\u7db2\u8def\u9023\u7dda\uff0c\u7136\u5f8c\u518d\u8a66\u4e00\u6b21\u3002",forLink:"\u62b1\u6b49\uff0c\u7cfb\u7d71\u767c\u751f\u4e00\u4e9b\u554f\u984c\uff0c\u56e0\u6b64\u7121\u6cd5\u958b\u555f\u9801\u9762\u3002\u8acb\u7a0d\u5f8c\u518d\u8a66\u4e00\u6b21\u3002"},common:{button:{ariaToggleOn:"\u958b\u555f\uff0c\u6309\u4e00\u4e0b\u4ee5\u95dc\u9589",ariaToggleOff:"\u95dc\u9589\uff0c\u6309\u4e00\u4e0b\u4ee5\u958b\u555f"}},notification:{notificationEnabled:"\u901a\u77e5\u73fe\u5728\u5df2\u555f\u7528\u3002",notificationPermissionBlocked:"\u60a8\u76ee\u524d\u5df2\u95dc\u9589 {{appName}} \u684c\u9762\u901a\u77e5\u3002\u8acb\u66f4\u65b0\u60a8\u7684\u700f\u89bd\u5668\u8a2d\u5b9a\uff0c\u5141\u8a31\u684c\u9762\u901a\u77e5\u3002"}}}},960992:e=>{e.exports={"de-DE":{setting:{tab:"Themen",header:"Farbthemen",selectCategory:{title:"Farbthema einstellen auf",description:"W\xe4hlen Sie ein helles oder dunkles Thema aus oder lassen Sie die Ansicht \xfcber die Einstellungen Ihres Computers definieren.",followSystem:"Systemeinstellungen befolgen",categoryOptionScreenReader:"{{categoryName}}",categoryOptionScreenReader_plural:"{{categoryName}}-Thema, verwenden Sie die Registerkarte, um ein anderes Thema auszuw\xe4hlen"},selectItem:{sectionTitle:"{{categoryName}}-Thema",sectionTitle_plural:"{{categoryName}}-Themen",selected:"ausgew\xe4hlt",toSelect:"verwenden Sie zur Auswahl die Leertaste",previewPicture:"Bild in der Vorschau anzeigen"}},themeCategory:{light:"Hell",dark:"Dunkel",highContrast:"Hoher Kontrast"},themeName:{rcJupiterBlue:"Himmelblau",rcBlue:"Seeblau",rcPhoenix:"Aubergine"}},en:{setting:{tab:"Themes",header:"Color themes",selectCategory:{title:"Set color theme to",description:"Select a light or dark theme or have your computer system setting determine what you see.",followSystem:"Follow system settings",categoryOptionScreenReader:"{{categoryName}}",categoryOptionScreenReader_plural:"{{categoryName}} theme, use tab to select a different theme"},selectItem:{sectionTitle:"{{categoryName}} theme",sectionTitle_plural:"{{categoryName}} themes",selected:"selected",toSelect:"use Space key to select",previewPicture:"preview picture"}},themeCategory:{light:"Light",dark:"Dark",highContrast:"High contrast"},themeName:{rcJupiterBlue:"Sky blue",rcBlue:"Lake blue",rcPhoenix:"Eggplant purple"}},"en-GB":{setting:{tab:"Themes",header:"Colour themes",selectCategory:{title:"Set colour theme to",description:"Select a light or dark theme or have your computer system settings determine what you see.",followSystem:"Follow system settings",categoryOptionScreenReader:"{{categoryName}}",categoryOptionScreenReader_plural:"{{categoryName}} theme, use tab to select a different theme"},selectItem:{sectionTitle:"{{categoryName}} theme",sectionTitle_plural:"{{categoryName}} themes",selected:"selected",toSelect:"use Space key to select",previewPicture:"preview picture"}},themeCategory:{light:"Light",dark:"Dark",highContrast:"High contrast"},themeName:{rcJupiterBlue:"Sky blue",rcBlue:"Lake blue",rcPhoenix:"Aubergine purple"}},"es-419":{setting:{tab:"Temas",header:"Temas de color",selectCategory:{title:"Establecer el tema de color en",description:"Seleccione un tema claro u oscuro o haga que la configuraci\xf3n del sistema de su equipo determine lo que ve.",followSystem:"Seguir la configuraci\xf3n del sistema",categoryOptionScreenReader:"{{categoryName}}",categoryOptionScreenReader_plural:"Tema {{categoryName}}, use la pesta\xf1a para seleccionar un tema diferente"},selectItem:{sectionTitle:"Tema {{categoryName}}",sectionTitle_plural:"Temas {{categoryName}}",selected:"seleccionado(s)",toSelect:"use la tecla Espacio para seleccionar",previewPicture:"previsualizar imagen"}},themeCategory:{light:"Claro",dark:"Oscuro",highContrast:"Contraste alto"},themeName:{rcJupiterBlue:"Azul cielo",rcBlue:"Azul lago",rcPhoenix:"Morado berenjena"}},"es-ES":{setting:{tab:"Temas",header:"Tema de color",selectCategory:{title:"Establecer el tema de color en",description:"Seleccione un tema claro u oscuro o haga que la configuraci\xf3n del sistema de su equipo determine lo que ve.",followSystem:"Siga la configuraci\xf3n del sistema",categoryOptionScreenReader:"{{categoryName}}",categoryOptionScreenReader_plural:"Tema {{categoryName}}; use la pesta\xf1a para seleccionar otro tema"},selectItem:{sectionTitle:"Tema {{categoryName}}",sectionTitle_plural:"Temas {{categoryName}}",selected:"seleccionado",toSelect:"use la tecla Espacio para seleccionar",previewPicture:"imagen en vista previa"}},themeCategory:{light:"Claro",dark:"Oscuro",highContrast:"Contraste alto"},themeName:{rcJupiterBlue:"Cielo azul",rcBlue:"Lago azul",rcPhoenix:"Berenjena morada"}},"fi-FI":{setting:{tab:"Teemat",header:"V\xe4riteemat",selectCategory:{title:"M\xe4\xe4rit\xe4 v\xe4riteemaksi",description:"Valitse vaalea tai tumma teema tai tee m\xe4\xe4ritys tietokoneesi j\xe4rjestelm\xe4asetusten perusteella.",followSystem:"Noudata j\xe4rjestelm\xe4asetuksia",categoryOptionScreenReader:"{{categoryName}}",categoryOptionScreenReader_plural:"{{categoryName}} teema, valitse toinen teema sarkaimella"},selectItem:{sectionTitle:"{{categoryName}} teema",sectionTitle_plural:"Teemat \u2013 {{categoryName}}",selected:"valittu",toSelect:"valitse painamalla v\xe4lily\xf6nti\xe4",previewPicture:"esikatsele kuvaa"}},themeCategory:{light:"Vaalea",dark:"Tumma",highContrast:"Suuren kontrastin"},themeName:{rcJupiterBlue:"Taivaansininen",rcBlue:"J\xe4rvensininen",rcPhoenix:"Munakoisonvioletti"}},"fr-CA":{setting:{tab:"Th\xe8mes",header:"Th\xe8mes de couleur",selectCategory:{title:"D\xe9finir le th\xe8me de couleur",description:"Choisissez un th\xe8me clair ou fonc\xe9, ou laissez les param\xe8tres de votre ordinateur d\xe9finir l\u2019affichage.",followSystem:"Suivre les param\xe8tres de l\u2019ordinateur",categoryOptionScreenReader:"{{categoryName}}",categoryOptionScreenReader_plural:"Th\xe8me {{categoryName}}, utilisez l\u2019onglet pour choisir un autre th\xe8me"},selectItem:{sectionTitle:"{{categoryName}}\xa0th\xe8me",sectionTitle_plural:"{{categoryName}}\xa0th\xe8mes",selected:"s\xe9lectionn\xe9(s)",toSelect:"appuyez la touche Espace pour s\xe9lectionner",previewPicture:"pr\xe9visualiser l\u2019image"}},themeCategory:{light:"Clair",dark:"Sombre",highContrast:"Contraste \xe9lev\xe9"},themeName:{rcJupiterBlue:"Bleu p\xe2le",rcBlue:"Bleu fonc\xe9",rcPhoenix:"Aubergine"}},"fr-FR":{setting:{tab:"Th\xe8mes",header:"Couleur des th\xe8mes",selectCategory:{title:"D\xe9finir la couleur du th\xe8me sur",description:"S\xe9lectionnez un th\xe8me clair ou fonc\xe9 ou demandez aux param\xe8tres syst\xe8me de votre ordinateur de d\xe9terminer ce que vous voyez.",followSystem:"Suivre les param\xe8tres syst\xe8me",categoryOptionScreenReader:"{{categoryName}}",categoryOptionScreenReader_plural:"Th\xe8me {{categoryName}}, utilisez l\u2019onglet pour s\xe9lectionner un autre th\xe8me"},selectItem:{sectionTitle:"Th\xe8me {{categoryName}}",sectionTitle_plural:"Th\xe8mes {{categoryName}}",selected:"s\xe9lectionn\xe9",toSelect:"utilisez la touche Espace pour s\xe9lectionner",previewPicture:"aper\xe7u de l\u2019image"}},themeCategory:{light:"Clair",dark:"Sombre",highContrast:"Contraste \xe9lev\xe9"},themeName:{rcJupiterBlue:"Ciel bleu",rcBlue:"Lac bleu",rcPhoenix:"Aubergine violette"}},"it-IT":{setting:{tab:"Temi",header:"Temi di colore",selectCategory:{title:"Imposta il tema del colore su",description:"Seleziona un tema chiaro o scuro o fai in modo che le impostazioni del sistema del computer determinino ci\xf2 che vedi.",followSystem:"Segui le impostazioni di sistema",categoryOptionScreenReader:"{{categoryName}}",categoryOptionScreenReader_plural:"Tema {{categoryName}}, usa Tab per selezionare un tema diverso"},selectItem:{sectionTitle:"Tema {{categoryName}}",sectionTitle_plural:"Temi {{categoryName}}",selected:"selezionato",toSelect:"utilizza la barra spaziatrice per selezionare",previewPicture:"immagine di anteprima"}},themeCategory:{light:"Chiaro",dark:"Scuro",highContrast:"Contrasto elevato"},themeName:{rcJupiterBlue:"Blu cielo",rcBlue:"Blu lago",rcPhoenix:"Viola melanzana"}},"ja-JP":{setting:{tab:"\u30c6\u30fc\u30de",header:"\u30ab\u30e9\u30fc\u30c6\u30fc\u30de",selectCategory:{title:"\u30ab\u30e9\u30fc\u30c6\u30fc\u30de\u3092\u6b21\u306b\u8a2d\u5b9a\uff1a",description:"\u660e\u308b\u3044\u30c6\u30fc\u30de\u307e\u305f\u306f\u6697\u3044\u30c6\u30fc\u30de\u3092\u9078\u629e\u3059\u308b\u304b\u3001\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u30b7\u30b9\u30c6\u30e0\u306e\u8a2d\u5b9a\u3067\u8868\u793a\u3057\u307e\u3059\u3002",followSystem:"\u30b7\u30b9\u30c6\u30e0\u8a2d\u5b9a\u306b\u5f93\u3046",categoryOptionScreenReader:"{{categoryName}}",categoryOptionScreenReader_plural:"{{categoryName}}\u30c6\u30fc\u30de\u3001\u30bf\u30d6\u3092\u4f7f\u7528\u3057\u3066\u5225\u306e\u30c6\u30fc\u30de\u3092\u9078\u629e"},selectItem:{sectionTitle:"{{categoryName}}\u30c6\u30fc\u30de",sectionTitle_plural:"{{categoryName}}\u30c6\u30fc\u30de",selected:"\u9078\u629e\u6e08\u307f",toSelect:"\u30b9\u30da\u30fc\u30b9\u30ad\u30fc\u3092\u4f7f\u7528\u3057\u3066\u9078\u629e",previewPicture:"\u30d7\u30ec\u30d3\u30e5\u30fc\u753b\u50cf"}},themeCategory:{light:"\u660e\u308b\u3044",dark:"\u6697\u3044",highContrast:"\u30cf\u30a4\u30b3\u30f3\u30c8\u30e9\u30b9\u30c8"},themeName:{rcJupiterBlue:"\u30b9\u30ab\u30a4\u30d6\u30eb\u30fc",rcBlue:"\u30ec\u30a4\u30af\u30d6\u30eb\u30fc",rcPhoenix:"\u30a8\u30c3\u30b0\u30d7\u30e9\u30f3\u30c8\u30d1\u30fc\u30d7\u30eb"}},"ko-KR":{setting:{tab:"\ud14c\ub9c8",header:"\uc0c9\uc0c1 \ud14c\ub9c8",selectCategory:{title:"\uc0c9\uc0c1 \ud14c\ub9c8\ub97c \ub2e4\uc74c\uc73c\ub85c \uc124\uc815",description:"\ubc1d\uc740 \ud14c\ub9c8\ub098 \uc5b4\ub450\uc6b4 \ud14c\ub9c8\ub97c \uc120\ud0dd\ud558\uac70\ub098 \ucef4\ud4e8\ud130 \uc2dc\uc2a4\ud15c \uc124\uc815\uc5d0 \ub530\ub77c \ud14c\ub9c8\ub97c \uacb0\uc815\ud569\ub2c8\ub2e4.",followSystem:"\uc2dc\uc2a4\ud15c \uc124\uc815 \ub530\ub974\uae30",categoryOptionScreenReader:"{{categoryName}}",categoryOptionScreenReader_plural:"{{categoryName}} \ud14c\ub9c8, \ud0ed\uc744 \uc0ac\uc6a9\ud558\uc5ec \ub2e4\ub978 \ud14c\ub9c8 \uc120\ud0dd"},selectItem:{sectionTitle:"{{categoryName}} \ud14c\ub9c8",sectionTitle_plural:"{{categoryName}} \ud14c\ub9c8",selected:"\uc120\ud0dd\ub428",toSelect:"Space \ud0a4\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc120\ud0dd",previewPicture:"\uc0ac\uc9c4 \ubbf8\ub9ac \ubcf4\uae30"}},themeCategory:{light:"\ubc1d\uc740",dark:"\uc5b4\ub450\uc6b4",highContrast:"\uace0\ub300\ube44"},themeName:{rcJupiterBlue:"\uc2a4\uce74\uc774 \ube14\ub8e8",rcBlue:"\ub808\uc774\ud06c \ube14\ub8e8",rcPhoenix:"\uc9c4\ud55c \ubcf4\ub77c"}},"nl-NL":{setting:{tab:"Thema's",header:"Kleurthema's",selectCategory:{title:"Kleurthema instellen op",description:"Selecteer een licht of donker thema of laat de instellingen van uw computersysteem bepalen wat u ziet.",followSystem:"Volg de systeeminstellingen",categoryOptionScreenReader:"{{categoryName}}",categoryOptionScreenReader_plural:"{{categoryName}}-thema, gebruik tab om een ander thema te selecteren"},selectItem:{sectionTitle:"{{categoryName}}-thema",sectionTitle_plural:"{{categoryName}}-thema's",selected:"geselecteerd",toSelect:"gebruik de spatiebalk om te selecteren",previewPicture:"Voorbeeld van afbeelding"}},themeCategory:{light:"Licht",dark:"Donker",highContrast:"Hoog contrast"},themeName:{rcJupiterBlue:"Hemelsblauw",rcBlue:"Meerblauw",rcPhoenix:"Aubergine paars"}},"pt-BR":{setting:{tab:"Temas",header:"Temas de cor",selectCategory:{title:"Definir o tema de cores para",description:"Selecione um tema claro ou escuro ou fa\xe7a com que a configura\xe7\xe3o do sistema do seu computador determine o que voc\xea v\xea.",followSystem:"Siga as configura\xe7\xf5es do sistema",categoryOptionScreenReader:"{{categoryName}}",categoryOptionScreenReader_plural:"Tema {{categoryName}}, use a guia para selecionar um tema diferente"},selectItem:{sectionTitle:"Tema {{categoryName}}",sectionTitle_plural:"Temas {{categoryName}}",selected:"selecionado",toSelect:"use a tecla de espa\xe7o para selecionar",previewPicture:"visualizar imagem"}},themeCategory:{light:"Claro",dark:"Escuro",highContrast:"Alto contraste"},themeName:{rcJupiterBlue:"C\xe9u azul",rcBlue:"Lago azul",rcPhoenix:"Berinjela roxa"}},"pt-PT":{setting:{tab:"Temas",header:"Temas de cor",selectCategory:{title:"Definir o tema de cor para",description:"Selecione um tema claro ou escuro ou permita que a defini\xe7\xe3o do sistema do seu computador determine o que v\xea.",followSystem:"Seguir defini\xe7\xf5es do sistema",categoryOptionScreenReader:"{{categoryName}}",categoryOptionScreenReader_plural:"Tema {{categoryName}}, utilize a tecla de tabula\xe7\xe3o para selecionar um tema diferente"},selectItem:{sectionTitle:"Tema {{categoryName}}",sectionTitle_plural:"Temas {{categoryName}}",selected:"selecionado",toSelect:"utilize a tecla de espa\xe7o para selecionar",previewPicture:"imagem de pr\xe9-visualiza\xe7\xe3o"}},themeCategory:{light:"Claro",dark:"Escuro",highContrast:"Alto contraste"},themeName:{rcJupiterBlue:"Azul-celeste",rcBlue:"Azul-lago",rcPhoenix:"Roxo-beringela"}},"zh-CN":{setting:{tab:"\u4e3b\u9898",header:"\u989c\u8272\u4e3b\u9898",selectCategory:{title:"\u5c06\u989c\u8272\u4e3b\u9898\u8bbe\u7f6e\u4e3a",description:"\u9009\u62e9\u6d45\u8272\u6216\u6df1\u8272\u4e3b\u9898\uff0c\u6216\u8005\u8ba9\u60a8\u7684\u8ba1\u7b97\u673a\u7cfb\u7edf\u8bbe\u7f6e\u786e\u5b9a\u60a8\u770b\u5230\u7684\u5185\u5bb9\u3002",followSystem:"\u9075\u5faa\u7cfb\u7edf\u8bbe\u7f6e",categoryOptionScreenReader:"{{categoryName}}",categoryOptionScreenReader_plural:"{{categoryName}}\u4e3b\u9898\uff0c\u8bf7\u4f7f\u7528\u9009\u9879\u5361\u9009\u62e9\u5176\u4ed6\u4e3b\u9898"},selectItem:{sectionTitle:"{{categoryName}}\u4e3b\u9898",sectionTitle_plural:"{{categoryName}}\u4e3b\u9898",selected:"\u5df2\u9009",toSelect:"\u4f7f\u7528\u7a7a\u683c\u952e\u9009\u62e9",previewPicture:"\u9884\u89c8\u56fe\u7247"}},themeCategory:{light:"\u6d45\u8272",dark:"\u6df1\u8272",highContrast:"\u9ad8\u5bf9\u6bd4\u5ea6"},themeName:{rcJupiterBlue:"\u5929\u84dd\u8272",rcBlue:"\u6e56\u84dd\u8272",rcPhoenix:"\u8304\u76ae\u7d2b\u8272"}},"zh-TW":{setting:{tab:"\u4e3b\u984c",header:"\u8272\u8abf\u4e3b\u984c",selectCategory:{title:"\u5c07\u8272\u8abf\u4e3b\u984c\u8a2d\u70ba",description:"\u9078\u64c7\u4e00\u500b\u6dfa\u8272\u6216\u6df1\u8272\u4e3b\u984c\uff0c\u6216\u8005\u8b93\u96fb\u8166\u7cfb\u7d71\u8a2d\u5b9a\u6c7a\u5b9a\u60a8\u770b\u5230\u7684\u8272\u8abf\u3002",followSystem:"\u6309\u7167\u7cfb\u7d71\u8a2d\u5b9a",categoryOptionScreenReader:"{{categoryName}}",categoryOptionScreenReader_plural:"{{categoryName}}\u4e3b\u984c\uff0c\u4f7f\u7528\u7d22\u5f15\u6a19\u7c64\u9078\u64c7\u5176\u4ed6\u4e3b\u984c"},selectItem:{sectionTitle:"{{categoryName}}\u4e3b\u984c",sectionTitle_plural:"{{categoryName}}\u4e3b\u984c",selected:"\u5df2\u9078\u53d6",toSelect:"\u4f7f\u7528\u7a7a\u683c\u9375\u9078\u53d6",previewPicture:"\u9810\u89bd\u5716\u7247"}},themeCategory:{light:"\u6dfa\u8272",dark:"\u6df1\u8272",highContrast:"\u9ad8\u5c0d\u6bd4\u5ea6"},themeName:{rcJupiterBlue:"\u5929\u85cd\u8272",rcBlue:"\u6e56\u6c34\u85cd",rcPhoenix:"\u8304\u7d2b\u8272"}}}},783545:(e,t,n)=>{var r={"./production/app.config.json":490451,"./production/features.config.json":986393,"./production/service.config.json":61142,"./production/thirdParty.config.json":346730};function webpackContext(e){var t=webpackContextResolve(e);return n(t)}function webpackContextResolve(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return r[e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(r)};webpackContext.resolve=webpackContextResolve;e.exports=webpackContext;webpackContext.id=783545},529087:(e,t,n)=>{var r={"./attRich/mobileTheme.json":558384,"./attRich/theme.json":436055,"./rcDark/mobileTheme.json":524788,"./rcDark/theme.json":354571,"./rcHighContrast/mobileTheme.json":506115,"./rcHighContrast/theme.json":237777};function webpackContext(e){var t=webpackContextResolve(e);return n(t)}function webpackContextResolve(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return r[e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(r)};webpackContext.resolve=webpackContextResolve;e.exports=webpackContext;webpackContext.id=529087},856097:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/2Beep-3179eb930a45abfeedd0330535a0fdaf.wav"},125792:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/3Beep-d1078fce6c5ea401c3b9aa58ef0a175b.wav"},639891:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/Alert1-d921c709702a7d8162b0d011e30437de.wav"},167477:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/Alert2-50e38eeebc5863c8df05976d2da8f3cd.wav"},430314:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/Alert3-3ce4c073f1209876eb4eb6ddb2bb22f2.wav"},892082:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/BingBong-dacab950834c4083ac6acbe98400ea05.wav"},420570:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/Button9-33a92ae21e55b1ee88d67cba88a207b7.wav"},272528:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/Ching-dfe53c1179bab40d760fcb6838fb3ac2.wav"},380676:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/LogDrum2-d96b86f9f7ce9427933f8005bf5ba0de.wav"},869579:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/PhoneRing-3d453e0690a03e4dfe3dacb3041e4299.wav"},496634:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/Snap-be618e4b0ca0c2c3de63e8f85e53e529.wav"},887342:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/Whoosh-25d9fa64d650f796948a14983bad7220.wav"},708278:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/Whoosh2-0482951f3ffb8bac822f15467d9de795.wav"},945015:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/air-raid-ring-60a66c0d4dcd820e453e22dfb40304d8.wav"},383702:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/allusive-ring-dd2c3ce979c19569cbeffbcdaeec1f46.wav"},491002:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/attention-ring-399e2ca742403cf9368742994bbc6898.wav"},707819:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/blub-blub-ring-644e80df4f69d4096684985d95d2c8dd.wav"},431904:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/buzzy-ring-672bb8446f214fdedba498b64c48b669.wav"},943935:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/communication-channel-ring-1406d1a9b5350f7bfd2a51a24a95e66f.wav"},903500:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/disco-ring-3284fe80d74b4e1bcbf009e76c129536.wav"},240449:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/door-bell-ring-4b0025288e43fdf1ea0fc820d19f5db3.wav"},819790:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/fab-ring-85f54837dc63257978a69f1808ff4e51.wav"},496099:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/fast-bells-ring-0ace4a5f3d87e9bef21d67ac4ef9d8b9.wav"},50270:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/high-gong-ring-206d8097ac7a109034227cecc5fe2755.wav"},622941:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/indeed-ring-baad700cdd188c67cf8a846233b2a946.wav"},422256:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/nice-ring-09f0bc52027df6f8da1737c6abce7460.wav"},151636:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/ring-ring-8dd51e5b3776be3bcef6ddc66cd5de15.wav"},533768:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/ringing-bells-ring-e9c9d6c91fa492d87adbcf317f25dda1.wav"},100094:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/simple-ring-04cbd03de36798ffaacfb4d7ce8e73f1.wav"},28011:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/soothing-ring-a4fa7d2248d0789ae93689d0e6e19900.wav"},912329:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"static/media/audio/toneNewIncomingCall-195d9dd4332896056c2ca5486223d9f2.wav"},558486:(e,t,n)=>{var r={"./de.js":8973,"./en-au.js":767876,"./en-gb.js":234239,"./es-do.js":216310,"./es.js":332430,"./fi.js":350957,"./fr-ca.js":714306,"./fr.js":674179,"./it.js":843467,"./ja.js":944164,"./ko.js":30986,"./nl.js":533114,"./pt-br.js":755077,"./pt.js":990899,"./zh-cn.js":161002,"./zh-hk.js":506046,"./zh-tw.js":924710};function webpackContext(e){var t=webpackContextResolve(e);return n(t)}function webpackContextResolve(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return r[e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(r)};webpackContext.resolve=webpackContextResolve;e.exports=webpackContext;webpackContext.id=558486},974431:()=>{if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}},920953:(e,t,n)=>{"use strict";n.d(t,{p:()=>l});var r=n(305406);var o=n.n(r);var i=n(957097);var a=n(220981);var u=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var s=undefined&&undefined.__assign||function(){s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return s.apply(this,arguments)};var c={start:(0,i.iv)(f||(f=u(["\n    opacity: 0;\n  "],["\n    opacity: 0;\n  "]))),end:(0,i.iv)(d||(d=u(["\n    opacity: 1;\n  "],["\n    opacity: 1;\n  "])))};var l=o().memo((function(e){return o().createElement(a.p,s({},e,{animation:c}))}));var f,d},600974:(e,t,n)=>{"use strict";var r=n(856819);var o=n(600029);var i=n(305406);var a=n.n(i);var u=n(616157);var s=n(957097);var c=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var l=undefined&&undefined.__assign||function(){l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return l.apply(this,arguments)};var f=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var d={entering:{opacity:0,transform:"scale(1.1)"},entered:{transform:"scale(1)",opacity:1},exiting:{opacity:0,transform:"scale(1)"},exited:{opacity:0}};var p=function(e){c(ZoomInFadeOut,e);function ZoomInFadeOut(){var t=e!==null&&e.apply(this,arguments)||this;t.handleEnter=function(e,n){var r=t.props.theme;if(!r){return}(0,o.nq)(e);var i=(0,o.CS)(t.props,{mode:"enter"});e.style.webkitTransition=r.transitions.create(["opacity","transform"],i);e.style.transition=r.transitions.create(["opacity","transform"],i);if(t.props.onEnter){t.props.onEnter(e,n)}};t.handleExit=function(e){var n=t.props.theme;if(!n){return}var r=(0,o.CS)(t.props,{mode:"exit"});e.style.webkitTransition=n.transitions.create(["opacity","transform"],r);e.style.transition=n.transitions.create(["opacity","transform"],r);if(t.props.onExit){t.props.onExit(e)}};return t}ZoomInFadeOut.prototype.render=function(){var e=this.props,t=e.children,n=e.in,r=e.style,o=f(e,["children","in","style"]);return a().createElement(u.ZP,l({appear:true,in:n,onEnter:this.handleEnter,onExit:this.handleExit},o),(function(e,o){return a().cloneElement(t,l({style:l(l(l({transform:"scale(0)",opacity:e==="entering"?0:1,visibility:e==="exited"&&!n?"hidden":undefined},d[e]),r),t.props.style)},o))}))};ZoomInFadeOut.defaultProps={timeout:{enter:r.duration.enteringScreen,exit:r.duration.enteringScreen}};return ZoomInFadeOut}(a().PureComponent);var h=(0,s.Zz)(p)},630090:(e,t,n)=>{"use strict";n.d(t,{v:()=>h});var r=n(305406);var o=n.n(r);var i=n(669211);var a=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var u=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var s=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e};var leftPadding=function(e){var t=e.direction,n=e.overlapSize;return t==="horizontal"&&n&&(0,i.spacing)(-n)};var topPadding=function(e){var t=e.direction,n=e.overlapSize;return t==="vertical"&&n&&(0,i.spacing)(-n)};var c=(0,i.styled)("div")(l||(l=a(["\n  display: flex;\n  flex-direction: ",";\n  white-space: nowrap;\n  flex-wrap: nowrap;\n  flex-shrink: 0;\n  align-items: center;\n\n  margin: ",";\n\n  && > *:nth-child(n + 2) {\n    margin-left: ",";\n    margin-top: ",";\n  }\n"],["\n  display: flex;\n  flex-direction: ",";\n  white-space: nowrap;\n  flex-wrap: nowrap;\n  flex-shrink: 0;\n  align-items: center;\n\n  margin: ",";\n\n  && > *:nth-child(n + 2) {\n    margin-left: ",";\n    margin-top: ",";\n  }\n"])),(function(e){var t=e.direction;return t==="vertical"?"column":"row"}),(function(e){var t=e.margin;return t?i.spacing.apply(void 0,s(t)):(0,i.spacing)(0)}),leftPadding,topPadding);var l;var f=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var d=undefined&&undefined.__assign||function(){d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return d.apply(this,arguments)};var p=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var _RcButtonBar=function(e){var t=e.children,n=e.isStopPropagation,a=e.onClick,u=e.onKeyUp,s=p(e,["children","isStopPropagation","onClick","onKeyUp"]);(0,i.useDeprecatedLog)({component:"RcButtonBar",message:"please use `RcIconButtonGroup` to replace that,\n      `margin` => `space`\n      `overlapSize` => `gap`"});var l=(0,r.useCallback)((function(e){a&&a(e);n&&e.stopPropagation()}),[a,n]);var f=(0,i.useA11yKeyEvent)(l,{preventDefault:false});var h=(0,r.useCallback)((function(e){u&&u(e);n&&e.stopPropagation();f(e)}),[u,n,f]);return o().createElement(c,d({onClick:l,onKeyUp:h},s),t)};_RcButtonBar.defaultProps={overlapSize:0,direction:"horizontal"};var h=(0,i.styled)(_RcButtonBar)(v||(v=f([""],[""])));h.displayName="RcButtonBar";var v},223312:(e,t,n)=>{"use strict";var r=n(305406);var o=n.n(r);var i=n(957097);var a=n(492021);var u=n(935065);var s=n(354154);var c=n(905490);var l=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var f=undefined&&undefined.__assign||function(){f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return f.apply(this,arguments)};var d=(0,i.ZP)("div")(g||(g=l(["\n  background-color: ",";\n  ",";\n  padding: 0;\n  border-bottom: 1px solid ",";\n  display: flex;\n  flex-shrink: 0;\n  height: 64px;\n  box-sizing: border-box;\n  align-items: center;\n  padding: ",";\n"],["\n  background-color: ",";\n  ",";\n  padding: 0;\n  border-bottom: 1px solid ",";\n  display: flex;\n  flex-shrink: 0;\n  height: 64px;\n  box-sizing: border-box;\n  align-items: center;\n  padding: ",";\n"])),(0,a.v)("neutral","elevation"),(0,u.d)(),(0,a.v)("neutral","l02"),(0,s.W0)(5,6));var p=(0,r.memo)((function(e){return o().createElement(d,f({},e))}));var h=(0,i.ZP)("div")(_||(_=l(["\n  display: inline-flex;\n  ",";\n"],["\n  display: inline-flex;\n  ",";\n"])),(0,c.c)("subheading2"));var v=(0,i.ZP)("div")(y||(y=l(["\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  && > * {\n    margin-right: -",";\n  }\n"],["\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  && > * {\n    margin-right: -",";\n  }\n"])),(0,s.W0)(2.5));var g,_,y},450819:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var r="xs"},481910:(e,t,n)=>{"use strict";n.d(t,{Q:()=>f});var r=n(305406);var o=n.n(r);var i=n(669211);var a=n(430975);var u=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var s=undefined&&undefined.__assign||function(){s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return s.apply(this,arguments)};var c=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var l=(0,r.forwardRef)((function(e,t){var n=e.color,r=e.shouldPersistBg,i=e.stretchIcon,a=e.variant,u=e.iconColor,l=e.classes,f=e.disableTouchRipple,d=e.useColorWhenDisabled,p=e.autoFocus,h=c(e,["color","shouldPersistBg","stretchIcon","variant","iconColor","classes","disableTouchRipple","useColorWhenDisabled","autoFocus"]);return o().createElement("button",s({},h,{ref:t}))}));var f=(0,i.styled)(l)(h||(h=u(["\n  &."," {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    padding: 0;\n    width: ",";\n    height: ",";\n    font-size: ",";\n    color: ",";\n    border-radius: ",";\n    border: none;\n\n    cursor: ",";\n    background-color: ",";\n\n    text-align: center;\n    vertical-align: middle;\n    outline: none;\n\n    "," {\n      ",";\n      width: 100%;\n      height: 100%;\n\n      svg {\n        font-size: ",";\n      }\n    }\n\n    &:hover {\n      background-color: ",";\n\n      "," {\n        color: ",";\n      }\n    }\n\n    "," {\n      ",";\n      background-color: ",";\n    }\n\n    &:active {\n      "," {\n        color: ",";\n      }\n    }\n\n    &."," {\n      background-color: transparent;\n      &&&:hover {\n        background-color: transparent;\n        "," {\n          color: ",";\n        }\n      }\n      "," {\n        color: ",";\n      }\n    }\n\n    &."," {\n      opacity: 0;\n      visibility: hidden;\n      width: 0;\n      height: 0;\n    }\n\n    &."," {\n      border-radius: 100%;\n      ",";\n    }\n\n    ",";\n\n    &."," {\n      border-radius: 4px;\n      border: 1px solid ",";\n      color: ",";\n      "," {\n        svg {\n          font-size: 24px;\n        }\n      }\n\n      &:hover {\n        background-color: ",";\n        "," {\n          color: ",";\n        }\n      }\n\n      &:after {\n        transform: scale(10, 10);\n        opacity: 0;\n        transition: transform 0.5s ease-out, opacity 0.6s ease-in;\n      }\n\n      && {\n        "," {\n          background-color: ",";\n        }\n      }\n\n      &:active {\n        background-color: ",";\n        "," {\n          color: ",";\n        }\n        &:after {\n          transform: scale(0, 0);\n          opacity: 0.1;\n          transition: 0s;\n        }\n      }\n    }\n  }\n"],["\n  &."," {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    padding: 0;\n    width: ",";\n    height: ",";\n    font-size: ",";\n    color: ",";\n    border-radius: ",";\n    border: none;\n\n    cursor: ",";\n    background-color: ",";\n\n    text-align: center;\n    vertical-align: middle;\n    outline: none;\n\n    "," {\n      ",";\n      width: 100%;\n      height: 100%;\n\n      svg {\n        font-size: ",";\n      }\n    }\n\n    &:hover {\n      background-color: ",";\n\n      "," {\n        color: ",";\n      }\n    }\n\n    "," {\n      ",";\n      background-color: ",";\n    }\n\n    &:active {\n      "," {\n        color: ",";\n      }\n    }\n\n    &."," {\n      background-color: transparent;\n      &&&:hover {\n        background-color: transparent;\n        "," {\n          color: ",";\n        }\n      }\n      "," {\n        color: ",";\n      }\n    }\n\n    &."," {\n      opacity: 0;\n      visibility: hidden;\n      width: 0;\n      height: 0;\n    }\n\n    &."," {\n      border-radius: 100%;\n      ",";\n    }\n\n    ",";\n\n    &."," {\n      border-radius: 4px;\n      border: 1px solid ",";\n      color: ",";\n      "," {\n        svg {\n          font-size: 24px;\n        }\n      }\n\n      &:hover {\n        background-color: ",";\n        "," {\n          color: ",";\n        }\n      }\n\n      &:after {\n        transform: scale(10, 10);\n        opacity: 0;\n        transition: transform 0.5s ease-out, opacity 0.6s ease-in;\n      }\n\n      && {\n        "," {\n          background-color: ",";\n        }\n      }\n\n      &:active {\n        background-color: ",";\n        "," {\n          color: ",";\n        }\n        &:after {\n          transform: scale(0, 0);\n          opacity: 0.1;\n          transition: 0s;\n        }\n      }\n    }\n  }\n"])),a.wt.root,a.L8,a.L8,(function(e){var t=e.stretchIcon,n=c(e,["stretchIcon"]);return t?(0,a.L8)(n):""}),(function(e){var t=e.color;return(0,i.getParsePaletteColor)(t)}),(function(e){var t=e.variant,n=t===void 0?"round":t;return["round","inverse"].includes(n)?"50%":"0"}),(function(e){var t=e.disabled;return t?"default":"pointer"}),(function(e){var t=e.shouldPersistBg,n=e.variant,r=e.color;return t===true||n==="inverse"?(0,i.setAlpha)((0,i.getParsePaletteColor)(r),n==="inverse"?.2:1):"transparent"}),i.RcIcon,i.flexCenterStyle,(function(e){var t=e.size,n=e.stretchIcon,r=e.variant,o=e.theme;return n?(0,a.L8)({variant:r,size:t,theme:o}):a.k8[t]*4+"px"}),(function(e){var t=e.variant,n=e.color,r=e.theme;return t==="plain"?"transparent":(0,i.setAlpha)((0,i.getParsePaletteColor)(n),t==="inverse"?.4:r.opacity["08"])}),i.RcIcon,(function(e){var t=e.color;return(0,i.setAlpha)((0,i.getParsePaletteColor)(t),.88)}),i.focusVisible,(function(e){var t=e.variant;return t==="plain"?(0,i.css)(d||(d=u(["\n              position: relative;\n              &::after {\n                content: ' ';\n                position: absolute;\n                ",";\n                box-shadow: 0 0 0 1px ",";\n                border-radius: ",";\n              }\n            "],["\n              position: relative;\n              &::after {\n                content: ' ';\n                position: absolute;\n                ",";\n                box-shadow: 0 0 0 1px ",";\n                border-radius: ",";\n              }\n            "])),a.uL,i.focusVisibleColor,(0,i.radius)("circle")):""}),(function(e){var t=e.variant,n=e.color,r=e.theme;return t==="plain"?"transparent":(0,i.setAlpha)((0,i.getParsePaletteColor)(n),t==="inverse"?.4:r.opacity["16"])}),i.RcIcon,(function(e){var t=e.color;return(0,i.getParsePaletteColor)(t)}),a.wt.disabled,i.RcIcon,(function(e){var t=e.useColorWhenDisabled,n=e.color;return t?(0,i.setOpacity)((0,i.getParsePaletteColor)(n),"32"):(0,i.palette2)("disabled","f02")}),i.RcIcon,(function(e){var t=e.useColorWhenDisabled,n=e.color;return t?(0,i.setOpacity)((0,i.getParsePaletteColor)(n),"32"):(0,i.palette2)("disabled","f02")}),a.wt.invisible,a.wt.ripple,i.rippleStyle,(function(e){var t=e.variant,n=e.color;return t==="inverse"?(0,i.css)(p||(p=u(["\n            &:active {\n              background-color: ",";\n            }\n            &."," {\n              background-color: ",";\n            }\n          "],["\n            &:active {\n              background-color: ",";\n            }\n            &."," {\n              background-color: ",";\n            }\n          "])),(0,i.setAlpha)((0,i.getParsePaletteColor)(n),.5),a.wt.disabled,(0,i.setAlpha)((0,i.getParsePaletteColor)(n),.12)):""}),a.wt.outline,(0,i.palette2)("neutral","l03"),(0,i.palette2)("neutral","f04"),i.RcIcon,(0,i.palette2)("action","grayDark",.08),i.RcIcon,(0,i.palette2)("neutral","f04"),i.focusVisible,(0,i.palette2)("action","grayDark",.16),(0,i.palette2)("action","grayDark",.12),i.RcIcon,(0,i.palette2)("neutral","f04"));f.displayName="StyledIconButton";var d,p,h},430975:(e,t,n)=>{"use strict";n.d(t,{wt:()=>i,k8:()=>a,L8:()=>buttonSize,uL:()=>getFocusVisibleInsetSize,s0:()=>useShallowDependency});var r=n(669211);var o=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var i=(0,r.RcClasses)(["root","ripple","disabled","invisible","outline"],"RcIconButton");var a={xxxlarge:12,xxlarge:8,xlarge:7,large:6,medium:5,small:4,xsmall:3,tiny:3};var u={xxxlarge:8,xxlarge:6,xlarge:6,large:5,medium:4,small:3,xsmall:3,tiny:2};var buttonSize=function(e){var t=e.variant,n=e.size;return["round","inverse","outline"].includes(t)?a[n]*8+"px":a[n]*4+"px"};var getFocusVisibleInsetSize=function(e){var t=e.size;var n=u[t];return(0,r.css)(s||(s=o(["\n    top: -","px;\n    right: -","px;\n    bottom: -","px;\n    left: -","px;\n  "],["\n    top: -","px;\n    right: -","px;\n    bottom: -","px;\n    left: -","px;\n  "])),n,n,n,n)};var s;var c=n(305406);var useShallowDependency=function(e){var t=(0,c.useRef)();if(!(0,r.shallowEqual)(e,t.current)){t.current=e}return t.current}},739049:(e,t,n)=>{"use strict";n.d(t,{l:()=>f});var r=n(250634);var o=n(305406);var i=n.n(o);var a=n(669211);var u=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var s=undefined&&undefined.__assign||function(){s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return s.apply(this,arguments)};var c=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var l=(0,o.forwardRef)((function(e,t){var n=c(e,[]);return i().createElement(r.Z,s({},n,{ref:t}))}));var f=(0,a.styled)(l)(d||(d=u(["\n  "," {\n    margin: ",";\n  }\n"],["\n  "," {\n    margin: ",";\n  }\n"])),a.RcDivider,(0,a.spacing)(2,0));var d},426589:(e,t,n)=>{"use strict";n.d(t,{D:()=>C});var r=n(138944);var o=n(446854);var i=n.n(o);var a=n(305406);var u=n.n(a);var s=n(669211);var c=n(112968);var l=n(523915);var f=n(668911);var d=n(97087);var p=n(270108);var h=n(193120);var v=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var g=undefined&&undefined.__assign||function(){g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return g.apply(this,arguments)};var _=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var y=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var b=(0,a.forwardRef)((function(e,t){var n;var o=e.icon,v=e.subtext,b=e.type,C=e.checked,m=e.value,S=e.symbol,E=e.children,I=e.disabled,w=e.classes,R=e.isMember,P=e.avatar,A=e.automationId,T=e.maxWidth,O=e.size,N=e.label,x=e.className,D=e.onMouseEnter,M=e.onClick,k=_(e,["icon","subtext","type","checked","value","symbol","children","disabled","classes","isMember","avatar","automationId","maxWidth","size","label","className","onMouseEnter","onClick"]);var L=b==="checked";var F=(0,a.useMemo)((function(){if(u().isValidElement(P)){return P}if(S){return u().createElement(s.RcIcon,{size:"small",symbol:S})}if(u().isValidElement(o)){return o}if(typeof o==="string"){return u().createElement(s.RcIcon,{size:"small"},o)}return null}),[P,o,S]);var U=(0,a.useMemo)((function(){if(!L){return v}return C?u().createElement(p.s0,{size:"large",symbol:c.Z,color:["interactive","f01"]}):v}),[C,L,v]);var B=y((0,a.useState)(undefined),2),G=B[0],j=B[1];var H=(0,a.useContext)(l.s);var V=(0,a.useContext)(f.L);var W=(0,a.useContext)(d.g);(0,a.useEffect)((function(){if(!V.isMenuList){V.setIsMenuList()}j(i()("rc-menu-item-"))}),[]);var z=(0,s.useEventCallback)((function(e){D&&D(e);if(!G){return}if(V.isMenuList){V.setFocusedMenuItemId(G)}else{H.setFocusedMenuItemId(G)}}));var Y=(0,s.useEventCallback)((function(e){M&&M(e);if(H.autoClose){H.closeMenu(e,"tabKeyDown")}if(W.autoClose&&W.closeSubMenu){W.closeSubMenu()}}));var q=(0,a.useMemo)((function(){return(0,s.combineClasses)(h.t,w)}),[w]);var K=(0,a.useMemo)((function(){return(0,s.omit)(q,["checked","unchecked"])}),[q]);return u().createElement(p.CM,g({"data-test-automation-id":A,disabled:I,isMember:R,"data-disabled":I,maxWidth:T,ref:t,size:O,value:m},k,{classes:K,onMouseEnter:z,onClick:Y,className:(0,r["default"])(x,(n={},n[q.checked]=L&&C,n[q.unchecked]=L&&!C,n))}),F&&u().createElement(p.lz,null,F),N&&u().createElement(p.GJ,null,N,"\xa0"),E,U)}));var C=(0,s.styled)((0,s.withDeprecatedCheck)((0,s.withTooltip)(b),[{prop:"isMember",time:"2021-1",comment:"isMember used for when hover on MenuItem, is cursor in shape of pointer. Please instead recommend using classes to define it."},{prop:"maxWidth",time:"2021-1",comment:"Please instead recommend using classes to define it."},{prop:"label",time:"2021-1",comment:"Please add label component and add to children prop"}],"RcMenuItem"))(m||(m=v([""],[""])));C.displayName="RcMenuItem";C.defaultProps={size:"medium"};var m},270108:(e,t,n)=>{"use strict";n.d(t,{CM:()=>C,lz:()=>p,s0:()=>b,GJ:()=>w});var r=n(105633);var o=n(305406);var i=n.n(o);var a=n(669211);var u=n(153810);var s=n(193120);var c=n(133218);var l=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var f=undefined&&undefined.__assign||function(){f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return f.apply(this,arguments)};var d=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var _RcListItemIcon=function(e){var t=d(e,[]);return i().createElement(c.Z,f({},t))};var p=(0,a.styled)(_RcListItemIcon)(h||(h=l(["\n  min-width: unset;\n  margin-right: ",";\n  ",";\n  color: ",";\n"],["\n  min-width: unset;\n  margin-right: ",";\n  ",";\n  color: ",";\n"])),(0,a.spacing)(2),(0,a.typography)("subheading1"),(0,a.palette2)("neutral","f04"));var h;var v=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var g=undefined&&undefined.__assign||function(){g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return g.apply(this,arguments)};var _=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var y=(0,o.forwardRef)((function(e,t){var n=e.icon,o=e.symbol,a=e.avatar,u=e.maxWidth,s=e.isMember,c=e.size,l=_(e,["icon","symbol","avatar","maxWidth","isMember","size"]);return i().createElement(r.Z,g({disableGutters:true,ref:t},l))}));var b=(0,a.styled)(a.RcIcon)(m||(m=v(["\n  margin-left: ",";\n"],["\n  margin-left: ",";\n"])),(0,a.spacing)(2));var C=(0,a.styled)(y)(E||(E=v(["\n  outline: none;\n  padding: ",";\n  ",";\n  color: ",";\n  height: auto;\n  min-height: 32px;\n  min-width: 112px;\n  ","\n  box-sizing: border-box;\n\n  &."," {\n    padding-right: ",";\n  }\n\n  &:hover {\n    /* @deprecated */\n    cursor: ",";\n    "," {\n      display: block;\n    }\n  }\n\n  &:active {\n    background-color: ",";\n    color: ",";\n    "," {\n      color: ",";\n    }\n  }\n"],["\n  outline: none;\n  padding: ",";\n  ",";\n  color: ",";\n  height: auto;\n  min-height: 32px;\n  min-width: 112px;\n  ","\n  box-sizing: border-box;\n\n  &."," {\n    padding-right: ",";\n  }\n\n  &:hover {\n    /* @deprecated */\n    cursor: ",";\n    "," {\n      display: block;\n    }\n  }\n\n  &:active {\n    background-color: ",";\n    color: ",";\n    "," {\n      color: ",";\n    }\n  }\n"])),(function(e){var t=e.size;return t==="large"?(0,a.spacing)(2,5):(0,a.spacing)(1,4)}),(0,a.typography)("body1"),(0,a.palette)("neutral","f06"),(function(e){var t=e.maxWidth;return t!==undefined&&(0,a.css)(S||(S=v(["\n      max-width: ","px;\n    "],["\n      max-width: ","px;\n    "])),t)}),s.t.unchecked,(0,a.spacing)(12),(function(e){var t=e.isMember;return t?"default":"pointer"}),u.a,(0,a.palette)("interactive","b02"),(0,a.paletteContrastText)((0,a.palette)("interactive","b02")),p,(0,a.paletteContrastText)((0,a.palette)("interactive","b02")));var m,S,E;var I=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var w=a.styled.span(R||(R=I(["\n  font-weight: bold;\n"],["\n  font-weight: bold;\n"])));var R},193120:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});var r=n(669211);var o=n.n(r);var i=(0,r.RcClasses)(["checked","unchecked"],"RcMenuItem")},973422:(e,t,n)=>{"use strict";n.d(t,{L:()=>f});var r=n(467258);var o=n(305406);var i=n.n(o);var a=n(669211);var u=n(699213);var s=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var c=undefined&&undefined.__assign||function(){c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return c.apply(this,arguments)};var _StyledMenuList=function(e){return i().createElement(r.Z,c({},e))};var l={small:"296px",large:"416px"};var f=(0,a.styled)(_StyledMenuList)(d||(d=s(["\n  &&."," {\n    max-width: 592px;\n    /* @deprecated default maxHeight */\n    ","\n    ",";\n    min-width: 112px;\n    overflow: auto;\n  }\n\n  "," {\n    margin: ",";\n  }\n"],["\n  &&."," {\n    max-width: 592px;\n    /* @deprecated default maxHeight */\n    ","\n    ",";\n    min-width: 112px;\n    overflow: auto;\n  }\n\n  "," {\n    margin: ",";\n  }\n"])),u.L.root,(function(e){var t=e.size;return t&&"max-height: "+l[t]}),(function(e){var t=e.maxHeight;return t&&"max-height: "+t+"px"}),a.RcDivider,(0,a.spacing)(2,0));var d},699213:(e,t,n)=>{"use strict";n.d(t,{L:()=>o});var r=n(669211);var o=(0,r.RcClasses)(["root"],"RcMenuList")},189107:(e,t,n)=>{"use strict";n.d(t,{lM:()=>u,jc:()=>s,X0:()=>c});var r=n(669211);var o=n.n(r);var i=n(270108);var a=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var u=(0,r.styled)(i.CM)(l||(l=a(["\n  && {\n    display: flex;\n    justify-content: space-between;\n  }\n"],["\n  && {\n    display: flex;\n    justify-content: space-between;\n  }\n"])));var s=(0,r.styled)(r.RcIcon)(f||(f=a(["\n  && {\n    margin-left: ",";\n  }\n"],["\n  && {\n    margin-left: ",";\n  }\n"])),(0,r.spacing)(2));var c=r.styled.div(d||(d=a(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"])));var l,f,d},135348:(e,t,n)=>{"use strict";n.d(t,{lM:()=>r.lM});var r=n(189107)},153810:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var r=n(957097);var o=n(354154);var i=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var a=r.ZP.div(u||(u=i(["\n  & {\n    display: none;\n    margin: ",";\n  }\n"],["\n  & {\n    display: none;\n    margin: ",";\n  }\n"])),(0,o.W0)(-2,0));var u},738145:(e,t,n)=>{"use strict";n.d(t,{T:()=>d});var r=n(809334);var o=n(305406);var i=n.n(o);var a=n(669211);var u=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var s=undefined&&undefined.__assign||function(){s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return s.apply(this,arguments)};var _StyledRoundButton=function(e){(0,o.useEffect)((function(){(0,a.logInDev)({component:"RcRoundButton",message:"please use `Button` with `radius: round` replace that"})}),[]);return i().createElement(r.Z,s({focusRipple:true},e))};var c="round";var l=(0,a.styled)(_StyledRoundButton)(f||(f=u(["\n  && {\n    min-width: 104px;\n    display: inline-flex;\n    text-transform: none;\n    text-align: center;\n    height: 28px;\n    border-radius: ",";\n    padding: ",";\n    background-color: ",";\n    color: ",";\n    ",";\n    min-height: unset;\n    width: inherit;\n    box-shadow: ",";\n    &:hover {\n      background-color: ",";\n      &:active {\n        box-shadow: ",";\n        background-color: ",";\n        ",";\n      }\n    }\n  }\n"],["\n  && {\n    min-width: 104px;\n    display: inline-flex;\n    text-transform: none;\n    text-align: center;\n    height: 28px;\n    border-radius: ",";\n    padding: ",";\n    background-color: ",";\n    color: ",";\n    ",";\n    min-height: unset;\n    width: inherit;\n    box-shadow: ",";\n    &:hover {\n      background-color: ",";\n      &:active {\n        box-shadow: ",";\n        background-color: ",";\n        ",";\n      }\n    }\n  }\n"])),(0,a.radius)(c),(0,a.spacing)(0,4),(0,a.paletteContrastText)((0,a.palette2)("interactive","f01")),(0,a.palette2)("interactive","f01"),(0,a.typography)("caption1"),(0,a.shadows)("3"),(0,a.palette2)("grey",50),(0,a.shadows)("1"),(0,a.palette2)("neutral","b03"),(0,a.fakeBorder)({pseudo:true,radius:c}));var f;var d=l;d.displayName="RcRoundButton"},837684:(e,t,n)=>{"use strict";n.d(t,{Fy:()=>v,Qr:()=>S,kK:()=>w,v9:()=>A});var r=n(155420);var o=n(669211);var i=n(675811);var a=n(599290);var u=n(305406);var s=n.n(u);var c=n(945824);var l=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var f=undefined&&undefined.__assign||function(){f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return f.apply(this,arguments)};var d=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var _StyledInput=function(e){var t=e.heightSize,n=d(e,["heightSize"]);return s().createElement(r.Z,f({},n))};var p=(0,o.palette2)("neutral","b03");var h=(0,o.palette2)("action","grayDark");var v=(0,o.styled)(_StyledInput)(g||(g=l(["\n  &."," {\n    box-sizing: border-box;\n    border-radius: ",";\n    background-color: ",";\n    border: 1px solid ",";\n    ",";\n    color: ",";\n    width: ",";\n    height: ",";\n  }\n\n  /* placeholder */\n  ."," {\n    color: ",";\n    &:before {\n      content: ",";\n      border: none;\n    }\n  }\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &."," {\n    background-color: ",";\n    border: 1px solid ",";\n  }\n\n  &."," {\n    border-color: ",";\n    "," {\n      > svg {\n        fill: ",";\n      }\n    }\n  }\n\n  &."," {\n    border-color: transparent;\n    ",";\n    color: ",";\n    "," {\n      > svg {\n        fill: ",";\n      }\n    }\n    /* placeholder */\n    ."," {\n      &:before {\n        color: ",";\n      }\n    }\n  }\n"],["\n  &."," {\n    box-sizing: border-box;\n    border-radius: ",";\n    background-color: ",";\n    border: 1px solid ",";\n    ",";\n    color: ",";\n    width: ",";\n    height: ",";\n  }\n\n  /* placeholder */\n  ."," {\n    color: ",";\n    &:before {\n      content: ",";\n      border: none;\n    }\n  }\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &."," {\n    background-color: ",";\n    border: 1px solid ",";\n  }\n\n  &."," {\n    border-color: ",";\n    "," {\n      > svg {\n        fill: ",";\n      }\n    }\n  }\n\n  &."," {\n    border-color: transparent;\n    ",";\n    color: ",";\n    "," {\n      > svg {\n        fill: ",";\n      }\n    }\n    /* placeholder */\n    ."," {\n      &:before {\n        color: ",";\n      }\n    }\n  }\n"])),c.JO.root,(0,o.radius)("lg"),p,(0,o.palette2)("highContrast"),(0,o.typography)("body1"),(0,o.palette2)("neutral","f06"),(function(e){var t=e.fullWidth;return!t&&"200px"}),(function(e){var t=e.heightSize;return c.YI[t]}),c.IB.input,a.sA,(function(e){var t=e.placeholder;return"'"+t+"'"}),(0,o.setOpacity)(h,"12"),c.JO.focused,(0,o.setOpacity)(h,"16"),(0,o.palette2)("interactive","f01"),c.JO.error,(0,o.palette2)("danger","f02"),o.RcIcon,(0,o.palette2)("danger","f02"),c.JO.disabled,i.disabled,(0,o.palette2)("disabled","f02"),o.RcIcon,a.K5,c.IB.input,a.K5);var g;var _=n(182920);var y=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var b=undefined&&undefined.__assign||function(){b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return b.apply(this,arguments)};var C=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var m=(0,u.forwardRef)((function(e,t){var n=e.heightSize,r=C(e,["heightSize"]);return s().createElement(_.Z,b({},r,{ref:t}))}));var S=(0,o.styled)(m)(E||(E=y(["\n  ."," {\n    color: ",";\n  }\n  ."," {\n    padding: ",";\n    line-height: ",";\n    box-sizing: border-box;\n  }\n"],["\n  ."," {\n    color: ",";\n  }\n  ."," {\n    padding: ",";\n    line-height: ",";\n    box-sizing: border-box;\n  }\n"])),c.mB.icon,(0,o.palette2)("neutral","f04"),c.mB.selectMenu,(0,o.spacing)(1.5,6,1.5,2),(function(e){var t=e.heightSize;return c.E2[t]}));var E;var I=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var w=o.styled.div(R||(R=I(["\n  width: 100%;\n  display: inline-block;\n  text-align: left;\n  max-width: ",";\n  > span {\n    ",";\n    padding: ",";\n  }\n"],["\n  width: 100%;\n  display: inline-block;\n  text-align: left;\n  max-width: ",";\n  > span {\n    ",";\n    padding: ",";\n  }\n"])),(function(e){var t=e.fullWidth;return!t&&"232px"}),(0,o.typography)("caption1"),(0,o.spacing)(1.5,6,1.5,2));var R;var P=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var errorTextColor=function(e){var t=e.error,n=e.disabled;if(n){return(0,o.palette2)("disabled","f02")}if(t){return(0,o.palette2)("danger","f02")}return(0,o.palette2)("neutral","f04")};var A=o.styled.div(T||(T=P(["\n  color: ",";\n  ",";\n  padding-bottom: ",";\n"],["\n  color: ",";\n  ",";\n  padding-bottom: ",";\n"])),errorTextColor,(0,o.typography)("caption2"),(0,o.spacing)(2));var T},945824:(e,t,n)=>{"use strict";n.d(t,{mB:()=>u,JO:()=>o,YI:()=>s,E2:()=>c,IB:()=>i,o8:()=>a});var r=n(669211);var o=(0,r.RcClasses)(["root","focused","disabled","error"],"RcBoxSelectInput");var i=(0,r.RcClasses)(["input"],"RcBoxSelectInputWhenPlaceholder");var a=(0,r.combineClasses)(o,i);var u=(0,r.RcClasses)(["root","icon","selectMenu"],"RcBoxSelect");var s={medium:"32px",large:"40px"};var c={medium:"18px",large:"26px"}},183601:(e,t,n)=>{"use strict";n.d(t,{D:()=>l});var r=n(669211);var o=n(463460);var i=n(599290);var a=n(789722);var u=n(747650);var s=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var c=(0,r.palette2)("neutral","f06");var l=(0,r.styled)(o.j)(f||(f=s(["\n  && {\n    ."," {\n      ",";\n      line-height: unset;\n      color: ",";\n    }\n\n    ."," {\n      color: ",";\n    }\n\n    /* placeholder */\n    ."," {\n      color: ",";\n      &:before {\n        content: ",";\n        border: none;\n      }\n    }\n\n    ."," {\n      color: ",";\n    }\n\n    ."," {\n      &:focus {\n        background-color: ",";\n      }\n    }\n\n    ."," {\n      "," {\n        > svg {\n          fill: ",";\n        }\n      }\n    }\n    ."," {\n      "," {\n        > svg {\n          fill: ",";\n        }\n      }\n    }\n    ."," {\n      "," {\n        > svg {\n          fill: ",";\n        }\n      }\n    }\n  }\n"],["\n  && {\n    ."," {\n      ",";\n      line-height: unset;\n      color: ",";\n    }\n\n    ."," {\n      color: ",";\n    }\n\n    /* placeholder */\n    ."," {\n      color: ",";\n      &:before {\n        content: ",";\n        border: none;\n      }\n    }\n\n    ."," {\n      color: ",";\n    }\n\n    ."," {\n      &:focus {\n        background-color: ",";\n      }\n    }\n\n    ."," {\n      "," {\n        > svg {\n          fill: ",";\n        }\n      }\n    }\n    ."," {\n      "," {\n        > svg {\n          fill: ",";\n        }\n      }\n    }\n    ."," {\n      "," {\n        > svg {\n          fill: ",";\n        }\n      }\n    }\n  }\n"])),u.SX.selectMenu,(0,r.typography)("subheading1"),c,u.SX.icon,(0,r.palette2)("neutral","f04"),u.y7.input,i.sA,(function(e){var t=e.placeholder;return"'"+t+"'"}),u.SX.disabled,i.K5,u.SX.select,(0,r.setAlpha)(c,.05),u.FL.focused,r.RcIcon,(0,r.palette2)("interactive","f01"),a.ol.error,r.RcIcon,(0,r.palette2)("danger","f02"),a.ol.disabled,r.RcIcon,i.K5);var f},747650:(e,t,n)=>{"use strict";n.d(t,{SX:()=>o,FL:()=>i,y7:()=>a});var r=n(669211);var o=(0,r.RcClasses)(["icon","selectMenu","disabled","select"],"RcLineSelect");var i=(0,r.RcClasses)(["focused"],"RcLineSelectInput");var a=(0,r.RcClasses)(["input"],"RcLineSelectInputWhenPlaceholder")},325328:(e,t,n)=>{"use strict";n.d(t,{PT:()=>r.P,qA:()=>r.q,K5:()=>o.K,tH:()=>h,HI:()=>g.H});var r=n(28863);var o=n(99723);var i=n(305406);var a=n.n(i);var u=n(669211);var s=n(112243);var c=n(599290);var l=n(477116);var f=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var d=undefined&&undefined.__assign||function(){d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return d.apply(this,arguments)};var p=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var _StyledTextField=function(e){var t=e.iconPosition,n=e.size,r=p(e,["iconPosition","size"]);return a().createElement(s.j,d({},r))};var h=(0,u.styled)(_StyledTextField)(v||(v=f(["\n  && {\n    margin-bottom: 0;\n    & > div {\n      padding: ",";\n    }\n    input {\n      padding-left: 0;\n      padding-right: 0;\n      ",";\n      ::placeholder {\n        color: ",";\n        opacity: 1;\n      }\n      &[disabled] {\n        // * safari need that in disabled input\n        -webkit-text-fill-color: ",";\n        ::placeholder {\n          color: ",";\n        }\n      }\n    }\n    fieldset {\n      display: none;\n    }\n  }\n"],["\n  && {\n    margin-bottom: 0;\n    & > div {\n      padding: ",";\n    }\n    input {\n      padding-left: 0;\n      padding-right: 0;\n      ",";\n      ::placeholder {\n        color: ",";\n        opacity: 1;\n      }\n      &[disabled] {\n        // * safari need that in disabled input\n        -webkit-text-fill-color: ",";\n        ::placeholder {\n          color: ",";\n        }\n      }\n    }\n    fieldset {\n      display: none;\n    }\n  }\n"])),(function(e){var t=e.iconPosition,n=e.size;var r=l.nM[n];switch(t){case"both":return 0;case"left":return(0,u.spacing)(0,r.outside,0,0);case"right":return(0,u.spacing)(0,0,0,r.outside);default:return(0,u.spacing)(0,r.outside)}}),(function(e){var t=e.size;return l.OY[t]}),c.sA,c.K5,c.K5);var v;var g=n(772901)},477116:(e,t,n)=>{"use strict";n.d(t,{OY:()=>a,JD:()=>i,GN:()=>u,nM:()=>o});var r=n(669211);var o={small:{outside:3,inside:2},medium:{outside:4,inside:4,insideRight:3},large:{outside:4,inside:4,insideRight:3}};var i={small:32,medium:40,large:48};var a={small:(0,r.typography)("body1"),medium:(0,r.typography)("subheading1"),large:(0,r.typography)("subheading1")};var u={small:{width:(0,r.px)(16),height:(0,r.px)(16)},medium:{width:(0,r.px)(20),height:(0,r.px)(20)},large:{width:(0,r.px)(20),height:(0,r.px)(20)}}},112243:(e,t,n)=>{"use strict";n.d(t,{j:()=>d});var r=n(305406);var o=n.n(r);var i=n(669211);var a=n(789722);var u=n(990210);var s=n(599290);var c=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var l=undefined&&undefined.__assign||function(){l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return l.apply(this,arguments)};var f=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var d=function(e){c(RcTextField,e);function RcTextField(t){var n,r;var a=e.call(this,t)||this;a._ref=o().createRef();a.state={showClearBtn:false,value:null,validateMessage:""};a.handleMouseDownInClearBtn=function(e){e.preventDefault()};a.handleClear=function(e){var t=a.props.onClear;var n={target:{value:""}};t&&t(e);a._triggerEvent("onChange",n);a.setState({showClearBtn:false,value:"",validateMessage:""})};a.handleChange=function(e){a._calculateShowClearBtn(e);a.setState({value:e.target.value});a._triggerEvent("onChange",e)};a.handleKeyDown=function(e){a._triggerEvent("onKeyDown",e)};a.handleBlur=function(e){a._runValidate();a.setState({showClearBtn:false});a._triggerEvent("onBlur",e)};a.handleFocus=function(e){a._calculateShowClearBtn(e);a._clearValidate();a._triggerEvent("onFocus",e)};a.state={showClearBtn:false,value:(r=(n=t.value)!==null&&n!==void 0?n:t.defaultValue)!==null&&r!==void 0?r:"",validateMessage:""};(0,i.logInDev)({component:"RcTextField",message:"please use none deprecated `RcTextField` replace that"});return a}RcTextField.getDerivedStateFromProps=function(e,t){var n=e.value,r=e.defaultValue;if((!n&&t.value||n&&n!==t.value)&&!r){return{value:n}}return null};RcTextField.prototype.componentDidMount=function(){var e=this;var t=this.props.InputProps&&this.props.InputProps.autoFocus;if(t||this.props.focusOnMount||this.props.selectOnMount){this._focusTimer=setTimeout((function(){e._autoFocus()}),this.props.autoFocusDelay||0)}this.context.set(this.props.id,{validate:function(){return e._runValidate()}})};RcTextField.prototype.componentWillUnmount=function(){clearTimeout(this._focusTimer);this.context.delete(this.props.id);var e=(this.props.inputRef||this._ref).current;if(e){(0,i.clearReactReferencesInNode)(e)}};RcTextField.prototype._triggerEvent=function(e,t){if(this.props.InputProps){var n=this.props.InputProps[e];if(n){return n(t)}}var r=this.props[e];r&&r(t)};RcTextField.prototype._runValidate=function(e){if(e===void 0){e=this.state.value}var t=false;var n=this.props.validate;if(n){t=n(e);if(t!==false){this.setState({validateMessage:t})}else{this.setState({validateMessage:""})}}return t};RcTextField.prototype._calculateShowClearBtn=function(e){var t=this.props.clearBtn;if(t){var n=e.target.value;this.setState({showClearBtn:!!n})}};RcTextField.prototype._clearValidate=function(){if(this.state.validateMessage!==""){this.setState({validateMessage:""})}};RcTextField.prototype._autoFocus=function(){var e=(this.props.inputRef||this._ref).current;if(e){e.focus();if(this.props.selectOnMount&&e.value){e.select()}}};RcTextField.prototype._endAdornment=function(){var e=this.props,t=e.clearBtn,n=e.clearLabel,r=e.clearAriaLabel,a=e.InputProps,s=e.clearButtonProps;var c=this.state.showClearBtn;if(a===null||a===void 0?void 0:a.endAdornment){return a.endAdornment}var f=(0,i.combineProps)({onClick:this.handleClear,onMouseDown:this.handleMouseDownInClearBtn},s);if(t&&c){return o().createElement(i.RcIconButton,l({type:"button",variant:"plain",disableToolTip:!n,title:n,ariaLabel:r||n,symbol:u.Z,tabIndex:-1},f))}return null};RcTextField.prototype.render=function(){var e=this.state,t=e.value,n=e.validateMessage;var r=this.props,u=r.innerRef,c=r.onClear,d=r.clearLabel,p=r.value,h=r.inputRef,v=r.selectOnMount,g=r.focusOnMount,_=r.autoFocusDelay,y=r.InputLabelProps,b=r.InputProps,C=r.clearBtn,m=r.clearAriaLabel,S=r.FormHelperTextProps,E=r.validate,I=r.error,w=r.helperText,R=r.classes,P=r.onKeyDown,A=r.onChange,T=r.onBlur,O=r.onFocus,N=r.clearButtonProps,x=r.warning,D=f(r,["innerRef","onClear","clearLabel","value","inputRef","selectOnMount","focusOnMount","autoFocusDelay","InputLabelProps","InputProps","clearBtn","clearAriaLabel","FormHelperTextProps","validate","error","helperText","classes","onKeyDown","onChange","onBlur","onFocus","clearButtonProps","warning"]);var M=(0,a.YR)(this.props);return o().createElement(s.tH,l({},D,{value:t,error:E?!!n:I,helperText:n||w,classes:(0,i.combineClasses)(M?{}:a.qM,R),FormHelperTextProps:(0,i.combineProps)({classes:a.Sv},S),InputLabelProps:(0,i.combineProps)({classes:a.hU,shrink:true},y),InputProps:(0,i.combineProps)({classes:M?{}:a.ol,endAdornment:this._endAdornment()},l(l({},b),{onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,onFocus:this.handleFocus})),inputRef:h||this._ref}))};RcTextField.defaultProps={clearBtn:true};return RcTextField}(o().PureComponent);d.contextType=i.RcFormContext},599290:(e,t,n)=>{"use strict";n.d(t,{tH:()=>h,K5:()=>f,sA:()=>d,dt:()=>p});var r=n(720919);var o=n(669211);var i=n(789722);var a=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var u=(0,o.palette2)("neutral","f04");var s=(0,o.palette2)("danger","f02");var c=(0,o.palette2)("danger","f02");var l=(0,o.palette2)("neutral","f06");var f=(0,o.palette2)("disabled","f02");var d=(0,o.palette2)("neutral","f03");var p=(0,o.css)(v||(v=a(["\n  ."," {\n    ",";\n    color: ",";\n  }\n\n  ."," {\n    color: ",";\n  }\n\n  ."," {\n    color: ",";\n  }\n"],["\n  ."," {\n    ",";\n    color: ",";\n  }\n\n  ."," {\n    color: ",";\n  }\n\n  ."," {\n    color: ",";\n  }\n"])),i.Sv.root,(0,o.typography)("caption1"),u,i.Sv.error,s,i.Sv.disabled,f);var h=(0,o.styled)(r.Z)(g||(g=a(["\n  &."," {\n    margin: 0 0 "," 0;\n  }\n\n  ."," {\n    ",";\n    color: ",";\n    transform: scale(1);\n  }\n\n  ."," {\n    color: ",";\n  }\n\n  ."," {\n    color: ",";\n  }\n\n  ."," {\n    ",";\n    ::placeholder {\n      color: ",";\n      opacity: 1;\n    }\n  }\n\n  ."," {\n    &:before {\n      border-bottom-color: ",";\n    }\n\n    &:hover:not(.",") {\n      &:before {\n        border-bottom-color: ",";\n      }\n    }\n\n    &:after {\n      border-bottom-color: ",";\n    }\n  }\n\n  ."," {\n    &:after {\n      border-bottom-color: ",";\n    }\n  }\n\n  ."," {\n    color: ",";\n    // * safari need that in disabled input\n    -webkit-text-fill-color: ",";\n    ::placeholder {\n      color: ",";\n    }\n    &:before {\n      border-bottom-style: solid;\n      border-bottom-color: ",";\n    }\n    &:after {\n      border-bottom-style: none;\n    }\n  }\n\n  ",";\n\n  ."," {\n    color: ",";\n  }\n\n  ."," {\n    color: ",";\n  }\n\n  /** To remove eye icon and clear button on Microsoft Edge */\n  input::-ms-reveal,\n  input::-ms-clear {\n    display: none;\n  }\n"],["\n  &."," {\n    margin: 0 0 "," 0;\n  }\n\n  ."," {\n    ",";\n    color: ",";\n    transform: scale(1);\n  }\n\n  ."," {\n    color: ",";\n  }\n\n  ."," {\n    color: ",";\n  }\n\n  ."," {\n    ",";\n    ::placeholder {\n      color: ",";\n      opacity: 1;\n    }\n  }\n\n  ."," {\n    &:before {\n      border-bottom-color: ",";\n    }\n\n    &:hover:not(.",") {\n      &:before {\n        border-bottom-color: ",";\n      }\n    }\n\n    &:after {\n      border-bottom-color: ",";\n    }\n  }\n\n  ."," {\n    &:after {\n      border-bottom-color: ",";\n    }\n  }\n\n  ."," {\n    color: ",";\n    // * safari need that in disabled input\n    -webkit-text-fill-color: ",";\n    ::placeholder {\n      color: ",";\n    }\n    &:before {\n      border-bottom-style: solid;\n      border-bottom-color: ",";\n    }\n    &:after {\n      border-bottom-style: none;\n    }\n  }\n\n  ",";\n\n  ."," {\n    color: ",";\n  }\n\n  ."," {\n    color: ",";\n  }\n\n  /** To remove eye icon and clear button on Microsoft Edge */\n  input::-ms-reveal,\n  input::-ms-clear {\n    display: none;\n  }\n"])),i.qM.root,(0,o.spacing)(4),i.hU.root,(0,o.typography)("caption2"),u,i.hU.focused,(0,o.palette2)("interactive","f01"),i.ol.root,l,i.ol.input,(0,o.typography)("subheading1"),d,i.ol.underline,(0,o.palette2)("neutral","f02"),i.ol.disabled,(0,o.palette2)("neutral","f06"),(0,o.palette2)("interactive","f01"),i.ol.error,c,i.ol.disabled,f,f,f,f,p,i.hU.error,s,i.hU.disabled,f);var v,g},789722:(e,t,n)=>{"use strict";n.d(t,{qM:()=>o,Sv:()=>u,ol:()=>i,hU:()=>a,YR:()=>isOutlinedTextFieldProps});var r=n(669211);var o=(0,r.RcClasses)(["root"],"RcTextField");var i=(0,r.RcClasses)(["root","underline","error","disabled","input"],"RcTextFieldInput");var a=(0,r.RcClasses)(["root","error","focused","disabled"],"RcTextFieldInputLabel");var u=(0,r.RcClasses)(["root","error","disabled"],"RcTextFieldFormHelperText");function isOutlinedTextFieldProps(e){return e.variant==="outlined"}},862160:(e,t,n)=>{"use strict";var r=n(731338);var Hover=function(e){var t=e.initialState,n=e.children;var r=useHoverHelper(t);return n(r)}},362079:(e,t,n)=>{"use strict";var r=n(64257);var HoveredOnce=function(e){var t=e.children;var n=useHoveredOnceHelper();return t(n)}},908533:()=>{},934822:(e,t,n)=>{"use strict";n.d(t,{AY:()=>isElementInPopup});function getPopup(e){return e&&typeof document!=="undefined"?document.getElementById(e):null}function isAncestor(e,t){var n=t;if(!e)return false;while(n){if(t===e)return true;if(t instanceof HTMLElement){n=t.parentElement}else{n=null}}return false}function isElementInPopup(e){var t=e.popupId,n=e.element,r=e.anchorEl;return isAncestor(r,n)||isAncestor(getPopup(t),n)}},725757:(e,t,n)=>{"use strict";n.d(t,{Z:()=>forceDeleteReactReferences});function forceDeleteReactReferences(e,t,n){if(t===void 0){t=10}if(n===void 0){n=0}if(!e)return;if(e.childNodes&&n<t){e.childNodes.forEach((function(e){forceDeleteReactReferences(e,t,n+1)}))}for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)&&r.startsWith("__react"))e[r]=null}}},563508:(e,t,n)=>{"use strict";n.d(t,{p:()=>withDelay});var r=n(305406);var o=n.n(r);var i=undefined&&undefined.__assign||function(){i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return i.apply(this,arguments)};var a=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var u=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};function withDelay(e){return function ComponentWithDelay(t){var n=t.delay,s=n===void 0?0:n,c=t.placeholder,l=c===void 0?null:c,f=a(t,["delay","placeholder"]);var d=u((0,r.useState)(s===0),2),p=d[0],h=d[1];(0,r.useEffect)((function(){var e=!p?window.setTimeout((function(){return h(true)}),s):undefined;return function(){return clearTimeout(e)}}),[]);return p?o().createElement(e,i({},f)):l}}},113971:(e,t,n)=>{"use strict";n.d(t,{y:()=>withDialogLevel});var r=n(305406);var o=n.n(r);var i=undefined&&undefined.__assign||function(){i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return i.apply(this,arguments)};var a=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var u=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var withDialogLevel=function(e){return function(t){var n=t.open,s=t.canGoTop,c=t.dialogId,l=t.fullScreen,f=a(t,["open","canGoTop","dialogId","fullScreen"]);var d=c?"#"+c:'[role="presentation"]';var p=document.querySelector('[data-role="dialer"]');var h=p?p.getAttribute("style").includes("visibility: hidden"):true;var v=u((0,r.useState)(n?h?false:!s:false),2),g=v[0],_=v[1];var y=(0,r.useCallback)((function(){var e=document.querySelector(d);var t=document.querySelectorAll(d+'[data-full-screen="false"]');if(h){return}if(e&&e.parentNode){if(s){t.forEach((function(e){if(e&&e.parentNode){e.parentNode.removeChild(e);document.body.append(e)}}))}else if(e.parentNode.contains(p)){e.parentNode.insertBefore(e,p)}}}),[n]);(0,r.useLayoutEffect)((function(){if(n){var e=document.querySelector(d);if(h){_(false);return function(){return{}}}if(e&&e.parentNode){y()}else{var t=requestAnimationFrame((function(){y();_(false)}));return function(){return cancelAnimationFrame(t)}}}return function(){return{}}}),[y,h,n,d]);return o().createElement(e,i({id:c,open:n,hidden:n?g:false,"data-full-screen":l||false,fullScreen:l},f))}}},125483:(e,t,n)=>{"use strict";n.d(t,{z:()=>buildJssFromWindow});var r=n(648130);var o=n(607415);var i=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var a=undefined&&undefined.__assign||function(){a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return a.apply(this,arguments)};var u=r.xc;function warning(e){if(false){}}function JssDomRendererFactory(e,t){var n=e.document;var getHead=function(){return n.head};var findHigherSheet=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint){return r}}return null};var findHighestSheet=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint){return r}}return null};var findPrevNode=function(e){var n=t.registry;if(n.length>0){var r=findHigherSheet(n,e);if(r&&r.renderer){return{parent:r.renderer.element.parentNode,node:r.renderer.element}}r=findHighestSheet(n,e);if(r&&r.renderer){return{parent:r.renderer.element.parentNode,node:r.renderer.element.nextSibling}}}var o=e.insertionPoint;if(o&&typeof o==="string"){var i=findCommentNode(o);if(i){return{parent:i.parentNode,node:i.nextSibling}}warning('[JSS] Insertion point "'+o+'" not found.')}return false};function findCommentNode(e){var t;var n=getHead();for(var r=0;r<n.childNodes.length;r++){var o=n.childNodes[r];if(o.nodeType===8&&((t=o.nodeValue)===null||t===void 0?void 0:t.trim())===e){return o}}return null}var insertStyle=function(e,t){var n=t.insertionPoint;var r=findPrevNode(t);if(r!==false&&r.parent){r.parent.insertBefore(e,r.node);return}if(typeof n!=="string"&&n&&typeof n.nodeType==="number"){var o=n;var i=o.parentNode;if(i)i.insertBefore(e,o.nextSibling);else warning("[JSS] Insertion point is not in the DOM.");return}getHead().appendChild(e)};var createStyle=function(){var e=n.createElement("style");e.textContent="\n";return e};var getNonce=function(){var e=n.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null};return function(e){i(ExternalJssDomRenderer,e);function ExternalJssDomRenderer(n){var r=e.call(this)||this;r.sheet=n;if(n){t.add(n)}r.element=(n===null||n===void 0?void 0:n.options.element)||createStyle();r.element.setAttribute("data-jss","");if(n===null||n===void 0?void 0:n.options.media){r.element.setAttribute("media",n.options.media)}if(n===null||n===void 0?void 0:n.options.meta){r.element.setAttribute("data-meta",n.options.meta)}var o=getNonce();if(o)r.element.setAttribute("nonce",o);return r}ExternalJssDomRenderer.prototype.attach=function(){if(this.element.parentNode||!this.sheet)return;insertStyle(this.element,this.sheet.options)};return ExternalJssDomRenderer}(u)}function buildJssFromWindow(e,t){var n=new r.xE;return(0,r.Ue)(a(a(a({},(0,o.Z)()),t),{sheetsRegistry:n,Renderer:JssDomRendererFactory(e,n)}))}},22463:(e,t,n)=>{"use strict";n.d(t,{R:()=>p,Z:()=>s.Z});var r=n(305406);var o=n.n(r);var i=n(957097);var a=n(492021);var u=n(157575);var s=n(915650);var c="mui-insertion-point";var l=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var f=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var d=(0,i.vJ)(h||(h=l(["\n html,\n body {\n    background-color:",";\n    margin: 0;\n    padding-right: 0 !important;\n    background: ",";\n    margin: 0;\n    padding: 0;\n    font-family: Lato, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n"],["\n html,\n body {\n    background-color:",";\n    margin: 0;\n    padding-right: 0 !important;\n    background: ",";\n    margin: 0;\n    padding: 0;\n    font-family: Lato, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n"])),(0,a.v)("neutral","elevation"),(0,a.v)("neutral","b03"));var p=function(e){f(DetachedWindow,e);function DetachedWindow(t){var n=e.call(this,t)||this;n._mountHandler=function(e){var t;if(!e)return;var r=(t=e.document)===null||t===void 0?void 0:t.body;if(!r)return;n.externalWindow=e;n.externalWindow.document.title=n.props.windowName;var o=n.props.transferNodeSelectors,i=o===void 0?['link[rel*="icon"]','meta[http-equiv="Content-Security-Policy"]','meta[name="viewport"]','meta[name="theme-color"]','meta[name="format-detection"]','meta[charset="utf-8"]','[id="__SVG_SPRITE_NODE__"]']:o;var a=document.createDocumentFragment();a.appendChild(n.externalWindow.document.createComment(c));for(var u=0;u<i.length;u++){var s=document.querySelector(i[u]);if(u===0&&s){var l=document.createElement("link");l.setAttribute("rel",s.rel);l.setAttribute("href",s.href);a.appendChild(l)}else{s&&a.appendChild(s.cloneNode(true))}}n.externalWindow.document.head.appendChild(a);n._loadScript(window.location.origin+"/misc/focus-visible-5.2.0.min.js");n.forceUpdate()};n._loadScript=function(e){var t;var r=n.props.logger;try{var o=document.createElement("script");o.onload=function(){r===null||r===void 0?void 0:r.info(e+", load script success")};o.onerror=function(t){r===null||r===void 0?void 0:r.error(e+", load script error",t)};o.src=e;(t=n.externalWindow)===null||t===void 0?void 0:t.document.body.appendChild(o)}catch(t){r===null||r===void 0?void 0:r.error(e+", load script fail",t)}};n.externalWindow=null;return n}DetachedWindow.prototype.componentDidMount=function(){this.props.openWindow(this._mountHandler)};DetachedWindow.prototype.componentDidUpdate=function(e){if(e.windowName!==this.props.windowName){if(!this.externalWindow)return;this.externalWindow.document.title=this.props.windowName}};DetachedWindow.prototype.render=function(){if(!this.externalWindow||!this.externalWindow.document.body)return null;return o().createElement(s.Z,{externalWindow:this.externalWindow,muiInsertionPoint:c},o().createElement(o().Fragment,null,o().createElement(d,null),o().createElement(u.c.Provider,{value:{externalWindow:this.externalWindow,document:this.externalWindow.document}},this.props.children)))};return DetachedWindow}(o().PureComponent);var h},211680:(e,t,n)=>{"use strict";n.d(t,{K:()=>useResizeDeadLoopDetector});var r=n(305406);var o=n.n(r);var i=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var a=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};var u=10;var s=300;function useResizeDeadLoopDetector(){var e=(0,r.useRef)([]);var t=(0,r.useCallback)((function(t){var n=e.current;var r=n.findIndex((function(e){return isSameSize(e,t)}));var o=n[r];var i=r>0&&n.slice(0,r).every((function(e,t){return isSameSize(e,n[r+t+1])}));var c=i&&t.timestamp-o.timestamp<=s;e.current=a([t],n).slice(0,u*2);return{isLooping:c,recordsSnapshot:e.current}}),[]);return{detectDeadLoop:t}}function isSameSize(e,t){return e&&t&&e.width===t.width&&e.height===t.height}},409930:(e,t,n)=>{"use strict";n.d(t,{j:()=>w});var r=n(305406);var o=n.n(r);var i=n(963402);var a=n(932765);var u=n(667563);var s=n(14862);var c=n(243606);var l=n(245882);var f=n(420617);function isObjectSourceItem(e){return e&&e.id!==undefined}function extractValue(e,t){var n;if(t){n=t(e)}else if(typeof e==="string"||typeof e==="number"){n=e}else if(isObjectSourceItem(e)){n=e.id}else{n="";console.log("[JuiSelect utils] Can not extract value of source. sourceItem: "+e)}return n.toString()}var d=n(720795);var p=n(325719);var h=n(20109);var v=n.n(h);var g=n(492942);var _=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var y=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var b=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var C=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var m=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var S=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var E=v()(a.dH)(R||(R=_(["\n  max-width: 232px;\n"],["\n  max-width: 232px;\n"])));var I=function(e){y(JuiSelectComponent,e);function JuiSelectComponent(){var t=e!==null&&e.apply(this,arguments)||this;t._open=false;t._onOpen=function(){return m(t,void 0,void 0,(function(){var e,t,n;return S(this,(function(r){switch(r.label){case 0:e=this.props.config.onBeforeOpen;t=this;if(!e)return[3,2];return[4,e()];case 1:n=r.sent();return[3,3];case 2:n=true;r.label=3;case 3:t._open=n;return[2]}}))}))};t._onClose=function(){t._open=false};t._extractValue=function(e){var n=t.props.config.valueExtractor;return extractValue(e,n)};t._renderValue=function(e){var n=t.props,r=n.source,i=n.config;var a=r.find((function(n){return t._extractValue(n)===e}));var u=i.valueRenderer||i.sourceRenderer;if(!u){var s=typeof a;if(["string","number"].includes(s)){return o().createElement(c.Z,null,a)}return null}if(!a){return null}var l=u({source:r,value:a});if(typeof l==="string"){return o().createElement(c.Z,null,l)}return l};t._handleChange=function(e){var n=t.props,r=n.handleChange,o=n.source;var i=e.target.value;var a=o.find((function(e){return t._extractValue(e)===i}));r(i,a)};return t}Object.defineProperty(JuiSelectComponent.prototype,"value",{get:function(){return this._extractValue(this.props.rawValue)},enumerable:true,configurable:true});Object.defineProperty(JuiSelectComponent.prototype,"automationId",{get:function(){var e=this.props.config,t=e.id,n=e.automationId;return n||t},enumerable:true,configurable:true});Object.defineProperty(JuiSelectComponent.prototype,"SelectDisplayProps",{get:function(){return{"aria-describedby":(0,g.kY)(this.props.config.id),"aria-expanded":false}},enumerable:true,configurable:true});JuiSelectComponent.prototype._renderMenuItemChildren=function(e,t){var n=this.props,r=n.source,i=n.config;var a=i.sourceRenderer,u=i.secondaryActionRenderer;var s=a?a({source:r,value:e}):o().createElement(l.z,null,t);if(!u){return s}var c=o().createElement(f.R,null,u({source:r,value:e}));return o().createElement(o().Fragment,null,s,c)};JuiSelectComponent.prototype._renderSourceItem=function(e){var t=this._extractValue(e);return o().createElement(u.Dm,{key:t,value:t,disabled:t==="","data-test-automation-id":"selectBoxItem-"+this.automationId+"-"+t,"data-test-automation-class":"selectBoxItem","data-test-automation-value":t},this._renderMenuItemChildren(e,t))};JuiSelectComponent.prototype._renderSource=function(){var e=this;return this.props.source.map((function(t){return e._renderSourceItem(t)}))};JuiSelectComponent.prototype._renderSelect=function(){var e=this.props,t=e.disabled,n=e.className;return o().createElement(E,{onChange:this._handleChange,disabled:t,value:this.value,displayEmpty:true,automationId:"selectBox-"+this.automationId,"data-test-automation-value":this.value,fullWidth:true,open:this._open,onOpen:this._onOpen,onClose:this._onClose,name:""+this.automationId,renderValue:this._renderValue,className:n,labelId:""+(0,g.uK)(this.props.config.id),SelectDisplayProps:this.SelectDisplayProps,"aria-expanded":this._open},this._renderSource())};JuiSelectComponent.prototype._renderVirtualizedSelect=function(){var e=this.props,t=e.config,n=e.disabled;return o().createElement(i.x,{variant:"box",virtualize:true,onChange:this._handleChange,"data-test-automation-id":"selectBox-"+this.automationId,renderValue:this._renderValue,name:""+this.automationId,fullWidth:true,value:this.value,labelId:""+(0,g.uK)(t.id),SelectDisplayProps:this.SelectDisplayProps,disabled:n},this._renderSource())};JuiSelectComponent.prototype.render=function(){var e=this.props.config;return e.useVirtualizedList?this._renderVirtualizedSelect():this._renderSelect()};b([p.observable,C("design:type",Object)],JuiSelectComponent.prototype,"_open",void 0);b([p.computed,C("design:type",Object),C("design:paramtypes",[])],JuiSelectComponent.prototype,"value",null);JuiSelectComponent=b([d.observer],JuiSelectComponent);return JuiSelectComponent}(o().Component);var w=v()((0,s.withTranslation)("translations")(I))(P||(P=_([""],[""])));var R,P},521760:(e,t,n)=>{"use strict";n.d(t,{J:()=>dr});var r={};n.r(r);n.d(r,{MeetLocalPermissionGenerator:()=>Bn,MessageLocalPermissionGenerator:()=>Un,PhoneLocalPermissionGenerator:()=>Gn});var o=n(667489);var i=n(302186);var a=n(38942);var u=n(960782);var s=n(968006);var c=n(636428);var l=n(185805);var f=n(168488);var d=n(228147);var p=n.n(d);var h=n(862926);var v=n(670373);var g=n(782117);var _=n(626469);var y=n(234110);var b="[CORE]";var C=h.ModuleLogger.getLogger(b,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),h.EVENT_DATA_FEATURE.FOUNDATION);var m="[GUEST][CORE]";var S=h.ModuleLogger.getLogger(m,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),h.EVENT_DATA_FEATURE.COMMON);var E=n(461197);var I=n(95531);var w=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var R=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var accountInfoConfig=function(){return w(void 0,void 0,void 0,(function(){var e;return R(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then(n.bind(n,349398))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.AccountInfoModule(t)}}]}}))}))};var P=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var A=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var phoneParserConfig=function(){return P(void 0,void 0,void 0,(function(){var e;return A(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then(n.bind(n,877806))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.PhoneParserModule(t)}}]}}))}))};var T=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var O=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var settingConfig=function(){return T(void 0,void 0,void 0,(function(){var e;return O(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then(n.bind(n,128609))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.SettingModule(t)}}]}}))}))};var N=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var x=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var contactConfig=function(){return N(void 0,void 0,void 0,(function(){var e;return x(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then(n.bind(n,968415))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.ContactModule(t)}}]}}))}))};var D=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var M=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var badgeConfig=function(){return D(void 0,void 0,void 0,(function(){var e;return M(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then(n.bind(n,144409))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.BadgeModule(t)}}]}}))}))};var k=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var L=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var phoneNumberConfig=function(){return k(void 0,void 0,void 0,(function(){var e;return L(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then(n.bind(n,299318))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.PhoneNumberModule(t)}}]}}))}))};var F=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var U=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var searchConfig=function(){return F(void 0,void 0,void 0,(function(){var e;return U(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then(n.bind(n,313143))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.SearchModule(t)}}]}}))}))};var B=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var G=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var webAdapterConfig=function(){return B(void 0,void 0,void 0,(function(){var e;return G(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then(n.bind(n,626745))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.WebAdapterModule(t)}}]}}))}))};var j=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var H=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var audioConfig=function(){return j(void 0,void 0,void 0,(function(){var e;return H(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then(n.bind(n,485467))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.AudioModule(t)}}]}}))}))};var V=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var W=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var localSettingProviderConfig=function(){return V(void 0,void 0,void 0,(function(){var e;return W(this,(function(t){switch(t.label){case 0:return[4,n.e(682).then(n.bind(n,564975))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.LocalSettingProviderModule(t)}}]}}))}))};var z=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Y=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var companyInfoConfig=function(){return z(void 0,void 0,void 0,(function(){var e;return Y(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then(n.bind(n,394684))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.CompanyInfoModule(t)}}]}}))}))};var q=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var K=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var phoneContactConfig=function(){return q(void 0,void 0,void 0,(function(){var e;return K(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then(n.bind(n,815793))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.PhoneContactModule(t)}}]}}))}))};var Q=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Z=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var userProfileConfig=function(){return Q(void 0,void 0,void 0,(function(){var e;return Z(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then(n.bind(n,81891))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.UserProfileModule(t)}}]}}))}))};var X=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var J=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var dataTracerConfig=function(){return X(void 0,void 0,void 0,(function(){var e;return J(this,(function(t){switch(t.label){case 0:return[4,n.e(7538).then(n.bind(n,128787))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.DataTracerModule(t)}}]}}))}))};var $=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ee=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var healthMonitorConfig=function(){return $(void 0,void 0,void 0,(function(){var e;return ee(this,(function(t){switch(t.label){case 0:return[4,n.e(382).then(n.bind(n,573817))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.HealthMonitorModule(t)}}]}}))}))};var te=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ne=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var configurableNavConfig=function(){return te(void 0,void 0,void 0,(function(){var e;return ne(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(6916),n.e(4888)]).then(n.bind(n,151764))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.ConfigurableNavModule(t)}}]}}))}))};var re=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var oe=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var userSettingConfig=function(){return re(void 0,void 0,void 0,(function(){var e;return oe(this,(function(t){switch(t.label){case 0:return[4,n.e(9636).then(n.bind(n,861231))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.UserSettingModule(t)}}]}}))}))};var ie=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ae=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var navSettingConfig=function(){return ie(void 0,void 0,void 0,(function(){var e;return ae(this,(function(t){switch(t.label){case 0:return[4,n.e(9384).then(n.bind(n,222066))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.NavSettingModule(t)}}]}}))}))};var ue=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var se=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var meetParserConfig=function(){return ue(void 0,void 0,void 0,(function(){var e;return se(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(9337),n.e(808)]).then(n.bind(n,819337))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.MeetParserModule(t)}}]}}))}))};var ce=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var le=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var meetingLinkParserConfig=function(){return ce(void 0,void 0,void 0,(function(){var e;return le(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then(n.bind(n,443998))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.MeetingLinkParserModule(t)}}]}}))}))};var fe=n(295454);var de=n(470033);var pe=n(963786);var he=n(390582);var ve=n(862038);var ge="[MODULE_CONFIG][CORE]";var _e=h.ModuleLogger.getLogger(ge,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),h.EVENT_DATA_FEATURE.FOUNDATION);var ye=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var be=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var messageRegister=function(e){return function(t){var n=(0,pe.x6)().context;var r=de.H3.RCExtensionFeaturesId.Glip;var o=n.entitlement.get(r);if(o===undefined){n.entitlement.on(r,(function(n){t(e===n)}))}else{return t(e===o)}return Promise.resolve()}};var Ce=messageRegister(true);var me=messageRegister(false);var generatePermissionHandler=function(e,t){return ye(void 0,void 0,Promise,(function(){var n,r;return be(this,(function(o){switch(o.label){case 0:return[4,e()];case 1:n=o.sent();r=function(){return ye(void 0,void 0,void 0,(function(){var r;return be(this,(function(o){switch(o.label){case 0:return[4,e()];case 1:r=o.sent();if(n!==r){n=r;t(n)}return[2]}}))}))};return[2,{permission:n,handlePermissionChange:r}]}}))}))};var generateDependencyModulesRegister=function(e){return function(t){return ye(void 0,void 0,Promise,(function(){var n;return be(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,(0,ve.sW)(e.map((function(e){return function(){return(0,he.Jz)({fn:function(){return(0,E.getModuleAsync)(e)}})}})))];case 1:r.sent();t(true);return[3,3];case 2:n=r.sent();_e.warn("wait dependencies failed. ",n);return[3,3];case 3:return[2]}}))}))}};var Se=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Ee=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var healthMonitorModulePermission=function(e){return Se(void 0,void 0,Promise,(function(){var t;return Ee(this,(function(n){t=i.Pal.instance.getPlatformUtils().isElectron();e(t);return[2]}))}))};var Ie=[[{name:fe.Lb.ACCOUNT_INFO,config:accountInfoConfig},{name:fe.Lb.DATA_TRACER,config:dataTracerConfig},{name:fe.Lb.PHONE_PARSER,config:phoneParserConfig},{name:fe.Lb.SETTING,config:settingConfig},{name:fe.Lb.CONTACT,config:contactConfig},{name:fe.Lb.BADGE,config:badgeConfig},{name:fe.Lb.PHONE_NUMBER,config:phoneNumberConfig},{name:fe.Lb.SEARCH,config:searchConfig},{name:fe.Lb.WEB_ADAPTER,config:webAdapterConfig},{name:fe.Lb.AUDIO,config:audioConfig},{name:fe.Lb.LOCAL_SETTING_PROVIDER,config:localSettingProviderConfig},{name:fe.Lb.COMPANY_INFO,config:companyInfoConfig},{name:fe.Lb.PHONE_CONTACT,config:phoneContactConfig},{name:fe.Lb.USER_PROFILE,config:userProfileConfig},{name:fe.Lb.USER_SETTING,config:userSettingConfig},{name:fe.Lb.NAV_SETTING,config:navSettingConfig,permissionRegister:generateDependencyModulesRegister([fe.Lb.USER_SETTING])},{name:fe.Lb.CONFIGURABLE_NAV,config:configurableNavConfig,permissionRegister:generateDependencyModulesRegister([fe.Lb.USER_SETTING])},{name:fe.Lb.HEALTH_MONITOR,config:healthMonitorConfig,permissionRegister:healthMonitorModulePermission},{name:fe.Lb.MEETPARSER,config:meetParserConfig},{name:fe.Lb.MEETING_LINK_PARSER,config:meetingLinkParserConfig}]];var we=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Re=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var messageConfig=function(){return we(void 0,void 0,void 0,(function(){var e;return Re(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(8917),n.e(8416),n.e(3385),n.e(7681),n.e(1737)]).then(n.bind(n,807257))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.MessageModule(t)}}]}}))}))};var Pe=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Ae=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var giphyConfig=function(){return Pe(void 0,void 0,void 0,(function(){var e;return Ae(this,(function(t){switch(t.label){case 0:return[4,n.e(8034).then(n.bind(n,442760))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.GiphyModule(t)}}]}}))}))};var Te=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Oe=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var profileSettingProviderConfig=function(){return Te(void 0,void 0,void 0,(function(){var e;return Oe(this,(function(t){switch(t.label){case 0:return[4,n.e(2427).then(n.bind(n,402357))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.ProfileSettingProviderModule(t)}}]}}))}))};var Ne=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var xe=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var appGalleryConfig=function(){return Ne(void 0,void 0,void 0,(function(){var e;return xe(this,(function(t){switch(t.label){case 0:return[4,n.e(8416).then(n.bind(n,271076))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.AppGalleryModule(t)}}]}}))}))};var De=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Me=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var gdriveTokenConfig=function(){return De(void 0,void 0,void 0,(function(){var e;return Me(this,(function(t){switch(t.label){case 0:return[4,n.e(8035).then(n.bind(n,431706))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.GDriveTokenModule(t)}}]}}))}))};var ke=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Le=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var huddleConfig=function(){return ke(void 0,void 0,void 0,(function(){var e;return Le(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(8917),n.e(6974)]).then(n.bind(n,464705))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.HuddleModule(t)}}]}}))}))};var Fe=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Ue=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var guestControlConfig=function(){return Fe(void 0,void 0,void 0,(function(){var e;return Ue(this,(function(t){switch(t.label){case 0:return[4,n.e(2075).then(n.bind(n,754629))];case 1:e=t.sent().GuestControlModule;return[2,{moduleInstanceGetter:function(t){return new e(t)}}]}}))}))};var Be=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Ge=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var pubnubConfig=function(){return Be(void 0,void 0,void 0,(function(){var e;return Ge(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(7939),n.e(3957)]).then(n.bind(n,12878))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.PubnubModule(t)}}]}}))}))};var je=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var He=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rcNotificationConfig=function(){return je(void 0,void 0,void 0,(function(){var e;return He(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then(n.bind(n,752096))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.RCNotificationModule(t)}}]}}))}))};var Ve=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var We=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rcInfoConfig=function(){return Ve(void 0,void 0,void 0,(function(){var e;return We(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then(n.bind(n,489663))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.RCInfoModule(t)}}]}}))}))};var ze=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Ye=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var cprConfig=function(){return ze(void 0,void 0,void 0,(function(){var e;return Ye(this,(function(t){switch(t.label){case 0:return[4,n.e(1233).then(n.bind(n,337682))];case 1:e=t.sent().CPRModule;return[2,{moduleInstanceGetter:function(t){return new e(t)}}]}}))}))};var qe=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Ke=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rcContactConfig=function(){return qe(void 0,void 0,void 0,(function(){var e;return Ke(this,(function(t){switch(t.label){case 0:return[4,n.e(9281).then(n.bind(n,905339))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.RCContactModule(t)}}]}}))}))};var Qe=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Ze=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var quickContactConfig=function(){return Qe(void 0,void 0,void 0,(function(){var e;return Ze(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(9281),n.e(7979)]).then(n.bind(n,429381))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.QuickContactModule(t)}}]}}))}))};var Xe=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Je=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rcPresenceConfig=function(){return Xe(void 0,void 0,void 0,(function(){var e;return Je(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(9281),n.e(6200)]).then(n.bind(n,967532))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.RCPresenceModule(t)}}]}}))}))};var $e=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var et=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var groupExtensionConfig=function(){return $e(void 0,void 0,void 0,(function(){var e;return et(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then(n.bind(n,510210))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.GroupExtensionModule(t)}}]}}))}))};var tt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var nt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var cloudIntegrationConfig=function(){return tt(void 0,void 0,void 0,(function(){var e;return nt(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(8948),n.e(9980)]).then(n.bind(n,729774))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.CloudIntegrationModule(t)}}]}}))}))};var rt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ot=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var externalContactSettingConfig=function(){return rt(void 0,void 0,void 0,(function(){var e;return ot(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(8948),n.e(5321)]).then(n.bind(n,964670))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.ExternalContactSettingModule(t)}}]}}))}))};var it=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var at=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var googleContactConfig=function(){return it(void 0,void 0,void 0,(function(){var e;return at(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(8948),n.e(5310),n.e(7285),n.e(1784)]).then(n.bind(n,299221))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.GoogleContactModule(t)}}]}}))}))};var ut=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var st=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var googleDirectoryConfig=function(){return ut(void 0,void 0,void 0,(function(){var e;return st(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(8948),n.e(5310),n.e(7285),n.e(3165)]).then(n.bind(n,797874))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.GoogleDirectoryModule(t)}}]}}))}))};var ct=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var lt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var contactWASMConfig=function(){return ct(void 0,void 0,void 0,(function(){var e;return lt(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then(n.bind(n,466315))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.ContactWASMModule(t)}}]}}))}))};var ft=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var dt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var office365ContactConfig=function(){return ft(void 0,void 0,void 0,(function(){var e;return dt(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(8948),n.e(5310),n.e(7285),n.e(1263)]).then(n.bind(n,231988))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.Office365ContactModule(t)}}]}}))}))};var pt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ht=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var office365GalConfig=function(){return pt(void 0,void 0,void 0,(function(){var e;return ht(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(8948),n.e(5310),n.e(7285),n.e(2070)]).then(n.bind(n,959534))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.Office365GalModule(t)}}]}}))}))};var vt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var gt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rcCloudContactConfig=function(){return vt(void 0,void 0,void 0,(function(){var e;return gt(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(5310),n.e(4161)]).then(n.bind(n,510940))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.RCCloudContactModule(t)}}]}}))}))};var _t=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var yt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var extensionIdContactConfig=function(){return _t(void 0,void 0,void 0,(function(){var e;return yt(this,(function(t){switch(t.label){case 0:return[4,n.e(4720).then(n.bind(n,53656))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.ExtensionIdContactModule(t)}}]}}))}))};var bt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Ct=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var smbConfig=function(){return bt(void 0,void 0,void 0,(function(){var e;return Ct(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(7971),n.e(8399)]).then(n.bind(n,614210))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.SMBModule(t)}}]}}))}))};var mt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var St=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var externalCloudContactRegister=function(e){return mt(void 0,void 0,Promise,(function(){var t,n,r,i,u,s;return St(this,(function(c){switch(c.label){case 0:t=(0,o.getCurrentAccount)().context.entitlement;n=de.H3.RCAccountExtendedPermissionId.CanUseGOCloudContact;return[4,generatePermissionHandler((function(){return mt(void 0,void 0,Promise,(function(){return St(this,(function(e){return[2,!!t.get(n)]}))}))}),e)];case 1:r=c.sent(),i=r.permission,u=r.handlePermissionChange;t.on(n,u);o.notificationCenter.on(a.FEATURE_FLAG_ENTITY_KEY,u);s=i;if(!s)return[3,3];return[4,e(i)];case 2:s=c.sent();c.label=3;case 3:s;return[2]}}))}))};var cloudDirectoryRegister=function(e){return mt(void 0,void 0,Promise,(function(){var t,n,r,i,u,s,c;return St(this,(function(l){switch(l.label){case 0:t=(0,o.getModule)(a.FEATURE_FLAG_MODULE);n=(0,o.getCurrentAccount)().context.entitlement;r=de.H3.RCCustomPermissionList.enableCloudDirectory;return[4,generatePermissionHandler((function(){return mt(void 0,void 0,Promise,(function(){var e;return St(this,(function(o){switch(o.label){case 0:e=n.get(r);if(!e)return[3,2];return[4,t.hasPermission(a.G.D_USE_GO_ACTIVE_DIRECTORY)];case 1:e=o.sent();o.label=2;case 2:return[2,!!e]}}))}))}),e)];case 1:i=l.sent(),u=i.permission,s=i.handlePermissionChange;o.notificationCenter.on(a.FEATURE_FLAG_ENTITY_KEY,s);c=u;if(!c)return[3,3];return[4,e(u)];case 2:c=l.sent();l.label=3;case 3:c;return[2]}}))}))};var quickContactRegister=function(e){return mt(void 0,void 0,Promise,(function(){var t,n,r,i,a,u,s,c,l,f,d,p,h,v,g,_;return St(this,(function(y){switch(y.label){case 0:t=(0,o.getCurrentAccount)().context.entitlement;n=t.get.bind(t);r=de.H3.RCExtensionFeaturesId,i=r.RingOut,a=r.SMSSending,u=r.VoipCalling,s=r.EditPersonalContacts,c=r.ReadPersonalContacts,l=de.H3.RolePermissionId,f=l.LOCAL_SMS,d=l.INTERNAL_SMS;return[4,generatePermissionHandler((function(){var e=n(a)&&(n(f)||n(d));return n(s)&&n(c)&&(n(i)||n(u)||e)}),e)];case 1:p=y.sent(),h=p.permission,v=p.handlePermissionChange;g=[i,a,u,s,c,f,d];g.forEach((function(e){return t.on(e,v)}));_=h;if(!_)return[3,3];return[4,e(h)];case 2:_=y.sent();y.label=3;case 3:_;return[2]}}))}))};var Et=[{name:fe.Lb.RC_INFO,accountName:fe._N.RC,config:rcInfoConfig},{name:fe.Lb.RC_NOTIFICATION,accountName:fe._N.RC,config:rcNotificationConfig},{name:fe.Lb.PUBNUB,accountName:fe._N.RC,config:pubnubConfig},{name:fe.Lb.CPR,accountName:fe._N.RC,config:cprConfig}];var It=[{name:fe.Lb.RC_CONTACT,accountName:fe._N.RC,config:rcContactConfig},{name:fe.Lb.CONTACT_WASM,accountName:fe._N.RC,config:contactWASMConfig},{name:fe.Lb.CLOUD_INTEGRATION,accountName:fe._N.RC,config:cloudIntegrationConfig},{name:fe.Lb.EXTERNAL_CONTACT_SETTING,accountName:fe._N.RC,config:externalContactSettingConfig,permissionRegister:(0,o.generatePermissionRegister)([[de.H3.RCAccountExtendedPermissionId.CanUseExternalContact]])},{name:fe.Lb.GOOGLE_CONTACT,accountName:fe._N.RC,config:googleContactConfig,permissionRegister:externalCloudContactRegister},{name:fe.Lb.GOOGLE_DIRECTORY,accountName:fe._N.RC,config:googleDirectoryConfig,permissionRegister:cloudDirectoryRegister},{name:fe.Lb.OFFICE365_CONTACT,accountName:fe._N.RC,config:office365ContactConfig,permissionRegister:externalCloudContactRegister},{name:fe.Lb.OFFICE365_GAL,accountName:fe._N.RC,config:office365GalConfig,permissionRegister:cloudDirectoryRegister},{name:fe.Lb.RC_CLOUD_CONTACT,accountName:fe._N.RC,config:rcCloudContactConfig,permissionRegister:(0,o.generatePermissionRegister)([[de.H3.RCAccountExtendedPermissionId.CanUseRCCloudContact]])},{name:fe.Lb.EXTENSION_ID_CONTACT,accountName:fe._N.RC,config:extensionIdContactConfig},{name:fe.Lb.GROUP_EXTENSION,accountName:fe._N.RC,config:groupExtensionConfig},{name:fe.Lb.RC_PRESENCE,accountName:fe._N.RC,config:rcPresenceConfig,permissionRegister:me},{name:fe.Lb.SMB,accountName:fe._N.RC,config:smbConfig},{name:fe.Lb.QUICK_CONTACT,accountName:fe._N.RC,config:quickContactConfig,permissionRegister:quickContactRegister}];var wt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Rt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var huddleRegister=function(e){return wt(void 0,void 0,Promise,(function(){var t,n,r,i,u;return Rt(this,(function(s){switch(s.label){case 0:t=(0,o.getModule)(a.FEATURE_FLAG_MODULE);n=function(){return wt(void 0,void 0,Promise,(function(){return Rt(this,(function(e){switch(e.label){case 0:return[4,t.hasPermission(a.G.D_USE_HUDDLE_ENTRY)];case 1:return[2,!!e.sent()]}}))}))};return[4,n()];case 1:r=s.sent();i=function(){return wt(void 0,void 0,void 0,(function(){var t;return Rt(this,(function(o){switch(o.label){case 0:return[4,n()];case 1:t=o.sent();if(r!==t){r=t;e(r)}return[2]}}))}))};o.notificationCenter.on(a.FEATURE_FLAG_ENTITY_KEY,i);u=r;if(!u)return[3,3];return[4,e(r)];case 2:u=s.sent();s.label=3;case 3:u;return[2]}}))}))};var Pt=[Et,It,[{name:fe.Lb.GUEST_CONTROL,config:guestControlConfig}],[{name:fe.Lb.HUDDLE,accountName:fe._N.GLIP,config:huddleConfig,permissionRegister:huddleRegister}],[{name:fe.Lb.MESSAGE,accountName:fe._N.GLIP,config:messageConfig}],[{name:fe.Lb.GIPHY,accountName:fe._N.GLIP,config:giphyConfig},{name:fe.Lb.PROFILE_SETTING_PROVIDER,accountName:fe._N.GLIP,config:profileSettingProviderConfig},{name:fe.Lb.APP_GALLERY,accountName:fe._N.GLIP,config:appGalleryConfig},{name:fe.Lb.GDRIVE_TOKEN,accountName:fe._N.GLIP,config:gdriveTokenConfig}]];var At=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Tt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var e911Config=function(){return At(void 0,void 0,void 0,(function(){var e;return Tt(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(9031),n.e(5411)]).then(n.bind(n,819031))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.E911Module(t)}}]}}))}))};var Ot=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Nt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var callDataConfig=function(){return Ot(void 0,void 0,void 0,(function(){var e;return Nt(this,(function(t){switch(t.label){case 0:return[4,n.e(6920).then(n.bind(n,213196))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.CallDataModule(t)}}]}}))}))};var xt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Dt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var telephonyConfig=function(){return xt(void 0,void 0,void 0,(function(){var e;return Dt(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(3384),n.e(9031),n.e(6587),n.e(4570)]).then(n.bind(n,306587))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.TelephonyModule(t)}}]}}))}))};var Mt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var kt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var faxConfig=function(){return Mt(void 0,void 0,void 0,(function(){var e;return kt(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(8820),n.e(3818),n.e(3901)]).then(n.bind(n,283818))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.FaxModule(t)}}]}}))}))};var Lt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Ft=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var voicemailConfig=function(){return Lt(void 0,void 0,void 0,(function(){var e;return Ft(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(8820),n.e(8629),n.e(2055)]).then(n.bind(n,678629))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.VoicemailModule(t)}}]}}))}))};var Ut=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Bt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var callLogConfig=function(){return Ut(void 0,void 0,void 0,(function(){var e;return Bt(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(8820),n.e(8590),n.e(423)]).then(n.bind(n,588590))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.CallLogModule(t)}}]}}))}))};var Gt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var jt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var smsConfig=function(){return Gt(void 0,void 0,void 0,(function(){var e;return jt(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(8820),n.e(5661),n.e(8994)]).then(n.bind(n,257519))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.SMSModule(t)}}]}}))}))};var Ht=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Vt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rcSettingProviderConfig=function(){return Ht(void 0,void 0,void 0,(function(){var e;return Vt(this,(function(t){switch(t.label){case 0:return[4,n.e(1142).then(n.bind(n,104070))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.RCSettingProviderModule(t)}}]}}))}))};var Wt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var zt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rcHUDConfig=function(){return Wt(void 0,void 0,void 0,(function(){var e;return zt(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(3384),n.e(9031),n.e(6587),n.e(8820),n.e(4720),n.e(7507),n.e(4088),n.e(4242)]).then(n.bind(n,254088))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.RCHUDModule(t)}}]}}))}))};var Yt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var qt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rcBLFConfig=function(){return Yt(void 0,void 0,void 0,(function(){var e;return qt(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(3384),n.e(9031),n.e(6587),n.e(4720),n.e(7507),n.e(1118)]).then(n.bind(n,297504))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.RCBLFModule(t)}}]}}))}))};var Kt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Qt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var parkLocationConfig=function(){return Kt(void 0,void 0,void 0,(function(){var e;return Qt(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(3384),n.e(9031),n.e(6587),n.e(4720),n.e(7507),n.e(6822)]).then(n.bind(n,373809))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.ParkLocationModule(t)}}]}}))}))};var Zt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Xt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var dynamicConferenceConfig=function(){return Zt(void 0,void 0,void 0,(function(){var e;return Xt(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(3384),n.e(7939),n.e(9031),n.e(6587),n.e(5285),n.e(437),n.e(7880),n.e(1166),n.e(5558)]).then(n.bind(n,841166))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.DynamicConferenceModule(t)}}]}}))}))};var Jt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var $t=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var groupCallPickupConfig=function(){return Jt(void 0,void 0,void 0,(function(){var e;return $t(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(3384),n.e(9031),n.e(6587),n.e(4720),n.e(7507),n.e(964),n.e(1047)]).then(n.bind(n,740964))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.GroupCallPickupModule(t)}}]}}))}))};var en=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var tn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var queueCallPickupConfig=function(){return en(void 0,void 0,void 0,(function(){var e;return tn(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(3384),n.e(9031),n.e(6587),n.e(4720),n.e(7507),n.e(8101),n.e(2552)]).then(n.bind(n,688101))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.QueueCallPickupModule(t)}}]}}))}))};var nn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var rn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var ringOutConfig=function(){return nn(void 0,void 0,void 0,(function(){var e;return rn(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(3384),n.e(9031),n.e(6587),n.e(6211),n.e(2455)]).then(n.bind(n,406211))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.RingOutModule(t)}}]}}))}))};var on=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var an=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var un=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var sn=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(un(arguments[t]));return e};var rcBLFRegister=function(e){return on(void 0,void 0,Promise,(function(){var t,n,r,i,u,s;return an(this,(function(c){switch(c.label){case 0:t=(0,o.getCurrentAccount)().context.entitlement;n=[de.H3.RCCustomPermissionList.allPhoneFeatures,de.H3.RCExtensionFeaturesId.HUD];return[4,generatePermissionHandler((function(){return on(void 0,void 0,Promise,(function(){return an(this,(function(e){return[2,t.isAllEnable(n)]}))}))}),e)];case 1:r=c.sent(),i=r.permission,u=r.handlePermissionChange;t.observe(n,u);o.notificationCenter.on(a.FEATURE_FLAG_ENTITY_KEY,u);s=i;if(!s)return[3,3];return[4,e(i)];case 2:s=c.sent();c.label=3;case 3:s;return[2]}}))}))};var rcHUDRegister=function(e){return on(void 0,void 0,Promise,(function(){var t,n,r,i,u,s;return an(this,(function(c){switch(c.label){case 0:t=(0,o.getCurrentAccount)().context.entitlement;n=o.Entitlement.getEntitlementKey(fe.Lb.RC_BLF);return[4,generatePermissionHandler((function(){return Promise.resolve(!!t.get(n))}),e)];case 1:r=c.sent(),i=r.permission,u=r.handlePermissionChange;t.on(n,u);o.notificationCenter.on(a.FEATURE_FLAG_ENTITY_KEY,u);s=i;if(!s)return[3,3];return[4,e(i)];case 2:s=c.sent();c.label=3;case 3:s;return[2]}}))}))};var parkLocationRegister=function(e){return on(void 0,void 0,Promise,(function(){var t,n,r,i,u,s,c;return an(this,(function(l){switch(l.label){case 0:t=(0,o.getModule)(a.FEATURE_FLAG_MODULE);n=(0,o.getCurrentAccount)().context.entitlement;r=[o.Entitlement.getEntitlementKey(fe.Lb.RC_BLF),de.H3.RCExtensionFeaturesId.CallParkLocations];return[4,generatePermissionHandler((function(){return on(void 0,void 0,Promise,(function(){var e;return an(this,(function(o){switch(o.label){case 0:e=n.isAllEnable(r);if(!e)return[3,2];return[4,t.hasPermission(a.G.D_USE_PARK_LOCATION)];case 1:e=o.sent();o.label=2;case 2:return[2,!!e]}}))}))}),e)];case 1:i=l.sent(),u=i.permission,s=i.handlePermissionChange;n.observe(r,s);o.notificationCenter.on(a.FEATURE_FLAG_ENTITY_KEY,s);c=u;if(!c)return[3,3];return[4,e(u)];case 2:c=l.sent();l.label=3;case 3:c;return[2]}}))}))};var groupCallPickupRegister=function(e){return on(void 0,void 0,Promise,(function(){var t,n,r,i,u,s;return an(this,(function(c){switch(c.label){case 0:t=(0,o.getCurrentAccount)().context.entitlement;n=[o.Entitlement.getEntitlementKey(fe.Lb.RC_BLF),de.H3.RCExtensionFeaturesId.GroupCallPickup];return[4,generatePermissionHandler((function(){return Promise.resolve(!!t.isAllEnable(n))}),e)];case 1:r=c.sent(),i=r.permission,u=r.handlePermissionChange;t.observe(n,u);o.notificationCenter.on(a.FEATURE_FLAG_ENTITY_KEY,u);s=i;if(!s)return[3,3];return[4,e(i)];case 2:s=c.sent();c.label=3;case 3:s;return[2]}}))}))};var queueCallPickupRegister=function(e){return on(void 0,void 0,Promise,(function(){var t,n,r,i,u,s,c;return an(this,(function(l){switch(l.label){case 0:t=(0,o.getModule)(a.FEATURE_FLAG_MODULE);n=(0,o.getCurrentAccount)().context.entitlement;r=[o.Entitlement.getEntitlementKey(fe.Lb.RC_BLF),de.H3.RCExtensionFeaturesId.CallQueuePresence];return[4,generatePermissionHandler((function(){return on(void 0,void 0,Promise,(function(){var e;return an(this,(function(o){switch(o.label){case 0:e=n.isAllEnable(r);if(!e)return[3,2];return[4,t.hasPermission(a.G.D_USE_CALL_QUEUE_MEMBER_PICK_UP)];case 1:e=o.sent();o.label=2;case 2:return[2,!!e]}}))}))}),e)];case 1:i=l.sent(),u=i.permission,s=i.handlePermissionChange;n.observe(r,s);o.notificationCenter.on(a.FEATURE_FLAG_ENTITY_KEY,s);c=u;if(!c)return[3,3];return[4,e(u)];case 2:c=l.sent();l.label=3;case 3:c;return[2]}}))}))};var dynamicConferenceRegister=function(e){return on(void 0,void 0,Promise,(function(){var t,n,r,i,u,s;return an(this,(function(c){switch(c.label){case 0:t=(0,o.getCurrentAccount)().context.entitlement;n=[de.H3.RCExtensionFeaturesId.DynamicConferencing,de.H3.RCExtensionFeaturesId.Meetings,de.H3.RCExtensionFeaturesId.VoipCalling];return[4,generatePermissionHandler((function(){return on(void 0,void 0,Promise,(function(){return an(this,(function(e){return[2,!!t.isAllEnable(n)]}))}))}),e)];case 1:r=c.sent(),i=r.permission,u=r.handlePermissionChange;t.observe(n,u);o.notificationCenter.on(a.FEATURE_FLAG_ENTITY_KEY,u);s=i;if(!s)return[3,3];return[4,e(i)];case 2:s=c.sent();c.label=3;case 3:s;return[2]}}))}))};var ringOutRegister=function(e){return on(void 0,void 0,void 0,(function(){var t,n,r,i,u,s;return an(this,(function(c){switch(c.label){case 0:t=(0,o.getCurrentAccount)().context.entitlement;n=[de.H3.RCCustomPermissionList.allPhoneFeatures,de.H3.RCExtensionFeaturesId.VoipCalling,de.H3.RCExtensionFeaturesId.WebPhone,de.H3.RCExtensionFeaturesId.RingOut];return[4,generatePermissionHandler((function(){return Promise.resolve(t.isAllEnable(n))}),e)];case 1:r=c.sent(),i=r.permission,u=r.handlePermissionChange;t.observe(n,u);o.notificationCenter.on(a.FEATURE_FLAG_ENTITY_KEY,u);s=i;if(!s)return[3,3];return[4,e(i)];case 2:s=c.sent();c.label=3;case 3:s;return[2]}}))}))};var cn=[Et,sn(It,[{name:fe.Lb.CALL_DATA,config:callDataConfig,permissionRegister:(0,o.generatePermissionRegister)([[de.H3.RCCustomPermissionList.allPhoneFeatures,de.H3.RCExtensionFeaturesId.VoipCalling,de.H3.RCExtensionFeaturesId.WebPhone]])},{name:fe.Lb.TELEPHONY,accountName:fe._N.RC,config:telephonyConfig,permissionRegister:(0,o.generatePermissionRegister)([[de.H3.RCCustomPermissionList.allPhoneFeatures,de.H3.RCExtensionFeaturesId.VoipCalling,de.H3.RCExtensionFeaturesId.WebPhone]])},{name:fe.Lb.FAX,accountName:fe._N.RC,config:faxConfig,permissionRegister:(0,o.generatePermissionRegister)([[de.H3.RCCustomPermissionList.allPhoneFeatures,de.H3.RCExtensionFeaturesId.FaxReceiving],[de.H3.RCCustomPermissionList.allPhoneFeatures,de.H3.RCExtensionFeaturesId.FaxSending]])},{name:fe.Lb.VOICEMAIL,accountName:fe._N.RC,config:voicemailConfig,permissionRegister:(0,o.generatePermissionRegister)([[de.H3.RCCustomPermissionList.allPhoneFeatures,de.H3.RCExtensionFeaturesId.VoipCalling,de.H3.RCExtensionFeaturesId.Voicemail]])},{name:fe.Lb.CALL_LOG,accountName:fe._N.RC,config:callLogConfig,permissionRegister:(0,o.generatePermissionRegister)([[de.H3.RCCustomPermissionList.allPhoneFeatures,de.H3.RolePermissionId.READ_CALL_LOG,de.H3.RCExtensionFeaturesId.VoipCalling]])},{name:fe.Lb.SMS,accountName:fe._N.RC,config:smsConfig,permissionRegister:(0,o.generatePermissionRegister)([[de.H3.RCCustomPermissionList.allPhoneFeatures,de.H3.RCExtensionFeaturesId.SMSReceiving],[de.H3.RCCustomPermissionList.allPhoneFeatures,de.H3.RolePermissionId.INBOUND_SMS]])},{name:fe.Lb.RC_SETTING_PROVIDER,accountName:fe._N.RC,config:rcSettingProviderConfig,permissionRegister:me},{name:fe.Lb.RC_BLF,accountName:fe._N.RC,config:rcBLFConfig,permissionRegister:rcBLFRegister},{name:fe.Lb.RC_HUD,accountName:fe._N.RC,config:rcHUDConfig,permissionRegister:rcHUDRegister},{name:fe.Lb.PARK_LOCATION,accountName:fe._N.RC,config:parkLocationConfig,permissionRegister:parkLocationRegister},{name:fe.Lb.GROUP_CALL_PICKUP,config:groupCallPickupConfig,permissionRegister:groupCallPickupRegister},{name:fe.Lb.QUEUE_CALL_PICKUP,config:queueCallPickupConfig,permissionRegister:queueCallPickupRegister},{name:fe.Lb.DYNAMIC_CONFERENCE,accountName:fe._N.RC,config:dynamicConferenceConfig,permissionRegister:dynamicConferenceRegister},{name:fe.Lb.RING_OUT,config:ringOutConfig,permissionRegister:ringOutRegister},{name:fe.Lb.E911,accountName:fe._N.RC,config:e911Config,permissionRegister:(0,o.generatePermissionRegister)([[de.H3.RCCustomPermissionList.allPhoneFeatures,de.H3.RCExtensionFeaturesId.VoipCalling,de.H3.RCExtensionFeaturesId.WebPhone]])}])];var ln=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var fn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var meetConfig=function(){return ln(void 0,void 0,void 0,(function(){var e;return fn(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(5285),n.e(8241)]).then(n.bind(n,215285))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.MeetModule(t)}}]}}))}))};var dn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var pn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rcvConfig=function(){return dn(void 0,void 0,void 0,(function(){var e;return pn(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(5285),n.e(437),n.e(97),n.e(2982)]).then(n.bind(n,540097))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.RCVModule(t)}}]}}))}))};var hn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var vn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rcmConfig=function(){return hn(void 0,void 0,void 0,(function(){var e;return vn(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(1154),n.e(5285),n.e(8008),n.e(4847),n.e(7064)]).then(n.bind(n,568008))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.RCMModule(t)}}]}}))}))};var gn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var _n=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var calendarConfig=function(){return gn(void 0,void 0,void 0,(function(){var e;return _n(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(8948),n.e(2500),n.e(6131)]).then(n.bind(n,758996))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.CalendarModule(t)}}]}}))}))};var yn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var bn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rcMeetConfig=function(){return yn(void 0,void 0,void 0,(function(){var e;return bn(this,(function(t){switch(t.label){case 0:return[4,n.e(5657).then(n.bind(n,104752))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.RCMeetModule(t)}}]}}))}))};var Cn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var mn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rcmLocalRecordingConfig=function(){return Cn(void 0,void 0,void 0,(function(){var e;return mn(this,(function(t){switch(t.label){case 0:return[4,n.e(4560).then(n.bind(n,771569))];case 1:e=t.sent().RCMLocalRecordingModule;return[2,{moduleInstanceGetter:function(t){return new e(t)}}]}}))}))};var Sn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var En=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rcvMessageConfig=function(){return Sn(void 0,void 0,void 0,(function(){var e;return En(this,(function(t){switch(t.label){case 0:return[4,n.e(4464).then(n.bind(n,393361))];case 1:e=t.sent().RCVMessageModule;return[2,{moduleInstanceGetter:function(t){return new e(t)}}]}}))}))};var In=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var wn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rcvRecordingConfig=function(){return In(void 0,void 0,void 0,(function(){var e;return wn(this,(function(t){switch(t.label){case 0:return[4,n.e(2224).then(n.bind(n,316741))];case 1:e=t.sent().RCVRecordingModule;return[2,{moduleInstanceGetter:function(t){return new e(t)}}]}}))}))};var Rn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Pn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rcveConfig=function(){return Rn(void 0,void 0,void 0,(function(){var e;return Pn(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(7939),n.e(5285),n.e(437),n.e(7880),n.e(4438)]).then(n.bind(n,537880))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.RCVEModule(t)}}]}}))}))};var An=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Tn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rwcConfig=function(){return An(void 0,void 0,void 0,(function(){var e;return Tn(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(5285),n.e(5258)]).then(n.bind(n,487400))];case 1:e=t.sent();return[2,{moduleInstanceGetter:function(t){return new e.RWCModule(t)}}]}}))}))};var On=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Nn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rcvSwitchOverConfig=function(){return On(void 0,void 0,void 0,(function(){var e;return Nn(this,(function(t){switch(t.label){case 0:return[4,n.e(8829).then(n.bind(n,245513))];case 1:e=t.sent().RCVSwitchOverModule;return[2,{moduleInstanceGetter:function(t){return new e(t)}}]}}))}))};var xn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Dn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var rcvInfoConfig=function(){return xn(void 0,void 0,void 0,(function(){var e;return Dn(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(437),n.e(9001)]).then(n.bind(n,455960))];case 1:e=t.sent().RCVInfoModule;return[2,{moduleInstanceGetter:function(t){return new e(t)}}]}}))}))};var Mn=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var kn=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Mn(arguments[t]));return e};var Ln=[[{name:fe.Lb.MEETING,config:meetConfig},{name:fe.Lb.RCV,config:rcvConfig},{name:fe.Lb.RCM,config:rcmConfig}],Et,kn(It,[{name:fe.Lb.CALENDAR,accountName:fe._N.RC,config:calendarConfig},{name:fe.Lb.RC_MEET,accountName:fe._N.RC,config:rcMeetConfig},{name:fe.Lb.RCV_RECORDING,accountName:fe._N.RC,config:rcvRecordingConfig},{name:fe.Lb.RCM_LOCAL_RECORDING,accountName:fe._N.RC,config:rcmLocalRecordingConfig},{name:fe.Lb.RCVE,accountName:fe._N.RC,config:rcveConfig},{name:fe.Lb.RWC,accountName:fe._N.RC,config:rwcConfig},{name:fe.Lb.RCV_MESSAGE,accountName:fe._N.RC,config:rcvMessageConfig,permissionRegister:Ce},{name:fe.Lb.RCV_SWITCHOVER,accountName:fe._N.RC,config:rcvSwitchOverConfig},{name:fe.Lb.RCV_INFO,accountName:fe._N.RC,config:rcvInfoConfig}])];var Fn;(function(e){e["MESSAGE"]="message";e["VIDEO"]="video";e["PHONE"]="phone";e["BASE"]="base"})(Fn||(Fn={}));var Un=function(){function MessageLocalPermissionGenerator(){}MessageLocalPermissionGenerator.prototype.generateLocalPermission=function(e,t){t.set(de.H3.RCExtensionFeaturesId.Glip,e.includes(Fn.MESSAGE))};return MessageLocalPermissionGenerator}();var Bn=function(){function MeetLocalPermissionGenerator(){}MeetLocalPermissionGenerator.prototype.generateLocalPermission=function(e,t){t.set(de.H3.RCExtensionFeaturesId.Meetings,e.includes(Fn.VIDEO))};return MeetLocalPermissionGenerator}();var Gn=function(){function PhoneLocalPermissionGenerator(){}PhoneLocalPermissionGenerator.prototype.generateLocalPermission=function(e,t){t.set(de.H3.RCCustomPermissionList.hasSMBCompanySetupUri,e.includes(Fn.PHONE))};return PhoneLocalPermissionGenerator}();var jn=function(){function LocalPermissionGenerator(){var e=this;this._localPermissionGenerators=[];Object.values(r).forEach((function(t){e._localPermissionGenerators.push(new t)}))}LocalPermissionGenerator.prototype.generateLocalPermission=function(e,t){var n=new Map;this._localPermissionGenerators.forEach((function(e){return e.generateLocalPermission(t,n)}));e.entitlement.initLocalPermission(n)};return LocalPermissionGenerator}();var Hn=new jn;var Vn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Wn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var freeMeetConfig=function(){return Vn(void 0,void 0,void 0,(function(){var e;return Wn(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(489),n.e(260)]).then(n.bind(n,990489))];case 1:e=t.sent().FreeMeetModule;return[2,{moduleInstanceGetter:function(t){return new e(t)}}]}}))}))};var zn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Yn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var freeRCVConfig=function(){return zn(void 0,void 0,void 0,(function(){var e;return Yn(this,(function(t){switch(t.label){case 0:return[4,n.e(6957).then(n.bind(n,325113))];case 1:e=t.sent().FreeRCVModule;return[2,{moduleInstanceGetter:function(t){return new e(t)}}]}}))}))};var qn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Kn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var freeRCMConfig=function(){return qn(void 0,void 0,void 0,(function(){var e;return Kn(this,(function(t){switch(t.label){case 0:return[4,n.e(6224).then(n.bind(n,30007))];case 1:e=t.sent().FreeRCMModule;return[2,{moduleInstanceGetter:function(t){return new e(t)}}]}}))}))};var Qn=[[{name:fe.Lb.MEETING_LINK_PARSER,config:meetingLinkParserConfig},{name:fe.Lb.FREE_RCV,config:freeRCVConfig},{name:fe.Lb.FREE_RCM,config:freeRCMConfig},{name:fe.Lb.FREE_MEET,config:freeMeetConfig}]];var Zn;var Xn=(Zn={},Zn[Fn.BASE]=Ie,Zn[Fn.MESSAGE]=Pt,Zn[Fn.PHONE]=cn,Zn[Fn.VIDEO]=Ln,Zn);var Jn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var $n=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};function initGuestContext(){return Jn(this,void 0,void 0,(function(){var e;return $n(this,(function(t){switch(t.label){case 0:S.log("initGuestContext");e=new I._((function(){return i.Pal.instance.networkStatus().getStatus()}));return[4,E.moduleManager.addModuleDescriptorsList(Qn,e)];case 1:return[2,t.sent()]}}))}))}var er=n(455937);var tr=n(947465);var nr=n.n(tr);var rr=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var or=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var ir=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ar=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var ur=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var sr=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ur(arguments[t]));return e};var cr={adapter:"dexie"};var lr="anr_monitor";var fr="ERROR_F_ANR";var dr=function(){function CoreApplication(){var e=this;this._initBarrier=new h.Barrier;this._sleepModeKey="SDK_SLEEP_MODE_DETECT";this._allDescriptorList=Xn;this._context=new o.Context((function(){return i.Pal.instance.networkStatus().getStatus()}));this.pam=new _.HZ((function(){return e._context}));o.moduleManager.addModulesList([[new a.V,new u.B(this._context)]])}CoreApplication.prototype.getContext=function(){return this._context};CoreApplication.prototype.waitCoreApplicationInit=function(){return ir(this,void 0,Promise,(function(){return ar(this,(function(e){switch(e.label){case 0:return[4,this._initBarrier.wait()];case 1:e.sent();return[2]}}))}))};CoreApplication.prototype.init=function(e,t,n){return ir(this,void 0,Promise,(function(){var r,o,i;return ar(this,(function(a){switch(a.label){case 0:if(this._initBarrier.isOpen()){return[2]}r=sr([Fn.BASE],t.appPermission.moduleGroup);a.label=1;case 1:a.trys.push([1,,4,5]);o=nr().pick(this._allDescriptorList,r);this.pam.descriptor_list=o;if(t.embedded){c.y0.init(t);c.y0.initEmbeddedPermission(this._context)}n&&this.pam.setBrandHandler(n);Hn.generateLocalPermission(this._context,r);this._sdkConfig=e;i=p()({},cr,this._sdkConfig.db);h.Foundation.init({dbAdapter:i.adapter});this._monitorANR();this._initS3Permission();return[4,this._initDataAnalysis()];case 2:a.sent();return[4,this.doAutoLoginAndPrepareData()];case 3:a.sent();this._subscribeNotification();C.tags(CoreApplication.name).info("sdk init finished");return[3,5];case 4:this._initBarrier.open();return[7];case 5:return[2]}}))}))};CoreApplication.prototype.doAutoLoginAndPrepareData=function(){return ir(this,void 0,Promise,(function(){var e,t,n,r;return ar(this,(function(i){switch(i.label){case 0:e=v.F.getUserDictionary();if(!e)return[3,2];t=h.launchTracer.traceStart("sdk_init_auto_login");n=true;return[4,this.pam.autoLogin().catch((function(e){C.tags(CoreApplication.name).error("auto login failed: ",e);o.notificationCenter.emitKVChange(g.Cg.FORCE_LOGOUT,{reason:"[autoLogin] Auto login failed."});n=false}))];case 1:i.sent();h.launchTracer.traceEnd(t,h.LOG_CONTROL_LEVEL.HIGH);return[2,n];case 2:C.tags(CoreApplication.name).info("init for login page, ensure database is deleted");if(window.indexedDB){window.indexedDB.deleteDatabase("Glip");r=o.DaoGlobalConfig.get(er.$);if(r){r.forEach((function(e){if(!o.DaoGlobalConfig.getDBSchemaVersion(e)){window.indexedDB.deleteDatabase(e)}}));o.DaoGlobalConfig.remove(er.$)}}return[4,initGuestContext()];case 3:i.sent();return[2,false]}}))}))};CoreApplication.prototype._initS3Permission=function(){return l.I.init()};CoreApplication.prototype._initDataAnalysis=function(){return s.s6.init()};CoreApplication.prototype._subscribeNotification=function(){h.sleepModeDetector.subScribe(this._sleepModeKey,(function(e){o.notificationCenter.emit(o.WINDOW_EVENT.WAKE_UP_FROM_SLEEP,e)}))};CoreApplication.prototype.isAllAccountsLoggedIn=function(){return this.pam.isAllAccountsLoggedIn()};CoreApplication.prototype._monitorANR=function(){i.Pal.instance.getIpc().handle(lr,(function(e){C.warn("detact ANR",e);try{var t=JSON.parse(e),n=t.duration,r=t.anr_progress;(0,h.doErrorTracking)(h.EVENT_DATA_FEATURE.FOUNDATION,{key:fr,level:h.LOG_CONTROL_LEVEL.HIGH,message:JSON.stringify({duration:n,anr_progress:r})})}catch(e){C.warn("parse ANR message failed",e)}}))};var e,t,n,r;rr([h.SingleRequest,or("design:type",Function),or("design:paramtypes",[typeof(e=typeof f.ISdkConfig!=="undefined"&&f.ISdkConfig)==="function"?e:Object,typeof(t=typeof c.AppEmbeddedConfig!=="undefined"&&c.AppEmbeddedConfig)==="function"?t:Object,typeof(n=typeof _.IBrandHandler!=="undefined"&&_.IBrandHandler)==="function"?n:Object]),or("design:returntype",typeof(r=typeof Promise!=="undefined"&&Promise)==="function"?r:Object)],CoreApplication.prototype,"init",null);return CoreApplication}()},909600:(e,t,n)=>{"use strict";n.d(t,{G:()=>configEntitlement});var r=n(470033);var o=r.H3.RCExtensionFeaturesId,i=o.Conferencing,a=o.VoipCalling,u=o.Meetings,s=o.WebPhone;var c=r.H3.RCExtensionFeaturesId.Glip;var l=r.H3.AudioDevice,f=l.Microphone,d=l.Speaker,p=l.Ringer;function configEntitlement(e){e.observe([a,s,u,i],(function(t){if(t.includes(true)){e.set(f,true);e.set(p,true);e.set(d,true)}}),{fireImmediately:true});e.observe([c,r.H3.ACCOUNT_TYPE.GLIP],(function(t){if(t.includes(true)){e.set(d,true)}}),{fireImmediately:true})}},593639:(e,t,n)=>{"use strict";n.d(t,{H:()=>le});var r=n(38942);var o=n(461197);var i=n(598757);var a=n(577683);var u;var s="log";var gen=function(e,t,n){if(e===void 0){e="id"}if(t===void 0){t=[]}return{unique:e,indices:t,onUpgrade:n}};var c={name:"Log",version:1,schema:{1:(u={},u[a.T.MARKED_LOG]=gen("id"),u[a.T.MARKED_LOG_VIEW]=gen("id"),u[a.T.HISTORY_LOG]=gen("id"),u[a.T.HISTORY_LOG_VIEW]=gen("id"),u),2:{userConfigs:gen("key")}}};const l=c;var f=n(795562);var d=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var p=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var h=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var v=function(e){d(LogModule,e);function LogModule(){return e!==null&&e.apply(this,arguments)||this}LogModule.prototype.moduleName=function(){return i.oF};LogModule.prototype.getSchema=function(){return l};LogModule.prototype.onLoad=function(){return p(this,void 0,void 0,(function(){return h(this,(function(e){f.R.instance().loadCollectors(this.daoManager);return[2]}))}))};LogModule.prototype.onUnload=function(){return p(this,void 0,void 0,(function(){return h(this,(function(e){f.R.instance().unloadCollectors();return[2]}))}))};return LogModule}(o.AbstractModule);var g=n(429555);var _=n(963786);var y=n(198394);var b=n(870938);var C=n(885057);var m=n(587040);var S=n(302186);var E=n(862926);var I="[MONITOR][CORE]";var w=E.ModuleLogger.getLogger(I,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),E.EVENT_DATA_FEATURE.FOUNDATION).subModule("CRASH");var R=n(469882);var P=100;var A=5*60*1e3;var T={WHITE_SCREEN_TIMES:"WHITE_SCREEN_TIMES",LAST_HANDLE_WHITE_SCREEN_TIME:"LAST_HANDLE_WHITE_SCREEN_TIME"};var O=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var N=function(e){O(CrashGlobalConfig,e);function CrashGlobalConfig(){return e!==null&&e.apply(this,arguments)||this}CrashGlobalConfig.setWhiteScreenTimes=function(e){this.put(T.WHITE_SCREEN_TIMES,e)};CrashGlobalConfig.getWhiteScreenTimes=function(){return this.get(T.WHITE_SCREEN_TIMES)};CrashGlobalConfig.setLastHandleWhiteScreenTime=function(e,t){this.put(T.LAST_HANDLE_WHITE_SCREEN_TIME,JSON.stringify({count:e,timeStamp:t}))};CrashGlobalConfig.getLastWhiteScreenTime=function(){var e=this.get(T.LAST_HANDLE_WHITE_SCREEN_TIME);if(e){try{return JSON.parse(e)}catch(e){w.warn("getLastWhiteScreenTime failed.",e)}}return{count:0,timeStamp:0}};CrashGlobalConfig.moduleName="crash";return CrashGlobalConfig}(R.GlobalConfig);var x=n(814678);var D=n(782117);var M=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var k=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var L=function(){function ProcessCrashHandler(){}ProcessCrashHandler.prototype.onCrash=function(e){if(e===S.ERROR_TYPE.WHITE_SCREEN_CRASH){if(this._handled)return;var t=Number(N.getWhiteScreenTimes()||0)+1;N.setWhiteScreenTimes(t);var n=N.getLastWhiteScreenTime();if(t>n.count+2&&Date.now()-n.timeStamp>A){this._handled=true;N.setLastHandleWhiteScreenTime(t,Date.now());this.handleProcessCrash()}}};ProcessCrashHandler.prototype.handleProcessCrash=function(){return M(this,void 0,void 0,(function(){var e,t,n;return k(this,(function(r){switch(r.label){case 0:if(E.DebugUtils.isDebugMode()||"production"==="development")return[2];r.label=1;case 1:r.trys.push([1,6,,7]);return[4,this._clearServiceWorkerCaches()];case 2:r.sent();return[4,navigator.serviceWorker.getRegistration("/")];case 3:e=r.sent();t=e;if(!t)return[3,5];return[4,e.unregister()];case 4:t=r.sent();r.label=5;case 5:t;x.rF.emitKVChange(D.Cg.FORCE_LOGOUT,{reason:"[handleProcessCrash] HandleProcessCrash invoked."});return[3,7];case 6:n=r.sent();w.error("Call to handleProcessCrash failed",n);throw n;case 7:return[2]}}))}))};ProcessCrashHandler.prototype._clearServiceWorkerCaches=function(){return M(this,void 0,void 0,(function(){return k(this,(function(e){switch(e.label){case 0:return[4,caches.keys()];case 1:e.sent().forEach((function(e){caches.delete(e)}));return[2]}}))}))};return ProcessCrashHandler}();var F=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var U=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var B="[DBCrashHandler]";var G=function(){function DBCrashHandler(){}DBCrashHandler.prototype.onCrash=function(e){return F(this,void 0,void 0,(function(){var t,n,r;return U(this,(function(o){switch(o.label){case 0:if(!(e===S.ERROR_TYPE.DB_QUOTA_EXCEEDED))return[3,3];if(!(typeof window!=="undefined"&&navigator.storage&&navigator.storage.estimate))return[3,2];return[4,window.navigator.storage.estimate()];case 1:t=o.sent(),n=t.quota,r=t.usage;w.tags(B).info("Quota exceed error with quota: "+n+" and usage: "+r);o.label=2;case 2:x.rF.emit(S.ERROR_TYPE.DB_QUOTA_EXCEEDED,true);o.label=3;case 3:return[2]}}))}))};return DBCrashHandler}();var j=n(667489);var H=n(909600);var V="MASTER_ACCOUNT";var W={PREPARE_LOGIN_INIT_DB:"PREPARE_LOGIN_INIT_DB",PREPARE_LOGIN_INIT_MODULES:"PREPARE_LOGIN_INIT_MODULES",PREPARE_LOGIN_INIT:"PREPARE_LOGIN_INIT",LOGOUT_SDK_ACCOUNT:"LOGOUT_SDK_ACCOUNT",LOGOUT_SDK_MODULE_CLEAR:"LOGOUT_SDK_MODULE_CLEAR",LOGOUT_SDK_FINISH:"LOGOUT_SDK_FINISH"};var z=n(960782);var Y=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var q=function(e){Y(ObserveGlipLoginKeyAction,e);function ObserveGlipLoginKeyAction(t){if(t===void 0){t=j.ActionWeight.NORMAL}var n=e.call(this,t)||this;n.onEvent=function(e){j.notificationCenter.on(g.FY.LOGIN,e)};return n}ObserveGlipLoginKeyAction.prototype.getAction=function(){return Promise.resolve(this.onEvent)};return ObserveGlipLoginKeyAction}(j.AbstractKeyAction);var K=n(470033);var Q=n(750576);var Z=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var X=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var J=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var $=function(e){Z(IsRCOnlyAccountKeyAction,e);function IsRCOnlyAccountKeyAction(t){if(t===void 0){t=j.ActionWeight.NORMAL}return e.call(this,t)||this}IsRCOnlyAccountKeyAction.prototype.getAction=function(){return X(this,void 0,void 0,(function(){var e,t;return J(this,(function(n){switch(n.label){case 0:return[4,Q.FW.getAccountType()];case 1:e=n.sent()===D.Q5.RC;return[4,(0,j.getCurrentAccount)().context.entitlement.get(K.H3.RCExtensionFeaturesId.Glip)];case 2:t=n.sent()===false;return[2,e&&t]}}))}))};return IsRCOnlyAccountKeyAction}(j.AbstractKeyAction);var ee=n(906493);var te=n(439477);var ne=n(883329);var re=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var oe=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var ie=function(){function BetaWhiteListController(e,t){this._networkClient=new j.NetworkClient({handlerName:j.CustomNetworkHandlerConfig.handlerName},j.CustomNetworkHandlerConfig.defaultVia,e.networkManager,new j.CommonResponseParser,new te.v);this._logger=t.tags(BetaWhiteListController.name)}BetaWhiteListController.prototype.isUserInWhiteList=function(e){var t,n;return re(this,void 0,Promise,(function(){var r,o;var i=this;return oe(this,(function(a){switch(a.label){case 0:if(!e.userID&&!e.orgID){this._logger.info("user/org id is invalid",e);return[2,false]}return[4,this._fetchWhiteList().catch((function(e){i._logger.error(e);return undefined}))];case 1:r=a.sent();if(!r){this._logger.info("list is undefined",r);return[2,false]}if(r.disable){this._logger.info("list is disabled");return[2,true]}o=!!(e.orgID&&((t=r.companyIDs)===null||t===void 0?void 0:t.includes(e.orgID))||e.userID&&((n=r.userIDs)===null||n===void 0?void 0:n.includes(e.userID)));this._logger.info("white list result",o,e);return[2,o]}}))}))};BetaWhiteListController.prototype._fetchWhiteList=function(){return this._networkClient.get({via:E.NETWORK_VIA.HTTP,host:j.apiConfiguration.getConfig().assetsServer,path:E.RequestPath.buildRequestPath(ne.Nt),retryCount:E.DEFAULT_RETRY_COUNT,ignoreNetwork:true})};return BetaWhiteListController}();var ae=n(292699);var ue=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var se=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ce=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var le=function(e){ue(MasterAccount,e);function MasterAccount(t,n,o){var i=e.call(this,n)||this;i._userDictionary=t;i._descriptor_list=o;i.clearData=function(){return se(i,void 0,void 0,(function(){var e,t;return ce(this,(function(n){e=this.getSubAccount(m.oF);C.L7.clearConfig();t=new g.SyncUserConfig;t.setLastIndexTimestamp(0);t.clear();e&&e.userConfig.setInitialDataFetched(false);j.DaoGlobalConfig.removeDBSchemaVersion();return[2]}))}))};i._onPermissionUpdated=function(e){if(e.permissions[r.G.USE_USERS_BLACKLIST]){y.k.info("User in blacklist, then force logout.");i.triggerForceLogout("[_observeBlackListChange] User is in blacklist, then force logout.")}};i._init();return i}MasterAccount.prototype.getAccounts=function(){return Array.from(this._accounts.values())};MasterAccount.prototype.accountName=function(){return this._userDictionary};MasterAccount.prototype.accountType=function(){return this._type};MasterAccount.prototype.setAccountType=function(e){this._type=e};MasterAccount.prototype.internalLogin=function(){return se(this,void 0,Promise,(function(){var e=this;return ce(this,(function(t){switch(t.label){case 0:return[4,this._prepareLogin()];case 1:t.sent();Promise.all(Array.from(this._accounts.values()).map((function(e){return e.login()}))).then((function(){return e._afterLogin()}));return[2]}}))}))};MasterAccount.prototype.logout=function(){var e;return se(this,void 0,Promise,(function(){var t,n;return ce(this,(function(r){switch(r.label){case 0:t=y.k.performance();this.setLoginStatus(_.IC.LOGOUT_IN_PROGRESS);this.context.deactivate();return[4,j.notificationCenter.emitKVChange(D.Cg.LOGOUT)];case 1:r.sent();C.L7.clear();return[4,Promise.all(Array.from(this._accounts.values()).map((function(e){return e.logout()})))];case 2:r.sent();t.trace({key:W.LOGOUT_SDK_ACCOUNT,level:E.LOG_CONTROL_LEVEL.HIGH});return[4,j.moduleManager.clear()];case 3:r.sent();t.trace({key:W.LOGOUT_SDK_MODULE_CLEAR,level:E.LOG_CONTROL_LEVEL.HIGH});this._masterLogger.info("onLogout() delete database");j.DaemonService.getUserConfigService().clear();j.DaoGlobalConfig.removeDBSchemaVersion();b.F.removeUserDictionary();n=b.F.getAccountList()||{};delete n[this._userDictionary];b.F.setAccountList(n);b.F.removeLoginParams();(e=this._crashMonitor)===null||e===void 0?void 0:e.dispose();S.Pal.instance.getPlatformUtils().clearSFDCookie();this.setLoginStatus(_.IC.ALREADY_LOGOUT);t.end({key:W.LOGOUT_SDK_FINISH,level:E.LOG_CONTROL_LEVEL.HIGH});return[2]}}))}))};MasterAccount.prototype.reLogin=function(){j.DaoGlobalConfig.removeDBSchemaVersion();j.notificationCenter.emitKVChange(j.SERVICE_EVENT.RELOAD)};MasterAccount.prototype.triggerForceLogout=function(e){j.notificationCenter.emitKVChange(D.Cg.FORCE_LOGOUT,{reason:e})};MasterAccount.prototype.sync=function(){var e=(0,g.getGlipAccount)();if(!e){this._masterLogger.info("sync() not found account");return}e.sync()};MasterAccount.prototype._checkBetaWhiteList=function(){var e,t;return se(this,void 0,Promise,(function(){var n,r;return ce(this,(function(o){switch(o.label){case 0:if(!this._betaWhiteListController)return[2];return[4,this.getUserInfo().catch((function(e){y.k.error("get user info failed",e);return undefined}))];case 1:n=o.sent();return[4,this._betaWhiteListController.isUserInWhiteList({userID:(e=n===null||n===void 0?void 0:n.id)===null||e===void 0?void 0:e.toString(),orgID:(t=n===null||n===void 0?void 0:n.organizationId)===null||t===void 0?void 0:t.toString()})];case 2:r=o.sent();if(!r){this.triggerForceLogout("[_checkBetaWhiteList] User is not in whitelist.")}return[2]}}))}))};MasterAccount.prototype.subAccountLogin=function(e,t){return se(this,void 0,Promise,(function(){var n;return ce(this,(function(r){switch(r.label){case 0:if(this.accountType()!==e){return[2]}return[4,this._checkBetaWhiteList()];case 1:r.sent();this.firstLogin=t.firstLogin;n={success:false,firstLogin:t.firstLogin,error:t.error};if(t.success){n.success=true;this.setLoginStatus(_.IC.SUCCESS)}else{n.success=false;this.setLoginStatus(_.IC.FAILURE,t.error)}j.notificationCenter.emitKVChange(D.Cg.LOGIN,n);return[2]}}))}))};MasterAccount.prototype.isNewUser=function(){var e=b.F.getIsNewUserList()||{};return e[this.getUniqueId()]!==false};MasterAccount.prototype.setIsNewUserStatus=function(e){var t=b.F.getIsNewUserList()||{};t[this.getUniqueId()]=e;b.F.setIsNewUserList(t)};MasterAccount.prototype._init=function(){this._masterLogger=y.k.tags(MasterAccount.name);this._accounts=new Map;j.DaemonService.getUserConfigService().setUserDictionary(this._userDictionary);this._initCommonKeyAction();this._commonModuleLoader=new ee.m(this.context,this._descriptor_list);(0,ae.p)()&&(this._betaWhiteListController=new ie(this.context,y.k))};MasterAccount.prototype._initCommonKeyAction=function(){var e=(0,j.getModule)(z.COMMON_KEY_ACTION_MODULE).getKeyActionService();e.register(z.ACTION_KEY.OBSERVE_GLIP_LOGIN,new q);e.register(z.ACTION_KEY.IS_RC_ONLY_ACCOUNT,new $)};MasterAccount.prototype._prepareLogin=function(){return se(this,void 0,Promise,(function(){var e,t,n;return ce(this,(function(r){switch(r.label){case 0:e=y.k.performance();this._masterLogger.info("_prepareLogin");e.trace({key:W.PREPARE_LOGIN_INIT_DB,level:E.LOG_CONTROL_LEVEL.HIGH});t=b.F.getAccountList()||{};t[this._userDictionary]={type:this._type};b.F.setAccountList(t);b.F.setUserDictionary(this._userDictionary);this._initCrashMonitorHandlers();return[4,this._loadCommonModule()];case 1:n=r.sent();this._masterLogger.info("loadModuleResult:",n);e.trace({key:W.PREPARE_LOGIN_INIT_MODULES,level:E.LOG_CONTROL_LEVEL.HIGH});this._observeBlackListChange();e.end({key:W.PREPARE_LOGIN_INIT,level:E.LOG_CONTROL_LEVEL.HIGH});return[2]}}))}))};MasterAccount.prototype._initCrashMonitorHandlers=function(){this._crashMonitor=S.Pal.instance.getCrashMonitor();this._crashMonitor&&this._crashMonitor.add(new L);this._crashMonitor&&this._crashMonitor.add(new G)};MasterAccount.prototype._loadCommonModule=function(){return se(this,void 0,Promise,(function(){return ce(this,(function(e){switch(e.label){case 0:return[4,j.moduleManager.addModule(new v(this.context))];case 1:e.sent();return[2,this._commonModuleLoader.loadModule()]}}))}))};MasterAccount.prototype._observeBlackListChange=function(){var e=this;var t=(0,j.getModule)(r.FEATURE_FLAG_MODULE);t.getUserPermission().then((function(t){return e._onPermissionUpdated(t)}));j.notificationCenter.on(r.FEATURE_FLAG_ENTITY_KEY,(function(t){t&&t.body.entities.forEach((function(t){return e._onPermissionUpdated(t)}))}))};MasterAccount.prototype._afterLogin=function(){(0,H.G)(this.context.entitlement)};return MasterAccount}(_.KD)},883329:(e,t,n)=>{"use strict";n.d(t,{Nt:()=>r,gk:()=>i,zT:()=>o});var r="/desktop/config/beta_data_list.json";var o="beta-app.ringcentral.com";var i="fiji.gliprc.com"},292699:(e,t,n)=>{"use strict";n.d(t,{p:()=>isBetaWhiteListOn});var r=n(883329);function isBetaWhiteListOn(){var e;var t=(e=window===null||window===void 0?void 0:window.location)===null||e===void 0?void 0:e.hostname;if(t===r.zT){return true}return!!(undefined==="on"&&(t===null||t===void 0?void 0:t.endsWith(r.gk)))}},198394:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(862926);var o=n.n(r);var i="[SDK]";var a=r.ModuleLogger.getLogger(i,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.FOUNDATION)},906493:(e,t,n)=>{"use strict";n.d(t,{m:()=>c});var r=n(667489);var o=n(862926);var i=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var a=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var u=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var s=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e};var c=function(){function ModuleLoader(e,t,n){this._context=e;this._descriptorList=this._filterDescriptorListByAccountName(t,n)}ModuleLoader.prototype.loadModule=function(){return i(this,void 0,Promise,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return[4,this._internalLoadModule()];case 1:e=n.sent();t=e.some((function(e){return e.errorCode===r.LOAD_MODULE_ERROR_CODE.REQUIRE_ACCOUNT_RE_INIT}));o.mainLogger.tags("ModuleLoader").info("requireAccountReInit:",t);if(!t)return[3,3];return[4,Promise.all(e.map((function(e){return e.instance.onDatabaseInCompatible()})))];case 2:n.sent();n.label=3;case 3:return[2,t?r.LOAD_MODULE_ERROR_CODE.REQUIRE_ACCOUNT_RE_INIT:r.LOAD_MODULE_ERROR_CODE.NONE]}}))}))};ModuleLoader.prototype._internalLoadModule=function(){return i(this,void 0,Promise,(function(){var e=this;return a(this,(function(t){switch(t.label){case 0:return[4,Promise.all(Object.values(this._descriptorList).map((function(t){return r.moduleManager.addModuleDescriptorsList(t,e._context)})))];case 1:return[2,t.sent().reduce((function(e,t){return s(e,t)}),[])]}}))}))};ModuleLoader.prototype._filterDescriptorListByAccountName=function(e,t){var n={};Object.keys(e).forEach((function(r){var o=e[r].map((function(e){return e.filter((function(e){return e.accountName===t}))})).filter((function(e){return e.length}));o.length&&(n[r]=o)}));return n};return ModuleLoader}()},555059:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var r=function(){function BaseDebugModule(){this._instance={}}BaseDebugModule.prototype.inject=function(e,t){this._instance[e]=t};BaseDebugModule.prototype.get=function(){return this._instance};return BaseDebugModule}()},618143:(e,t,n)=>{"use strict";n.d(t,{z:()=>O,a:()=>R});var r=n(219834);var o=n.n(r);var i=n(555059);var a=n(442739);var u=n(862498);var s=n(461197);var c=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var l=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var f="LOG_MODULE";var d=function(){function DexieImportExporter(){}DexieImportExporter.prototype.import=function(e){return c(this,void 0,Promise,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,(0,u.xG)(e)];case 1:t.sent();return[2]}}))}))};DexieImportExporter.prototype.validate=function(e){return c(this,void 0,Promise,(function(){return l(this,(function(t){return[2,!!e]}))}))};DexieImportExporter.prototype.exportModulesData=function(){return c(this,void 0,Promise,(function(){var e,t;var n=this;return l(this,(function(r){switch(r.label){case 0:e=(0,s.getAllModules)();t=[];return[4,Promise.all(Array.from(e.keys()).map((function(r){return c(n,void 0,void 0,(function(){var n,o,i,a;return l(this,(function(c){switch(c.label){case 0:n=e.get(r);if(!n||!(n instanceof s.AbstractModule)){return[2]}o=n;i=o.getDaoManager();if(!(i&&r!==f))return[3,2];a=i.getDataBase();return[4,a.ensureDBOpened()];case 1:c.sent();t.push({key:r,blob:(0,u.Xs)(a.db)});c.label=2;case 2:return[2]}}))}))})))];case 1:r.sent();return[2,t]}}))}))};return DexieImportExporter}();var p=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var h=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var v=function(){function LocalStorageImportExporter(){}LocalStorageImportExporter.prototype.import=function(e){return p(this,void 0,Promise,(function(){var t;return h(this,(function(n){t=JSON.parse(e);Object.keys(t).forEach((function(e){t[e]&&localStorage.setItem(e,t[e])}));return[2]}))}))};LocalStorageImportExporter.prototype.validate=function(e){return p(this,void 0,Promise,(function(){return h(this,(function(t){return[2,!!e]}))}))};LocalStorageImportExporter.prototype.export=function(){return p(this,void 0,Promise,(function(){var e;return h(this,(function(t){e={};Object.keys(localStorage).forEach((function(t){e[t]=localStorage.getItem(t)}));return[2,JSON.stringify(e)]}))}))};return LocalStorageImportExporter}();var g=n(862926);var _="[DEBUG][CORE]";var y=g.ModuleLogger.getLogger(_,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),g.EVENT_DATA_FEATURE.FOUNDATION);var b=n(963786);var C=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var m=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var S=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var E=9;var I={DB:"db.json",LOCAL_STORAGE:"localStorage.json"};var w=function(e){C(DataModule,e);function DataModule(){var t=e.call(this)||this;t.importData=function(){return m(t,void 0,void 0,(function(){var e,t,n,r,i,u;var s=this;return S(this,(function(c){switch(c.label){case 0:return[4,(0,a.xl)()];case 1:e=c.sent();return[4,o().loadAsync(e)];case 2:t=c.sent();n=t.file(/db/);return[4,t.file(I.LOCAL_STORAGE).async("text")];case 3:r=c.sent();i=b._Z.getCurrent();u=i;if(!u)return[3,5];return[4,i.logout()];case 4:u=c.sent();c.label=5;case 5:u;return[4,Promise.all(n.map((function(e){return m(s,void 0,void 0,(function(){var t;return S(this,(function(n){switch(n.label){case 0:return[4,e.async("blob")];case 1:t=n.sent();return[4,this.dexie.validate(t)];case 2:if(!n.sent()){y.debug("import module db data fail. Please check the data.");return[2]}return[4,this.dexie.import(t)];case 3:n.sent();return[2]}}))}))})))];case 6:c.sent();return[4,this.localStorage.validate(r)];case 7:if(!c.sent()){y.debug("import localStorage data fail. Please check the data.");return[2]}return[4,this.localStorage.import(r)];case 8:c.sent();y.info("[Data Module]Will auto reload.");window.location.reload();return[2]}}))}))};t.getExportZipData=function(){return m(t,void 0,Promise,(function(){var e,t,n;return S(this,(function(r){switch(r.label){case 0:return[4,this.dexie.exportModulesData()];case 1:e=r.sent();return[4,this.localStorage.export()];case 2:t=r.sent();n=new(o());e.forEach((function(e){n.file("db_"+e.key+".json",e.blob)}));n.file(I.LOCAL_STORAGE,t);return[2,n.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:E}})]}}))}))};t.exportData=function(e){if(e===void 0){e="data"}return m(t,void 0,void 0,(function(){var t;return S(this,(function(n){switch(n.label){case 0:return[4,this.getExportZipData()];case 1:t=n.sent();(0,a.Gj)(e+".zip",t);return[2]}}))}))};t.dexie=new d;t.localStorage=new v;t.inject("import",t.importData);t.inject("export",t.exportData);return t}return DataModule}(i.q);var R=new w;var P=n(858413);var A=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var T=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var O=function(){function AppDataItemProvider(e){var t=this;this.data=e;this.name="AppDataItemProvider";this.level=P.q.DEBUG_ALL;this.getZipItems=function(){return A(t,void 0,void 0,(function(){var e,t;return T(this,(function(n){switch(n.label){case 0:e=[];return[4,this.data.getAppData()];case 1:t=n.sent();t&&e.push({type:".zip",folder:"AppData",name:"data",content:t});return[2,e]}}))}))}}return AppDataItemProvider}()},816832:(e,t,n)=>{"use strict";var r=n(231005);var o=n(618143);var i=n(862926);var a=n(949135);var u=n.n(a);var s=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var c=function(e){s(DebugConfigSource,e);function DebugConfigSource(t,n){var r=e.call(this,t)||this;r._peristenceKey=t;r._persistenceEnable=n;var o=u().get(r._peristenceKey);if(Object.prototype.toString.call(o)==="[object Object]"){r.setConfigSource(o)}else{r.setConfigSource({})}return r}DebugConfigSource.prototype._updatePersistenceIfNecessary=function(){this._persistenceEnable&&u().set(this._peristenceKey,this.getConfigSource())};DebugConfigSource.prototype.setConfigSource=function(t){e.prototype.setConfigSource.call(this,t);this._updatePersistenceIfNecessary()};DebugConfigSource.prototype.updateSource=function(t){e.prototype.updateSource.call(this,t);this._updatePersistenceIfNecessary()};DebugConfigSource.prototype.startPersistence=function(){if(!this._persistenceEnable){this._persistenceEnable=true;this._updatePersistenceIfNecessary()}};DebugConfigSource.prototype.stopPersistence=function(){this._persistenceEnable=false;u().remove(this._peristenceKey)};DebugConfigSource.prototype.enable=function(){this.setReadyStatus(true)};DebugConfigSource.prototype.disable=function(){this.setReadyStatus(false)};DebugConfigSource.prototype.delete=function(){this.disable();this._persistenceEnable=false;u().remove(this._peristenceKey)};return DebugConfigSource}(i.ConfigSource);var l=n(667489);var f=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var d="_DEBUG_SOURCES";var p=function(){function DebugConfigManager(){var e=this;this._sourceNames={};this._sourceMap=new Map;this.configStoreManager=l.configStoreManager;this.logManager=i.logManager;this._createSource=function(t,n,r,o,i){if(o===void 0){o=true}if(i===void 0){i=100}var a=new c(n,!!r);o&&a.enable();var u={disable:function(){a.disable();e._sourceNames[n].enable=false;e._updateSourceStorageIfNecessary()},enable:function(){a.enable();e._sourceNames[n].enable=true;e._updateSourceStorageIfNecessary()},update:function(e){a.updateSource(e)},set:function(e){a.setConfigSource(e)},enablePersistence:function(){a.startPersistence();e._sourceNames[n].persistenceEnable=true;e._updateSourceStorageIfNecessary()},disablePersistence:function(){a.stopPersistence();e._sourceNames[n].persistenceEnable=false;e._updateSourceStorageIfNecessary()},delete:function(){a.delete();delete e._sourceNames[n];e._updateSourceStorageIfNecessary()}};l.configStoreManager.addConfigSource(n,a);l.configStoreManager.addDescribe({storeName:t,sourceName:n,priority:i,transform:function(e){return e}});return{persistenceEnable:r,source:a,enable:o,interf:u}};var t=u().get(d);if(Object.prototype.toString.call(t)==="[object Object]"){this._sourceNames=t}Object.entries(this._sourceNames).forEach((function(t){var n=f(t,2),r=n[0],o=n[1],i=o.storeName,a=o.persistenceEnable,u=o.enable;e._sourceMap.set(r,e._createSource(i,r,a,u))}));console.info("DebugConfig is enabled.",{configStoreManager:l.configStoreManager,logManager:i.logManager})}DebugConfigManager.prototype._updateSourceStorageIfNecessary=function(){u().set(d,this._sourceNames)};DebugConfigManager.instance=function(){if(!DebugConfigManager._instance){DebugConfigManager._instance=new DebugConfigManager}return DebugConfigManager._instance};DebugConfigManager.prototype.storageSource=function(e,t){if(t===void 0){t=100}var n="_DEBUG_CONFIG_SOURCE_"+e;if(this._sourceMap.has(n)){this._sourceMap.get(n).interf.enable();this._sourceMap.get(n).interf.enablePersistence();return this._sourceMap.get(n).interf}var r=this._createSource(e,n,true,true,t);this._sourceNames[n]={storeName:e,persistenceEnable:true,enable:true};this._sourceMap.set(n,r);this._updateSourceStorageIfNecessary();return r.interf};DebugConfigManager.prototype.memorySource=function(e,t){if(t===void 0){t=100}var n="_DEBUG_CONFIG_SOURCE_"+e;if(this._sourceMap.has(n)){this._sourceMap.get(n).interf.disablePersistence();return this._sourceMap.get(n).interf}var r=this._createSource(e,n,true,true,t);this._sourceNames[n]={storeName:e,persistenceEnable:false,enable:true};this._sourceMap.set(n,r);this._updateSourceStorageIfNecessary();return r.interf};DebugConfigManager.prototype.enableAll=function(){this._sourceMap.forEach((function(e){var t=e.interf;t.enable()}))};DebugConfigManager.prototype.disableAll=function(){this._sourceMap.forEach((function(e){var t=e.interf;t.disable()}))};DebugConfigManager.prototype.deleteAll=function(){this._sourceMap.forEach((function(e){var t=e.interf;t.delete()}))};return DebugConfigManager}();var h="_debug";var v=function(){function Debug(){this._instance={};this._init()}Debug.prototype._init=function(){window[h]=this._instance;this.inject("log",r.q.get());this.inject("data",o.a.get());this.inject("debugConfig",i.DebugUtils.isFeatureMode("debugConfig")?p.instance():'Only avaliable in test env with featureMode "debugConfig".')};Debug.prototype.inject=function(e,t){this._instance[e]=t};Debug.prototype.get=function(e){return this._instance[e]};return Debug}();var g=new v},231005:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});var r=n(555059);var o=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var i=function(e){o(DebugLogModule,e);function DebugLogModule(){return e!==null&&e.apply(this,arguments)||this}return DebugLogModule}(r.q);var a=new i},998677:(e,t,n)=>{"use strict";n.d(t,{w:()=>c});var r=n(429205);var o=n(963786);var i=n(619319);var a=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var u=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var s=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var c=function(e){a(AppEnvSetting,e);function AppEnvSetting(){return e!==null&&e.apply(this,arguments)||this}AppEnvSetting.switchEnv=function(e){return u(this,void 0,Promise,(function(){var t,n,i;return s(this,(function(a){switch(a.label){case 0:t=r.B.getEnv();if(t===e){return[2,false]}if(!t)return[3,3];n=o._Z.getCurrent();i=n;if(!i)return[3,2];return[4,n.logout()];case 1:i=a.sent();a.label=2;case 2:i;a.label=3;case 3:r.B.setEnv(e);sessionStorage.setItem("env",e);return[2,true]}}))}))};AppEnvSetting.getCustomEnvConfig=function(e){return r.B.getCustomEnvConfig(e)};AppEnvSetting.setCustomEnvConfig=function(e,t){return r.B.setCustomEnvConfig(e,t)};return AppEnvSetting}(i.g)},619319:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});var r=n(429205);var o=function(){function SimpleAppEnvSetting(){}SimpleAppEnvSetting.getEnv=function(){return r.B.getEnv()};SimpleAppEnvSetting.setEnv=function(e){r.B.setEnv(e)};return SimpleAppEnvSetting}()},890810:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var r=n(667489);var o=n.n(r);var i=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var a="IS_ENABLE";var u="ADVANCE_LOG_SETTING";var s=function(e){i(AdvanceLogDebugSetting,e);function AdvanceLogDebugSetting(){return e.call(this)||this}AdvanceLogDebugSetting.setValue=function(e){AdvanceLogDebugSetting.put(a,e)};AdvanceLogDebugSetting.getValue=function(){return!!AdvanceLogDebugSetting.get(a)};AdvanceLogDebugSetting.moduleName=u;return AdvanceLogDebugSetting}(r.GlobalConfig)},697680:(e,t,n)=>{"use strict";n.d(t,{b:()=>u});var r=n(814678);var o=n(440942);var i=n(963786);var a=n(782117);var u=function(){function UserIdDecorator(){var e=this;if(i._Z.getCurrent()){i._Z.getCurrent().onLoginResult((function(t){t.success&&e._onLogin()}))}r.rF.on(a.Cg.LOGIN,(function(t){if(t.success){e._onLogin()}}))}UserIdDecorator.prototype._onLogin=function(){var e=i._Z.getCurrent().getUniqueId();o.k.info("glip logged in, set glip id: ",e);this.userId=""+e};UserIdDecorator.prototype.decorate=function(e){e.userId=this.userId;return e};return UserIdDecorator}()},148068:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var r=n(862926);var o=n.n(r);var i=n(788401);var a=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var u=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var s=function(){function Zip(){var e=this;this._workerInstanceManager=new r.WorkerInstanceManger((function(){return a(e,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:e=i.ez;return[4,n.e(5500).then(n.bind(n,35500))];case 1:return[2,e.apply(void 0,[t.sent()])]}}))}))}));this.zip=function(t){return a(e,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return[4,this._workerInstanceManager.getWorkerAPI()];case 1:e=n.sent();return[2,e.zip(t)]}}))}))}}return Zip}()},179894:(e,t,n)=>{"use strict";n.d(t,{u:()=>f});var r=n(667489);var o=n(862926);var i="[FREQUENCY_LOG]";var a=o.ModuleLogger.getLogger(i,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),o.EVENT_DATA_FEATURE.FOUNDATION);var u={timePeriodParticle:5,latestParticleCount:6};var s={enable:true,cleanInterval:300};var c=1e3;var l="__UNKNOWN_MODULE_TAG__";var f=function(){function LogFrequencyAnalysisCollector(){var e=this;this.doHitAction=function(t,n){e._keyHitStatisticsAnalysis.resetKey(t);a.warn("MODULE "+t+" print "+n+" logs in "+u.timePeriodParticle*u.latestParticleCount+" second,threshold is "+c+", Please Check!!!")};this._keyHitStatisticsAnalysis=new r.KeyHitStatisticsAnalysis(u,s,c);this._keyHitStatisticsAnalysis.addObserver(this.doHitAction)}LogFrequencyAnalysisCollector.prototype.onLog=function(e){if(!e.tags||e.tags.length===0){e.tags=[l]}this._keyHitStatisticsAnalysis.onAnalyse(e.tags[0],e.timestamp)};return LogFrequencyAnalysisCollector}()},355870:(e,t,n)=>{"use strict";n.d(t,{Jh:()=>St,nQ:()=>ht,Uy:()=>Et,Y3:()=>He});var r=n(862926);var o=n(636748);var i=n(947465);var a=n.n(i);var u=n(886236);var s=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var c=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var l=function(){function CleanerController(e){var t=this;this._cleaners=[];this._sequenceHandler=new u.vm({name:"LogCleaner",onFinish:function(){t._isFinish=true;e&&e()}})}CleanerController.prototype.addCleaner=function(e){this._cleaners.push(e)};CleanerController.prototype.start=function(){var e=this;this._cleaners.forEach((function(t){e._sequenceHandler.addProcessor({name:function(){return"clean-log"},process:function(){return s(e,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,t.cleanData()];case 1:e.sent();return[2,true]}}))}))}})}))};CleanerController.prototype.end=function(){this._sequenceHandler&&this._sequenceHandler.cancelAll()};return CleanerController}();var f=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var d=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var p=function(){function AbstractCleaner(){}AbstractCleaner.prototype.cleanData=function(){return f(this,void 0,void 0,(function(){var e,t;var n=this;return d(this,(function(r){switch(r.label){case 0:return[4,this.getItems()];case 1:e=r.sent();t=[];e.reduceRight((function(e,r){var o=n.accumulate(r,e);if(n.shouldDelete(r,o)){t.push(r)}return o}),undefined);if(!t.length)return[3,3];return[4,this.deleteItems(t)];case 2:r.sent();r.label=3;case 3:return[2]}}))}))};return AbstractCleaner}();var h=n(440942);var v=36e5;var g=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var _=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var y=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var b=function(e){g(LogDaoCleaner,e);function LogDaoCleaner(t,n){var r=e.call(this)||this;r._logDao=t;r._options=n;return r}LogDaoCleaner.prototype.getItems=function(){return _(this,void 0,Promise,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return[4,this._logDao.getLogViewDao().getAll()];case 1:e=t.sent()||[];return[2,e.sort((function(e,t){return e.startTime-t.startTime}))]}}))}))};LogDaoCleaner.prototype.deleteItems=function(e){return this._logDao.bulkDelete(e.map((function(e){return e.id})))};LogDaoCleaner.prototype.shouldDelete=function(e,t){if(t>this._options.getMaxSize()){h.k.log("Log size is reach limit, will delete:",a().omit(e,"messages"));return true}if(Date.now()-e.startTime>this._options.getAliveHours()*v){h.k.log("Log is too old, will delete:",a().omit(e,"messages"));return true}return false};LogDaoCleaner.prototype.accumulate=function(e,t){if(t===void 0){t=0}return t+e.size};return LogDaoCleaner}(p);var C=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var m=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var S=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var E=function(e){C(LogSyncStorageCleaner,e);function LogSyncStorageCleaner(t,n){var r=e.call(this)||this;r._logDao=t;r._options=n;return r}LogSyncStorageCleaner.prototype.getItems=function(){return m(this,void 0,Promise,(function(){return S(this,(function(e){return[2,(this._logDao.getAll()||[]).sort((function(e,t){return e.startTime-t.startTime}))]}))}))};LogSyncStorageCleaner.prototype.deleteItems=function(e){return m(this,void 0,Promise,(function(){return S(this,(function(t){return[2,this._logDao.bulkDelete(e.map((function(e){return e.id})))]}))}))};LogSyncStorageCleaner.prototype.shouldDelete=function(e,t){if(t>this._options.getMaxSize()){h.k.log("Log size is reach limit, will delete:",a().omit(e,"messages"));return true}if(Date.now()-e.startTime>this._options.getAliveHours()*v){h.k.log("Log is too old, will delete:",a().omit(e,"messages"));return true}return false};LogSyncStorageCleaner.prototype.accumulate=function(e,t){if(t===void 0){t=0}return t+e.size};return LogSyncStorageCleaner}(p);var I=n(667489);var w={LOG_BASE_CONFIG:"LOG_BASE_CONFIG",LOG_CONFIG:"LOG_CONFIG"};var R={MARKED_LOG:"markedLog",MARKED_LOG_VIEW:"markedLogView",HISTORY_LOG:"historyLog",HISTORY_LOG_VIEW:"historyLogView"};var P=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var A=function(e){P(LogUserConfig,e);function LogUserConfig(){return e!==null&&e.apply(this,arguments)||this}LogUserConfig.setMarkedLogViews=function(e){this.put(R.MARKED_LOG_VIEW,e)};LogUserConfig.getMarkedLogViews=function(){return this.get(R.MARKED_LOG_VIEW)||[]};LogUserConfig.setMarkedLogs=function(e){this.put(R.MARKED_LOG,e)};LogUserConfig.getMarkedLogs=function(){return this.get(R.MARKED_LOG)||[]};LogUserConfig.setHistoryLogViews=function(e){this.put(R.HISTORY_LOG_VIEW,e)};LogUserConfig.getHistoryLogViews=function(){return this.get(R.HISTORY_LOG_VIEW)||[]};LogUserConfig.setHistoryLogs=function(e){this.put(R.HISTORY_LOG,e)};LogUserConfig.getHistoryLogs=function(){return this.get(R.HISTORY_LOG)||[]};LogUserConfig.moduleName="LOG";return LogUserConfig}(I.GlobalConfig);var T=n(95279);var O=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var N=function(e){O(HistoryLogSyncViewDao,e);function HistoryLogSyncViewDao(){return e.call(this,{getAll:function(){return A.getHistoryLogViews()},setAll:function(e){return A.setHistoryLogViews(e)}})||this}HistoryLogSyncViewDao.prototype.toViewItem=function(e){return a().omit(e,"messages")};HistoryLogSyncViewDao.prototype.toPartialViewItem=function(){throw new Error("Method not implemented.")};return HistoryLogSyncViewDao}(T.SyncDao);var x=function(e){O(MarkedLogSyncViewDao,e);function MarkedLogSyncViewDao(){return e.call(this,{getAll:function(){return A.getMarkedLogViews()},setAll:function(e){return A.setMarkedLogViews(e)}})||this}MarkedLogSyncViewDao.prototype.toViewItem=function(e){return a().omit(e,"messages")};MarkedLogSyncViewDao.prototype.toPartialViewItem=function(){throw new Error("Method not implemented.")};return MarkedLogSyncViewDao}(T.SyncDao);var D=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var M=function(e){D(HistoryLogSyncDao,e);function HistoryLogSyncDao(){return e.call(this,{getAll:function(){return A.getHistoryLogs()},setAll:function(e){return A.setHistoryLogs(e)}},[new N])||this}return HistoryLogSyncDao}(T.AbstractComposedSyncDao);var k=function(e){D(MarkedLogSyncDao,e);function MarkedLogSyncDao(){return e.call(this,{getAll:function(){return A.getMarkedLogs()},setAll:function(e){return A.setMarkedLogs(e)}},[new x])||this}return MarkedLogSyncDao}(T.AbstractComposedSyncDao);var L=n(390582);var F=undefined&&undefined.__assign||function(){F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return F.apply(this,arguments)};var U=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var B=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(U(arguments[t]));return e};function logToPersistent(e){var t=a().first(e);var n=a().last(e);return{id:a().get(t,"sessionId")+"-"+a().get(t,"timestamp")+"-"+(0,L.DO)(),uid:a().get(n,"userId")||"",sessionId:a().get(t,"sessionId")||"",startTime:a().get(t,"timestamp")||0,endTime:a().get(n,"timestamp")||0,messages:e.map((function(e){return e.message})),size:a().sumBy(e,(function(e){return e.size}))}}function mergePersistentLogs(e){var t=U(e),n=t[0],r=t.slice(1);if(!r.length){return n}return a().reduce(r,(function(e,t){return F(F({},e),{endTime:t.endTime,messages:B(e.messages,t.messages),size:e.size+t.size})}),n)}function mergePersistentLog(e,t,n){if(!n){return t}if(t.size+n.size>e.maxSize){return t}if(t.sessionId!==n.sessionId||t.uid!==n.uid){return t}return F(F({},n),{endTime:t.endTime,messages:B(n.messages,t.messages),size:n.size+t.size})}var G=n(788401);var j=function(){function MemoryQueue(e){this._queue=[];if(e){this._queue=e}}MemoryQueue.prototype.addHead=function(e){this._queue=[e].concat(this._queue||[])};MemoryQueue.prototype.peekHead=function(){var e=this._queue[0];this._queue=this._queue.slice(1);return e};MemoryQueue.prototype.getHead=function(){return this._queue[0]};MemoryQueue.prototype.addTail=function(e){this._queue.push(e)};MemoryQueue.prototype.addTails=function(e){this._queue=this._queue.concat(e)};MemoryQueue.prototype.peekTail=function(){var e=this._queue[this._queue.length-1];this._queue=this._queue.slice(0,this._queue.length-1);return e};MemoryQueue.prototype.getTail=function(){return this._queue[this._queue.length-1]};MemoryQueue.prototype.peekAll=function(){var e=this._queue;this._queue=[];return e};MemoryQueue.prototype.getAll=function(){return this._queue};MemoryQueue.prototype.size=function(){return this._queue.length};return MemoryQueue}();var H=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var V=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var W=function(e){H(LogEntityQueue,e);function LogEntityQueue(t,n){if(n===void 0){n={}}var r=e.call(this,t)||this;r._options=n;r._bytes=0;r._observableController=new I.ObservableController;r._isProcessing=false;if(t){r._bytes=a().sumBy(t,(function(e){return e.size}))}return r}LogEntityQueue.prototype._reduceLogsSize=function(e,t){var n=V((0,G.Fw)(this._queue,e-t),2),r=n[0],o=n[1];this._queue=this._queue.slice(r);this._bytes=this._bytes-o};LogEntityQueue.prototype._adjustQueueIfNecessary=function(){if(this._isProcessing){return}if(this._options.getLimit){var e=this._options.getLimit();if(this.bytes()>e){if(this._options.onLimitReach){this._isProcessing=true;this._options.onLimitReach();this._isProcessing=false;if(this.bytes()<e){return}}this._reduceLogsSize(this.bytes(),e*3/4)}}};LogEntityQueue.prototype.addHead=function(t){this._bytes+=t.size;e.prototype.addHead.call(this,t);this._adjustQueueIfNecessary();this._notifyIfConditionMeet()};LogEntityQueue.prototype.peekHead=function(){var t=e.prototype.peekHead.call(this);if(t){this._bytes-=t.size}return t};LogEntityQueue.prototype.addTail=function(t){this._bytes+=t.size;e.prototype.addTail.call(this,t);this._adjustQueueIfNecessary();this._notifyIfConditionMeet()};LogEntityQueue.prototype.addTails=function(t){this._bytes+=a().sumBy(t,(function(e){return e.size}));e.prototype.addTails.call(this,t);this._adjustQueueIfNecessary();this._notifyIfConditionMeet()};LogEntityQueue.prototype._notifyIfConditionMeet=function(){this.isConditionMeet()&&this._observableController.notifyObserver4Changes((function(e){return e()}))};LogEntityQueue.prototype.peekTail=function(){var t=e.prototype.peekTail.call(this);if(t){this._bytes-=t.size}return t};LogEntityQueue.prototype.peekAll=function(){this._bytes=0;return e.prototype.peekAll.call(this)};LogEntityQueue.prototype.size=function(){return e.prototype.size.call(this)};LogEntityQueue.prototype.bytes=function(){return this._bytes};LogEntityQueue.prototype.getLogs=function(e){var t=[];var n=a().get(a().first(this._queue),"sessionId");var r=false;var o=a().reduce(this._queue,(function(o,i){if(r)return o;if(i.sessionId!==n){r=true;return o}if(o+i.size>e){r=true;return o}t.push(i);return o+i.size}),0);return{size:o,items:t,range:{from:a().first(t),to:a().last(t)}}};LogEntityQueue.prototype.deleteLogs=function(e){var t=this;if(e.to&&this._options.isEqual){var n=a().findIndex(this._queue,(function(n){return t._options.isEqual(n,e.to)}));if(n>=0){this._queue=this._queue.slice(n+1);this._bytes=a().sumBy(this._queue,(function(e){return e.size}))}}};LogEntityQueue.prototype.isConditionMeet=function(){return this._options.getNotifySize?this.bytes()>=this._options.getNotifySize():false};LogEntityQueue.prototype.subscribe=function(e){this._observableController.addObserver(e)};LogEntityQueue.prototype.unsubscribe=function(e){this._observableController.removeObserver(e)};return LogEntityQueue}(j);var z=function(){function TemporaryDataSource(e,t){if(t===void 0){t=function(){return Number.MAX_VALUE}}this._dao=e;this._logs=new W([],{getNotifySize:function(){return 1},getLimit:t,isEqual:function(e,t){return e.id===t.id}})}TemporaryDataSource.prototype.init=function(){var e=this._dao.getAll()||[];this._dao.bulkDelete(e.map((function(e){return e.id})));this._logs.addTails(e)};TemporaryDataSource.prototype.getLogs=function(e){return this._logs.getLogs(e)};TemporaryDataSource.prototype.deleteLogs=function(e){return this._logs.deleteLogs(e)};TemporaryDataSource.prototype.isConditionMeet=function(){return this._logs.isConditionMeet()};TemporaryDataSource.prototype.subscribe=function(e){this._logs.subscribe(e)};TemporaryDataSource.prototype.unsubscribe=function(e){this._logs.unsubscribe(e)};return TemporaryDataSource}();var Y;(function(e){e["GET_ALL_LOGS_FROM_DB"]="get_all_logs_from_db"})(Y||(Y={}));var q={SAVE_RUNTIME_LOG:"SAVE_RUNTIME_LOG",MOVE_TEMPORARY_LOG_TO_DB:"MOVE_TEMPORARY_LOG_TO_DB",SAVE_TO_STORAGE:"SAVE_TO_STORAGE",SAVE_MARKED_LOG:"SAVE_MARKED_LOG"};var K=n(885057);var Q=n(379116);var Z=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var X=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var J=function(){function BaseLogPersistentController(){var e=this;this._lastExecuteTime=0;this.onPersistentConditionMeet=function(){e.triggerProcessLogs()};this._setupOrRefreshIntervalTrigger=function(){if(!e._isLoad)return;if(e._intervalId){clearInterval(e._intervalId)}e._intervalId=setInterval((function(){e.triggerProcessLogs()}),e.getPersistentConfig().triggerIntervalSeconds*1e3)}}BaseLogPersistentController.prototype.load=function(){var e=this;this._isLoad=true;this.onLoad();this.getProcessors().forEach((function(t){t.provider.subscribe(e.onPersistentConditionMeet)}));this._setupOrRefreshIntervalTrigger();if(!this._beforeUnload){this._beforeUnload=function(){e.beforeUnload()}}window.addEventListener("beforeunload",this._beforeUnload)};BaseLogPersistentController.prototype.unload=function(){var e=this;this._isLoad=false;this._intervalId&&clearInterval(this._intervalId);if(this._beforeUnload){window.removeEventListener("beforeunload",this._beforeUnload)}this.onUnload();this.getProcessors().forEach((function(t){t.provider.unsubscribe(e.onPersistentConditionMeet)}))};BaseLogPersistentController.prototype.flush=function(){this._lastExecuteTime=0;this._flushMode=true;this.triggerProcessLogs()};BaseLogPersistentController.prototype.triggerProcessLogs=function(){var e=this;if(this._isExecuting)return;if(!this.isEnable())return;var t=this.getProcessors().find((function(t){if(t.isEnable()){if(e._flushMode&&t.supportFlushMode){e._flushMode=false;h.k.log("run flushMode");return t}return t.provider.isConditionMeet()}return false}));if(!t&&Date.now()-this._lastExecuteTime>this.getPersistentConfig().triggerIntervalSeconds*1e3){t=this.getProcessors().find((function(e){if(e.isEnable()){return e.supportInterval}return false}))}if(t){this._silentExecute((function(){return t.handler(t.provider)}),(function(){return e._onExecuteFinish()}))}};BaseLogPersistentController.prototype.schedulePeriodicJob=function(e,t,n){var o=this;if(n===void 0){n=Q.qu}K.L7.schedulePeriodicJob(e,(function(n){return Z(o,void 0,void 0,(function(){var o;return X(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,this.periodicJob()];case 1:i.sent();n(true);return[3,3];case 2:o=i.sent();if(o instanceof r.NotModifiedError){n(true)}else{t.error("schedulePeriodicJob ["+e+"] error:",o);n(false)}return[3,3];case 3:return[2]}}))}))}),false,Math.max(n,60),K.dV.BASE_ON_LAST_TIME)};BaseLogPersistentController.prototype.cancelSchedulePeriodicJob=function(e){K.L7.cancelJob(e)};BaseLogPersistentController.prototype.onLoad=function(){};BaseLogPersistentController.prototype.onUnload=function(){};BaseLogPersistentController.prototype._silentExecute=function(e,t){return Z(this,void 0,void 0,(function(){var n;return X(this,(function(o){switch(o.label){case 0:o.trys.push([0,2,3,5]);this._isExecuting=true;return[4,e()];case 1:o.sent();return[3,5];case 2:n=o.sent();h.k.log(n);return[3,5];case 3:return[4,(0,r.sleep)(this.getPersistentConfig().taskDelay)];case 4:o.sent();this._isExecuting=false;t&&t();return[7];case 5:return[2]}}))}))};BaseLogPersistentController.prototype._onExecuteFinish=function(){this._lastExecuteTime=Date.now();this._setupOrRefreshIntervalTrigger();this.triggerProcessLogs()};return BaseLogPersistentController}();var $={LOG_PERSISTENT_CLEANUP:"LOG_PERSISTENT_CLEANUP",LOG_UPLOAD_CLEANUP:"LOG_UPLOAD_CLEANUP"};var ee=n(242691);function handleCatchDBError(e){if(e instanceof ee.y4||e instanceof ee.Pu||e instanceof ee.U3){h.k.log("Detect DB error.",e);return}throw e}var te=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var ne=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var re=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var oe=h.k.tags("[UploadLogController]");var ie=function(){function MarkedLogDBSource(e){this._logDao=e;this._sanitizeLogs=new W([],{getLimit:function(){return o.b.getConfig().persistent.doubleCheckMaxSize?o.b.getConfig().persistent.markedLog.maxSize:Number.MAX_SAFE_INTEGER},getNotifySize:function(){return 1},isEqual:function(e,t){return e.id===t.id}})}MarkedLogDBSource.prototype.init=function(){return ne(this,void 0,void 0,(function(){var e,t,n;return re(this,(function(r){switch(r.label){case 0:n=(t=this._logDao.getLogViewDao()).getByUserId;return[4,(0,G.Ki)()];case 1:return[4,n.apply(t,[r.sent()])];case 2:e=r.sent();oe.log("init DB get: sanitize log",e);this._sanitizeLogs.addTails(e);return[2]}}))}))};MarkedLogDBSource.prototype.appendItems=function(e){oe.log("init add sanitize log to DB :",e);this._sanitizeLogs.addTails(e)};MarkedLogDBSource.prototype.getLogs=function(e){return this._sanitizeLogs.getLogs(e)};MarkedLogDBSource.prototype.deleteLogs=function(e){return this._sanitizeLogs.deleteLogs(e)};MarkedLogDBSource.prototype.isConditionMeet=function(){return!!this._sanitizeLogs.size()};MarkedLogDBSource.prototype.subscribe=function(e){this._sanitizeLogs.subscribe(e)};MarkedLogDBSource.prototype.unsubscribe=function(e){this._sanitizeLogs.unsubscribe(e)};return MarkedLogDBSource}();var ae=function(e){te(LogUploadController,e);function LogUploadController(t,n,r,i){var a=e.call(this)||this;a._runtimeDataSource=t;a._logDao=n;a._uploadTransport=r;a._uploadAccessor=i;a._nextUploadTime=0;a._logSyncDao=new k;a._temporaryDataSource=new z(a._logSyncDao,(function(){return o.b.getConfig().persistent.markedLog.maxSize}));a._markedLogDBSource=new ie(a._logDao);a.processors=[{isEnable:function(){return a._isUploadEnable()},supportFlushMode:true,supportInterval:true,provider:a._runtimeDataSource,handler:function(){return a._uploadRuntimeLog()}},{isEnable:function(){return a.getTemporaryStorageConfig().enable},provider:a._temporaryDataSource,handler:function(){return a._saveTemporaryLog()}},{isEnable:function(){return a._isUploadEnable()},provider:a._markedLogDBSource,handler:function(){return a._uploadDBLog()}},{isEnable:function(){return a.getPersistentConfig().enable},supportFlushMode:true,supportInterval:true,provider:a._runtimeDataSource,handler:function(){return a._saveRuntimeLog()}}];a._cleanerController=new l((function(){return ne(a,void 0,void 0,(function(){return re(this,(function(e){oe.log("clean done.");return[2]}))}))}));a._cleanerController.addCleaner(new E(a._logSyncDao,{getMaxSize:function(){return a.getTemporaryStorageConfig().maxSize},getAliveHours:function(){return a.getTemporaryStorageConfig().aliveHours}}));a._cleanerController.addCleaner(new b(a._logDao,{getMaxSize:function(){return a.getPersistentConfig().maxSize},getAliveHours:function(){return a.getPersistentConfig().aliveHours}}));return a}LogUploadController.prototype.onLoad=function(){this._temporaryDataSource.init();this._markedLogDBSource.init();this.schedulePeriodicJob($.LOG_UPLOAD_CLEANUP,oe,o.b.getConfig().persistent.cleanIntervalHours*60*60)};LogUploadController.prototype.periodicJob=function(){this._cleanExpireLogs();return Promise.resolve()};LogUploadController.prototype.onUnload=function(){this.cancelSchedulePeriodicJob($.LOG_UPLOAD_CLEANUP)};LogUploadController.prototype.beforeUnload=function(){this._saveLogsTemporary()};LogUploadController.prototype.flush=function(){this._nextUploadTime=0;e.prototype.flush.call(this)};LogUploadController.prototype.isEnable=function(){return this.getUploadConfig().enable||this.getPersistentConfig().enable};LogUploadController.prototype._isUploadEnable=function(){return this._uploadAccessor.isAccessible()&&this.getUploadConfig().enable&&this._uploadTransport.isEnable()&&Date.now()>this._nextUploadTime};LogUploadController.prototype.getProcessors=function(){return this.processors};LogUploadController.prototype.getTemporaryStorageConfig=function(){return o.b.getConfig().temporaryStorage};LogUploadController.prototype.getUploadConfig=function(){return o.b.getConfig().upload};LogUploadController.prototype.getPersistentConfig=function(){return o.b.getConfig().persistent.markedLog};LogUploadController.prototype._saveLogsTemporary=function(){if(!this.getTemporaryStorageConfig().enable||!this.getPersistentConfig().enable||!this.getUploadConfig().enable)return;var e=this._runtimeDataSource.getLogs(o.b.getConfig().temporaryStorage.maxSize).items;oe.log("save log to temporary.");var t=h.k.performance();this._logSyncDao.put(logToPersistent(e));t.end({key:q.SAVE_TO_STORAGE,level:r.LOG_CONTROL_LEVEL.NORMAL})};LogUploadController.prototype._cleanExpireLogs=function(){this._cleanerController.start()};LogUploadController.prototype._uploadRuntimeLog=function(){return ne(this,void 0,void 0,(function(){var e,t,n,o,i;return re(this,(function(a){switch(a.label){case 0:e=this._runtimeDataSource.getLogs(this.getUploadConfig().singleRequestMaxSize),t=e.items,n=e.range;if(!t.length){return[2]}oe.log("upload runtime logs => range",(0,G.QY)(n));if(r.DebugUtils.isDebugMode()){oe.debug("upload logs: ",(0,G.IW)(t))}o=logToPersistent(t);a.label=1;case 1:a.trys.push([1,3,,7]);return[4,this._uploadTransport.upload(o)];case 2:a.sent();this._runtimeDataSource.deleteLogs(n);return[3,7];case 3:i=a.sent();this._updateNextUploadTime();oe.log("upload runtime logs fail.",i);if(!this.getPersistentConfig().enable)return[3,5];oe.log("fallback to save runtime logs to DB.");return[4,this._saveRuntimeLog()];case 4:a.sent();return[3,6];case 5:throw i;case 6:return[3,7];case 7:return[2]}}))}))};LogUploadController.prototype._uploadDBLog=function(){return ne(this,void 0,void 0,(function(){var e,t,n,r,o,i;return re(this,(function(a){switch(a.label){case 0:e=this._markedLogDBSource.getLogs(this.getUploadConfig().singleRequestMaxSize),t=e.items,n=e.range;oe.log("upload DB logs => range",(0,G.QY)(n));if(!t.length){return[2]}return[4,this._logDao.batchGet(t.map((function(e){return e.id})))];case 1:r=a.sent();if(!r.length){this._lastPersistentLog=undefined;this._markedLogDBSource.deleteLogs(n);oe.log("!cannot find sanitize log mapping, delete it");return[2]}o=mergePersistentLogs(r);a.label=2;case 2:a.trys.push([2,5,,6]);return[4,this._uploadTransport.upload(o)];case 3:a.sent();return[4,this._logDao.bulkDelete(r.map((function(e){return e.id})))];case 4:a.sent();this._lastPersistentLog=undefined;this._markedLogDBSource.deleteLogs(n);return[3,6];case 5:i=a.sent();oe.log("upload db log fail.",i);this._updateNextUploadTime();throw i;case 6:return[2]}}))}))};LogUploadController.prototype._updateNextUploadTime=function(){this._nextUploadTime=Date.now()+30*1e3};LogUploadController.prototype._saveTemporaryLog=function(){return ne(this,void 0,void 0,(function(){var e,t,n,o;return re(this,(function(i){switch(i.label){case 0:e=h.k.performance();t=this._temporaryDataSource.getLogs(this.getTemporaryStorageConfig().maxSize),n=t.items,o=t.range;if(!n.length){return[2]}oe.log("save temporary log to DB",(0,G.QY)(o));return[4,this._logDao.bulkPut(n).catch(handleCatchDBError)];case 1:i.sent();this._markedLogDBSource.appendItems(n.map((function(e){return a().omit(e,"messages")})));this._temporaryDataSource.deleteLogs(o);e.end({key:q.MOVE_TEMPORARY_LOG_TO_DB,level:r.LOG_CONTROL_LEVEL.NORMAL,infos:{size:a().sumBy(n,(function(e){return e.size}))}});return[2]}}))}))};LogUploadController.prototype._saveRuntimeLog=function(){return ne(this,void 0,void 0,(function(){var e,t,n,o,i,u;return re(this,(function(s){switch(s.label){case 0:e=this._runtimeDataSource.getLogs(this.getPersistentConfig().singleRecordMaxSize),t=e.items,n=e.range;if(!t.length){return[2]}oe.log("save runtime marked log to DB",(0,G.QY)(n));o=h.k.performance();i=logToPersistent(t);u=mergePersistentLog({maxSize:this.getPersistentConfig().singleRecordMaxSize},i,this._lastPersistentLog);return[4,this._logDao.put(u).catch(handleCatchDBError)];case 1:s.sent();this._lastPersistentLog=u;if(i.id===u.id){this._markedLogDBSource.appendItems([a().omit(i,"messages")])}this._runtimeDataSource.deleteLogs(n);o.end({key:q.SAVE_RUNTIME_LOG,level:r.LOG_CONTROL_LEVEL.NORMAL,infos:{size:u.size}});return[2]}}))}))};return LogUploadController}(J);var ue=n(514206);var se=n.n(ue);var ce=n(302186);var le=n(963786);var fe=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var de=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(fe(arguments[t]));return e};var pe=function(){function ErrorChunkStrategy(){}ErrorChunkStrategy.prototype._getLogLines=function(e,t,n,r){var o=[];var i=r?-1:1;var u=0;for(var s=t;r?s>0:s<e.length;s+=i){var c=e[s];var l=(0,G.Kb)(c);var f=c.size+2;if(u+f>n){break}u+=f;o.push(l)}return[u,r?a().reverse(o):o]};ErrorChunkStrategy.prototype.split=function(e,t){var n=a().findIndex(e,(function(e){return e.level>=r.LOG_LEVEL.ERROR}))||0;var o=fe(this._getLogLines(e,n,t,true),2),i=o[0],u=o[1];var s=fe(this._getLogLines(e,n+1,t-i,false),2),c=s[1];var l=de(u,c);return l.length?[""+l.join("")]:[]};return ErrorChunkStrategy}();var he=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ve=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var ge=function(){function DeflateWorker(){var e=this;this._workerInstanceManager=new r.WorkerInstanceManger((function(){return he(e,void 0,void 0,(function(){var e;return ve(this,(function(t){switch(t.label){case 0:e=G.ez;return[4,n.e(3735).then(n.bind(n,123735))];case 1:return[2,e.apply(void 0,[t.sent()])]}}))}))}))}DeflateWorker.prototype.deflate=function(e,t){return he(this,void 0,Promise,(function(){var n;return ve(this,(function(r){switch(r.label){case 0:return[4,this._workerInstanceManager.getWorkerAPI()];case 1:n=r.sent();return[2,n.deflate(e,t)]}}))}))};DeflateWorker.prototype.inflate=function(e,t){return he(this,void 0,Promise,(function(){var n;return ve(this,(function(r){switch(r.label){case 0:return[4,this._workerInstanceManager.getWorkerAPI()];case 1:n=r.sent();return[2,n.inflate(e,t)]}}))}))};return DeflateWorker}();var _e=n(598757);var ye=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var be=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var Ce="service@glip.com";var me=function(){function SumologicLogUploader(e){var t=this;this._chunkSplitStrategy=e;this._zipMessage=function(e){return t._deflateWorker.deflate(e,{level:9})};if(!this._chunkSplitStrategy){this._chunkSplitStrategy=new pe}this._deflateWorker=new ge}SumologicLogUploader.prototype.isEnable=function(){return _e.Po.getConfig().enable};SumologicLogUploader.prototype.upload=function(e){return ye(this,void 0,Promise,(function(){var t,n,o,i,a,u,s,c,l,f,d,p,v,g,_,y,b,C,m,S,E,I,w,R,P,A,T,O,N,x,D;return be(this,(function(M){switch(M.label){case 0:t=_e.Po.getConfig();if(!t.enable){h.k.info("sumologic is disabled");return[2]}return[4,this._getUserInfo()];case 1:n=M.sent();o=e.sessionId;i=""+t.server+t.uniqueHttpCollectorCode;a=n.email,u=a===void 0?Ce:a,s=n.userId,c=s===void 0?"":s;l=ce.Pal.instance.getApplicationInfo(),f=l.appVersion,d=f===void 0?"":f,p=l.platform,v=p===void 0?"":p,g=l.os,_=g===void 0?"":g,y=l.env,b=y===void 0?"":y,C=l.browser,m=C===void 0?"":C;S=ce.Pal.instance.getPlatformUtils().getVersionInfo(),E=S.isElectron,I=S.electronVersion,w=S.electronAppVersion;R=window.location.host;P=v+"/"+d+"("+(E?I+"-"+w:"NA")+")/"+m+"/"+_+"/"+b+"/"+u+"/"+c+"/"+o+"/"+R;A={"Content-Encoding":"deflate","X-Sumo-Name":P,"Content-Type":"application/json"};if(r.DebugUtils.isDebugMode()){delete A["Content-Encoding"]}T=this.transform(e.messages);N=(O=se()).post;x=[i];if(!r.DebugUtils.isDebugMode())return[3,2];D=T;return[3,4];case 2:return[4,this._zipMessage(T)];case 3:D=M.sent();M.label=4;case 4:return[4,N.apply(O,x.concat([D,{headers:A}]))];case 5:M.sent();return[2]}}))}))};SumologicLogUploader.prototype.errorHandler=function(e){h.k.debug("Log upload fail",e);var t=e.response;if(!t){h.k.debug("Log errorHandler: abortAll");return"abortAll"}if(this._canRetry(t)){h.k.debug("Log errorHandler: retry");return"retry"}h.k.debug("Log errorHandler: ignore=>retry");ce.Pal.instance.getErrorReporter()&&ce.Pal.instance.getErrorReporter().report(e);return"retry"};SumologicLogUploader.prototype.transform=function(e){return e.map(G.Ql).join("")};SumologicLogUploader.prototype._getUserInfo=function(){return ye(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return be(this,(function(u){switch(u.label){case 0:u.trys.push([0,2,,3]);return[4,(0,le.x6)().getUserInfo()];case 1:e=u.sent();return[3,3];case 2:t=u.sent();h.k.debug("getUserInfo fail",t);return[3,3];case 3:n=e||{},r=n.email,o=r===void 0?Ce:r,i=n.uniqueId,a=i===void 0?(0,I.getUUID)():i;return[2,{email:o,userId:a}]}}))}))};SumologicLogUploader.prototype._canRetry=function(e){return[r.RESPONSE_STATUS_CODE.TOO_MANY_REQUESTS,r.RESPONSE_STATUS_CODE.SERVICE_UNAVAILABLE,r.RESPONSE_STATUS_CODE.GATEWAY_TIME_OUT].includes(e.status)};return SumologicLogUploader}();var Se=n(108725);var Ee=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Ie=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var we=h.k.tags("[EDCLogUploader]");var Re=function(){function EDCLogUploader(){}EDCLogUploader.prototype._ensureInit=function(){if(!this._inited&&(0,I.getCurrentAccount)()){var e=new I.ResponseParser;e.register(new I.CommonResponseParser);this._networkClient=new I.NetworkClient({handlerName:I.CustomNetworkHandlerConfig.handlerName,host:I.apiConfiguration.getConfig().rc.edcHost,pathPrefix:I.apiConfiguration.getConfig().rc.edcPath},r.NETWORK_VIA.HTTP,(0,I.getCurrentAccount)().context.networkManager,e);this._transformer=new Se.Ve({userID:(0,I.getCurrentAccount)().getUniqueId(),companyID:(0,I.getCurrentAccount)().getUniqueOrganizationId()});this._inited=true}return Boolean(this._inited)};EDCLogUploader.prototype.isEnable=function(){return Boolean(this._ensureInit())};EDCLogUploader.prototype.upload=function(e){return Ee(this,void 0,Promise,(function(){var t,n;var o;return Ie(this,(function(i){switch(i.label){case 0:this._ensureInit();t=(0,r.foundationPerformanceTracer)(undefined,we);n=this._formatPersistentLog(e);return[4,this._networkClient.post({authFree:true,path:r.RequestPath.buildRequestPath(""),via:r.NETWORK_VIA.HTTP,data:[n],retryCount:Number.MAX_SAFE_INTEGER,headers:(o={},o[r.X_USER_AGENT]=ce.Pal.instance.getPlatformUtils().buildUserAgentForHttp(),o)})];case 1:i.sent();t.end({key:_e.sP.UPLOAD_LOG_TO_EDC,level:r.LOG_CONTROL_LEVEL.HIGH});return[2]}}))}))};EDCLogUploader.prototype._formatPersistentLog=function(e){var t=e.messages,n=e.sessionId,o=e.size,i=e.startTime,a=e.endTime,u=e.id;var s=new r.BaseEvent(r.EVENT_DATA_TYPE.Log,"StreamLog",{messages:t,sessionId:n,size:o,startTime:i,endTime:a,id:u});var c=this._transformer.transform(s.getEventData());return c};return EDCLogUploader}();var Pe=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Ae=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var Te=function(e){Pe(UploadLogQueue,e);function UploadLogQueue(t,n){if(n===void 0){n={}}var r=e.call(this,t,n)||this;r.sortFunc=function(e,t){if(e.sessionId!==t.sessionId){return L.jj.compareString(e.sessionId,t.sessionId)}return e.sessionIndex-t.sessionIndex};r._unMarkedQueue=new W([],a().pick(n,"getLimit"));return r}UploadLogQueue.prototype._matchLogs=function(e){var t=this;return e.reduce((function(e,n){var r=Ae(e,2),o=r[0],i=r[1];if(t.isMatch(n)){o.push(n)}else{i.push(n)}return e}),[[],[]])};UploadLogQueue.prototype.addHead=function(t){if(this.isMatch(t)){e.prototype.addTail.call(this,t)}else{this._unMarkedQueue.addHead(t)}};UploadLogQueue.prototype.addTails=function(t){var n=Ae(this._matchLogs(t),2),r=n[0],o=n[1];e.prototype.addTails.call(this,r);this._unMarkedQueue.addTails(o)};UploadLogQueue.prototype.addTail=function(t){if(this.isMatch(t)){e.prototype.addTail.call(this,t)}else{this._unMarkedQueue.addTail(t)}};UploadLogQueue.prototype.isMatch=function(e){return this._matcher?this._matcher.isMatch(e):false};UploadLogQueue.prototype.setMatcher=function(e){this._matcher=e;this.rematchLogs()};UploadLogQueue.prototype.rematchLogs=function(t){var n=this;var r=this._unMarkedQueue.peekAll();var o=[];var i=[];var a=t?function(e){return t.isMatch(e)||n.isMatch(e)}:function(e){return n.isMatch(e)};r.forEach((function(e){if(a(e)){i.push(e)}else{o.push(e)}}));this._unMarkedQueue.addTails(o);e.prototype.addTails.call(this,i)};return UploadLogQueue}(W);var Oe=n(940641);var Ne="*";var xe={LEVEL:"level",MODULE:"module",TAGS:"tags"};var De=h.k.tags("[LogMatcher]");var Me=function(){function LogMatchers(e,t){this.name=e;this._matchers=t}LogMatchers.prototype.isMatch=function(e){return!!(this._matchers&&a().some(this._matchers,(function(t){return t.isMatch(e)})))};LogMatchers.prototype.updateMatchers=function(e){this._matchers=e};return LogMatchers}();var ke=function(){function DefaultLogMatcher(){var e=this;this._wildcardMatcher={isMatch:function(){return true}};this._levelMatcher=new Me(xe.LEVEL);this._userMatcher=new Oe.bZ;this._moduleMatcher=new Me(xe.MODULE);this._tagsMatcher=new Me(xe.TAGS);this._matcher=new Oe.Os((function(t){var n=t.or;return n(e._userMatcher,e._levelMatcher,e._moduleMatcher,e._tagsMatcher)}))}DefaultLogMatcher.prototype.applyConfig=function(e){var t=this;var n=e.allLog,o=e.logLevels,i=o===void 0?[]:o,u=e.logTags,s=u===void 0?[]:u,c=e.modules,l=c===void 0?[]:c;De.info("apply log matchRule:",e);this._userMatcher.isUserAllowed=n===true;this._levelMatcher.updateMatchers(i.map((function(e){if(e===Ne){return t._wildcardMatcher}if(a().isNumber(e)){return new Oe.kD(Number(e))}return new Oe.kD(r.LOG_LEVEL[e.toUpperCase()])})));var f=a().some(s,(function(e){return a().isString(e)&&e===Ne}));if(f){this._tagsMatcher.updateMatchers([this._wildcardMatcher])}else{this._tagsMatcher.updateMatchers([new Oe.rY(s)])}var d=a().some(l,(function(e){return e===Ne}));if(d){this._moduleMatcher.updateMatchers([this._wildcardMatcher])}else{this._moduleMatcher.updateMatchers([new Oe.qZ(l)])}};DefaultLogMatcher.prototype.isMatch=function(e){return this._matcher.isMatch(e)};return DefaultLogMatcher}();var Le="NO_INJECT_ERROR";var Fe="Network Error";var Ue="\n";var Be={SUMOLOGIC:"SUMOLOGIC",EDC:"EDC"};var Ge=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var je=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var He=function(){function UploadCollector(e){var t=this;this._uploadAccessor=e;this._uploaderMap=new Map;this._logUploaderProxy={upload:function(e){return Ge(t,void 0,void 0,(function(){return je(this,(function(t){switch(t.label){case 0:return[4,this._getUploader().upload(e)];case 1:t.sent();return[2]}}))}))},isEnable:function(){return t._getUploader().isEnable()}};this._matchRuleObserver={getter:function(e){return e.upload.matchRule},callback:function(e){return t._applyMatchRule(e.upload.matchRule)}};this._markedQueue=new Te([],{getLimit:function(){return o.b.getConfig().memory.maxSize},getNotifySize:function(){return o.b.getConfig().upload.triggerSize},isEqual:function(e,t){return e.sessionIndex===t.sessionIndex&&e.sessionId===t.sessionId&&e.timestamp===t.timestamp}});this._defaultLogMatcher=new ke;this._setLogMatcher(this._defaultLogMatcher)}UploadCollector.prototype._getUploader=function(){var e=o.b.getConfig().upload.endpoint||Be.EDC;if(!this._uploaderMap.has(e)){if(e===Be.SUMOLOGIC){this._uploaderMap.set(e,new me);h.k.info("use SUMOLOGIC uploader")}else{this._uploaderMap.set(e,new Re);h.k.info("use EDC uploader")}}return this._uploaderMap.get(e)};UploadCollector.prototype._initPersistentController=function(e){return Ge(this,void 0,void 0,(function(){return je(this,(function(t){switch(t.label){case 0:return[4,(0,r.sleep)(o.b.getConfig().persistent.markedLog.initDelay)];case 1:t.sent();if(!this._isInit){return[2]}this._logUploadController=new ae(this,e,this._logUploaderProxy,this._uploadAccessor);this._logUploadController.load();return[2]}}))}))};UploadCollector.prototype.load=function(e){this._isInit=true;o.b.addConfigObserver(this._matchRuleObserver);this._initPersistentController(e);this._applyMatchRule(o.b.getConfig().upload.matchRule)};UploadCollector.prototype._applyMatchRule=function(e){this._defaultLogMatcher.applyConfig(e);this.rematchLogs()};UploadCollector.prototype.unload=function(){this._isInit=false;this._logUploadController&&this._logUploadController.unload();o.b.removeConfigObserver(this._matchRuleObserver)};UploadCollector.prototype.onLog=function(e){this._markedQueue.addTail(e)};UploadCollector.prototype.flush=function(){this._logUploadController&&this._logUploadController.flush()};UploadCollector.prototype.rematchLogs=function(e){this._markedQueue.rematchLogs(e)};UploadCollector.prototype._setLogMatcher=function(e){this._markedQueue.setMatcher(e)};UploadCollector.prototype.getAll=function(){return this._markedQueue.getAll()};UploadCollector.prototype.getLogs=function(e){return this._markedQueue.getLogs(e)};UploadCollector.prototype.deleteLogs=function(e){return this._markedQueue.deleteLogs(e)};UploadCollector.prototype.isConditionMeet=function(){return this._markedQueue.isConditionMeet()};UploadCollector.prototype.subscribe=function(e){return this._markedQueue.subscribe(e)};UploadCollector.prototype.unsubscribe=function(e){return this._markedQueue.unsubscribe(e)};return UploadCollector}();var Ve=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var We=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ze=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var Ye=h.k.tags("[LogPersistentController]");var qe=function(e){Ve(LogPersistentController,e);function LogPersistentController(t,n,r){var i=e.call(this)||this;i._runtimeDataSource=t;i._logDao=n;i._memoryZipItemProvider=r;i._logSyncDao=new M;i._temporaryDataSource=new z(i._logSyncDao,(function(){return o.b.getConfig().persistent.historyLog.maxSize}));i.processors=[{isEnable:function(){return i.getPersistentConfig().enable},supportInterval:false,provider:i._runtimeDataSource,handler:function(){return i._saveRuntimeLog()}},{isEnable:function(){return i.getTemporaryStorageConfig().enable},provider:i._temporaryDataSource,handler:function(){return i._saveTemporaryLog()}}];i._runtimeDataSource.setOnLimitReach((function(){i._zipMemoryLog()}));i._cleanerController=new l((function(){Ye.log("clean done.")}));i._cleanerController.addCleaner(new E(i._logSyncDao,{getMaxSize:function(){return o.b.getConfig().temporaryStorage.maxSize},getAliveHours:function(){return o.b.getConfig().temporaryStorage.aliveHours}}));i._cleanerController.addCleaner(new b(i._logDao,{getMaxSize:function(){return o.b.getConfig().persistent.historyLog.maxSize},getAliveHours:function(){return o.b.getConfig().persistent.historyLog.aliveHours}}));return i}LogPersistentController.prototype.onLoad=function(){this._temporaryDataSource.init();this.schedulePeriodicJob($.LOG_PERSISTENT_CLEANUP,Ye,o.b.getConfig().persistent.cleanIntervalHours*60*60)};LogPersistentController.prototype.periodicJob=function(){this._cleanExpireLogs();return Promise.resolve()};LogPersistentController.prototype.onUnload=function(){this.cancelSchedulePeriodicJob($.LOG_PERSISTENT_CLEANUP)};LogPersistentController.prototype.beforeUnload=function(){this._saveLogsTemporary()};LogPersistentController.prototype.isEnable=function(){return true};LogPersistentController.prototype.getProcessors=function(){return this.processors};LogPersistentController.prototype.getTemporaryStorageConfig=function(){return o.b.getConfig().temporaryStorage};LogPersistentController.prototype.getPersistentConfig=function(){return o.b.getConfig().persistent.historyLog};LogPersistentController.prototype._saveLogsTemporary=function(){if(!this.getTemporaryStorageConfig().enable||!this.getPersistentConfig().enable)return;Ye.log("will save log to temporary.");var e=this._runtimeDataSource.getLogs(o.b.getConfig().temporaryStorage.maxSize).items;var t=h.k.performance();this._logSyncDao.put(logToPersistent(e));t.end({key:q.SAVE_TO_STORAGE,level:r.LOG_CONTROL_LEVEL.NORMAL})};LogPersistentController.prototype._cleanExpireLogs=function(){this._cleanerController.start()};LogPersistentController.prototype._saveRuntimeLog=function(){return We(this,void 0,void 0,(function(){var e,t,n,i,a;return ze(this,(function(u){switch(u.label){case 0:e=this._runtimeDataSource.getLogs(this.getPersistentConfig().singleRecordMaxSize),t=e.items,n=e.range;Ye.log("save runtime history log to DB",(0,G.QY)(n));if(!t.length){return[2]}i=h.k.performance();a=mergePersistentLog({maxSize:o.b.getConfig().persistent.historyLog.singleRecordMaxSize},logToPersistent(t),this._lastPersistentLog);return[4,this._logDao.put(a).catch(handleCatchDBError)];case 1:u.sent();this._lastPersistentLog=a;this._runtimeDataSource.deleteLogs(n);i.end({key:q.SAVE_RUNTIME_LOG,level:r.LOG_CONTROL_LEVEL.NORMAL,infos:{size:a.size}});return[2]}}))}))};LogPersistentController.prototype._saveTemporaryLog=function(){return We(this,void 0,void 0,(function(){var e,t,n,o;return ze(this,(function(i){switch(i.label){case 0:e=h.k.performance();t=this._temporaryDataSource.getLogs(this.getPersistentConfig().singleRecordMaxSize),n=t.items,o=t.range;if(!n.length){return[2]}Ye.log("save temporary log to DB",(0,G.QY)(o));return[4,this._logDao.bulkPut(n).catch(handleCatchDBError)];case 1:i.sent();this._temporaryDataSource.deleteLogs(o);e.end({key:q.MOVE_TEMPORARY_LOG_TO_DB,level:r.LOG_CONTROL_LEVEL.NORMAL,infos:{size:a().sumBy(n,(function(e){return e.size}))}});return[2]}}))}))};LogPersistentController.prototype._zipMemoryLog=function(){if(!this.getPersistentConfig().enable){var e=this._runtimeDataSource.getLogs(Number.MAX_VALUE),t=e.items,n=e.range;this._runtimeDataSource.deleteLogs(n);this._memoryZipItemProvider.addZip(t);Ye.log("zip runtime history log",(0,G.QY)(n))}};return LogPersistentController}(J);var Ke=n(858413);var Qe=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Ze=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var Xe=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var Je=function(){function HistoryLogZipItemProvider(){var e=this;this.name="HistoryLogZipItemProvider";this.level=Ke.q.NORMAL;this.getZipItems=function(){return Qe(e,void 0,void 0,(function(){var e,t,n,r,i,u,s,c,l;return Ze(this,(function(f){switch(f.label){case 0:if(!this.dao){return[2,[]]}e=[];if(!o.b.getConfig().persistent.doubleCheckMaxSize)return[3,4];r=(n=this.dao.getLogViewDao()).getByUserId;return[4,(0,G.Ki)()];case 1:return[4,r.apply(n,[f.sent()])];case 2:t=f.sent();i=o.b.getConfig().persistent.historyLog.maxSize;u=[];s=false;a().reduceRight(t,(function(e,t){if(s)return e;if(e+t.size>i){s=true;return e}u.push(t);return e+t.size}),0);return[4,this.dao.batchGet(u.reverse().map((function(e){return e.id})))];case 3:e=f.sent();return[3,7];case 4:l=(c=this.dao).getByUserId;return[4,(0,G.Ki)()];case 5:return[4,l.apply(c,[f.sent()])];case 6:e=f.sent();f.label=7;case 7:return[2,Object.entries(a().groupBy(e,(function(e){return e.sessionId}))).map((function(e){var t=Xe(e,2),n=t[0],r=t[1];return{type:".log",folder:"HistoryLog",name:n,content:a().flatMap(r,(function(e){return e.messages})).join("\n")}}))]}}))}))}}HistoryLogZipItemProvider.prototype.setHistoryLogDao=function(e){this.dao=e};return HistoryLogZipItemProvider}();var $e=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var et=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var tt="AMQqm7fiSTkC6TGrB15Yhz";var nt=1;var rt=3e3;var ot=function(){function ZipConsumer(e,t){this.zipProducer=e;this.onUploaded=t;this.count=0;this.uploadMap=new Map;this._uploadClient=null}ZipConsumer.prototype._getUploadClient=function(){return $e(this,void 0,void 0,(function(){var e,t;return et(this,(function(r){switch(r.label){case 0:e=_e.Gt.getConfig();if(!e.enable){h.k.info("filestack is disabled");return[2]}if(!!this._uploadClient)return[3,2];return[4,n.e(4361).then(n.bind(n,195925))];case 1:t=r.sent().init;this._uploadClient=t(tt);r.label=2;case 2:return[2,this._uploadClient]}}))}))};ZipConsumer.prototype.consume=function(e){return $e(this,void 0,void 0,(function(){var t,n,r,i,a;var u=this;return et(this,(function(s){switch(s.label){case 0:if(this.count>=nt||!o.b.getConfig().zipLogAutoUpload){return[2]}t=e||this.zipProducer.produce();if(!t)return[3,5];this.count+=1;this.uploadMap.set(t.index,t);return[4,this._getUploadClient()];case 1:n=s.sent();r=n&&n["init"](tt);if(!r){h.k.debug("fileStackClient is undefined");return[2]}s.label=2;case 2:s.trys.push([2,4,,5]);return[4,r.upload(t.blob,undefined,{filename:t.name+".zip"})];case 3:i=s.sent();this.uploadMap.delete(t.index);this.onUploaded({fileId:i.handle,index:t.index,url:i.url});this.count-=1;this.consume();return[3,5];case 4:a=s.sent();setTimeout((function(){u.count-=1;u.consume(t)}),rt);return[3,5];case 5:return[2]}}))}))};ZipConsumer.prototype.getUploading=function(){var e=[];this.uploadMap.forEach((function(t){e.push(t)}));return e};return ZipConsumer}();var it=n(148068);var at=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ut=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var st=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var ct=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(st(arguments[t]));return e};var lt=5;var ft=function(){function ZipLogZipItemProvider(){var e=this;this.name="ZipLogZipItemProvider";this.level=Ke.q.NORMAL;this.zips=[];this.index=0;this.uploaded=[];this.worker=new it.s;this.limit=lt;this.getZipItems=function(){return at(e,void 0,void 0,(function(){var e,t;return ut(this,(function(n){e=ct(this.zipConsumer.getUploading(),this.zips).map((function(e){return{type:".zip",name:e.name,folder:"zip",content:e.blob}}));t=this.uploaded.map((function(e){return"index: "+e.index+"\nfileId: "+e.fileId+"\nurl: "+e.url})).join("\n");t&&e.push({type:".txt",name:"UploadedZip",folder:"zip",content:t});return[2,e]}))}))};this.addZip=function(t){return at(e,void 0,void 0,(function(){var e,n,o,i,a;return ut(this,(function(u){switch(u.label){case 0:if(!Array.isArray(t)||!t.length)return[2];e=this.index;this.index+=1;n="RC_LOG_"+r.SessionManager.getInstance().getSessionId()+"_"+e;o=t.map((function(e){return e.message})).join("\n");i=[{type:".txt",name:"RecentLogs-"+e,content:o}];return[4,this.worker.zip(i)];case 1:a=u.sent();this.zips.push({index:e,name:n,blob:a});if(this.zips.length>this.limit){this.zips.shift()}this.zipConsumer.consume();return[2]}}))}))};this.zipConsumer=new ot(this,(function(t){e.uploaded.push(t)}))}ZipLogZipItemProvider.prototype.produce=function(){return this.zips.shift()||null};return ZipLogZipItemProvider}();var dt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var pt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var ht=function(){function MemoryCollector(){var e=this;this._collection=new W([],{getLimit:function(){return o.b.getConfig().memory.maxSize},getNotifySize:function(){return o.b.getConfig().persistent.historyLog.triggerSize},isEqual:function(e,t){return e.sessionIndex===t.sessionIndex&&e.sessionId===t.sessionId&&e.timestamp===t.timestamp},onLimitReach:function(){return e._onLimitReach()}});this._DBZipItemProvider=new Je;this._memoryZipItemProvider=new ft;this._setUid()}MemoryCollector.prototype.load=function(e){this._isInit=true;this._initPersistentController(e)};MemoryCollector.prototype.unload=function(){this._isInit=false;this._persistentController&&this._persistentController.unload()};MemoryCollector.prototype._setUid=function(){return dt(this,void 0,void 0,(function(){var e;return pt(this,(function(t){switch(t.label){case 0:return[4,(0,G.Ki)()];case 1:e=t.sent();this._collection.getAll().forEach((function(t){t.userId=e}));return[2]}}))}))};MemoryCollector.prototype._initPersistentController=function(e){return dt(this,void 0,void 0,(function(){return pt(this,(function(t){switch(t.label){case 0:return[4,(0,r.sleep)(o.b.getConfig().persistent.historyLog.initDelay)];case 1:t.sent();if(!this._isInit)return[2];this._DBZipItemProvider.setHistoryLogDao(e);this._persistentController=new qe(this,e,this._memoryZipItemProvider);this._persistentController.load();return[2]}}))}))};MemoryCollector.prototype.setOnLimitReach=function(e){this._onLimitReachHandler=e};MemoryCollector.prototype._onLimitReach=function(){this._onLimitReachHandler&&this._onLimitReachHandler()};MemoryCollector.prototype.onLog=function(e){if(this.isDispatchedToElectron()){return}this._collection.addTail(e)};MemoryCollector.prototype.isDispatchedToElectron=function(){return ce.Pal.instance.getPlatformUtils().isElectron()&&o.b.getConfig().electronWebLogEnable};MemoryCollector.prototype.getDBZipItemProvider=function(){return this._DBZipItemProvider};MemoryCollector.prototype.getMemoryZipItemProvider=function(){return this._memoryZipItemProvider};MemoryCollector.prototype.getAll=function(){return this._collection.getAll()};MemoryCollector.prototype.getLogs=function(e){return this._collection.getLogs(e)};MemoryCollector.prototype.deleteLogs=function(e){return this._collection.deleteLogs(e)};MemoryCollector.prototype.isConditionMeet=function(){return this._collection.isConditionMeet()};MemoryCollector.prototype.subscribe=function(e){return this._collection.subscribe(e)};MemoryCollector.prototype.unsubscribe=function(e){return this._collection.unsubscribe(e)};return MemoryCollector}();var vt="DISPATCH_WEB_LOG_EVENT";var gt=function(){function ElectronWebLogDispatcher(e){var t=this;this.dispatchLog=function(e){t._memoryQueue.addTail(e);t.scheduleTimerToDispatchLogEntities()};this.dispatchLogs=function(e){t._memoryQueue.addTails(e);t.scheduleTimerToDispatchLogEntities()};this._strategySendConfig=e;this._memoryQueue=new j;this._isTimerScheduled=false}ElectronWebLogDispatcher.prototype.updateDispatchConfig=function(e){this._strategySendConfig=e};ElectronWebLogDispatcher.prototype.scheduleTimerToDispatchLogEntities=function(){var e=this;if(this._isTimerScheduled){return}this._isTimerScheduled=true;setTimeout((function(){e._dispatchLog()}),this._strategySendConfig.intervalTime)};ElectronWebLogDispatcher.prototype._dispatchLog=function(){var e=this.getMaxLogEntitiesOnce();if(e.length>0){this._dispatchLogEntities(e)}this._isTimerScheduled=false;if(this._memoryQueue.size()>0){this.scheduleTimerToDispatchLogEntities()}};ElectronWebLogDispatcher.prototype.getMaxLogEntitiesOnce=function(){var e=[];var t=this._memoryQueue.size();var n=0;for(var r=0;r<t&&r<this._strategySendConfig.maxArraySize;++r){var o=this._memoryQueue.getHead();n+=o.size;if(n>this._strategySendConfig.maxTotalBytes){n-=o.size;if(e.length===0){var i=this._memoryQueue.peekHead();var u=a().cloneDeep(i);u.message=u.message.slice(0,this._strategySendConfig.maxTotalBytes);u.size=u.message.length;n+=u.size;e.push(u)}break}e.push(this._memoryQueue.peekHead())}return e};ElectronWebLogDispatcher.prototype._dispatchLogEntities=function(e){var t;if(e.length>0){(t=ce.Pal.instance.getIpc())===null||t===void 0?void 0:t.asyncSend(vt,e)}};return ElectronWebLogDispatcher}();var _t=2*1024*1024;var yt={maxArraySize:500,maxTotalBytes:_t,intervalTime:100};var bt=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var Ct=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bt(arguments[t]));return e};var mt=500*1024;var St=function(){function ElectronWebLogCollector(){var e=this;this._logBuffer=new W([],{getLimit:function(){return mt}});this._handlePermissionChange=function(t){var n=t===null||t===void 0?void 0:t.electronWebLog;if(n){var r=yt;if(n.interval){r.intervalTime=n.interval}if(n.maxCount){r.maxArraySize=n.maxCount}if(n.maxKB){r.maxTotalBytes=n.maxKB*1024}e._dispatchElectronController.updateDispatchConfig(r)}};this._logConfigObserver={getter:function(e){return e.electronWebLog},callback:function(t){return e._handlePermissionChange(t)}};this._subscribeNotifications();this._dispatchElectronController=new gt(yt)}ElectronWebLogCollector.prototype.onLog=function(e){var t;if((t=o.b.getConfig().electronWebLog)===null||t===void 0?void 0:t.enable){if(this._logBuffer.size()){this._dispatchElectronController.dispatchLogs(Ct(this._logBuffer.peekAll(),[e]))}else{this._dispatchElectronController.dispatchLog(e)}}else{this._logBuffer.addTail(e)}};ElectronWebLogCollector.prototype._subscribeNotifications=function(){o.b.addConfigObserver(this._logConfigObserver)};return ElectronWebLogCollector}();var Et=function(){function PersistentCollector(e){this._logPersistence=e}PersistentCollector.prototype.onLog=function(e){if(e.type!==r.LOG_CUSTOM_TYPE.TYPE_PERSISTENT){return}this._logPersistence.addLog(e)};return PersistentCollector}()},940641:(e,t,n)=>{"use strict";n.d(t,{Os:()=>c,rY:()=>l,kD:()=>r,qZ:()=>a,Oo:()=>f,bZ:()=>u});var r=function(){function LevelMatcher(e){this.level=e}LevelMatcher.prototype.isMatch=function(e){return e.level===this.level};return LevelMatcher}();var o=n(947465);var i=n.n(o);var a=function(){function ModuleMatcher(e){this._moduleName=e}ModuleMatcher.prototype.setModule=function(e){this._moduleName=e};ModuleMatcher.prototype.isMatch=function(e){if(!this._moduleName)return false;var t=i().first(e.tags);if(!t)return false;return Array.isArray(this._moduleName)?this._moduleName.includes(t):this._moduleName===t};return ModuleMatcher}();var u=function(){function UserMatcher(){}UserMatcher.prototype.isMatch=function(){return!!this.isUserAllowed};return UserMatcher}();var s={self:function(e){return e},and:function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return{isMatch:function(t){return i().every(e,(function(e){return e.isMatch(t)}))}}},or:function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return{isMatch:function(t){return i().some(e,(function(e){return e.isMatch(t)}))}}}};var c=function(){function ComposableMatcher(e){e&&this.compile(e)}ComposableMatcher.prototype.isMatch=function(e){return this._matcherCore?this._matcherCore.isMatch(e):false};ComposableMatcher.prototype.compile=function(e){this._matcherCore=e(s);return this};return ComposableMatcher}();var l=function(){function ContainTagMatcher(e){this.tags=e}ContainTagMatcher.prototype.isAnyInclude=function(e,t,n){if(n===void 0){n=0}var r=t[n];var o;if(Array.isArray(r)){o=this.isAllInclude(e,r)}else{o=e.includes(r)}if(o){return true}return n>=t.length-1?false:this.isAnyInclude(e,t,n+1)};ContainTagMatcher.prototype.isAllInclude=function(e,t,n){if(n===void 0){n=0}if(e.includes(t[n])){return n>=t.length-1?true:this.isAllInclude(e,t,n+1)}return false};ContainTagMatcher.prototype.updateTags=function(e){this.tags=e};ContainTagMatcher.prototype.isMatch=function(e){return this.isAnyInclude(e.tags,this.tags)};return ContainTagMatcher}();var f=function(){function SessionLogMatcher(e,t,n){this.sessionId=e;this.sessionIndex=t;this.sessionTimestamp=n}SessionLogMatcher.prototype.isMatch=function(e){return e.sessionIndex===this.sessionIndex&&e.sessionId===this.sessionId&&e.timestamp>=this.sessionTimestamp};return SessionLogMatcher}()},636748:(e,t,n)=>{"use strict";n.d(t,{b:()=>u});var r=n(862926);var o=n.n(r);var i=n(598757);var a={electronWebLogEnable:false,electronWebLog:{enable:false,maxCount:500,maxKB:2*1024,interval:100},zipLogAutoUpload:false,upload:{enable:false,endpoint:i.Oc.EDC,maxSize:1024*1024,singleRequestMaxSize:1024*1024,triggerSize:512*1024,matchRule:{allLog:false,logLevels:[],logTags:[],modules:[]}},memory:{maxSize:4*1024*1024,aliveHours:7*24},temporaryStorage:{enable:true,maxSize:1024*1024,aliveHours:7*24},persistent:{cleanIntervalHours:2,doubleCheckMaxSize:false,historyLog:{singleRecordDefaultSize:512*1024,singleRecordMaxSize:2*1024*1024,maxSize:50*1024*1024,triggerSize:512*1024,triggerIntervalSeconds:30,enable:false,aliveHours:7*24,initDelay:5*1e3,taskDelay:1*1e3},markedLog:{singleRecordDefaultSize:512*1024,singleRecordMaxSize:1*1024*1024,maxSize:10*1024*1024,triggerSize:512*1024,triggerIntervalSeconds:30,enable:false,aliveHours:7*24,initDelay:5*1e3,taskDelay:5*1e3}}};var u=new r.BaseConfig(a)},598757:(e,t,n)=>{"use strict";n.d(t,{Oc:()=>o,oF:()=>i,$c:()=>f,o9:()=>d,sP:()=>v,Gt:()=>g,Po:()=>_});var r=n(570265);var o;(function(e){e["EDC"]="EDC";e["SUMOLOGIC"]="SUMOLOGIC"})(o||(o={}));var i="log_module";var a="performanceTag";var u="performanceInfo";var s="__metricsTag__";var c="__metricsInfo__";var l;(function(e){e[e["TYPE_PERFORMANCE"]=1]="TYPE_PERFORMANCE";e[e["TYPE_API"]=2]="TYPE_API"})(l||(l={}));var f="SUMOLOGIC_CONFIG_STORE";var d="FILESTACK_CONFIG_STORE";var p=2;var h="[NETWORK]";var v={UPLOAD_LOG_TO_EDC:"PERFORMANCE_F_UPLOAD_LOG_TO_EDC"};var g=new r.BaseConfig({enable:false});var _=new r.BaseConfig({enable:false,server:"",uniqueHttpCollectorCode:""})},865074:(e,t,n)=>{"use strict";n.d(t,{M:()=>v});var r=n(667489);var o=n(577683);var i=n(947465);var a=n.n(i);var u=n(440942);var s=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var c=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var l=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var f=function(e){s(HistoryLogViewDao,e);function HistoryLogViewDao(t){return e.call(this,HistoryLogViewDao.COLLECTION_NAME,t)||this}HistoryLogViewDao.prototype.getByUserId=function(e){return c(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return[4,this.getAll()];case 1:t=n.sent();return[2,t.filter((function(t){return t.uid===e})).sort((function(e,t){return e.startTime-t.startTime}))]}}))}))};HistoryLogViewDao.prototype.toViewItem=function(e){return a().omit(e,"messages")};HistoryLogViewDao.prototype.toPartialViewItem=function(e){u.k.log("partialEntity",e);throw new Error("Method not implemented.")};HistoryLogViewDao.prototype.getCollection=function(){var e=this.getDb();return e.getCollection(HistoryLogViewDao.COLLECTION_NAME)};HistoryLogViewDao.COLLECTION_NAME=o.T.HISTORY_LOG_VIEW;return HistoryLogViewDao}(r.BaseDao);var d=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var p=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var h=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var v=function(e){d(HistoryLogDao,e);function HistoryLogDao(t,n){var r=e.call(this,HistoryLogDao.COLLECTION_NAME,t)||this;r._sanitizeLogViewDao=n.getDao(f,n);r.addViewDaos([r._sanitizeLogViewDao]);return r}HistoryLogDao.prototype.getLogViewDao=function(){return this._sanitizeLogViewDao};HistoryLogDao.prototype.getByUserId=function(e){return p(this,void 0,void 0,(function(){var t;return h(this,(function(n){switch(n.label){case 0:return[4,this.getLogViewDao().getByUserId(e)];case 1:t=n.sent();return[2,this.batchGet(t.map((function(e){return e.id})))]}}))}))};HistoryLogDao.COLLECTION_NAME=o.T.HISTORY_LOG;return HistoryLogDao}(r.AbstractComposedDao)},747998:(e,t,n)=>{"use strict";n.d(t,{e:()=>p});var r=n(667489);var o=n(577683);var i=n(947465);var a=n.n(i);var u=n(440942);var s=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var c=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var l=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var f=function(e){s(MarkedLogViewDao,e);function MarkedLogViewDao(t){return e.call(this,MarkedLogViewDao.COLLECTION_NAME,t)||this}MarkedLogViewDao.prototype.getByUserId=function(e){return c(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return[4,this.getAll()];case 1:t=n.sent();return[2,t.filter((function(t){return t.uid===e})).sort((function(e,t){return e.startTime-t.startTime}))]}}))}))};MarkedLogViewDao.prototype.toViewItem=function(e){return a().omit(e,"messages")};MarkedLogViewDao.prototype.toPartialViewItem=function(e){u.k.log("partialEntity",e);throw new Error("Method not implemented.")};MarkedLogViewDao.prototype.getCollection=function(){var e=this.getDb();return e.getCollection(MarkedLogViewDao.COLLECTION_NAME)};MarkedLogViewDao.COLLECTION_NAME=o.T.MARKED_LOG_VIEW;return MarkedLogViewDao}(r.BaseDao);var d=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var p=function(e){d(MarkedLogDao,e);function MarkedLogDao(t,n){var r=e.call(this,MarkedLogDao.COLLECTION_NAME,t)||this;r._sanitizeLogViewDao=n.getDao(f,n);r.addViewDaos([r._sanitizeLogViewDao]);return r}MarkedLogDao.prototype.getLogViewDao=function(){return this._sanitizeLogViewDao};MarkedLogDao.COLLECTION_NAME=o.T.MARKED_LOG;return MarkedLogDao}(r.AbstractComposedDao)},577683:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});var r={MARKED_LOG:"markedLog",MARKED_LOG_VIEW:"markedLogView",HISTORY_LOG:"historyLog",HISTORY_LOG_VIEW:"historyLogView"}},49237:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(858413);var o=n(947465);var i=n.n(o);var a=n(862926);var u=n.n(a);var s=n(883171);var c=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var l=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var f=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var d=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e};var p=10*1e3;var getItemResult=function(e){try{var t=e.getStatus();if(i().isObject(t)&&t["then"]){return Promise.race([t.then((function(t){return"[ "+e.name+" ]\n\n"+(0,s.lr)(t)+"\n"})).catch((function(t){return"[ "+e.name+" ]\n\n"+(0,s.lr)(t)+"\n"})),new Promise((function(t){setTimeout((function(){return t("[ "+e.name+" ]\n\nTimeout("+p/1e3+"s)\n")}),p)}))])}return"[ "+e.name+" ]\n\n"+(0,s.lr)(t)+"\n"}catch(t){return"[ "+e.name+" ]\n\n"+(t&&t.message)+"\n"}};var h=function(){function HealthStatusItemProvider(){var e=this;this.level=r.q.NORMAL;this.getZipItems=function(){return c(e,void 0,void 0,(function(){var e,t,n,r;var o=this;return l(this,(function(u){switch(u.label){case 0:e=a.HealthModuleManager.getInstance().getAll();t=[];return[4,Promise.all(i().flatMap(e,(function(e){var n=e.getAll();if(!n.length){return[]}var r=[];n.forEach((function(n){if(n.splitOutAsFile){t.push({moduleName:e.name,item:n})}else{r.push(n)}}));return d(["=========== "+e.name+" ==========\n"],r.map(getItemResult))})))];case 1:n=u.sent();r=[[{type:".txt",name:"HealthStatus",content:n.join("\n")}]];return[4,Promise.all(t.map((function(e){var t=e.moduleName,n=e.item;return c(o,void 0,void 0,(function(){var e,r,o,i,a;return l(this,(function(u){switch(u.label){case 0:e=n.splitOutAsFile,r=e.type,o=e.name,i=e.resultFormatter;a={type:r||".txt",name:o||n.name};return[4,i?i(n,t):["=========== "+t+" ==========\n",getItemResult(n)].join("\n")];case 1:return[2,(a.content=u.sent(),a)]}}))}))})))];case 2:return[2,d.apply(void 0,r.concat([u.sent()]))]}}))}))}}return HealthStatusItemProvider}()},833515:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});var r=n(858413);var o=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var i=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var a=function(){function HerculesLogZipItemProvider(){var e=this;this.name="HerculesLogZipItemProvider";this.level=r.q.NORMAL;this.getZipItems=function(){return o(e,void 0,void 0,(function(){var e,t,n;var r;return i(this,(function(o){switch(o.label){case 0:n=(t=JSON).stringify;return[4,(r=window.rwcLogger)===null||r===void 0?void 0:r.getLogs()];case 1:e=n.apply(t,[o.sent()||{}]);return[2,[{type:".log",name:"Hercules_RWC_Logs",content:e}]]}}))}))}}return HerculesLogZipItemProvider}()},811641:(e,t,n)=>{"use strict";n.d(t,{j:()=>a});var r=n(858413);var o=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var i=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var a=function(){function LogPersistenceItemProvider(e){var t=this;this._itemsToString=e;this.name="LogPersistenceItemProvider";this.level=r.q.NORMAL;this.getZipItems=function(){return o(t,void 0,void 0,(function(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:t=(e=Promise).resolve;n={type:".txt",name:"LogPersistence"};return[4,this._itemsToString()];case 1:return[2,t.apply(e,[[(n.content=r.sent(),n)]])]}}))}))}}return LogPersistenceItemProvider}()},483705:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});var r=n(858413);var o=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var i=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var a=function(){function MemoryLogZipItemProvider(e){var t=this;this.memoryCollector=e;this.name="MemoryLogZipItemProvider";this.level=r.q.NORMAL;this.getZipItems=function(){return o(t,void 0,void 0,(function(){var e,t;return i(this,(function(n){e=this.memoryCollector.getAll();t=e.map((function(e){return e.message})).join("\n");return[2,[{type:".log",name:"RecentLogs",content:t}]]}))}))}}return MemoryLogZipItemProvider}()},608336:(e,t,n)=>{"use strict";n.d(t,{k7:()=>h});var r=n(858413);var o=n(696206);var i=n(461197);var a=n(440942);var u=n(862926);var s=n.n(u);var c=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var l=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var f="SettingItems";var d="GET_SETTINGS_PERFORMANCE";var p=function(){function SettingItemsTransform(e){this._settingMap=e}SettingItemsTransform.prototype.toJsonString=function(){var e="";if(this._settingMap){this._settingMap.forEach((function(t,n){var r=JSON.stringify(n);var o=JSON.stringify(t);e+=r+": ";e+=o+",\n"}))}if(e.length>2){e=e.slice(0,e.length-2)}var t="{\n"+e+"\n}";return t};return SettingItemsTransform}();var h=function(){function SettingItemsCollectProvider(){var e=this;this.name="SettingItemsCollectProvider";this.level=r.q.NORMAL;this.getZipItems=function(){return c(e,void 0,void 0,(function(){var e,t,n;return l(this,(function(r){switch(r.label){case 0:e=a.k.performance();t=[];return[4,this.settingsToJsonString()];case 1:n=r.sent();n&&t.push({type:".txt",name:f,content:n});e.end({key:d,level:u.LOG_CONTROL_LEVEL.NORMAL});return[2,t]}}))}))}}Object.defineProperty(SettingItemsCollectProvider.prototype,"settingModule",{get:function(){if(!this._settingModule){this._settingModule=(0,i.getModule)(o.Kw)}return this._settingModule},enumerable:true,configurable:true});SettingItemsCollectProvider.prototype.settingsToJsonString=function(){var e=this.settingModule.getAllSettingsEntity();var t=new p(e);return t.toJsonString()};return SettingItemsCollectProvider}()},440942:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(862926);var o=n.n(r);var i="[LOG]";var a=r.ModuleLogger.getLogger(i,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.FOUNDATION);if(r.DebugUtils.isDebugMode()){window["_moduleLogger"]=a}},858413:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var r;(function(e){e[e["NORMAL"]=0]="NORMAL";e[e["DEBUG_ALL"]=1]="DEBUG_ALL"})(r||(r={}))},788401:(e,t,n)=>{"use strict";n.d(t,{ez:()=>createWorker,Kb:()=>extractLogMessageLine,Ql:()=>extractMessageLine,IW:()=>getLogsSummary,Fw:()=>deleteBySize,QY:()=>getRangeInfo,Ki:()=>getUniqueId});var r=n(963786);var o=n(814678);var i=n(782117);var a=n(947465);var u=n.n(a);function createWorker(e){var t=e.default?e.default:e;return new t}function countBy(e,t){var n=0;e.forEach((function(e){n+=t(e)}));return n}function getTailLogs(e,t){var n=0;for(var r=e.length-1;r>0;r-=1){var o=e[r];n+=o.size;if(n>=t){return e.slice(r)}}return e}function extractLogMessageLine(e){var t=e.message,n=t===void 0?"":t;return n+"\t\n"}function extractMessageLine(e){return e+"\t\n"}function retryDelay(e){return Math.min(10*1e3+e*2e4,90*1e3)}function timeout(e){return new Promise((function(t){setTimeout(t,e)}))}function getLogsSummary(e){if(e===void 0){e=[]}var t=e[0]||{},n=t.sessionId,r=n===void 0?undefined:n,o=t.sessionIndex,i=o===void 0?undefined:o;var a=(e[e.length-1]||{}).sessionIndex,u=a===void 0?undefined:a;return{sessionId:r,fromIndex:i,toIndex:u}}function deleteBySize(e,t){var n=0;for(var r=0;r<e.length;r++){var o=e[r];n+=o.size;if(n>=t){return[r+1,n]}}return[e.length,n]}function itemSize(e){return e.size||0}function getRangeInfo(e){return{from:u().pick(e.from,"sessionId","sessionIndex","startTime","size"),to:u().pick(e.to,"sessionId","sessionIndex","startTime","size")}}function getUniqueId(){return new Promise((function(e){var onLoginFunc=function(){e((0,r.x6)().getUniqueId())};if((0,r.x6)()){(0,r.x6)().onLoginResult((function(e){e.success&&onLoginFunc()}))}else{var loginListener_1=function(e){if(e.success){o.rF.off(i.Cg.LOGIN,loginListener_1);onLoginFunc()}};o.rF.on(i.Cg.LOGIN,loginListener_1)}}))}},681577:(e,t,n)=>{"use strict";n.d(t,{H:()=>F});var r=n(309889);var o=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var i=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var a=10*60*1e3;var u=function(){function GlipAuthCodeProvider(){this._handler=null;this._waiters=[]}GlipAuthCodeProvider.prototype.init=function(e){return o(this,void 0,Promise,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:this._handler=e;return[4,e.getOAuthToken()];case 1:t=r.sent();n=btoa(JSON.stringify(t));this._waiters.forEach((function(e){e.resolve(n)}));this._waiters=[];return[2]}}))}))};GlipAuthCodeProvider.prototype.getAuthCode=function(){return o(this,void 0,Promise,(function(){var e;var t=this;return i(this,(function(n){switch(n.label){case 0:if(!this._handler)return[3,2];return[4,this._handler.getOAuthToken()];case 1:e=n.sent();return[2,btoa(JSON.stringify(e))];case 2:return[2,new Promise((function(e,n){t._waiters.push({resolve:e,reject:n});setTimeout((function(){n()}),a)}))]}}))}))};return GlipAuthCodeProvider}();var s=n(593639);var c=n(198394);var l=n(376301);var f=n(906493);var d=n(782117);var p=n(429555);var h=n(470033);var v=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var g=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var _=function(){function GlipAccountDelegate(e,t){this._masterAccount=e;this._logger=c.k.tags(GlipAccountDelegate.name);this._moduleLoader=new f.m(this._masterAccount.context,t,p.oF)}GlipAccountDelegate.prototype.onReLogin=function(){this._logger.info("onReLogin");this._masterAccount.reLogin()};GlipAccountDelegate.prototype.onLogout=function(){this._logger.info("onLogout")};GlipAccountDelegate.prototype.onForceLogout=function(){this._logger.info("onForceLogout");this._masterAccount.triggerForceLogout("[GlipAccountDelegate onForceLogout]")};GlipAccountDelegate.prototype.onLogin=function(e){this._logger.info("onLogin");if(e.success){var t=(0,p.getGlipAccount)();var n=t&&t.userConfig.getUserId()||0;var r=t&&t.userConfig.getCompanyId()||0;this._masterAccount.context.entitlement.set(h.H3.ACCOUNT_TYPE.GLIP,true);p.dataCollectionHelper.traceLoginSuccess({accountType:d.Q5.GLIP.toLowerCase(),userId:n,companyId:r})}else{p.dataCollectionHelper.traceLoginFailed(d.Q5.GLIP.toLowerCase(),"login failed")}this._masterAccount.subAccountLogin(d.Q5.GLIP,e)};GlipAccountDelegate.prototype.loadModule=function(){return v(this,void 0,Promise,(function(){var e;return g(this,(function(t){switch(t.label){case 0:this._logger.info("loadModule");return[4,this._moduleLoader.loadModule()];case 1:e=t.sent();return[2,e]}}))}))};GlipAccountDelegate.prototype.preloadModuleData=function(e){var t=this;this._logger.info("preloadModuleData");return l.N.getInstance().preload(e).catch((function(e){t._logger.warn("DataPreloadManager error:",e)}))};return GlipAccountDelegate}();var y=n(587040);var b=n(636428);var C=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var m=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var S=function(){function RCAccountDelegate(e,t){this._masterAccount=e;this._logger=c.k.tags(RCAccountDelegate.name);this._moduleLoader=new f.m(this._masterAccount.context,t,y.oF)}RCAccountDelegate.prototype.onReLogin=function(){this._logger.info("onReLogin");this._masterAccount.reLogin()};RCAccountDelegate.prototype.onLogout=function(){this._logger.info("onLogout")};RCAccountDelegate.prototype.onAuth=function(e){return C(this,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:if(!e)return[2];return[4,b.y0.initEmbedded(this._masterAccount.context)];case 1:t.sent();return[2]}}))}))};RCAccountDelegate.prototype.onForceLogout=function(){this._logger.info("onForceLogout");this._masterAccount.triggerForceLogout("[RCAccountDelegate onForceLogout]")};RCAccountDelegate.prototype.onLogin=function(e){this._logger.info("onLogin");if(e.success){this._masterAccount.context.entitlement.set(h.H3.ACCOUNT_TYPE.RC,true);(0,y.gT)().getUserInfo().then((function(e){return p.dataCollectionHelper.traceLoginSuccess({accountType:d.Q5.RC.toLowerCase(),userId:e?e.id:0,companyId:0})}))}else{p.dataCollectionHelper.traceLoginFailed(d.Q5.RC.toLowerCase(),"login failed")}this._masterAccount.subAccountLogin(d.Q5.RC,e)};RCAccountDelegate.prototype.loadModule=function(){return C(this,void 0,Promise,(function(){var e;return m(this,(function(t){switch(t.label){case 0:this._logger.info("loadModule");return[4,this._moduleLoader.loadModule()];case 1:e=t.sent();return[2,e]}}))}))};RCAccountDelegate.prototype.preloadModuleData=function(){this._logger.info("preloadModuleData");return Promise.resolve()};return RCAccountDelegate}();var E=n(963786);var I=n(862926);var w=n(877616);var R=n(667489);var P=n(750576);var A="sdk-pam";var T=I.ModuleLogger.getLogger(A,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),I.EVENT_DATA_FEATURE.FOUNDATION);var O=n(295454);var N=n(62427);var x=n(831513);var D=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var M=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var k=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var L=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var F=function(){function PAM(e,t){var n=this;this._getContext=e;this._brandHandler=t;this.descriptor_list={};this._authSuccessDelegate={handle:function(){return k(n,void 0,void 0,(function(){var e,t;var n,r;return L(this,(function(o){switch(o.label){case 0:e=(0,y.gT)().userConfig.getBrandId();T.debug("RC base authentication, try to get brandId from cache",e);if(!!e)return[3,2];return[4,y.Vi.requestRCAccountInfo()];case 1:t=o.sent();e=(r=(n=t.serviceInfo)===null||n===void 0?void 0:n.brand)===null||r===void 0?void 0:r.id;T.debug("RC base authentication, try to get brandId from remote",e);o.label=2;case 2:if(!e){throw new Error("cannot find brandId")}if(!this._brandHandler)return[3,4];T.info("RC base authentication, use rc brandId for brandHandle",e);return[4,this._brandHandler.handleBrandId(e)];case 3:o.sent();o.label=4;case 4:return[2]}}))}))}}}PAM.prototype.setBrandHandler=function(e){this._brandHandler=e};PAM.prototype.removeBrandHandler=function(){this._brandHandler=undefined};PAM.prototype.autoLogin=function(){return k(this,void 0,Promise,(function(){var e,t;return L(this,(function(n){switch(n.label){case 0:if(this._loginResWrapper){return[2,this._loginResWrapper.getObj()]}this._loginResWrapper=new I.AsyncObjectWrapper;e=P.FW.getAccountType();t=P.FW.getLoginParams();if(e===d.Q5.GLIP){this.doGlipAuthentication({token:(t===null||t===void 0?void 0:t.token)||"",discoveryToken:t===null||t===void 0?void 0:t.discoveryToken})}else if(e===d.Q5.RC){this.doRCAuthentication({code:(t===null||t===void 0?void 0:t.code)||"",discoveryToken:t===null||t===void 0?void 0:t.discoveryToken,login_particular_type:t===null||t===void 0?void 0:t.login_particular_type,pkceState:t===null||t===void 0?void 0:t.pkceState})}else{T.tags(PAM.name).info("autoLogin, can not get account type, force logout");R.notificationCenter.emitKVChange(d.Cg.FORCE_LOGOUT,{reason:"[autoLogin] Can not get account type , force logout."})}return[4,this._handleLoginResult()];case 1:n.sent();return[2]}}))}))};PAM.prototype.unifiedLogin=function(e,t){var n=e.code,r=e.token,o=e.idToken,i=e.discoveryToken,a=e.login_particular_type,u=e.tokenUri,s=e.discoveryUri,c=e.pkceState;return k(this,void 0,Promise,(function(){var e;return L(this,(function(l){switch(l.label){case 0:if(this._loginResWrapper){return[2,this._loginResWrapper.getObj()]}this._loginResWrapper=new I.AsyncObjectWrapper;e=(0,I.foundationPerformanceTracer)();P.FW.setLoginParams({code:n,token:r,idToken:o,discoveryToken:i,login_particular_type:a,pkceState:c});if(n){this.doRCAuthentication({code:n,tokenUri:u,discoveryUri:s,discoveryToken:i,login_particular_type:a,pkceState:c})}else if(r){this.doGlipAuthentication({token:r,discoveryToken:i})}else if(o){this.doGoogleAuthentication({idToken:o,tokenUri:u,discoveryUri:s,discoveryToken:i,rcUTM:t,pkceState:c})}return[4,this._handleLoginResult()];case 1:l.sent();e&&e.end({key:w.sP.UNIFIED_LOGIN,level:I.LOG_CONTROL_LEVEL.HIGH});return[2]}}))}))};PAM.prototype._handleLoginResult=function(){var e=this;return new Promise((function(t,n){R.notificationCenter.on(d.Cg.LOGIN,(function(r){var o,i;if(r.success){P.FW.removeLoginParams();var a=(0,R.getModule)(x.Y0);a.setLoginTimestamp(Date.now());(o=e._loginResWrapper)===null||o===void 0?void 0:o.setObj();t()}else{var u=r.error||new R.JSdkError(R.ERROR_CODES_SDK.OAUTH,"login failed");(i=e._loginResWrapper)===null||i===void 0?void 0:i.reject(u);n(u)}e._loginResWrapper=undefined}))}))};PAM.prototype.doRCAuthentication=function(e){var t=this;var n=e.code,r=e.tokenUri,o=e.discoveryUri,i=e.discoveryToken,a=e.login_particular_type,s=e.pkceState;var c=this._createMasterAccount();c.setAccountType(d.Q5.RC);var l=new u;if(!c.getSubAccount(y.oF)){var f=a;var v=w.vp[f]||"";var g=new y._V(c.context,new y.O9(n,v,s),R.apiConfiguration.getConfig(),new S(c,this.descriptor_list),n,r,o,this._brandHandler?this._authSuccessDelegate:undefined);g.observeTokenHandler(l.init.bind(l));c.addSubAccount(g);var b=false;c.context.entitlement.on(h.H3.RCExtensionFeaturesId.Glip,(function(e){if(b){c.reLogin();return}b=true;if(!c.getSubAccount(p.oF)){var n=new p.k_(c.context,new p.fi(l),R.apiConfiguration.getConfig(),new _(c,t.descriptor_list),i);if(e){g.observeTokenHandler(n.setRCTokenProvider.bind(n));c.addSubAccount(n);n.login()}else{n.clearAllData()}}}))}c.setMainAccountName(y.oF);c.login()};PAM.prototype.doGlipAuthentication=function(e){var t=e.token,n=e.discoveryToken;return k(this,void 0,void 0,(function(){var e;return L(this,(function(r){switch(r.label){case 0:if(!this._brandHandler)return[3,3];T.info("Glip base authentication, use default brandId for brandHandle",R.apiConfiguration.getConfig().brandId);e=R.apiConfiguration.getConfig().brandId;if(!e)return[3,2];return[4,this._brandHandler.handleBrandId(e)];case 1:r.sent();return[3,3];case 2:throw new Error("cannot find brandId");case 3:this._glipBaseAuthentication(new p.Bu(new I.Token(t)),n,t);return[2]}}))}))};PAM.prototype.doGoogleAuthentication=function(e){var t=e.idToken,n=e.tokenUri,r=e.discoveryUri,o=e.discoveryToken,i=e.rcUTM,a=e.pkceState;return k(this,void 0,Promise,(function(){var e,u,s,c,l;var f=this;return L(this,(function(h){switch(h.label){case 0:e=function(e){var t={success:false,error:e};R.notificationCenter.emitKVChange(d.Cg.LOGIN,t)};u=this._createMasterAccount();return[4,N.AbstractEndpointsDiscovery.fetchCDNMultiInstanceFlagAndScheduleJob()];case 1:h.sent();(0,p.initEndpointDiscovery)({context:u.context,discoveryToken:o,setupNetwork:true});s=p.endpointsDiscovery.isEnable();c=p.endpointsDiscovery.isEndpointsValid();T.tags(PAM.name).info("googleAuth,discoveryEnable:"+s+",endpointsValid:"+c);l=s&&!c;if(!l)return[3,3];return[4,p.endpointsDiscovery.startDiscovery({tokenOrCode:t})];case 2:l=!h.sent();h.label=3;case 3:if(l){e();return[2]}O.o1.loginByGoogleToken(R.apiConfiguration.getConfig().glip.server||"",t,this._getRealRCUTMParams(i)).then((function(e){var t=e.headers[p.RC_CODE_HEADER_KEY];if(t){f.doRCAuthentication({code:t,tokenUri:n,discoveryUri:r,pkceState:a})}else{var o=e.headers[p.GLIP_TOKEN_HEADER_KEY];f.doGlipAuthentication({token:o})}})).catch((function(t){return e(t)}));return[2]}}))}))};PAM.prototype.isAllAccountsLoggedIn=function(){var e=E._Z.getCurrent();var t=e===null||e===void 0?void 0:e.getAccounts();return(t===null||t===void 0?void 0:t.length)?t.every((function(e){return e.isLoggedIn()})):false};PAM.prototype.waitAccountLoginSuccessfully=function(){return new Promise((function(e){var t;var listener=function(n){if(n.success){e();t===null||t===void 0?void 0:t()}};t=(0,E.Zj)({accountGetter:E.x6,eventKey:d.Cg.LOGIN,callback:listener})}))};PAM.prototype._glipBaseAuthentication=function(e,t,n){var r=this._createMasterAccount();r.setAccountType(d.Q5.GLIP);if(!r.getSubAccount(p.oF)){var o=new p.k_(r.context,e,R.apiConfiguration.getConfig(),new _(r,this.descriptor_list),t,n);r.addSubAccount(o)}r.setMainAccountName(p.oF);r.login()};PAM.prototype._createMasterAccount=function(){var e=E._Z.getCurrent();if(!e){var t=this._getUserDictionary();e=new s.H(t,this._getContext(),this.descriptor_list);E._Z.setCurrent(e)}return e};PAM.prototype._getUserDictionary=function(){return P.FW.getUserDictionary()||r.generate({length:10})};PAM.prototype._getRealRCUTMParams=function(e){var t={};if(e){Object.keys(e||{}).forEach((function(n){if(n.startsWith("rc_utm_")){t[n]=e[n]}}))}return t};var e;D([I.SingleRequest,M("design:type",Function),M("design:paramtypes",[]),M("design:returntype",typeof(e=typeof Promise!=="undefined"&&Promise)==="function"?e:Object)],PAM.prototype,"_handleLoginResult",null);return PAM}()},504902:()=>{},855252:()=>{},168488:(e,t,n)=>{"use strict";var r=n(113113);var o=n(855252);var i=n.n(o);if(n.o(o,"ISdkConfig"))n.d(t,{ISdkConfig:function(){return o.ISdkConfig}});var a=n(504902);var u=n.n(a);if(n.o(a,"ISdkConfig"))n.d(t,{ISdkConfig:function(){return a.ISdkConfig}})},234110:(e,t,n)=>{"use strict";n.d(t,{K:()=>u});var r=n(667489);var o=n.n(r);var i=n(302186);var a=n.n(i);var u={VISIBILITYCHANGE:"DOCUMENT.VISIBILITY_STATE"};window.addEventListener("blur",(function(){r.notificationCenter.emit(r.WINDOW_EVENT.BLUR)}));document.addEventListener("visibilitychange",(function(){r.notificationCenter.emit(u.VISIBILITYCHANGE,{isHidden:document.visibilityState==="hidden"});if(document.visibilityState!=="hidden"){var e=i.Pal.instance.networkStatus();if(e&&!e.getStatus()){e.requestStatusWhenOffline()}}}))},349398:(e,t,n)=>{"use strict";n.r(t);n.d(t,{AccountInfoModule:()=>b});var r=n(667489);var o=n(302186);var i=n(827027);var a=n(758097);var u=n(70974);var gen=function(e,t,n){if(e===void 0){e="id"}if(t===void 0){t=[]}return{unique:e,indices:t,onUpgrade:n}};var s={name:"AccountInfo",version:1,schema:{1:{userConfigs:gen("key")}}};var c=n(862926);var l="[ACCOUNT_INFO][CORE]";var f=c.ModuleLogger.getLogger(l,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),c.EVENT_DATA_FEATURE.FOUNDATION);var d=n(623335);var p=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var h=function(e){p(AccountLocalStorage,e);function AccountLocalStorage(){return e!==null&&e.apply(this,arguments)||this}AccountLocalStorage.setValue=function(e,t){this.put(e,t)};AccountLocalStorage.getValue=function(e){return this.get(e)};AccountLocalStorage.setLastLogoutTimestamp=function(e){this.put(d.KT.LAST_LOGOUT_TIME,e)};AccountLocalStorage.getLastLogoutTimestamp=function(){return this.get(d.KT.LAST_LOGOUT_TIME)};AccountLocalStorage.setLastForceLogoutReason=function(e){this.put(d.KT.LAST_FORCE_LOGOUT_REASON,e)};AccountLocalStorage.getLastForceLogoutReason=function(){return this.get(d.KT.LAST_FORCE_LOGOUT_REASON)};AccountLocalStorage.setLoginTimestamp=function(e){this.put(d.KT.LOGIN_TIME,e)};AccountLocalStorage.getLoginTimestamp=function(){return this.get(d.KT.LOGIN_TIME)};AccountLocalStorage.moduleName="ACCOUNT_INFO";return AccountLocalStorage}(r.GlobalConfig);var v=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var g=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var _=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var y=f.tags("[AccountInfoModule]");var b=function(e){v(AccountInfoModule,e);function AccountInfoModule(t){var n=e.call(this,t)||this;n._context=t;return n}AccountInfoModule.prototype.moduleName=function(){return a.Y0};AccountInfoModule.prototype.getSchema=function(){return s};AccountInfoModule.prototype.onLoad=function(){var e=this;this.getHealthController().registerItemMap({loginVersion:function(){return o.Pal.instance.getPlatformUtils().getVersionInfo()},loginAccountType:function(){return(0,r.getCurrentAccount)().accountType()},loginTimestamp:function(){return e.getLoginTimestamp()},lastLogoutTimestamp:function(){return e.getLastLogoutTimestamp()},lastForceLogoutReason:function(){return e.getLastForceLogoutReason()}})};AccountInfoModule.prototype.onUnload=function(){};AccountInfoModule.prototype.getAccountInfo=function(){return this.DBConfig.getAccountInfo()};AccountInfoModule.prototype.setAccountInfo=function(e){return this.DBConfig.setAccountInfo(e)};AccountInfoModule.prototype.getFederatedFlag=function(){return this.DBConfig.getFederatedFlag()};AccountInfoModule.prototype.setFederatedFlag=function(e){return g(this,void 0,Promise,(function(){var t;return _(this,(function(n){switch(n.label){case 0:return[4,this.getFederatedFlag()];case 1:t=n.sent();if(!(t!==e))return[3,3];return[4,this.DBConfig.setFederatedFlag(e)];case 2:n.sent();r.notificationCenter.emit(a.FY.ACCOUNT_INFO.FEDERATED_UPDATED,e);n.label=3;case 3:return[2]}}))}))};AccountInfoModule.prototype.getAccountServiceInfo=function(){return this.DBConfig.getAccountServiceInfo()};AccountInfoModule.prototype.setAccountServiceInfo=function(e){return g(this,void 0,Promise,(function(){var t,n;return _(this,(function(o){switch(o.label){case 0:return[4,this.DBConfig.getAccountServiceInfo()];case 1:t=o.sent();n=this.DBConfig.setAccountServiceInfo(e);t&&r.notificationCenter.emit(a.FY.ACCOUNT_INFO.SERVICE_INFO_UPDATED,{from:t,to:e});return[2,n]}}))}))};AccountInfoModule.prototype.setBillingPlanType=function(e){return g(this,void 0,void 0,(function(){var t,n;return _(this,(function(o){switch(o.label){case 0:return[4,this.getBillingPlanType()];case 1:t=o.sent();n=e===i.BILLING_PLAN_TYPE.FREE?i.BILLING_PLAN_TYPE.FREE:i.BILLING_PLAN_TYPE.REGULAR;if(t&&t!==n){y.info("billing plan type updated, previous type: "+t+", current type: "+n+", invoke ACCOUNT_INFO.BILLING_PLAN_UPDATED event");r.notificationCenter.emit(a.FY.ACCOUNT_INFO.BILLING_PLAN_UPDATED)}return[4,this.DBConfig.setBillingPlanType(n)];case 2:o.sent();return[2]}}))}))};AccountInfoModule.prototype.getBillingPlanType=function(){return this.DBConfig.getBillingPlanType()};AccountInfoModule.prototype.getExtensionFeaturesInfo=function(){return this.DBConfig.getExtensionFeaturesInfo()};AccountInfoModule.prototype.setExtensionFeaturesInfo=function(e){return this.DBConfig.setExtensionFeaturesInfo(e)};AccountInfoModule.prototype.getExtensionInfo=function(){return this.DBConfig.getExtensionInfo()};AccountInfoModule.prototype.setExtensionInfo=function(e){return this.DBConfig.setExtensionInfo(e)};AccountInfoModule.prototype.getRolePermissions=function(){return this.DBConfig.getRolePermissions()};AccountInfoModule.prototype.setRolePermissions=function(e){return this.DBConfig.setRolePermissions(e)};AccountInfoModule.prototype.setRCServiceParameters=function(e){return this.DBConfig.setRCServiceParameters(e)};AccountInfoModule.prototype.getRCServiceParameters=function(){return this.DBConfig.getRCServiceParameters()};AccountInfoModule.prototype.getAccountSetupAccountType=function(){return g(this,void 0,Promise,(function(){var e,t,n;return _(this,(function(r){switch(r.label){case 0:y.info("get company setup account type");return[4,this.getUserAccountType([a.fT.FREE_PHOENIX_UPGRADE,a.fT.SMB])];case 1:e=r.sent();t=e[0];if(t===a.Mg.ONE){return[2,a.xF.PHOENIX_TO_OFFICE]}if(t===a.Mg.TWO){return[2,a.xF.PHOENIX_TO_PAID]}n=e[1];if(n===a.Mg.ONE){return[2,a.xF.SMB]}return[2,undefined]}}))}))};AccountInfoModule.prototype.getEndUserSetupAccountType=function(){return g(this,void 0,Promise,(function(){var e,t,n,r;return _(this,(function(o){switch(o.label){case 0:y.info("get end user setup account type");return[4,this.getUserAccountType([a.fT.SMB,a.fT.FREE_PHOENIX_UPGRADE,a.fT.SMB_END_USER])];case 1:e=o.sent();t=e[0];if(t===a.Mg.ONE){return[2,a.xF.SMB]}n=e[1];r=e[2];if(n===a.Mg.ONE||r===a.Mg.ONE){return[2,a.xF.OFFICE]}return[2,undefined]}}))}))};AccountInfoModule.prototype.getUserAccountType=function(e){return g(this,void 0,Promise,(function(){var t;return _(this,(function(n){switch(n.label){case 0:y.info("get user account types",{serviceParameterIds:e});return[4,this.getRCServiceParameters()];case 1:t=n.sent();return[2,e.map((function(e){var n=t===null||t===void 0?void 0:t.find((function(t){return t.id===e}));return n===null||n===void 0?void 0:n.value}))]}}))}))};AccountInfoModule.prototype.getIsSMB=function(){return g(this,void 0,Promise,(function(){var e;return _(this,(function(t){switch(t.label){case 0:return[4,this.getUserAccountType([a.fT.SMB])];case 1:e=t.sent();return[2,(e===null||e===void 0?void 0:e[0])===a.Mg.ONE]}}))}))};Object.defineProperty(AccountInfoModule.prototype,"DBConfig",{get:function(){if(!this._DBConfig){this._DBConfig=new u.C(this.getDaoManager().getDBConfigService())}return this._DBConfig},enumerable:true,configurable:true});AccountInfoModule.prototype.onDBRecoverRequire=function(){y.info("AccountInfo DB is recovering now");(0,r.getCurrentAccount)().reLogin()};AccountInfoModule.prototype.setLastForceLogoutReason=function(e){var t=(0,r.getCurrentAccount)().getUniqueId();h.setLastForceLogoutReason(t+"_"+e)};AccountInfoModule.prototype.getLastForceLogoutReason=function(){return h.getLastForceLogoutReason()};AccountInfoModule.prototype.setLastLogoutTimestamp=function(e){var t=(0,r.getCurrentAccount)().getUniqueId();h.setLastLogoutTimestamp(t+"_"+e)};AccountInfoModule.prototype.getLastLogoutTimestamp=function(){return h.getLastLogoutTimestamp()};AccountInfoModule.prototype.setLoginTimestamp=function(e){var t=(0,r.getCurrentAccount)().getUniqueId();h.setLoginTimestamp(t+"_"+e)};AccountInfoModule.prototype.getLoginTimestamp=function(){return h.getLoginTimestamp()};AccountInfoModule.prototype.registerFederationInfoProvider=function(e){if(this._federationInfoProvider){y.info("provider already registered")}else{this._federationInfoProvider=e}};AccountInfoModule.prototype.getFederationAccountInfo=function(e){var t;return(t=this._federationInfoProvider)===null||t===void 0?void 0:t.getFederationAccountInfo(e)};AccountInfoModule.prototype.clearDBData=function(){return g(this,void 0,Promise,(function(){var t;return _(this,(function(n){switch(n.label){case 0:n.trys.push([0,3,,4]);return[4,e.prototype.clearDBData.call(this)];case 1:n.sent();return[4,(0,r.getCurrentAccount)().clearData()];case 2:n.sent();return[3,4];case 3:t=n.sent();y.info("clearDBData failed, error =",t.message);return[3,4];case 4:r.DaoGlobalConfig.setDBSchemaVersion(s.name,s.version,0);return[2,r.LOAD_MODULE_ERROR_CODE.NONE]}}))}))};return AccountInfoModule}(r.AbstractModule)},532739:(e,t,n)=>{"use strict";n.d(t,{C:()=>u});var r=n(667489);var o=n.n(r);var i=n(623335);var a=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var u=function(e){a(AccountConfig,e);function AccountConfig(t){return e.call(this,i.Li,t)||this}AccountConfig.prototype.getAccountInfo=function(){return this.get(i.xb.ACCOUNT_INFO)};AccountConfig.prototype.setAccountInfo=function(e){return this.put(i.xb.ACCOUNT_INFO,e)};AccountConfig.prototype.getFederatedFlag=function(){return this.get(i.xb.FEDERATED_FLAG)};AccountConfig.prototype.setFederatedFlag=function(e){return this.put(i.xb.FEDERATED_FLAG,e)};AccountConfig.prototype.getAccountServiceInfo=function(){return this.get(i.xb.ACCOUNT_SERVICE_INFO)};AccountConfig.prototype.setAccountServiceInfo=function(e){return this.put(i.xb.ACCOUNT_SERVICE_INFO,e)};AccountConfig.prototype.getBillingPlanType=function(){return this.get(i.xb.BILLING_PLAN_TYPE)};AccountConfig.prototype.setBillingPlanType=function(e){return this.put(i.xb.BILLING_PLAN_TYPE,e)};AccountConfig.prototype.getExtensionFeaturesInfo=function(){return this.get(i.xb.EXTENSION_FEATURES_INFO)};AccountConfig.prototype.setExtensionFeaturesInfo=function(e){return this.put(i.xb.EXTENSION_FEATURES_INFO,e)};AccountConfig.prototype.getExtensionInfo=function(){return this.get(i.xb.EXTENSION_INFO)};AccountConfig.prototype.setExtensionInfo=function(e){return this.put(i.xb.EXTENSION_INFO,e)};AccountConfig.prototype.getRolePermissions=function(){return this.get(i.xb.ROLE_PERMISSIONS)};AccountConfig.prototype.setRolePermissions=function(e){return this.put(i.xb.ROLE_PERMISSIONS,e)};AccountConfig.prototype.setIsAccountUpgrading=function(){return this.put(i.xb.IS_ACCOUNT_UPGRADING,true)};AccountConfig.prototype.getIsAccountUpgrading=function(){return this.get(i.xb.IS_ACCOUNT_UPGRADING)};AccountConfig.prototype.removeIsAccountUpgrading=function(){return this.remove(i.xb.IS_ACCOUNT_UPGRADING)};AccountConfig.prototype.setAccountUpgradingEvents=function(e){return this.put(i.xb.ACCOUNT_UPGRADING_EVENTS,e)};AccountConfig.prototype.getAccountUpgradingEvents=function(){return this.get(i.xb.ACCOUNT_UPGRADING_EVENTS)};AccountConfig.prototype.removeAccountUpgradingEvents=function(){return this.remove(i.xb.ACCOUNT_UPGRADING_EVENTS)};AccountConfig.prototype.setRCServiceParameters=function(e){return this.put(i.xb.RC_ACCOUNT_SERVICE_PARAMETER,e)};AccountConfig.prototype.getRCServiceParameters=function(){return this.get(i.xb.RC_ACCOUNT_SERVICE_PARAMETER)};return AccountConfig}(r.DBConfig)},148246:(e,t,n)=>{"use strict";n.d(t,{R:()=>T});var r=n(244363);var o=n.n(r);var i=n(23630);var a=n.n(i);var u=n(302186);var s=n(106945);var c=function(){function AnalysisBaseController(){this._isProduction=false}AnalysisBaseController.prototype.getEndPoint=function(){return(0,s.ZJ)()};AnalysisBaseController.prototype.getPlatform=function(e,t){return(0,s.Xf)(e,t)};AnalysisBaseController.prototype.getOsVersion=function(){var e=a().getParser(window.navigator.userAgent).getOS();if((0,s.eN)()){e.version="11"}var t=e.name,n=e.version;return t+" "+n};AnalysisBaseController.prototype.getAppInfo=function(){var e;if((e=u.Pal.instance.getPlatformUtils())===null||e===void 0?void 0:e.isElectron()){return"electron"}return"browser"};AnalysisBaseController.prototype.setProduction=function(e){this._isProduction=e};AnalysisBaseController.prototype.isProduction=function(){return this._isProduction};return AnalysisBaseController}();var l=n(469882);var f=n(862926);var d="[DATA_ANALYSIS][CORE]";var p=f.ModuleLogger.getLogger(d,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),f.EVENT_DATA_FEATURE.COMMON);var h=n(154112);var v=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var g=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var _=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var y="ENABLED_ANALYTICS";var b=function(e){v(SegAnalysisController,e);function SegAnalysisController(){var t=e.call(this)||this;t._isInitialized=false;t._key="";t._initSegmentConfigStore();return t}SegAnalysisController.prototype._initSegmentConfigStore=function(){l.configStoreManager.addConfigStore(h.y,h.a)};SegAnalysisController.prototype.init=function(){return g(this,void 0,Promise,(function(){var e;var t=this;return _(this,(function(n){e=h.a.getConfig();h.a.addConfigObserver({getter:function(e){return e.enable},callback:function(e){p.info("segmentConfig change:",e.enable);t._key=h.a.getConfig().clientId;e.enable?t._initialized():t._dispose()}});if(!e.enable){p.info("segment is disabled");return[2]}this._key=e.clientId;this._initialized();p.info("init result:",!!this._segment);return[2]}))}))};SegAnalysisController.prototype._initialized=function(){if(this._key&&!this._isInitialized&&(this.isProduction()||this._isEnableDebug())){this._segment=o()({key:this._key});p.info("init result:",!!this._segment);this._isInitialized=true}return this._isInitialized};SegAnalysisController.prototype._dispose=function(){p.info("dispose segment:");this._isInitialized=false;this._segment=undefined};SegAnalysisController.prototype.lightIdentify=function(e,t){var n,r;if(this._initialized()){t?(n=this._segment)===null||n===void 0?void 0:n.identify(t,e):(r=this._segment)===null||r===void 0?void 0:r.identify(e)}};SegAnalysisController.prototype.alias=function(e,t){var n;this._initialized()&&((n=this._segment)===null||n===void 0?void 0:n.alias(e,t))};SegAnalysisController.prototype.page=function(e,t){var n;var r=this._addSystemInfo(t);this._initialized()&&((n=this._segment)===null||n===void 0?void 0:n.page(e,r))};SegAnalysisController.prototype.identify=function(e,t){var n;this._initialized()&&((n=this._segment)===null||n===void 0?void 0:n.identify(e,this._addSystemInfo(t)))};SegAnalysisController.prototype.group=function(e,t){var n;this._initialized()&&((n=this._segment)===null||n===void 0?void 0:n.group(e,this._addSystemInfo(t)))};SegAnalysisController.prototype.track=function(e,t){var n;this._initialized()&&((n=this._segment)===null||n===void 0?void 0:n.track(e,this._addSystemInfo(t)))};SegAnalysisController.prototype.update=function(e){var t,n;this._initialized()&&((t=this._segment)===null||t===void 0?void 0:t.identify((n=this._segment)===null||n===void 0?void 0:n.user().id(),this._addEndPoint(e)))};SegAnalysisController.prototype._isEnableDebug=function(){return localStorage.getItem(y)};SegAnalysisController.prototype._addSystemInfo=function(e){if(e===void 0){e={}}var t={};t=this._addOsVersion(this._addEndPoint(e));t=this._addAppInfo(t);return t};SegAnalysisController.prototype._addOsVersion=function(e){if(e===void 0){e={}}if(e.osVersion){return e}e.osVersion=this.getOsVersion();return e};SegAnalysisController.prototype._addEndPoint=function(e){if(e===void 0){e={}}if(e.endPoint){return e}e.endPoint=this.getEndPoint();return e};SegAnalysisController.prototype._addAppInfo=function(e){if(e===void 0){e={}}if(e.app){return e}e.app=this.getAppInfo();return e};return SegAnalysisController}(c);var C=n(429205);var m={COMPONENT:"DataAnalysis",FILTER:{SESSION:"Session"}};var S={ACTION:{PAGE:"Page",TRACK:"Track"},CATEGORY:{USER_ACTION:"user action"}};var E=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var I=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var w=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var R=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var P=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var A=(0,f.createCatchErrorDecorator)(p);var T=function(){function DataAnalysis(){this._segAnalysis=new b}DataAnalysis.prototype._simpleStringifyProperties=function(e,t){var n=this;if(!e){return""}if(t&&t>2){return"..."}return Object.entries(e).map((function(e){var r=P(e,2),o=r[0],i=r[1];var a=Object.prototype.toString.call(i);if(a==="[object String]"||a==="[object Number]"||a==="[object Boolean]"||a==="[object Array]"){return o+":"+i}if(a==="[object Undefined]"){return o+":undefined"}if(a==="[object Object]"){return o+":{"+n._simpleStringifyProperties(i,t?t+1:1)+"}"}return o+":"+a})).join(", ")};DataAnalysis.prototype.init=function(){return w(this,void 0,Promise,(function(){return R(this,(function(e){switch(e.label){case 0:p.info("init()");if(C.B.getIsRunningE2E()){p.info("is running e2e");return[2]}return[4,this._segAnalysis.init()];case 1:e.sent();return[2]}}))}))};DataAnalysis.prototype.setProduction=function(e){p.info("setProduction(): isProduction=",e);this._segAnalysis.setProduction(e)};DataAnalysis.prototype.lightIdentify=function(e,t){p.info("lightIdentify(): id = "+(t||"anonymous")+", traits = "+JSON.stringify(e));this._segAnalysis.lightIdentify(e,t)};DataAnalysis.prototype.alias=function(e,t){p.info("alias newId: "+e+", previousId: "+t);this._segAnalysis.alias(e,t)};DataAnalysis.prototype.identify=function(e,t){p.info("identify(): id = "+e+", properties = "+JSON.stringify((0,f.sensitive)(t)));this._segAnalysis.identify(e,t)};DataAnalysis.prototype.group=function(e,t){p.info("group(): id = "+e+", properties = "+JSON.stringify((0,f.sensitive)(t)));this._segAnalysis.group(e,t)};DataAnalysis.prototype.page=function(e,t){var n=(0,f.sensitive)(t);p.info("page(): name = "+e+", properties = "+JSON.stringify(n));p.getLogInsight(m.COMPONENT,m.FILTER.SESSION).step(S.ACTION.PAGE+" - "+e,this._simpleStringifyProperties(n),S.CATEGORY.USER_ACTION);this._segAnalysis.page(e,t)};DataAnalysis.prototype.track=function(e,t){var n=(0,f.sensitive)(t);p.info("track(): id = "+e+", properties = "+JSON.stringify(n));this._segAnalysis.track(e,t);p.getLogInsight(m.COMPONENT,m.FILTER.SESSION).step(S.ACTION.TRACK+" - "+e,this._simpleStringifyProperties(n),S.CATEGORY.USER_ACTION)};DataAnalysis.prototype.update=function(e){p.info("update(): properties = "+JSON.stringify((0,f.sensitive)(e)));this._segAnalysis.update(e)};var e,t,n,r,o,i,a;E([A,I("design:type",Function),I("design:paramtypes",[Object,Number]),I("design:returntype",String)],DataAnalysis.prototype,"_simpleStringifyProperties",null);E([A,I("design:type",Function),I("design:paramtypes",[]),I("design:returntype",typeof(e=typeof Promise!=="undefined"&&Promise)==="function"?e:Object)],DataAnalysis.prototype,"init",null);E([A,I("design:type",Function),I("design:paramtypes",[Boolean]),I("design:returntype",void 0)],DataAnalysis.prototype,"setProduction",null);E([A,I("design:type",Function),I("design:paramtypes",[typeof(t=typeof Object!=="undefined"&&Object)==="function"?t:Object,Object]),I("design:returntype",void 0)],DataAnalysis.prototype,"lightIdentify",null);E([A,I("design:type",Function),I("design:paramtypes",[String,String]),I("design:returntype",void 0)],DataAnalysis.prototype,"alias",null);E([A,I("design:type",Function),I("design:paramtypes",[Object,typeof(n=typeof Object!=="undefined"&&Object)==="function"?n:Object]),I("design:returntype",void 0)],DataAnalysis.prototype,"identify",null);E([A,I("design:type",Function),I("design:paramtypes",[String,typeof(r=typeof Object!=="undefined"&&Object)==="function"?r:Object]),I("design:returntype",void 0)],DataAnalysis.prototype,"group",null);E([A,I("design:type",Function),I("design:paramtypes",[String,typeof(o=typeof Object!=="undefined"&&Object)==="function"?o:Object]),I("design:returntype",void 0)],DataAnalysis.prototype,"page",null);E([A,I("design:type",Function),I("design:paramtypes",[String,typeof(i=typeof Object!=="undefined"&&Object)==="function"?i:Object]),I("design:returntype",void 0)],DataAnalysis.prototype,"track",null);E([A,I("design:type",Function),I("design:paramtypes",[typeof(a=typeof Object!=="undefined"&&Object)==="function"?a:Object]),I("design:returntype",void 0)],DataAnalysis.prototype,"update",null);return DataAnalysis}()},154112:(e,t,n)=>{"use strict";n.d(t,{y:()=>o,a:()=>i});var r=n(570265);var o="SEGMENT_CONFIG_STORE";var i=new r.BaseConfig({clientId:"",enable:false})},106945:(e,t,n)=>{"use strict";n.d(t,{ZJ:()=>getEndPoint,Xf:()=>getPlatform,eN:()=>isWin11OrAbove});var r=n(520279);var o=n.n(r);function getEndPoint(){var e="others";if(!window["jupiterElectron"]){e="web"}else{var t=window["jupiterElectron"];var n=t.getElectronVersionInfo();if(n.platform){var r=n.platform,o=n.arch;e=getPlatform(r,o)}}return e}function getPlatform(e,t){if(e==="darwin"){return"mac"}return e==="win32"?t==="x64"?"win64":"win32":"others"}var i;function getOSVersion(){if(i){return i}if("userAgentData"in navigator){window.navigator["userAgentData"].getHighEntropyValues(["platformVersion"]).then((function(e){i=e.platformVersion}))}return i}getOSVersion();function getOSRelease(){if(window["jupiterElectron"]&&window["jupiterElectron"].getElectronVersionInfo){return window["jupiterElectron"].getElectronVersionInfo().osRelease}return null}var a=getOSRelease();var u=navigator.platform.toUpperCase().indexOf("WIN")>=0;function isWin11OrAbove(){if(!u){return false}if(i){var e=parseInt(i.split(".")[0]);return e>=13}else if(a&&o().valid(a)){return o().gte(a,"10.0.22000")}return false}},485467:(e,t,n)=>{"use strict";n.r(t);n.d(t,{AudioModule:()=>O});var r=n(461197);var o=n(375960);var i=n(796084);var a=n(907151);var u=n(298784);var s=n.n(u);var c=n(704609);var l=n(986224);var f;(function(e){e[e["EMPTY"]=0]="EMPTY";e[e["STORAGE"]=1]="STORAGE";e[e["LAST_USED"]=2]="LAST_USED";e[e["NEW_DEVICE"]=3]="NEW_DEVICE";e[e["DEVICE_MANAGER"]=4]="DEVICE_MANAGER";e[e["DEVICE_COMPATIBILITY"]=5]="DEVICE_COMPATIBILITY";e[e["DEFAULT"]=6]="DEFAULT"})(f||(f={}));var d="[DeviceSyncManger]";var p=function(){function DeviceSyncManger(e,t,n){var r=this;this._storage=e;this._deviceManager=t;this._lastUsedDeviceManager=n;this._disposers=[];this._handleStorageChanged=function(e){if(r._deviceManager.getDeviceId()!==e){a.k.tags(d).debug("apply Storage value changed:",e);r.setDevice({source:f.STORAGE,deviceId:e})}};this._handleDeviceManagerChanged=function(e){if(r._storage.get()!==e){a.k.tags(d).debug("apply DeviceManager value changed:",e);r.setDevice({source:f.DEVICE_MANAGER,deviceId:e})}};this._ensureDevice=function(){var e=r._deviceManager.getDevices();if(!e.length){a.k.tags(d).debug("devices is empty");return{source:f.EMPTY,deviceId:""}}var t=r._storage.get();if(e.find((function(e){return e.deviceId===t}))){a.k.tags(d).debug("find available deviceId in storage:",t);return{source:f.STORAGE,deviceId:t}}var n=r._deviceManager.getDeviceId();if(e.find((function(e){return e.deviceId===n}))){return{source:f.DEVICE_MANAGER,deviceId:n}}var o=r._deviceManager.getDefaultDeviceId(e);a.k.tags(d).debug("use default device id:",o);return{source:f.DEFAULT,deviceId:o}}}DeviceSyncManger.prototype.startSync=function(){this._storage.on&&this._disposers.push(this._storage.on(this._handleStorageChanged));this._deviceManager.on&&this._disposers.push(this._deviceManager.on(this._handleDeviceManagerChanged))};DeviceSyncManger.prototype.endSync=function(){this._disposers.forEach((function(e){return e()}))};DeviceSyncManger.prototype.setDevice=function(e,t){if(t===void 0){t=false}var n=e.source,r=e.deviceId;if(n===f.EMPTY||s().isEmpty(r)){a.k.tags(d).info("setDevice as empty",{source:n,deviceId:r});this._deviceManager.setDeviceId("");return}var i=n===f.DEFAULT&&this._deviceManager.hasDefaultDevice()?o.wS:r;var u=this._deviceManager.getDevices().find((function(e){return e.deviceId===r}));a.k.tags(d).info("deviceId",{deviceId:r});if(t||r!==this._deviceManager.getDeviceId()){a.k.tags(d).info("setDevice to deviceManager",{source:n,deviceId:r,device:u});this._deviceManager.setDeviceId(r)}if(t||i!==this._storage.get()){a.k.tags(d).info("setDevice to storage",{source:n,deviceId:r,storeId:i,device:u});this._storage.set(i)}this._lastUsedDeviceManager.record(i)};DeviceSyncManger.prototype.ensureDevice=function(e){if(e===void 0){e=false}this.setDevice(this._ensureDevice(),e)};return DeviceSyncManger}();var h=5;var v=function(){function LastUsedDeviceManager(e){this._storage=e}LastUsedDeviceManager.prototype._getHistories=function(){var e=this._storage.get();var t=[];if(e){try{t=e.split(",")}catch(t){a.k.tags("LastUsedDeviceManager").warn("parse storage value fail:",e)}}return t};LastUsedDeviceManager.prototype.record=function(e){var t=this._getHistories().filter((function(t){return e!==t}));t.push(e);if(t.length>h){t.splice(0,t.length-h)}this._storage.set(t.join(","))};LastUsedDeviceManager.prototype.getLastAvailableUsedDevice=function(e){var t=new Set(e.map((function(e){return e.deviceId})));var n=s().findLast(this._getHistories(),(function(e){return t.has(e)}));return n};return LastUsedDeviceManager}();var g=n(814678);var _=n(208007);var y=n(18336);var b=n(804722);var C=n(167269);var m=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var S=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e};var E="[MediaDevicesDelegate]";var I=.5;var w={HANDS_FREE:"Hands-Free",STEREO:"Stereo"};var R;var P=function(){function VoIPMediaDevicesDelegate(){this._audioDeviceManager=i.p.instance();this._volumeManager=b.l.instance();this._handleVolumeChanged=function(e){if(c.x.getCurrentVolume()!==String(e)){c.x.setCurrentVolume(String(e))}};this._init()}VoIPMediaDevicesDelegate.prototype._init=function(){this._microphoneSyncManager=new p(this._buildDeviceStorage(l.Z.CURRENT_MICROPHONE),y.ob.getInstance(),this._buildLastUsedDeviceManager(l.Z.USED_MICROPHONE_HISTORY));this._speakerSyncManager=new p(this._buildDeviceStorage(l.Z.CURRENT_SPEAKER),y.tP.getInstance(),this._buildLastUsedDeviceManager(l.Z.USED_SPEAKER_HISTORY));this._ringerSyncManager=new p(R=this._buildDeviceStorage(l.Z.CURRENT_RINGER),y.p9.getInstance(),this._buildLastUsedDeviceManager(l.Z.USED_RINGER_HISTORY));this._videoSyncManager=new p(this._buildDeviceStorage(l.Z.CURRENT_VIDEO),C.J.getInstance(),this._buildLastUsedDeviceManager(l.Z.USED_VIDEO_HISTORY));this._initDevicesState();this._subscribe()};VoIPMediaDevicesDelegate.prototype._buildDeviceStorage=function(e){var t={get:function(){return c.x.get(e)},set:function(t){c.x.put(e,t)},on:function(t){var finalCallback=function(e,n){return t(n)};c.x.on(e,finalCallback);return function(){return c.x.off(e,finalCallback)}}};return t};VoIPMediaDevicesDelegate.prototype._buildLastUsedDeviceManager=function(e){return new v({get:function(){return c.x.get(e)},set:function(t){c.x.put(e,t)}})};VoIPMediaDevicesDelegate.prototype._initDevicesState=function(){a.k.tags(E).info("init");var e=c.x.getCurrentVolume();if(!e){e=I;c.x.setCurrentVolume(String(I))}else{e=Number(e)}this._volumeManager.setVolume(e);this._microphoneSyncManager.ensureDevice();this._speakerSyncManager.ensureDevice();this._ringerSyncManager.ensureDevice();this._videoSyncManager.ensureDevice()};VoIPMediaDevicesDelegate.prototype._subscribe=function(){var e=this;this._microphoneSyncManager.startSync();this._speakerSyncManager.startSync();this._ringerSyncManager.startSync();this._videoSyncManager.startSync();this._volumeManager.addObserver((function(t){return e._handleVolumeChanged(t)}))};VoIPMediaDevicesDelegate.prototype._handleDeviceChange=function(e,t,n){if(n.deleted.length||n.hashChanged){e.ensureDevice(n.hashChanged)}};VoIPMediaDevicesDelegate.prototype.onMediaDevicesInitialed=function(e,t,n){this._initDevicesState();g.rF.emit(o.w7.INPUT_DEVICE_LIST_CHANGED,t);g.rF.emit(o.w7.OUTPUT_DEVICE_LIST_CHANGED,e);g.rF.emit(o.w7.VIDEO_INPUT_DEVICE_LIST_CHANGED,n)};VoIPMediaDevicesDelegate.prototype.onMediaDevicesChanged=function(e,t,n){a.k.tags(E).info("device change",{audioInputs:t,audioOutputs:e,videoInputs:n});if(t.delta.added.length||t.delta.deleted.length||t.delta.hashChanged){this._handleDeviceChange(this._microphoneSyncManager,t.devices,t.delta);g.rF.emit(o.w7.INPUT_DEVICE_LIST_CHANGED,t.devices)}if(e.delta.added.length||e.delta.deleted.length||e.delta.hashChanged){this._handleDeviceChange(this._speakerSyncManager,e.devices,e.delta);this._handleDeviceChangeForRinger(this._ringerSyncManager,e.devices,e.delta);g.rF.emit(o.w7.OUTPUT_DEVICE_LIST_CHANGED,e.devices)}if(n.delta.added.length||n.delta.deleted.length||n.delta.hashChanged){this._handleDeviceChange(this._videoSyncManager,n.devices,n.delta);g.rF.emit(o.w7.VIDEO_INPUT_DEVICE_LIST_CHANGED,n.devices)}};VoIPMediaDevicesDelegate.prototype.onMediaPermissionChanged=function(e,t){var n=this;if(t!=="granted"&&e==="granted"){this._initDevicesState()}g.rF.emit(o.w7.INPUT_DEVICE_LIST_CHANGED,y.ob.getInstance().getDevices());g.rF.emit(o.w7.OUTPUT_DEVICE_LIST_CHANGED,y.tP.getInstance().getDevices());g.rF.emit(o.w7.VIDEO_INPUT_DEVICE_LIST_CHANGED,C.J.getInstance().getDevices());a.k.tags(E).info("detect microphone permission changed.");if(e!=="granted")return;a.k.tags(E).info("process microphone.");this._switchStereoToHandsFreeIfNeed(y.ob.getInstance().getDevices(),this._audioDeviceManager.getCurrentAudioInput(),(function(e){return n._microphoneSyncManager.setDevice({deviceId:e,source:f.DEVICE_COMPATIBILITY})}));a.k.tags(E).info("process speaker.");this._switchStereoToHandsFreeIfNeed(y.tP.getInstance().getDevices(),this._audioDeviceManager.getCurrentAudioOutput(),(function(e){return n._speakerSyncManager.setDevice({deviceId:e,source:f.DEVICE_COMPATIBILITY})}));a.k.tags(E).info("process ringer.");this._switchStereoToHandsFreeIfNeed(y.p9.getInstance().getDevices(),this._currentRingerId,(function(e){return n._ringerSyncManager.setDevice({deviceId:e,source:f.DEVICE_COMPATIBILITY})}))};VoIPMediaDevicesDelegate.prototype._handleDeviceChangeForRinger=function(e,t,n){if(![_.J.ALL,_.J.OFF].includes(R.get())){this._handleDeviceChange(e,t,n)}};VoIPMediaDevicesDelegate.prototype.getRingerDevicesList=function(){var e=y.tP.getInstance().getDevices();if(e.length){return S(e,[{deviceId:_.J.ALL,label:_.J.ALL},{deviceId:_.J.OFF,label:_.J.OFF}])}return e};VoIPMediaDevicesDelegate.prototype._switchStereoToHandsFreeIfNeed=function(e,t,n){var r=this;var o=s().find(e,(function(e){return e.deviceId===t}));if(o){var i=this._extractBluetoothInfo(o.label);if(i&&i.bluetoothMode===w.STEREO){a.k.tags(E).info("detect bluetooth in stereo mode.");var u=s().find(e,(function(e){var t=r._extractBluetoothInfo(e.label);return!!(t&&t.bluetoothMode===w.HANDS_FREE&&t.deviceName===i.deviceName)}));if(u){n(u.deviceId);a.k.tags(E).info("switch bluetooth device: ",o," to:",u)}}}};VoIPMediaDevicesDelegate.prototype._extractBluetoothInfo=function(e){var t=/\((.*) (Hands-Free|Stereo)\) \(Bluetooth\)$/.exec(e);if(t){return{deviceName:t[1],bluetoothMode:t[2]}}return null};return VoIPMediaDevicesDelegate}();var A=n(460674);var T=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var O=function(e){T(AudioModule,e);function AudioModule(){return e!==null&&e.apply(this,arguments)||this}AudioModule.prototype.moduleName=function(){return o.oF};AudioModule.prototype.onLoad=function(){i.p.instance().setMediaDeviceDelegate(new P);this.getAudioSettingManager().load()};AudioModule.prototype.onUnload=function(){this.getAudioSettingManager().unload()};AudioModule.prototype.getAudioSettingManager=function(){if(!this._settingManager){this._settingManager=new A.v}return this._settingManager};return AudioModule}(r.AbstractModule)},704609:(e,t,n)=>{"use strict";n.d(t,{x:()=>a});var r=n(469882);var o=n(986224);var i=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var a=function(e){i(AudioGlobalConfig,e);function AudioGlobalConfig(){return e!==null&&e.apply(this,arguments)||this}AudioGlobalConfig.setCurrentMicrophone=function(e){this.put(o.Z.CURRENT_MICROPHONE,e)};AudioGlobalConfig.getCurrentMicrophone=function(){return this.get(o.Z.CURRENT_MICROPHONE)};AudioGlobalConfig.setCurrentSpeaker=function(e){this.put(o.Z.CURRENT_SPEAKER,e)};AudioGlobalConfig.getCurrentSpeaker=function(){return this.get(o.Z.CURRENT_SPEAKER)};AudioGlobalConfig.setCurrentRinger=function(e){this.put(o.Z.CURRENT_RINGER,e)};AudioGlobalConfig.getCurrentRinger=function(){return this.get(o.Z.CURRENT_RINGER)};AudioGlobalConfig.setCurrentVolume=function(e){this.put(o.Z.CURRENT_VOLUME,e)};AudioGlobalConfig.getCurrentVolume=function(){return this.get(o.Z.CURRENT_VOLUME)};AudioGlobalConfig.setCurrentVideo=function(e){this.put(o.Z.CURRENT_VIDEO,e)};AudioGlobalConfig.getCurrentVideo=function(){return this.get(o.Z.CURRENT_VIDEO)};AudioGlobalConfig.setUsedMicrophoneHistory=function(e){this.put(o.Z.USED_MICROPHONE_HISTORY,e)};AudioGlobalConfig.getUsedMicrophoneHistory=function(){return this.get(o.Z.USED_MICROPHONE_HISTORY)};AudioGlobalConfig.setUsedSpeakerHistory=function(e){this.put(o.Z.USED_SPEAKER_HISTORY,e)};AudioGlobalConfig.getUsedSpeakerHistory=function(){return this.get(o.Z.USED_SPEAKER_HISTORY)};AudioGlobalConfig.setUsedRingerHistory=function(e){this.put(o.Z.USED_RINGER_HISTORY,e)};AudioGlobalConfig.getUsedRingerHistory=function(){return this.get(o.Z.USED_RINGER_HISTORY)};AudioGlobalConfig.setHeadsetControl=function(e){this.put(o.Z.HEADSET_SUPPORT,e)};AudioGlobalConfig.getHeadsetControl=function(){return this.get(o.Z.HEADSET_SUPPORT)};AudioGlobalConfig.moduleName="audio";return AudioGlobalConfig}(r.GlobalConfig)},986224:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var r={CURRENT_MICROPHONE:"current_microphone",CURRENT_SPEAKER:"current_speaker",CURRENT_RINGER:"current_ringer",CURRENT_VIDEO:"current_video",USED_MICROPHONE_HISTORY:"used_microphone_history",USED_SPEAKER_HISTORY:"used_speaker_history",USED_RINGER_HISTORY:"used_ringer_history",USED_VIDEO_HISTORY:"used_video_history",CURRENT_VOLUME:"current_volume",EMERGENCY_ADDRESS:"emergency_address",HEADSET_SUPPORT:"headset_support"}},796084:(e,t,n)=>{"use strict";n.d(t,{p:()=>g});var r=n(879321);var o=n(298784);var i=n.n(o);var a=n(375960);var u=n(907151);var s="subscribePermissionChange";function subscribePermissionChange(e,t){if(navigator.permissions){navigator.permissions.query({name:e}).then((function(e){var n=e.state;e.addEventListener("change",(function(){if(n!==e.state){var r=n;n=e.state;t(e.state,r)}}))})).catch((function(e){u.k.warn(s,""+e.message)}))}}var c=n(667489);var l=n(615477);var f=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var d=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var p=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var h="AudioDeviceManager";var v;(function(e){e["AUDIO_OUTPUT"]="audiooutput";e["AUDIO_INPUT"]="audioinput";e["VIDEO_INPUT"]="videoinput"})(v||(v={}));var g=function(e){f(AudioDeviceManager,e);function AudioDeviceManager(){var t=e.call(this)||this;t._audioOutputs=[];t._audioInputs=[];t._videoInputs=[];t._audioInputTimer=null;t._audioOutputTimer=null;t._videoInputTimer=null;t._inputDeviceId="";t._videoInputDeviceId="";t._outputDeviceId="";t.initMediaDevices();t.subscribeDeviceChange();return t}AudioDeviceManager.instance=function(){if(!AudioDeviceManager._singleton){AudioDeviceManager._singleton=new AudioDeviceManager}return AudioDeviceManager._singleton};Object.defineProperty(AudioDeviceManager.prototype,"_webAdapterModule",{get:function(){return(0,c.getModuleAsync)(l.oF)},enumerable:true,configurable:true});AudioDeviceManager.prototype._enumerateDevices=function(){return this._webAdapterModule.then((function(e){return e.enumerateDevices()}))};AudioDeviceManager.prototype.setMediaDeviceDelegate=function(e){this._delegate=e};AudioDeviceManager.prototype.setAudioOutputDevice=function(e){var t=this;u.k.debug(h,"set audio output device id: "+e);this._outputDeviceId=e;if(this._audioOutputTimer){clearTimeout(this._audioOutputTimer);this._audioOutputTimer=null}this._audioOutputTimer=setTimeout((function(){t._emitAudioOutputChanged()}),500)};AudioDeviceManager.prototype.setAudioInputDevice=function(e){var t=this;u.k.debug(h,"set audio input device id: "+e);this._inputDeviceId=e;if(this._audioInputTimer){clearTimeout(this._audioInputTimer);this._audioInputTimer=null}this._audioInputTimer=setTimeout((function(){t._emitAudioInputChanged()}),500)};AudioDeviceManager.prototype.setVideoInputDevice=function(e){var t=this;u.k.debug(h,"set video input device id: "+e);this._videoInputDeviceId=e;if(this._videoInputTimer){clearTimeout(this._videoInputTimer);this._videoInputTimer=null}this._videoInputTimer=setTimeout((function(){t._emitAudioInputChanged()}),500)};AudioDeviceManager.prototype.subscribeDeviceChange=function(){var e=this;if(navigator.mediaDevices&&navigator.mediaDevices.addEventListener){navigator.mediaDevices.addEventListener("devicechange",(function(){e._onMediaDevicesChange()}))}c.notificationCenter.once(l.FY.VDI_AVAILABLE,(function(){e._onVdiAvailable()}));subscribePermissionChange("microphone",(function(t,n){e._onMediaPermissionChange(t,n)}));subscribePermissionChange("camera",(function(t,n){e._onMediaPermissionChange(t,n)}))};AudioDeviceManager.prototype._onVdiAvailable=function(){var e=this;c.notificationCenter.on(l.FY.VDI_CONNECTED,(function(){e._onMediaDevicesChange()}));c.notificationCenter.on(l.FY.VDI_DISCONNECTED,(function(){e._onMediaDevicesChange()}))};AudioDeviceManager.prototype.initMediaDevices=function(){return d(this,void 0,void 0,(function(){var e=this;return p(this,(function(t){u.k.debug(h,"init updating media device infos ...");if(!navigator.mediaDevices){return[2]}return[2,navigator.mediaDevices.enumerateDevices().then((function(t){var n=e._gotMediaDevices(t),r=n.audioInputs,o=n.audioOutputs,i=n.videoInputs;e._delegate&&e._delegate.onMediaDevicesInitialed(o,r,i)})).catch((function(e){u.k.error(h,"Failed to get media device infos: "+e)}))]}))}))};AudioDeviceManager.prototype.getAudioOutputs=function(){return this._audioOutputs};AudioDeviceManager.prototype.getAudioInputs=function(){return this._audioInputs};AudioDeviceManager.prototype.getVideoInputs=function(){return this._videoInputs};AudioDeviceManager.prototype.getCurrentAudioInput=function(){return this._inputDeviceId};AudioDeviceManager.prototype.getCurrentAudioOutput=function(){return this._outputDeviceId};AudioDeviceManager.prototype.getCurrentVideoInput=function(){return this._videoInputDeviceId};AudioDeviceManager.prototype.getCurrentExactAudioInput=function(){return this.getExactDeviceId(this._inputDeviceId,this._audioInputs)};AudioDeviceManager.prototype.getCurrentExactAudioOutput=function(){return this.getExactDeviceId(this._outputDeviceId,this._audioOutputs)};AudioDeviceManager.prototype.getAudioInputNameById=function(e){var t=this._audioInputs.find((function(t){return e===t.deviceId}));return t?t.label:a.qL};AudioDeviceManager.prototype.getAudioOutputNameById=function(e){var t=this._audioOutputs.find((function(t){return e===t.deviceId}));return t?t.label:a.qL};AudioDeviceManager.prototype.getExactDeviceId=function(e,t){if(e!==a.wS&&e!==a.FW){return e}var n=e;if(e===a.wS){n=this.getDefaultDeviceId(t,a.wS);if(n&&n!==a.wS){return n}return""}n=this.getDefaultDeviceId(t,a.FW);if(n&&n!==a.FW){return n}return e};AudioDeviceManager.prototype._emitAudioInputChanged=function(){this.emit(a.w7.INPUT_DEVICE_CHANGED)};AudioDeviceManager.prototype._emitAudioOutputChanged=function(){this.emit(a.w7.OUTPUT_DEVICE_CHANGED)};AudioDeviceManager.prototype._gotMediaDevices=function(e){var t=[];var n=[];var r=[];var o=[];var i=[];var s=[];var c=false;var l=false;var f=false;e.forEach((function(e){if(e.kind===v.AUDIO_INPUT){t.push(e);if(a.wS===e.deviceId){c=true}}else if(e.kind===v.AUDIO_OUTPUT){n.push(e);if(a.wS===e.deviceId){l=true}}else if(e.kind===v.VIDEO_INPUT){r.push(e);if(a.wS===e.deviceId){f=true}}}));if(c){u.k.debug(h,"Detect audio input devices has 'default' as deviceId")}else{u.k.debug(h,"Audio input devices has 'default' as deviceId NOT FOUND")}if(l){u.k.debug(h,"Detect audio output devices has 'default' as deviceId")}else{u.k.debug(h,"Audio output devices has 'default' as deviceId NOT FOUND")}if(f){u.k.debug(h,"Detect video input devices has 'default' as deviceId")}else{u.k.debug(h,"Video input devices has 'default' as deviceId NOT FOUND")}o=t;this._updateAudioDevices(v.AUDIO_INPUT,o);i=n;this._updateAudioDevices(v.AUDIO_OUTPUT,i);s=r;this._updateAudioDevices(v.VIDEO_INPUT,s);return{audioInputs:o,audioOutputs:i,videoInputs:s}};AudioDeviceManager.prototype.getDefaultDeviceId=function(e,t){if(t===void 0){t=a.wS}if(!e||e.length===0){return t}var n="";e.forEach((function(e){if(e.deviceId&&e.deviceId===t){n=e.label}}));if(n===""){return t}u.k.debug(h,t+" device label: "+n);var r=e.find((function(e){return e.deviceId!==t&&n.endsWith(e.label)}));if(r){u.k.debug(h,"Real device ID for "+t+" is: "+r.deviceId);return r.deviceId}return t};AudioDeviceManager.prototype._onMediaDevicesChange=function(){return d(this,void 0,void 0,(function(){var e=this;return p(this,(function(t){u.k.debug(h,"Updating media device infos ...");if(!navigator.mediaDevices){return[2]}return[2,this._enumerateDevices().then((function(t){var n=e._audioInputs;var r=e._audioOutputs;var o=e._videoInputs;var i=e._gotMediaDevices(t),a=i.audioInputs,u=i.audioOutputs,s=i.videoInputs;e._delegate&&e._delegate.onMediaDevicesChanged({devices:u,delta:e._getDevicesDelta(u,r)},{devices:a,delta:e._getDevicesDelta(a,n)},{devices:s,delta:e._getDevicesDelta(s,o)})})).catch((function(e){u.k.error(h,"Failed to get media device infos: "+e)}))]}))}))};AudioDeviceManager.prototype._onMediaPermissionChange=function(e,t){var n=this;u.k.debug(h,"Permission changed -> Updating media device label ...");if(!navigator.mediaDevices){return}return this._enumerateDevices().then((function(r){n._gotMediaDevices(r);n._delegate&&n._delegate.onMediaPermissionChanged(e,t)})).catch((function(e){u.k.error(h,"Failed to get media device infos: "+e)}))};AudioDeviceManager.prototype._getDevicesDelta=function(e,t){var compareFunc=function(e,t){return e.deviceId===t.deviceId};var n=i().differenceWith(t,e,compareFunc);var r=i().differenceWith(e,t,compareFunc);var o=this._checkIfDeviceChanged(t,e);return{hashChanged:o,added:r,deleted:n}};AudioDeviceManager.prototype._updateAudioDevices=function(e,t){if(!this._checkIfDeviceChanged(e===v.AUDIO_INPUT?this._audioInputs:e===v.AUDIO_OUTPUT?this._audioOutputs:this._videoInputs,t)){return}if(!this._delegate){e===v.AUDIO_INPUT?this.setAudioInputDevice(this.getDefaultDeviceId(t)):e===v.AUDIO_OUTPUT?this.setAudioOutputDevice(this.getDefaultDeviceId(t)):this.setVideoInputDevice(this.getDefaultDeviceId(t))}u.k.debug(h,e+" updated: "+JSON.stringify(t));if(e===v.AUDIO_INPUT){this._audioInputs=t;this.emit(a.w7.INPUT_DEVICE_LIST_CHANGED,t)}else if(e===v.AUDIO_OUTPUT){this._audioOutputs=t;this.emit(a.w7.OUTPUT_DEVICE_LIST_CHANGED,t)}else{this._videoInputs=t;this.emit(a.w7.VIDEO_INPUT_DEVICE_LIST_CHANGED,t)}};AudioDeviceManager.prototype._checkIfDeviceChanged=function(e,t){if(e.length!==t.length){return true}var n=this._generateDevicesHash(e);var r=this._generateDevicesHash(t);return n!==r};AudioDeviceManager.prototype._generateDevicesHash=function(e){if(e.length===0){return""}return i().reduce(e,(function(e,t){return e+t.deviceId+t.label}),"")};AudioDeviceManager._singleton=null;return AudioDeviceManager}(r.EventEmitter2)},836459:()=>{},18336:(e,t,n)=>{"use strict";n.d(t,{ob:()=>u,p9:()=>h,tP:()=>c});var r=n(796084);var o=n(814678);var i=n(375960);var a=["ZoomAudioDevice (Virtual)"];var u=function(){function MicrophoneSyncManager(){}MicrophoneSyncManager.getInstance=function(){if(!this._microphoneSyncManager){this._microphoneSyncManager=new MicrophoneSyncManager}return this._microphoneSyncManager};MicrophoneSyncManager.prototype.hasDefaultDevice=function(){return true};MicrophoneSyncManager.prototype.getDevices=function(){return r.p.instance().getAudioInputs().filter((function(e){if(a.includes(e.label))return false;return true}))};MicrophoneSyncManager.prototype.setDeviceId=function(e){return r.p.instance().setAudioInputDevice(e)};MicrophoneSyncManager.prototype.getDeviceId=function(){return r.p.instance().getCurrentAudioInput()};MicrophoneSyncManager.prototype.getDefaultDeviceId=function(e){return r.p.instance().getDefaultDeviceId(e)};MicrophoneSyncManager.prototype.on=function(e){o.rF.on(i.w7.INPUT_DEVICE_CHANGED,e);return function(){return o.rF.off(i.w7.INPUT_DEVICE_CHANGED,e)}};return MicrophoneSyncManager}();var s=["ZoomAudioDevice (Virtual)"];var c=function(){function SpeakerSyncManager(){}SpeakerSyncManager.getInstance=function(){if(!this._speakerSyncManager){this._speakerSyncManager=new SpeakerSyncManager}return this._speakerSyncManager};SpeakerSyncManager.prototype.hasDefaultDevice=function(){return true};SpeakerSyncManager.prototype.getDevices=function(){return r.p.instance().getAudioOutputs().filter((function(e){if(s.includes(e.label))return false;return true}))};SpeakerSyncManager.prototype.setDeviceId=function(e){return r.p.instance().setAudioOutputDevice(e)};SpeakerSyncManager.prototype.getDeviceId=function(){return r.p.instance().getCurrentAudioOutput()};SpeakerSyncManager.prototype.getDefaultDeviceId=function(e){return r.p.instance().getDefaultDeviceId(e)};return SpeakerSyncManager}();var l=n(208007);var f=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var d=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e};var p=["ZoomAudioDevice (Virtual)"];var h=function(){function RingerSyncManager(){}RingerSyncManager.getInstance=function(){if(!this._ringerSyncManager){this._ringerSyncManager=new RingerSyncManager}return this._ringerSyncManager};RingerSyncManager.prototype._getRingerDevicesList=function(){var e=c.getInstance().getDevices();if(e.length){return d(e,[{deviceId:l.J.ALL,label:l.J.ALL},{deviceId:l.J.OFF,label:l.J.OFF}])}return e};RingerSyncManager.prototype.hasDefaultDevice=function(){return true};RingerSyncManager.prototype.getDevices=function(){return this._getRingerDevicesList().filter((function(e){if(p.includes(e.label))return false;return true}))};RingerSyncManager.prototype.setDeviceId=function(e){this._currentRingerId=e};RingerSyncManager.prototype.getDeviceId=function(){return this._currentRingerId};RingerSyncManager.prototype.getDefaultDeviceId=function(e){return r.p.instance().getDefaultDeviceId(e)};return RingerSyncManager}()},167269:(e,t,n)=>{"use strict";n.d(t,{J:()=>c});var r=n(796084);var o=n(814678);var i=n(375960);var a=n(298784);var u=n.n(a);var s=["ZoomAudioDevice (Virtual)"];var c=function(){function VideoSyncManager(){}VideoSyncManager.getInstance=function(){if(!this._videoSyncManager){this._videoSyncManager=new VideoSyncManager}return this._videoSyncManager};VideoSyncManager.prototype.hasDefaultDevice=function(){return false};VideoSyncManager.prototype.getDevices=function(){return r.p.instance().getVideoInputs().filter((function(e){if(s.includes(e.label))return false;return true}))};VideoSyncManager.prototype.setDeviceId=function(e){return r.p.instance().setVideoInputDevice(e)};VideoSyncManager.prototype.getDeviceId=function(){var e;return r.p.instance().getCurrentVideoInput()||((e=u().first(this.getDevices()))===null||e===void 0?void 0:e.deviceId)};VideoSyncManager.prototype.getDefaultDeviceId=function(e){var t;return(t=u().first(e))===null||t===void 0?void 0:t.deviceId};VideoSyncManager.prototype.on=function(e){o.rF.on(i.w7.VIDEO_INPUT_DEVICE_CHANGED,e);return function(){return o.rF.off(i.w7.VIDEO_INPUT_DEVICE_CHANGED,e)}};return VideoSyncManager}()},907151:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(862926);var o=n.n(r);var i="[AUDIO][CORE]";var a=r.ModuleLogger.getLogger(i,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.COMMON)},460674:(e,t,n)=>{"use strict";n.d(t,{v:()=>C});var r=n(696206);var o=n(375960);var i=n(780753);var a=n(486450);var u=n(892499);var s=n(906488);var c=n(707938);var l=n(531616);var f=n(986224);var d=n(704609);var p=n(828771);var h=n(167269);var v=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var g=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var _=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var y=function(e){v(VideoSourceSettingItemProvider,e);function VideoSourceSettingItemProvider(){return e.call(this,{id:o.oy.VideoSource})||this}VideoSourceSettingItemProvider.prototype.buildValueProvider=function(){return this.buildBaseItemValueProvider({getter:function(){return g(this,void 0,void 0,(function(){var e,t;return _(this,(function(n){e=h.J.getInstance().getDevices();t=h.J.getInstance().getDeviceId();return[2,e.find((function(e){return e.deviceId===t}))]}))}))},setter:function(e){return g(this,void 0,void 0,(function(){return _(this,(function(t){d.x.setCurrentVideo(e.deviceId);return[2]}))}))}})};VideoSourceSettingItemProvider.prototype.buildSourceProvider=function(){return this.buildBaseItemValueProvider({getter:function(){return g(this,void 0,void 0,(function(){return _(this,(function(e){return[2,h.J.getInstance().getDevices()]}))}))}})};VideoSourceSettingItemProvider.prototype.buildStateProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return g(e,void 0,void 0,(function(){var e,t,n;return _(this,(function(r){e=h.J.getInstance().getDevices();t=l.Ye.ENABLE;if(!e.length){t=l.Ye.DISABLE}n=(0,p.i)();if(!n){t=l.Ye.INVISIBLE}return[2,t]}))}))}})};VideoSourceSettingItemProvider.prototype.onLoad=function(){var e=this;var handleUpdate=function(){e.getSourceProvider().notifyChange();e.getValueProvider().notifyChange();e.getStateProvider().notifyChange()};this.on(o.w7.VIDEO_INPUT_DEVICE_LIST_CHANGED,handleUpdate);this.addSubscription((function(){d.x.on(f.Z.CURRENT_VIDEO,handleUpdate);return function(){return d.x.off(f.Z.CURRENT_VIDEO,handleUpdate)}}))};return VideoSourceSettingItemProvider}(c.t);var b=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var C=function(e){b(AudioSettingManager,e);function AudioSettingManager(){return e!==null&&e.apply(this,arguments)||this}AudioSettingManager.prototype.getProviderMap=function(){var e;return e={},e[o.oy.Phone_MicrophoneSource]=new i.d,e[o.oy.Phone_SpeakerSource]=new a.R,e[o.oy.Phone_RingerSource]=new u.L,e[o.oy.Phone_Volume]=new s.K,e[o.oy.VideoSource]=new y,e};return AudioSettingManager}(r.AbstractModuleSettingProviderManager)},455657:(e,t,n)=>{"use strict";var r=n(460674);var o=n(780753);var i=n(892499);var a=n(486450);var u=n(906488)},780753:(e,t,n)=>{"use strict";n.d(t,{d:()=>v});var r=n(707938);var o=n(531616);var i=n(375960);var a=n(986224);var u=n(704609);var s=n(18336);var c=n(963786);var l=n(470033);var f=n(828771);var d=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var p=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var h=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var v=function(e){d(MicrophoneSourceSettingItemProvider,e);function MicrophoneSourceSettingItemProvider(){return e.call(this,{id:i.oy.Phone_MicrophoneSource})||this}MicrophoneSourceSettingItemProvider.prototype.buildValueProvider=function(){return this.buildBaseItemValueProvider({getter:function(){return p(this,void 0,void 0,(function(){var e;return h(this,(function(t){e=s.ob.getInstance().getDevices();return[2,e.find((function(e){return e.deviceId===u.x.getCurrentMicrophone()}))]}))}))},setter:function(e){return p(this,void 0,void 0,(function(){return h(this,(function(t){u.x.setCurrentMicrophone(e.deviceId);return[2]}))}))}})};MicrophoneSourceSettingItemProvider.prototype.buildSourceProvider=function(){return this.buildBaseItemValueProvider({getter:function(){return p(this,void 0,void 0,(function(){return h(this,(function(e){return[2,s.ob.getInstance().getDevices()]}))}))}})};MicrophoneSourceSettingItemProvider.prototype.buildStateProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return p(e,void 0,void 0,(function(){var e,t,n;return h(this,(function(r){e=s.ob.getInstance().getDevices();t=o.Ye.ENABLE;if(!e.length){t=o.Ye.DISABLE}n=(0,f.i)()&&(0,c.x6)()&&(0,c.x6)().context.entitlement.get(l.H3.AudioDevice.Microphone);if(!n){t=o.Ye.INVISIBLE}return[2,t]}))}))}})};MicrophoneSourceSettingItemProvider.prototype.onLoad=function(){var e=this;var handleUpdate=function(){e.getSourceProvider().notifyChange();e.getValueProvider().notifyChange();e.getStateProvider().notifyChange()};this.on(i.w7.INPUT_DEVICE_LIST_CHANGED,handleUpdate);this.addSubscription((function(){u.x.on(a.Z.CURRENT_MICROPHONE,handleUpdate);return function(){return u.x.off(a.Z.CURRENT_MICROPHONE,handleUpdate)}}));this.onEntitlement(l.H3.AudioDevice.Microphone,handleUpdate)};return MicrophoneSourceSettingItemProvider}(r.t)},892499:(e,t,n)=>{"use strict";n.d(t,{L:()=>v});var r=n(707938);var o=n(531616);var i=n(375960);var a=n(986224);var u=n(704609);var s=n(18336);var c=n(470033);var l=n(963786);var f=n(828771);var d=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var p=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var h=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var v=function(e){d(RingerSourceSettingItemProvider,e);function RingerSourceSettingItemProvider(){return e.call(this,{id:i.oy.Phone_RingerSource})||this}RingerSourceSettingItemProvider.prototype.buildValueProvider=function(){return this.buildBaseItemValueProvider({getter:function(){return p(this,void 0,void 0,(function(){var e;return h(this,(function(t){e=s.p9.getInstance().getDevices();return[2,e.find((function(e){return e.deviceId===u.x.getCurrentRinger()}))]}))}))},setter:function(e){return p(this,void 0,void 0,(function(){return h(this,(function(t){u.x.setCurrentRinger(e.deviceId);return[2]}))}))}})};RingerSourceSettingItemProvider.prototype.buildSourceProvider=function(){return this.buildBaseItemValueProvider({getter:function(){return p(this,void 0,void 0,(function(){return h(this,(function(e){return[2,s.p9.getInstance().getDevices()]}))}))}})};RingerSourceSettingItemProvider.prototype.buildStateProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return p(e,void 0,void 0,(function(){var e,t,n;return h(this,(function(r){e=s.p9.getInstance().getDevices();t=o.Ye.ENABLE;if(!e.length){t=o.Ye.DISABLE}n=(0,f.i)()&&(0,l.x6)()&&(0,l.x6)().context.entitlement.get(c.H3.AudioDevice.Ringer);if(!n){t=o.Ye.INVISIBLE}return[2,t]}))}))}})};RingerSourceSettingItemProvider.prototype.onLoad=function(){var e=this;var handleUpdate=function(){e.getSourceProvider().notifyChange();e.getValueProvider().notifyChange();e.getStateProvider().notifyChange()};this.on(i.w7.OUTPUT_DEVICE_LIST_CHANGED,handleUpdate);this.addSubscription((function(){u.x.on(a.Z.CURRENT_RINGER,handleUpdate);return function(){u.x.off(a.Z.CURRENT_RINGER,handleUpdate)}}));this.onEntitlement(c.H3.AudioDevice.Ringer,handleUpdate)};return RingerSourceSettingItemProvider}(r.t)},486450:(e,t,n)=>{"use strict";n.d(t,{R:()=>v});var r=n(707938);var o=n(531616);var i=n(375960);var a=n(986224);var u=n(704609);var s=n(18336);var c=n(963786);var l=n(470033);var f=n(828771);var d=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var p=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var h=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var v=function(e){d(SpeakerSourceSettingItemProvider,e);function SpeakerSourceSettingItemProvider(){return e.call(this,{id:i.oy.Phone_SpeakerSource})||this}SpeakerSourceSettingItemProvider.prototype.buildValueProvider=function(){return this.buildBaseItemValueProvider({getter:function(){return p(this,void 0,void 0,(function(){var e;return h(this,(function(t){e=s.tP.getInstance().getDevices();return[2,e.find((function(e){return e.deviceId===u.x.getCurrentSpeaker()}))]}))}))},setter:function(e){return p(this,void 0,void 0,(function(){return h(this,(function(t){u.x.setCurrentSpeaker(e.deviceId);return[2]}))}))}})};SpeakerSourceSettingItemProvider.prototype.buildSourceProvider=function(){return this.buildBaseItemValueProvider({getter:function(){return p(this,void 0,void 0,(function(){return h(this,(function(e){return[2,s.tP.getInstance().getDevices()]}))}))}})};SpeakerSourceSettingItemProvider.prototype.buildStateProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return p(e,void 0,void 0,(function(){var e,t,n;return h(this,(function(r){e=s.tP.getInstance().getDevices();t=o.Ye.ENABLE;if(!e.length){t=o.Ye.DISABLE}n=(0,f.i)()&&(0,c.x6)()&&(0,c.x6)().context.entitlement.get(l.H3.AudioDevice.Speaker);if(!n){t=o.Ye.INVISIBLE}return[2,t]}))}))}})};SpeakerSourceSettingItemProvider.prototype.onLoad=function(){var e=this;var handleUpdate=function(){e.getSourceProvider().notifyChange();e.getValueProvider().notifyChange();e.getStateProvider().notifyChange()};this.on(i.w7.OUTPUT_DEVICE_LIST_CHANGED,handleUpdate);this.addSubscription((function(){u.x.on(a.Z.CURRENT_SPEAKER,handleUpdate);return function(){u.x.off(a.Z.CURRENT_SPEAKER,handleUpdate)}}));this.onEntitlement(l.H3.AudioDevice.Speaker,handleUpdate)};return SpeakerSourceSettingItemProvider}(r.t)},906488:(e,t,n)=>{"use strict";n.d(t,{K:()=>f});var r=n(187933);var o=n(707938);var i=n(531616);var a=n(375960);var u=n(915202);var s=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var c=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var l=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var f=function(e){s(VolumeSettingItemProvider,e);function VolumeSettingItemProvider(){return e.call(this,{id:a.oy.Phone_Volume,state:{type:r.Pe.MEMORY,defaultValue:i.Ye.ENABLE}})||this}VolumeSettingItemProvider.prototype.buildValueProvider=function(){return this.buildBaseItemValueProvider({getter:function(){return Promise.resolve(u.VolumeManager.instance().getVolume())},setter:function(e){return c(this,void 0,void 0,(function(){return l(this,(function(t){u.VolumeManager.instance().setVolume(e);return[2]}))}))}})};VolumeSettingItemProvider.prototype.onLoad=function(){var e=this;this.addSubscription((function(){return u.VolumeManager.instance().addObserver((function(t){return e.getValueProvider().notifyChange(t)}))}))};return VolumeSettingItemProvider}(o.t)},828771:(e,t,n)=>{"use strict";n.d(t,{i:()=>isChrome});var r=n(390582);var isChrome=function(){return r.i7}},208007:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var r;(function(e){e["ALL"]="all";e["OFF"]="off";e["DEFAULT"]="default"})(r||(r={}))},144409:(e,t,n)=>{"use strict";n.r(t);n.d(t,{BadgeModule:()=>c});var r=n(15511);var o=n(461197);var i=n(814678);var a=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var u=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var s=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var c=function(e){a(BadgeModule,e);function BadgeModule(){var t=e!==null&&e.apply(this,arguments)||this;t._badgeMap=new Map;return t}BadgeModule.prototype.moduleName=function(){return r.F};BadgeModule.prototype.onLoad=function(){};BadgeModule.prototype.onUnload=function(){};BadgeModule.prototype.getById=function(e){return u(this,void 0,Promise,(function(){var t;return s(this,(function(n){t=this._badgeMap.get(e);if(t){return[2,t()]}return[2,null]}))}))};BadgeModule.prototype.registerBadge=function(e,t){this._badgeMap.set(e,t);this.updateBadge(t())};BadgeModule.prototype.unregisterBadge=function(e){this._badgeMap.delete(e)};BadgeModule.prototype.updateBadge=function(e){i.rF.emitEntityUpdate(r.K.ENTITY.BADGE,[e])};return BadgeModule}(o.AbstractModule)},15511:(e,t,n)=>{"use strict";n.d(t,{F:()=>o,K:()=>i});var r=n(295454);var o=r.Lb.BADGE;var i={ENTITY:{BADGE:o+".ENTITY.BADGE"}}},827748:()=>{},90416:(e,t,n)=>{"use strict";n.d(t,{BADGE_EVENT:()=>i.K,BADGE_MODULE_NAME:()=>i.F});var r=n(144409);var o=n(827748);var i=n(15511)},689070:(e,t,n)=>{"use strict";n.d(t,{dQ:()=>G,BaseEventDataTransformer:()=>W,EDC_UPLOAD_CONTROL_KEY_MAP:()=>g,EVENT_DATA_STORE_NAME:()=>y});var r=n(862926);var o=n(38942);var i=n(298784);var a=n.n(i);var u="[BASE_DATA_TRACKING][CORE]";var s=r.ModuleLogger.getLogger(u,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.FOUNDATION);var c=n(667489);var l=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var f="DATA_TRACKING";var d=function(e){l(DataTrackingLocalStorage,e);function DataTrackingLocalStorage(){return e!==null&&e.apply(this,arguments)||this}DataTrackingLocalStorage.getValue=function(e){return this.get(e)};DataTrackingLocalStorage.setValue=function(e,t){this.put(e,t)};DataTrackingLocalStorage.moduleName=f;return DataTrackingLocalStorage}(c.GlobalConfig);var p=function(){function EventlogLocalStorageController(e){this._localStorageKey=e}EventlogLocalStorageController.prototype.getItems=function(){var e=d.getValue(this._localStorageKey);if(e&&e.length>0){d.remove(this._localStorageKey);try{return JSON.parse(e)}catch(e){s.warn("getItems failed.",e);return[]}}return[]};EventlogLocalStorageController.prototype.setItems=function(e){if(e.length>0){try{var t=JSON.stringify(e);d.setValue(this._localStorageKey,t)}catch(e){s.warn("setItems failed.",e)}}};return EventlogLocalStorageController}();var h=n(424843);var v=n(302186);var g={PerformanceSet:"performance",API:"api",Custom:"custom",enabled:"mainEnable"};var _="DataTracerModule";var y="eventData";var b;(function(e){e["FILED_EVENT"]="event";e["FILED_EVENT_TYPE"]="type";e["FILED_EVENT_DETAILS_USER_ID"]="userid";e["FILED_EVENT_DETAILS_COMPANY_ID"]="companyid";e["FILED_EVENT_DETAILS_DATA_KEY"]="key";e["FILED_EVENT_API_DETAILS_DATA_HOST"]="host";e["FILED_EVENT_API_DETAILS_DATA_PATH"]="path"})(b||(b={}));var C={LOW:"low",NORMAL:"normal",HIGH:"high"};var m=1e4;var S=3e4;var E=100;var I=10;var w={persistenceConfig:{queueSizeLimit:10,enablePersistenceDB:true},retryConfig:{enable:true,delayBaseTime:10,delayLimitTime:120,maxRetryCount:Number.MAX_VALUE,canRetry:function(e){return true}}};var R=function(){function HttpUploader(e,t,n){if(n===void 0){n=m}var r;this._userAgent=(r=v.Pal.instance.getPlatformUtils())===null||r===void 0?void 0:r.buildUserAgentForHttp();this.reInitNetwork(e,t);this._timeout=n}HttpUploader.prototype.reInitNetwork=function(e,t){var n={host:e.server,pathPrefix:e.url,handlerName:h.CustomNetworkHandlerConfig.handlerName};var o=new c.ResponseParser;o.register(new c.CommonResponseParser);this._networkClient=new c.NetworkClient(n,r.NETWORK_VIA.HTTP,t,o)};HttpUploader.prototype.updateTimeout=function(e){if(this._timeout!==e){this._timeout=e}};HttpUploader.prototype.doUpload=function(e){var t;return this._networkClient.post({timeout:this._timeout,authFree:true,path:r.RequestPath.buildRequestPath(""),via:r.NETWORK_VIA.HTTP,data:e,headers:(t={},t[r.X_USER_AGENT]=this._userAgent,t)})};return HttpUploader}();var P=n(95279);var A=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var T=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var O=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var N="DATA_EVENT_ID";var x=function(e){A(DataTrackingDao,e);function DataTrackingDao(t,n){var r=e.call(this,n,t)||this;r._firstCountCall=false;r._preExistItemMark=false;return r}DataTrackingDao.prototype.getAllItems=function(e){return T(this,void 0,void 0,(function(){var t,n;return O(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,this.getAll()];case 1:t=r.sent();if(t&&t.length>0&&e){this.clear();this._preExistItemMark=false}else if(t&&t.length===0){this._preExistItemMark=false}return[2,Promise.resolve(this.parseEventData(t))];case 2:n=r.sent();return[2,[]];case 3:return[2]}}))}))};DataTrackingDao.prototype.getItems=function(e,t){return T(this,void 0,Promise,(function(){var n,r,o,i,a;return O(this,(function(u){switch(u.label){case 0:u.trys.push([0,6,,7]);return[4,this.count()];case 1:n=u.sent();if(n===0){this._preExistItemMark=false;return[2,[]]}r=n;if(n>e){r=e;this._preExistItemMark=true}else{this._preExistItemMark=false}return[4,this.createQuery().limit(r).primaryKeys()];case 2:o=u.sent();return[4,this.batchGet(o)];case 3:i=u.sent();if(!t)return[3,5];return[4,this.bulkDelete(o)];case 4:u.sent();u.label=5;case 5:return[2,Promise.resolve(this.parseEventData(i))];case 6:a=u.sent();return[2,[]];case 7:return[2]}}))}))};DataTrackingDao.prototype.setItems=function(e){return T(this,void 0,Promise,(function(){var t,n;return O(this,(function(r){switch(r.label){case 0:r.trys.push([0,3,,4]);if(!(e&&e.length>0))return[3,2];this._preExistItemMark=true;t={id:N,event:e};return[4,this.put(t)];case 1:r.sent();r.label=2;case 2:return[3,4];case 3:n=r.sent();return[3,4];case 4:return[2]}}))}))};DataTrackingDao.prototype.count=function(){return T(this,void 0,Promise,(function(){var e,t;return O(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,this.getAllCount()];case 1:e=n.sent();return[2,Promise.resolve(e)];case 2:t=n.sent();return[2,0];case 3:return[2]}}))}))};DataTrackingDao.prototype.existItem=function(){return T(this,void 0,Promise,(function(){var e,t;return O(this,(function(n){switch(n.label){case 0:n.trys.push([0,3,,4]);if(!!this._firstCountCall)return[3,2];return[4,this.count()];case 1:e=n.sent();e>0?this._preExistItemMark=true:this._preExistItemMark=false;this._firstCountCall=true;n.label=2;case 2:return[3,4];case 3:t=n.sent();return[3,4];case 4:return[2,this._preExistItemMark]}}))}))};DataTrackingDao.prototype.parseEventData=function(e){var t=[];if(e&&e.length>0){e.forEach((function(e){if(e){t=t.concat(e.event)}}))}return t};return DataTrackingDao}(P.BaseDao);var D=function(){function BulkEventlogUploadController(e,t,n,o,i,u){var s=this;this.dispose=function(){s._stopTimer();var e=s._dataUploadController.getQueueAll(true);var t=s._memQueue.peekAll();if(t.length>0){e.push(t)}if(e.length>0){s._evlLocalStorageController.setItems(e)}s._unSubscribePermissionChange()};this.init=function(){s._subscribePermissionChange();s._startTimer();var e=s._evlLocalStorageController.getItems();if(e.length>0){s._dataUploadController.setQueue(e)}s._dataUploadController.tryConsume()};this._doUpload=function(){var e=s._memQueue.peekAll();if(e.length>0){s._dataUploadController.uploadData(e)}};this._handlePermissionChange=function(e){if(e){var t=a().get(e,"Config");if(t){var n=a().get(t,"upload");if(n){s._updateUploadConfig(n)}var r=a().get(t,"storage");if(r){s._updateStorageConfig(r)}}}};this._bulkUploadConfig={maxCount:E,interval:S,timeout:m};this._uploadConf=o;this._bulkStorageConfig={enable:this._uploadConf.persistenceConfig.enablePersistenceDB,maxCount:this._uploadConf.persistenceConfig.queueSizeLimit};this._networkManager=n;this._intervalJobID=null;this._uploader=new R(e,this._networkManager);this._persistenceOperator=t.getDao(x,i);this._dataUploadController=new r.DataUploadController(o,this._uploader,this._persistenceOperator);this._evlLocalStorageController=new p(u);this._memQueue=new r.MemoryQueue}BulkEventlogUploadController.prototype.uploadLog=function(e){if(!e){return}if(a().isArray(e)){this._memQueue.addTails(e)}else{this._memQueue.addTail(e)}this._checkQueueLimitToUpload()};BulkEventlogUploadController.prototype.updateEndPointAddress=function(e){this._uploader.reInitNetwork(e,this._networkManager)};BulkEventlogUploadController.prototype._stopTimer=function(){if(this._intervalJobID){clearInterval(this._intervalJobID);this._intervalJobID=null}};BulkEventlogUploadController.prototype._startTimer=function(){if(!this._intervalJobID){this._intervalJobID=setInterval(this._doUpload,this._bulkUploadConfig.interval)}};BulkEventlogUploadController.prototype._renewTimer=function(){this._stopTimer();this._startTimer()};BulkEventlogUploadController.prototype._checkQueueLimitToUpload=function(){if(this._memQueue.size()>=this._bulkUploadConfig.maxCount){this._renewTimer();this._doUpload()}};BulkEventlogUploadController.prototype._subscribePermissionChange=function(){var e=(0,c.getModule)(o.FEATURE_FLAG_MODULE);if(e){e.observeFeatureFlag(o.G.D_USE_UPLOAD_EVENT_TO_EDC,this._handlePermissionChange,true)}};BulkEventlogUploadController.prototype._unSubscribePermissionChange=function(){var e=(0,c.getModule)(o.FEATURE_FLAG_MODULE);if(e){e.unsubscribe(o.G.D_USE_UPLOAD_EVENT_TO_EDC,this._handlePermissionChange)}};BulkEventlogUploadController.prototype._updateUploadConfig=function(e){if((e===null||e===void 0?void 0:e.maxCount)>0&&this._bulkUploadConfig.maxCount!==e.maxCount){this._bulkUploadConfig.maxCount=e.maxCount}if((e===null||e===void 0?void 0:e.interval)>0&&this._bulkUploadConfig.interval!==e.interval*1e3){this._bulkUploadConfig.interval=e.interval*1e3;this._renewTimer()}if((e===null||e===void 0?void 0:e.timeout)>0&&this._bulkUploadConfig.timeout!==e.timeout*1e3){this._bulkUploadConfig.timeout=e.timeout*1e3;this._uploader.updateTimeout(this._bulkUploadConfig.timeout)}};BulkEventlogUploadController.prototype._updateStorageConfig=function(e){if((e===null||e===void 0?void 0:e.enable)!==undefined&&e.enable!==this._bulkStorageConfig.enable){this._bulkStorageConfig.enable=e.enable}if((e===null||e===void 0?void 0:e.maxCount)>0&&e.maxCount!==this._bulkStorageConfig.maxCount){this._bulkStorageConfig.maxCount=e.maxCount}this._dataUploadController.updatePersistenceConfig({queueSizeLimit:this._bulkStorageConfig.maxCount,enablePersistenceDB:this._bulkStorageConfig.enable})};return BulkEventlogUploadController}();var M=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var k=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var L=function(){function OneByOneEventlogUploadController(e,t,n,o,i,a){var u=this;this.onUnLoad=function(){var e=u._dataUploadController.getQueueAll(true);if(e.length>0){u._evlLocalStorageController.setItems(e)}};this.onLoad=function(){var e=u._evlLocalStorageController.getItems();if(e.length>0){u._dataUploadController.setQueue(e)}u._dataUploadController.tryConsume()};this.doUpload=function(e){return M(u,void 0,void 0,(function(){return k(this,(function(t){switch(t.label){case 0:return[4,this._dataUploadController.uploadData(e)];case 1:t.sent();return[2]}}))}))};this._uploader=new R(e,n);this._persistenceOperator=new x(t.getDataBase(),i);this._dataUploadController=new r.DataUploadController(o,this._uploader,this._persistenceOperator);this._evlLocalStorageController=new p(a)}OneByOneEventlogUploadController.prototype.uploadLog=function(e){var t=this;if(!e){return}if(a().isArray(e)){e.forEach((function(e){t.doUpload(e)}))}else{this.doUpload(e)}};OneByOneEventlogUploadController.prototype.updateEndPointAddress=function(e,t){this._uploader.reInitNetwork(e,t)};return OneByOneEventlogUploadController}();var F=function(){function EventDataCollector(e,t,n){var r=this;this.dispose=function(){window.removeEventListener("beforeunload",r._eventlogUploadController.dispose);r._eventlogUploadController.dispose()};this.init=function(){r._eventlogUploadController.init();window.addEventListener("beforeunload",r._eventlogUploadController.dispose)};this._eventlogUploadController=new D(n,e,t,w,y,_)}EventDataCollector.prototype.uploadEvent=function(e){if(!e){return}this._eventlogUploadController.uploadLog(e)};EventDataCollector.prototype.updateEndPointAddress=function(e){this._eventlogUploadController.updateEndPointAddress(e)};return EventDataCollector}();var U=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var B=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var G=function(){function BaseDataTracking(e,t,n,o,i,a){var u=this;this._cacheQueue=new r.MemoryQueue;this._consumeCacheList=function(){if(u._cacheQueue.size()){var e=u._cacheQueue.peekAll();e.forEach((function(e){u.trackData(e)}))}};this.init=function(){return U(u,void 0,void 0,(function(){return B(this,(function(e){switch(e.label){case 0:this._eventFilter.addIgnoreApiHost(this._destinationAddr.server);this._uploadController.init();return[4,this._eventFilter.init()];case 1:e.sent();this._eventFilter.observeFilterUpdate(this._consumeCacheList);return[2]}}))}))};this.dispose=function(){u._uploadController.dispose();u._eventFilter.unobserveFilterUpdate(u._consumeCacheList);u._eventFilter.dispose()};this._destinationAddr=t;this._userIDInfo=e;this._eventFilter=i;this._eventTransformer=a;this._uploadController=new F(n,o,t);this._cacheQueue.setLimitSize(200)}BaseDataTracking.prototype.updateEndPointAddress=function(e){this._uploadController.updateEndPointAddress(e);this._eventFilter.addIgnoreApiHost(e.server)};BaseDataTracking.prototype.trackData=function(e){if(e){var t=this._eventFilter.filter(e);if(!t){this._cacheQueue.addTail(e);return false}t=this._eventTransformer.transform(t);this._uploadController.uploadEvent(t);return true}return false};return BaseDataTracking}();var j=n(2414);var H="dtVersion";var V="webVersion";var W=function(){function BaseEventDataTransformer(e){this._userIDInfo=e}BaseEventDataTransformer.prototype._setBaseExtraInfo=function(e){if(!e.event.details.userid){e.event.details.userid=this._userIDInfo.userID}if(!e.event.details.companyid){e.event.details.companyid=this._userIDInfo.companyID}if(e.event.type===g.API){this._resetApiKeyInfo(e)}var t=v.Pal.instance.getPlatformUtils().getVersionInfo(),n=t.isElectron,r=t.appVersion,o=t.electronAppVersion;if(n&&!e.event.details[H]){e.event.details[H]=o}if(!e.event.details[V]){e.event.details[V]=r}};BaseEventDataTransformer.prototype._resetApiKeyInfo=function(e){if(e.event.details.data){var t=a().get(e.event.details.data,b.FILED_EVENT_API_DETAILS_DATA_HOST,"")+a().get(e.event.details.data,b.FILED_EVENT_API_DETAILS_DATA_PATH,"");a().unset(e.event.details.data,b.FILED_EVENT_API_DETAILS_DATA_PATH);a().unset(e.event.details.data,b.FILED_EVENT_API_DETAILS_DATA_HOST);a().set(e.event.details.data,b.FILED_EVENT_DETAILS_DATA_KEY,t)}};return BaseEventDataTransformer}()},2414:()=>{},196726:(e,t,n)=>{"use strict";n.d(t,{yS:()=>initGlobalTempBrandConfigSource,HS:()=>disableGlobalTempBrandConfigSource,bM:()=>updateGlobalTempBrandConfig});var r=n(667489);var o=n.n(r);var i=n(862926);var a=n.n(i);var u=n(977890);var s=new i.ConfigSource(u.dH);var initGlobalTempBrandConfigSource=function(e){s.setReadyStatus(true,false);s.setConfigSource(e);r.configStoreManager.addConfigSource(u.dH,s)};var updateGlobalTempBrandConfig=function(e){s.updateSource(e)};var disableGlobalTempBrandConfigSource=function(){s.setReadyStatus(false,true)}},759055:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(862926);var o=n.n(r);var i="[BRAND][CORE]";var a=r.ModuleLogger.getLogger(i,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.COMMON)},248783:()=>{},633794:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var r={GOOGLE_SIGNON:"/api/no-auth/google-signon"}},257306:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var r={INVALID_PARAMS:"INVALID_PARAMS"}},39880:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(862926);var o=n.n(r);var i="[COMMON]";var a=r.ModuleLogger.getLogger(i,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.COMMON)},874003:(e,t,n)=>{"use strict";var r=n(996292);var o=n.n(r);var i=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var a=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};var u=o()("UT_LOG");var s=!!{NODE_ENV:"production",PUBLIC_URL:"",APP_ENV:undefined}.DEBUG_MODE;u["useColors"]=true;u.enabled=s;o().enable("-UT_LOG");function createDebug(e,t){var n=_debug(e);n["useColors"]=true;if(t!==undefined){n.enabled=t}else{n.enabled=s}return n}function to(e){return Object.assign({},e)}function toArrayOf(e){return e.map((function(e){return to(e)}))}function getAllProperties(e){if(!e)return[];var t=Object.getPrototypeOf(e);if(t&&t!==Object.prototype){return a(Object.keys(e),getAllProperties(t))}return[]}var spyTarget=function(e,t){var n=getAllProperties(e);n.forEach((function(t){if(Object.prototype.toString.call(e[t])==="[object Function]"){jest.spyOn(e,t)}}));if(t){Object.keys(t).forEach((function(n){e[n]=t[n]}))}return e};var spyOnTarget=function(e){for(var t in e){if(Object.prototype.toString.call(e[t])==="[object Function]"){jest.spyOn(e,t)}}return e}},914723:(e,t,n)=>{"use strict";n.d(t,{s:()=>compareName});function compareCharacters(e,t){if(e===t){return 0}var priority=function(e){if(!e)return 0;if(/[a-z]/i.test(e))return 1;if(/[0-9]/.test(e))return 2;return 3};return priority(e)-priority(t)||e.toLowerCase().localeCompare(t.toLowerCase())}function compareName(e,t){var n=Math.max(e.length,t.length);for(var r=0;r<n;r+=1){var o=compareCharacters(e[r],t[r]);if(o!==0){return o}}return 0}},181292:(e,t,n)=>{"use strict";n.d(t,{o:()=>getType});function getType(e){return e}},66137:(e,t,n)=>{"use strict";n.d(t,{g:()=>o,p:()=>i});var r=n(295454);var o=r.Lb.COMMON_KEY_ACTION;var i;(function(e){e["OBSERVE_GLIP_LOGIN"]="observe_glip_login";e["OBSERVE_SOCKET_ITEM"]="observe_socket_item";e["OBSERVE_RCM_ACK"]="observe_rcm_ack";e["VIDEO_CONFERENCING"]="video_conferencing";e["START_ZOOM_MEETING"]="start_zoom_meeting";e["STOP_CALL_NOTIFICATION"]="stop_call_notification";e["ACK_RCM_VIDEO_CALL"]="ack_rcm_video_call";e["JOIN_ZOOM_MEETING"]="join_zoom_meeting";e["REJECT_RCV_MEETING"]="reject_rcv_meeting";e["CREATE_RCV_MEETING"]="create_rcv_meeting";e["GET_GLIP_ACCOUNT_USER_CONFIG"]="get_glip_account_user_config";e["GET_RCV_VIDEO_CLIENT_ID"]="get_rcv_video_client_id";e["GET_CONFERENCE_ID_BY_HOST_CODE"]="get_conference_id_by_host_code";e["REGISTER_CALENDAR_SYNC_SOURCE"]="register_calendar_sync_source";e["UNREGISTER_CALENDAR_SYNC_SOURCE"]="unregister_calendar_sync_source";e["GET_PARTICIPANT_ACCESS_BY_EXTENSION_ID"]="get_participant_access_by_extension_id";e["GET_VALID_GROUP_IDS"]="get_valid_group_ids";e["IS_USING_RCV"]="is_using_RCV";e["SUBSCRIBE_NO_CALL_PRESENCE_CHANGE"]="subscribe_no_call_presence_change";e["GET_GLIP_CONTACT_TYPE"]="get_glip_contact_type";e["GET_RC_CONTACT_TYPE"]="get_rc_Contact_type";e["UPDATE_LAST_READ_MISSED_TIMESTAMP"]="update_last_read_missed_timestamp";e["GET_LAST_READ_MISSED_TIMESTAMP"]="get_last_read_missed_timestamp";e["OBSERVE_READ_MISSED_TIMESTAMP_CHANGE"]="observe_read_missed_timestamp_change";e["ON_GLIP_LOGIN_RESULT"]="on_glip_login_result";e["GET_GLIP_PRESENCE"]="get_glip_presence";e["SET_GLIP_PRESENCE"]="set_glip_presence";e["SET_GLIP_REMOTE_PRESENCE"]="set_glip_remote_presence";e["GET_RC_PRESENCE"]="get_rc_presence";e["SET_RC_PRESENCE"]="set_rc_presence";e["IS_RC_ONLY_ACCOUNT"]="is_rc_only_account";e["CALENDAR_EVENT"]="calendar_event";e["DELETE_CALENDAR_EVENT"]="delete_calendar_event";e["GET_EVENT_FROM_REMOTE"]="get_event_from_remote";e["PROFILE_SETTINGS"]="profile_settings";e["VIDEO_PROVIDER"]="video_provider";e["PERMISSION_MEETINGS"]="permission_meetings";e["VIDEO_SERVICE"]="video_service";e["E2EE_PERMISSION"]="e2ee_permission";e["E2EE_PARAMS"]="e2ee_params";e["SET_CONTACT_GROUP_ID_MAP"]="set_contact_group_id_map";e["GET_GLIP_PERSON_INFO_BY_ID"]="get_glip_person_info_by_id";e["GET_GLIP_CONTACT_SIZE"]="get_glip_contact_size";e["GET_GLIP_COMPANY_INFO"]="get_glip_company_info";e["GENERATE_RC_CODE"]="generate_rc_code";e["GET_DIAL_IN_NUMBER"]="get_dial_in_number";e["GET_GLIP_CONFIG_SERVICE"]="get_glip_config_service";e["SET_GLIP_PRESENCE_HANDLER"]="set_glip_presence_handler";e["SYNC_APP_BY_ID"]="sync_app_by_id"})(i||(i={}))},960782:(e,t,n)=>{"use strict";n.d(t,{ACTION_KEY:()=>i.p,COMMON_KEY_ACTION_MODULE:()=>i.g,B:()=>r.B,VIDEO_PROVIDER_OPTIONS:()=>a.i,VIDEO_SERVICE_OPTIONS:()=>a.Z});var r=n(580757);var o=n(852190);var i=n(66137);var a=n(642537)},852190:()=>{},394684:(e,t,n)=>{"use strict";n.r(t);n.d(t,{CompanyInfoModule:()=>b});var r=n(814678);var o=n(461197);var i=n(387115);var a=n(862926);var u="["+i.Uc+"][CORE]";var s=a.ModuleLogger.getLogger(u,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),a.EVENT_DATA_FEATURE.COMMON);var c=n(667489);var l={COMPANY_INFO:"COMPANY_INFO"};var f=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var d=function(e){f(CompanyUserConfig,e);function CompanyUserConfig(){return e.call(this,i.Uc)||this}CompanyUserConfig.prototype.setCompanyInfo=function(e){this.put(l.COMPANY_INFO,e)};CompanyUserConfig.prototype.getCompanyInfo=function(){return this.get(l.COMPANY_INFO)||null};CompanyUserConfig.moduleName="COMPANY_CONFIG";return CompanyUserConfig}(c.UserConfig);var p=n(298784);var h=n.n(p);var v=function(){function CompanyProviderDelegate(){var e=this;this._providers=[];this._onCompanyChange=function(t){e._listener&&e._listener(t)}}CompanyProviderDelegate.prototype._getCurrentProvider=function(){return h().last(this._providers)};CompanyProviderDelegate.prototype.getCurrentCompany=function(){var e=this._getCurrentProvider();return e?e.provider.getCurrentCompany():Promise.resolve(null)};CompanyProviderDelegate.prototype.observe=function(e){var t=this;this._listener=e;return function(){delete t._listener}};CompanyProviderDelegate.prototype.addProvider=function(e,t){var n=this._getCurrentProvider();var r;if(n){if(n.priority<t){n.unObserve&&n.unObserve();r=e.observe(this._onCompanyChange)}else{r=null}}else{r=e.observe(this._onCompanyChange)}this._providers.push({priority:t,provider:e,unObserve:r});this._providers.sort((function(e,t){return e.priority-t.priority}))};CompanyProviderDelegate.prototype.removeProvider=function(e){this._providers=this._providers.filter((function(t){if(t.provider===e){t.unObserve&&t.unObserve();return false}return true}));this._providers.sort((function(e,t){return e.priority-t.priority}));var t=this._getCurrentProvider();if(t){t.unObserve=t.provider.observe(this._onCompanyChange)}};return CompanyProviderDelegate}();var g=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var _=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var y=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var b=function(e){g(CompanyInfoModule,e);function CompanyInfoModule(t){var n=e.call(this,t)||this;n._source=new v;n._onCompanyChange=function(e){s.info("Receive company name change to",e);n._userConfig.setCompanyInfo(e);r.rF.emitEntityUpdate(i.FY.ENTITY.UNIFIED_COMPANY,[{id:i.Zz,companyName:(e===null||e===void 0?void 0:e.companyName)||""}])};n._userConfig=new d;return n}CompanyInfoModule.prototype._updateCompanyInfo=function(){var e=this;return this.getCurrentCompany().then((function(t){e._onCompanyChange(t)})).catch((function(e){s.info("update company info failed.",e)}))};CompanyInfoModule.prototype.onLoad=function(){this._unObserve=this._source.observe(this._onCompanyChange)};CompanyInfoModule.prototype.onUnload=function(){this._unObserve&&this._unObserve()};CompanyInfoModule.prototype.moduleName=function(){return i.Uc};CompanyInfoModule.prototype.registerCompanySource=function(e,t){this._source.addProvider(e,t);this._updateCompanyInfo()};CompanyInfoModule.prototype.unregisterCompanySource=function(e){this._source.removeProvider(e)};CompanyInfoModule.prototype.getCurrentCompany=function(){return _(this,void 0,Promise,(function(){var e;return y(this,(function(t){switch(t.label){case 0:if(!this._source){s.report("Source did not add into company_info module.");return[2,null]}return[4,this._source.getCurrentCompany()];case 1:e=t.sent();s.info("Current company is ",e);return[2,e]}}))}))};CompanyInfoModule.prototype.getCurrentCompanySynchronously=function(){return this._userConfig.getCompanyInfo()};CompanyInfoModule.prototype.isCompanyInfoReady=function(){return!!this.getCurrentCompanySynchronously()};return CompanyInfoModule}(o.AbstractModule)},387115:(e,t,n)=>{"use strict";n.d(t,{FY:()=>i,Uc:()=>o,Zz:()=>a});var r=n(295454);var o=r.Lb.COMPANY_INFO;var i={ENTITY:{UNIFIED_COMPANY:"ENTITY.UNIFIED_COMPANY"}};var a="companyInfoId"},968415:(e,t,n)=>{"use strict";n.r(t);n.d(t,{ContactModule:()=>S});var r=n(298784);var o=n.n(r);var i=n(667489);var a=n.n(i);var u=n(862926);var s=n.n(u);var c=n(274251);var l=n(776271);var f=n(316273);var d=n(225042);var p=n(27677);var h=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var v=undefined&&undefined.__assign||function(){v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return v.apply(this,arguments)};var g=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var _=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var y=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var b=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e};var C=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var m=f.k.tags("[ContactModule]");var S=function(e){h(ContactModule,e);function ContactModule(t){var n=e.call(this,t)||this;n._totalContactSize=0;n._debounceEmitProviderChange=o().debounce((function(){i.notificationCenter.emit(l.FY.CONTACT_PROVIDER_CHANGE)}),l.bA);n.getFilter=function(e){var t=n._getUnifiedFilter(e);return function(e){var r=e.id;var o=n._contactDeDuplicationController.getParentId(e.id).length>0;var i=n._contactDeDuplicationController.getById(r).duplicateIds;return!o&&b([r],i).some((function(e){return t(e)}))}};n.defaultSortContactByKeyFunc=function(e,t){return i.SortUtils.compareSortableModel(e,t)};n._onContactChange=function(e,t){n._handlePhoneNumberUpdate(e,t);n._contactDeDuplicationController.handleContactUpdate(e,t);i.notificationCenter.emit(l.FY.ENTITY.UNIFIED_CONTACT,n._payloadGenerator[t.type](t,e));n._checkContactSizeLimit()};n._gatherAllEmails=function(e){var t,r;var o,i;var a=[];if(e){var _loop_1=function(e){var t=n._source.get(n.getTypeById(e));var r=t===null||t===void 0?void 0:t.getDataByIdSynchronously(n.getRawIdById(e));if(r){var u=((i=(o=t).getContactParser)===null||i===void 0?void 0:i.call(o).getEmails(r))||[];u=u.map((function(e){return v(v({},e),{priority:t===null||t===void 0?void 0:t.getPriority()})}));a=a.concat(u)}};try{for(var u=C(e),s=u.next();!s.done;s=u.next()){var c=s.value;_loop_1(c)}}catch(e){t={error:e}}finally{try{if(s&&!s.done&&(r=u.return))r.call(u)}finally{if(t)throw t.error}}}return a};n._source=new Map;n._priority=[];n._listeners=new Map;n._initPayloadGenerator();n._contactDeDuplicationController=new d.jx;return n}ContactModule.prototype.onLoad=function(){};ContactModule.prototype.onUnload=function(){};ContactModule.prototype.moduleName=function(){return l.oF};ContactModule.prototype.subscribeContactSource=function(e){var t=this;var n;var r=e.getType();this._source.set(r,e);var listener=function(n){t._onContactChange(e,n)};this._listeners.set(r,listener);(n=e.observe)===null||n===void 0?void 0:n.call(e,listener);this._priority.push({type:r,priority:e.getPriority()});this._priority.sort((function(e,t){return e.priority-t.priority}));this._contactDeDuplicationController.handleNewContactProvider(e);this._debounceEmitProviderChange()};ContactModule.prototype.unsubscribeContactSource=function(e){this._source.delete(e);this._listeners.delete(e);this._priority=this._priority.filter((function(t){var n=t.type;return n!==e}))};ContactModule.prototype.getContacts=function(e){return g(this,void 0,Promise,(function(){var t,n,r,o,i,a,s,c;return _(this,(function(d){switch(d.label){case 0:t=e.getContactsOptions,n=e.sorter,r=e.waitDataReady,o=e.types,i=e.needMerge,a=e.resultLimit;s=f.k.performance();return[4,this._getDataByTypes({getContactsOptions:t,sorter:n,needMerge:i,resultLimit:a,types:o,waitDataReady:r})];case 1:c=d.sent();n&&(c=c.sort(n));if(!e.needMerge)return[3,3];return[4,this._handleGetContactsMerge(c,e)];case 2:c=d.sent();d.label=3;case 3:s.end({key:l.LZ.GET_CONTACTS,level:u.LOG_CONTROL_LEVEL.NORMAL,count:c.length,infos:{needMerge:i||false,resultLimit:a||-1}});return[2,a?c.slice(0,a):c]}}))}))};ContactModule.prototype._handleGetContactsMerge=function(e,t){return g(this,void 0,Promise,(function(){var n;return _(this,(function(r){switch(r.label){case 0:e=this._contactDeDuplicationController.deduplicateIdModels(e);if(!(this._contactDeDuplicationController.needToDeduplicate()&&!this._satisfyLimit(e,t.resultLimit)))return[3,2];n=v(v({},t),{resultLimit:undefined});return[4,this.getContacts(n)];case 1:return[2,r.sent()];case 2:return[2,e]}}))}))};ContactModule.prototype.getContactDuplicateInfoById=function(e){return this._contactDeDuplicationController.getById(e)};ContactModule.prototype.isDuplicateContact=function(e){return this._contactDeDuplicationController.isDeDuplicatedContactId(e)};ContactModule.prototype.hasConflictPhoneNumberWithOthers=function(e){var t;var n=this._source.get(this.getTypeById(e.unifiedId));if(!(n===null||n===void 0?void 0:n.hasConflictPhoneNumberWithOthers)){return false}return(t=n.hasConflictPhoneNumberWithOthers)===null||t===void 0?void 0:t.call(n,{contactId:this.getRawIdById(e.unifiedId),isShort:e.isShort})};ContactModule.prototype.getContactById=function(e){return g(this,void 0,Promise,(function(){var t;return _(this,(function(n){switch(n.label){case 0:return[4,this._getRawContactData(e)];case 1:t=n.sent();return[2,t&&t.rawContact&&this._transformData(t.rawContact,t.source)]}}))}))};ContactModule.prototype.getNameById=function(e){return g(this,void 0,Promise,(function(){var t;return _(this,(function(n){switch(n.label){case 0:return[4,this._getRawContactData(e)];case 1:t=n.sent();return[2,t&&t.rawContact&&t.source.getFullName(t.rawContact)]}}))}))};ContactModule.prototype.getDataByIdSynchronously=function(e){var t=this._source.get(this.getTypeById(e));if(!t){return null}var n=t&&t.getDataByIdSynchronously(this.getRawIdById(e));return n&&this._transformData(n,t)};ContactModule.prototype.getRawIdById=function(e){var t=this._source.get(this.getTypeById(e));var n=e.indexOf(".");var r=n===-1?e:e.slice(n+1);return t?t.transformId(r):Number(r)};ContactModule.prototype.getTypeById=function(e){var t=e.indexOf(".");return t===-1?e:e.slice(0,t)};ContactModule.prototype.matchByPhoneNumber=function(e,t,n){return g(this,void 0,Promise,(function(){var r,o,a,s,d,p,h;var v=this;return _(this,(function(g){switch(g.label){case 0:r=f.k.performance();o=(0,i.getModule)(c.iJ);s=t;if(s)return[3,2];return[4,o.generateMatchedPhoneNumberList(e)];case 1:s=g.sent();g.label=2;case 2:a=s;d=n?[this._priority.find((function(e){return e.type===n}))].filter((function(e){return e})):this._priority;p=[];return[4,this._matchByPhoneNumberInLoop(e,d.values(),p,a)];case 3:p=g.sent();!p.length&&p.length<1&&m.log("Cannot match contact by phone number",e,n);h=p;if(p.length>0){h=this._findHighestPriorityIncludingMerge(p)}r.end({key:l.LZ.MATCH_CONTACT_BY_PHONE_NUMBER,level:u.LOG_CONTROL_LEVEL.LOW,count:h.length,infos:{phoneNumber:e,sourceType:n||""}});return[2,h.map((function(e){var t=v._contactDeDuplicationController.getParentId(e);return(t===null||t===void 0?void 0:t.length)>0?t[0]:e}))]}}))}))};ContactModule.prototype._matchByPhoneNumberInLoop=function(e,t,n,r){return g(this,void 0,Promise,(function(){var o,i,a;return _(this,(function(u){switch(u.label){case 0:o=t.next().value;i=o&&this._source.get(o.type);if(!i){return[2,n]}return[4,i.matchByPhoneNumber(e,r)];case 1:a=u.sent();if(a){a.forEach((function(e){n.push(p.K.getUniqueId(i.getType(),e))}))}if(n.length>0&&(i.getPriority()===this._getHighestPriority()||!this._contactDeDuplicationController.needToDeduplicate())){return[2,n]}return[2,this._matchByPhoneNumberInLoop(e,t,n,r)]}}))}))};ContactModule.prototype._getHighestPriority=function(){return Math.min.apply(Math,b(this._priority.map((function(e){return e.priority}))))};ContactModule.prototype._findHighestPriorityIncludingMerge=function(e){var t=this;var n=this._contactDeDuplicationController.getFirstParentContactId(e);var r=new Map;var o;n.forEach((function(e){var n;var i=(n=t._source.get(t.getTypeById(e)))===null||n===void 0?void 0:n.getPriority();if(!i){m.warn("find not existed type of id, id: "+e)}else{if(!o||o>i){o=i}var a=r.get(i);if(!a){a=[];r.set(i,a)}a.push(e)}}));return o?r.get(o):[]};ContactModule.prototype._sortSourcesByPriority=function(e){if(e){var t=this._source.get(e);return t?[t]:[]}return b(this._source.values()).sort((function(e,t){return e.getPriority()-t.getPriority()}))};ContactModule.prototype._filterPhoneNumberByContactMatchWithoutDuplicate=function(e){var t=e.contactSources,n=e.options,r=e.skipValidate;var o=[];var a=new Set;t.forEach((function(e){var t=n.phoneSearchInfos.filter((function(t){var o,i;if(a.has(t)){return false}var u=(o=e===null||e===void 0?void 0:e.getContactsByPhoneNumber)===null||o===void 0?void 0:o.call(e,t.e164,t.isShortNumber,(i=e===null||e===void 0?void 0:e.needSuffixMatchWhenFilter)===null||i===void 0?void 0:i.call(e));if(!u){return false}a.add(t);return b(u).some((function(t){var o;return(o=e===null||e===void 0?void 0:e.filter)===null||o===void 0?void 0:o.call(e,{searchTerms:n.searchTerms,id:t,checkNameOnly:true,skipValidate:r})}))}));o.push.apply(o,b(t))}));return i.ArrayUtils.toUniqueArray(o)};ContactModule.prototype._filterPhoneNumberByContactMatch=function(e,t,n,r){var o=this;n.phoneSearchInfos.forEach((function(i){var a,u;var s,c,l,f;if(!t.get(i)){t.set(i,[])}var d=(s=e===null||e===void 0?void 0:e.getContactsByPhoneNumber)===null||s===void 0?void 0:s.call(e,i.e164,i.isShortNumber,(c=e===null||e===void 0?void 0:e.needSuffixMatchWhenFilter)===null||c===void 0?void 0:c.call(e));if(!d){return}var h=[];d.forEach((function(t){h.push.apply(h,b(o._contactDeDuplicationController.getParentId(p.K.getUniqueId(e===null||e===void 0?void 0:e.getType(),t))))}));if(h.length>0){try{for(var v=C(h),g=v.next();!g.done;g=v.next()){var _=g.value;var y=p.K.getTypeById(_);var m=o._source.get(y);var S=m===null||m===void 0?void 0:m.getDataByIdSynchronously(o.getRawIdById(_));if(!m||!S){continue}var E=!!((l=m.filter)===null||l===void 0?void 0:l.call(m,{searchTerms:n.searchTerms,id:S.id,checkNameOnly:true}));(f=t.get(i))===null||f===void 0?void 0:f.push({priority:m.getPriority(),isMatched:E})}}catch(e){a={error:e}}finally{try{if(g&&!g.done&&(u=v.return))u.call(v)}finally{if(a)throw a.error}}return}d.forEach((function(o){var a,u;var s=!!((a=e===null||e===void 0?void 0:e.filter)===null||a===void 0?void 0:a.call(e,{searchTerms:n.searchTerms,id:o,checkNameOnly:true,skipValidate:r}));(u=t.get(i))===null||u===void 0?void 0:u.push({priority:e.getPriority(),isMatched:s})}))}))};ContactModule.prototype._filterPhoneNumberByContactMatchWithDuplicate=function(e){var t,n;var r=this;var o=e.contactSources,a=e.options,u=e.skipValidate;var s=new Map;o.forEach((function(e){r._filterPhoneNumberByContactMatch(e,s,a,u)}));var c=[];try{for(var l=C(s),f=l.next();!f.done;f=l.next()){var d=y(f.value,2),p=d[0],h=d[1];if(h.length>0){h.sort((function(e,t){return e.priority-t.priority}));h[0].isMatched&&c.push(p)}}}catch(e){t={error:e}}finally{try{if(f&&!f.done&&(n=l.return))n.call(l)}finally{if(t)throw t.error}}return i.ArrayUtils.toUniqueArray(c)};ContactModule.prototype.filterPhoneNumberByContactMatch=function(e,t,n){var r=this._sortSourcesByPriority(n);var o=this._contactDeDuplicationController.needToDeduplicate();var i={contactSources:r,options:e,skipValidate:t};return o?this._filterPhoneNumberByContactMatchWithDuplicate(i):this._filterPhoneNumberByContactMatchWithoutDuplicate(i)};ContactModule.prototype.getContactIdsByEmails=function(e){return g(this,void 0,void 0,(function(){var t,n,r,o,i,a,u,s,c;return _(this,(function(l){switch(l.label){case 0:t=e.emails,n=e.onlyMyCompanyContacts,r=e.types,o=e.sourceScope,i=e.waitCacheReady,a=i===void 0?false:i;u=this._sortSourcesByPriority();if(o){u=u.filter((function(e){var t;return((t=e.getSourceScope)===null||t===void 0?void 0:t.call(e))===o}))}if(r){u=u.filter((function(e){return r.includes(e.getType())}))}s=u.find((function(e){return e.getContactsByEmails}));if(!(s&&s.getContactsByEmails))return[3,2];return[4,s.getContactsByEmails(t,n,a)];case 1:c=l.sent();return[2,c.map((function(e){return e&&p.K.getUniqueId(s.getType(),e)}))];case 2:return[2,Promise.resolve(Array(t.length).fill(undefined))]}}))}))};ContactModule.prototype._doSearchMissingDuplicateContacts=function(e){return g(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c,l;var f=this;return _(this,(function(d){switch(d.label){case 0:t=e.searchValue,n=e.options,r=e.getUniqueIds,o=e.searchResult,i=e.getSearchFuncFromSource;a=n.returnMatchEmail||n.returnPhoneNumber;if(!n.needMerge||!n.resultLimit||!a||!this._contactDeDuplicationController.needToDeduplicate()){return[2]}s=new Map;c=this._contactDeDuplicationController.getDiffDuplicateIds(r());if(c.length===0){return[2]}c.forEach((function(e){var t;var n=p.K.getTypeById(e);var r=s.get(n);if(!r){s.set(n,[])}(t=s.get(n))===null||t===void 0?void 0:t.push(f.getRawIdById(e))}));l=this._getSourcesByTypes(b(s.keys()));return[4,(0,u.runInPool)(l.map((function(e){return function(){return g(f,void 0,void 0,(function(){var r,a,u,c,l,f;return _(this,(function(d){switch(d.label){case 0:r=e.getType();a=s.get(r);u=i(e);if(!(a&&a.length>0&&u))return[3,2];l=(c=o).push;f={type:e.getType()};return[4,u(t,v(v({},n),{arrangeIds:a}))];case 1:l.apply(c,[(f.result=d.sent(),f)]);d.label=2;case 2:return[2]}}))}))}})))];case 1:d.sent();return[2]}}))}))};ContactModule.prototype.doFuzzySearchPhoneContacts=function(e,t,n){return g(this,void 0,Promise,(function(){var r,o,i,a,s,c,d,h,v;var y=this;return _(this,(function(b){switch(b.label){case 0:r=f.k.performance();o=[];if(!n)return[3,3];i=this._source.get(n);a=i===null||i===void 0?void 0:i.doFuzzySearchPhoneContacts;if(!a)return[3,2];c=(s=o).push;d={type:n};return[4,i.doFuzzySearchPhoneContacts(e,t)];case 1:a=c.apply(s,[(d.result=b.sent(),d)]);b.label=2;case 2:a;return[3,5];case 3:return[4,(0,u.runInPool)(Array.from(this._source.values()).map((function(n){return function(){return g(y,void 0,void 0,(function(){var r,i,a,u;return _(this,(function(s){switch(s.label){case 0:r=n.doFuzzySearchPhoneContacts;if(!r)return[3,2];a=(i=o).push;u={type:n.getType()};return[4,n.doFuzzySearchPhoneContacts(e,t)];case 1:r=a.apply(i,[(u.result=s.sent(),u)]);s.label=2;case 2:return[2,r]}}))}))}})))];case 4:b.sent();b.label=5;case 5:r.trace({key:l.LZ.FUZZY_SEARCH_PHONE_CONTACTS.SEARCH_RAW_DATA,level:u.LOG_CONTROL_LEVEL.LOW});h=function(){var e=[];o.forEach((function(t){t.result.phoneContacts.forEach((function(n){e.push(p.K.getUniqueId(t.type,n.rawId))}))}));return e};return[4,this._doSearchMissingDuplicateContacts({searchValue:e,options:t,getUniqueIds:h,searchResult:o,getSearchFuncFromSource:function(e){return e.doFuzzySearchPhoneContacts&&e.doFuzzySearchPhoneContacts.bind(e)}})];case 6:b.sent();v=this._handlePhoneContactSearchResult(o);r.trace({key:l.LZ.FUZZY_SEARCH_PHONE_CONTACTS.HANDLE_RAW_DATA,level:u.LOG_CONTROL_LEVEL.LOW});if(!t.needMerge)return[3,8];return[4,this._handleMergePhone(v,t,e,n)];case 7:v=b.sent();b.label=8;case 8:r.end({key:l.LZ.FUZZY_SEARCH_PHONE_CONTACTS.SEARCH_PHONE_CONTACTS_ALL,level:u.LOG_CONTROL_LEVEL.HIGH,count:v.phoneContacts.length,infos:{options:t,searchValue:e}});return[2,v]}}))}))};ContactModule.prototype._handleMergePhone=function(e,t,n,r){var o=this._satisfyLimit(e.phoneContacts,t.resultLimit);e.phoneContacts=this._contactDeDuplicationController.mergePhoneSearchResult(e.phoneContacts,this._buildGetSearchablePhoneNumbersFn(t.allowedPhoneNumberTypes));var i=this._satisfyLimit(e.phoneContacts,t.resultLimit);if(t.resultLimit&&o&&!i){var a=v({},t);m.info("call do fuzzy search phone due to unsatisfactory of number limit after merge,limit number:\n         "+a.resultLimit+" ");a.resultLimit=undefined;return this.doFuzzySearchPhoneContacts(n,a,r)}return e};ContactModule.prototype._buildGetSearchablePhoneNumbersFn=function(e){var t=this;var n=e&&new Set(e)||undefined;return function(r){var o,i;var a,u;var s=[];if(r){var _loop_2=function(r){var o=t._source.get(t.getTypeById(r));var i=o===null||o===void 0?void 0:o.getDataByIdSynchronously(t.getRawIdById(r));if(i&&o){(u=(a=o.getSearchablePhoneNumbersFromCache)===null||a===void 0?void 0:a.call(o,i))===null||u===void 0?void 0:u.forEach((function(t){if(!e||(n===null||n===void 0?void 0:n.has(t.usageType))){s.push(v(v({},t),{priority:o===null||o===void 0?void 0:o.getPriority()}))}}))}};try{for(var c=C(r),l=c.next();!l.done;l=c.next()){var f=l.value;_loop_2(f)}}catch(e){o={error:e}}finally{try{if(l&&!l.done&&(i=c.return))i.call(c)}finally{if(o)throw o.error}}}return s}};ContactModule.prototype.doFuzzySearchContacts=function(e,t,n){return g(this,void 0,Promise,(function(){var r,o,i,a,s;var c=this;return _(this,(function(d){switch(d.label){case 0:r=f.k.performance();o=[];i=this._getSourcesByTypes(n);return[4,(0,u.runInPool)(Array.from(i.values()).map((function(n){return function(){return g(c,void 0,void 0,(function(){var r,i,a,u;return _(this,(function(s){switch(s.label){case 0:r=n.doFuzzySearchContacts;if(!r)return[3,2];a=(i=o).push;u={type:n.getType()};return[4,n.doFuzzySearchContacts(e,t)];case 1:r=a.apply(i,[(u.result=s.sent(),u)]);s.label=2;case 2:return[2,r]}}))}))}})))];case 1:d.sent();r.trace({key:l.LZ.FUZZY_SEARCH_CONTACTS.SEARCH_RAW_DATA,level:u.LOG_CONTROL_LEVEL.LOW});a=function(){var e=[];o.forEach((function(t){t.result.sortableInfoModel.forEach((function(n){e.push(p.K.getUniqueId(t.type,n.id))}))}));return e};return[4,this._doSearchMissingDuplicateContacts({searchValue:e,options:t,getUniqueIds:a,searchResult:o,getSearchFuncFromSource:function(e){return e.doFuzzySearchContacts&&e.doFuzzySearchContacts.bind(e)}})];case 2:d.sent();s=this._handleContactSearchResult(o);r.trace({key:l.LZ.FUZZY_SEARCH_CONTACTS.HANDLE_RAW_DATA,level:u.LOG_CONTROL_LEVEL.LOW});if(!t.needMerge)return[3,4];return[4,this._handleMergeContacts(s,t,e,n)];case 3:s=d.sent();d.label=4;case 4:r.end({key:l.LZ.FUZZY_SEARCH_CONTACTS.SEARCH_CONTACTS_ALL,level:u.LOG_CONTROL_LEVEL.HIGH,count:s.sortableInfoModel.length,infos:{searchOptions:{options:t,types:n,searchValue:e}}});return[2,s]}}))}))};ContactModule.prototype._handleMergeContacts=function(e,t,n,r){return g(this,void 0,void 0,(function(){var o,i,a;return _(this,(function(u){switch(u.label){case 0:o=this._satisfyLimit(e.sortableInfoModel,t.resultLimit);if(t.returnMatchEmail||t.returnPhoneNumber){e.sortableInfoModel=this._contactDeDuplicationController.mergeContactsExtraData({sortedInfoModels:e.sortableInfoModel,attrReturnType:t,fetchAttributesByContactId:{fetchPhoneNumbers:this._buildGetSearchablePhoneNumbersFn(t.allowedPhoneNumberTypes),fetchEmails:this._gatherAllEmails}})}else{e.sortableInfoModel=this._contactDeDuplicationController.mergeContactResultById(e.sortableInfoModel)}i=this._satisfyLimit(e.sortableInfoModel,t.resultLimit);if(!(t.resultLimit&&o&&!i))return[3,2];a=v({},t);m.info("call do fuzzy search contacts due to unsatisfactory of number limit after merge,limit number\n       : "+a.resultLimit+" ");a.resultLimit=undefined;return[4,this.doFuzzySearchContacts(n,a,r)];case 1:return[2,u.sent()];case 2:return[2,e]}}))}))};ContactModule.prototype.getUserContactId=function(e){var t;if(e){var n=this._source.get(e);t=n&&n.getUserContactId&&n.getUserContactId()}else{Array.from(this._source.values()).some((function(e){var n=e.getUserContactId&&e.getUserContactId();if(n){t=n;return true}return false}))}return t};ContactModule.prototype._handleContactSearchResult=function(e,t){var n=this;var r={terms:[],sortableInfoModel:[]};if(e.length){e.forEach((function(e){var t=e.result.sortableInfoModel.map((function(t){var r;var o=p.K.getUniqueId(e.type,t.id);return v(v({},t),{id:o,_id:o,extraData:n._insertPriorityToExtraData(t,(r=n._source.get(e.type))===null||r===void 0?void 0:r.getPriority())})}));r.sortableInfoModel=r.sortableInfoModel.concat(t)}));r.sortableInfoModel=r.sortableInfoModel.sort(t||this.defaultSortContactByKeyFunc);r.terms=e[0].result.terms}return r};ContactModule.prototype._insertPriorityToExtraData=function(e,t){var n,r;if(t&&e.extraData){var o={matchedEmails:[],matchedNumbers:[],isPhoneMatched:(n=e.extraData)===null||n===void 0?void 0:n.isPhoneMatched,isEmailMatched:(r=e.extraData)===null||r===void 0?void 0:r.isEmailMatched};var i=e.extraData,a=i.matchedEmails,u=i.matchedNumbers;if(a){o.matchedEmails=a.map((function(e){return v(v({},e),{priority:t})}))}if(u){o.matchedNumbers=u.map((function(e){return v(v({},e),{priority:t})}));return o}}return e.extraData};ContactModule.prototype.getUniqueId=function(e,t){return e+"."+t.toString()};ContactModule.prototype._transformContactSearchedResult=function(e){return function(t){var n=p.K.getUniqueId(e,t.id);var r=p.K.getUniqueId(e,t.rawId);return v(v({},t),{id:n,_id:n,rawId:r})}};ContactModule.prototype._handlePhoneContactSearchResult=function(e,t){var n=this;var r={terms:[],phoneContacts:[]};if(e.length){e.forEach((function(e){var t=n._transformContactSearchedResult(e.type);var o=e.result.phoneContacts.map(t);r.phoneContacts=r.phoneContacts.concat(o)}));r.phoneContacts=r.phoneContacts.sort(t||this.defaultSortContactByKeyFunc);r.terms=e[0].result.terms}return r};ContactModule.prototype._getDataByTypes=function(e){return g(this,void 0,Promise,(function(){var t,n,r,o,a,u,s,c,l,f,d;var p=this;return _(this,(function(h){switch(h.label){case 0:t=e.getContactsOptions,n=e.sorter,r=e.needMerge,o=e.resultLimit,a=e.types,u=a===void 0?Array.from(this._source.keys()):a,s=e.waitDataReady;c=[];f=(l=c.concat).apply;d=[c];return[4,Promise.all(u.map((function(e){return g(p,void 0,void 0,(function(){var a,u;var c=this;return _(this,(function(l){switch(l.label){case 0:a=this._source.get(e);if(!a)return[3,2];return[4,a.getData(s)];case 1:u=l.sent().map((function(e){return c._transformData(e,a)}));if(t){u=this._filterContactsByOptions({contacts:u,needMerge:r,source:a,getContactsOptions:t})}n&&o&&(u=i.SortUtils.heapSort(u,n,o));return[2,u];case 2:return[2,[]]}}))}))})))];case 1:c=f.apply(l,d.concat([b.apply(void 0,[h.sent()])]));return[2,c]}}))}))};ContactModule.prototype._filterContactsByOptions=function(e){var t=this;var n;var r=e.source,o=e.getContactsOptions,i=e.needMerge;var a=this._getFilterBySource(r,o,(n=o.filterOption)===null||n===void 0?void 0:n[r.getType()]);var u=e.contacts;if(i&&this._contactDeDuplicationController.needToDeduplicate()){var s=this._getUnifiedFilter(o);u=u.filter((function(e){var n;var r=e.id;if(a(e.rawId)){return true}var o=(n=t._contactDeDuplicationController.getById(r))===null||n===void 0?void 0:n.duplicateIds;if(o===null||o===void 0?void 0:o.length){return o.some((function(e){return s(e)}))}return false}))}else{u=u.filter((function(e){return a(e.rawId)}))}return u};ContactModule.prototype._getUnifiedFilter=function(e){var t=this;var n=this._getSearchTerms(e.filterValue);(!e.types||!e.types.length)&&(e.types=Array.from(this._source.keys()));var r=new Set(e.types);var filterById=function(o){var i,a;var u=t.getTypeById(o);if(!r.has(u)){return false}var s=t._source.get(u);return!!(s&&((i=s.filter)===null||i===void 0?void 0:i.call(s,{searchTerms:n,id:t.getRawIdById(o),filterOption:(a=e.filterOption)===null||a===void 0?void 0:a[u],skipValidate:e.skipValidate})))};return filterById};ContactModule.prototype._getSearchTerms=function(e){return i.SearchUtils.formatTerms(i.SearchUtils.toDefaultSearchKeyTerms(e),i.SearchUtils.generateFormattedTerms)};ContactModule.prototype._getFilterBySource=function(e,t,n){var r=this._getSearchTerms(t.filterValue);var filterById=function(t){var o;return(o=e.filter)===null||o===void 0?void 0:o.call(e,{searchTerms:r,id:t,filterOption:n})};return filterById};ContactModule.prototype._transformData=function(e,t){var n=t.toSortableModel(e);var r=n.id;return{id:p.K.getUniqueId(t.getType(),n.id),isDeactivated:n.isDeactivated,rawId:r,displayName:n.displayName,emails:n.emails}};ContactModule.prototype._checkContactSizeLimit=function(){var e=Array.from(this._source.values()).reduce((function(e,t){return e+t.getContactSizeSynchronously()}),0);if(e!==this._totalContactSize){this._totalContactSize=e;if(e>=l.hF){m.info("contact size reaches the limit",e);i.notificationCenter.emit(l.FY.CONTACT_SIZE_EXCEED_LIMIT)}}};ContactModule.prototype._handlePhoneNumberUpdate=function(e,t){if(t.type===i.EVENT_TYPES.UPDATE){var n=new Set;var r=new Set;var o=e.getType();t.body.entities.forEach((function(t){var i;n.add(p.K.getUniqueId(o,t.id));(i=e.getPhoneNumbers)===null||i===void 0?void 0:i.call(e,t).forEach((function(e){r.add(e.phoneNumber)}))}));n.size&&i.notificationCenter.emit(l.FY.ENTITY.UNIFIED_CONTACT_PHONES_CHANGED,{updatedPhoneNumbers:r,updatedContactIds:n})}if(t.type===i.EVENT_TYPES.RELOAD){i.notificationCenter.emit(l.FY.ENTITY.UNIFIED_CONTACT_PHONES_RELOAD)}};ContactModule.prototype._initPayloadGenerator=function(){var e;var t=this;var generateIds=function(e,t){var n=t.getType();return e.map((function(e){return p.K.getUniqueId(n,e)}))};var generateEntities=function(e,n){var r=n.getType();return new Map(Array.from(e.values()).map((function(e){return[p.K.getUniqueId(r,e.id),t._transformData(e,n)]})))};this._payloadGenerator=(e={},e[i.EVENT_TYPES.RESET]=function(e){return e},e[i.EVENT_TYPES.DELETE]=function(e,t){return{type:e.type,body:{ids:generateIds(e.body.ids,t)}}},e[i.EVENT_TYPES.RELOAD]=function(e,t){return{type:e.type,isReloadAll:e.isReloadAll,body:{ids:generateIds(e.body.ids,t)}}},e[i.EVENT_TYPES.UPDATE]=function(e,t){return{type:e.type,body:{ids:generateIds(e.body.ids,t),entities:generateEntities(e.body.entities,t)}}},e[i.EVENT_TYPES.REPLACE]=function(e,t){return{type:e.type,body:{isReplaceAll:e.body.isReplaceAll,ids:generateIds(e.body.ids,t),entities:generateEntities(e.body.entities,t)}}},e)};ContactModule.prototype.createContact=function(e,t){var n;return g(this,void 0,void 0,(function(){var r,o;return _(this,(function(i){switch(i.label){case 0:r=this._source.get(t);return[4,(n=r===null||r===void 0?void 0:r.createContact)===null||n===void 0?void 0:n.call(r,e)];case 1:o=i.sent();return[2,o?this.getUniqueId(t,o):undefined]}}))}))};ContactModule.prototype.updateContact=function(e,t,n){var r;var o=this._source.get(n);var i=this.getRawIdById(e);return(r=o===null||o===void 0?void 0:o.updateContact)===null||r===void 0?void 0:r.call(o,i,t)};ContactModule.prototype.deleteContact=function(e,t){var n;var r=this._source.get(t);var o=this.getRawIdById(e);return(n=r===null||r===void 0?void 0:r.deleteContact)===null||n===void 0?void 0:n.call(r,o)};ContactModule.prototype.syncContact=function(e,t){if(t===void 0){t=false}return g(this,void 0,void 0,(function(){var n;var r=this;return _(this,(function(o){switch(o.label){case 0:n=e.map((function(e){return r._source.get(e)}));return[4,Promise.all(n.map((function(e){var n;return(n=e===null||e===void 0?void 0:e.syncContacts)===null||n===void 0?void 0:n.call(e,t)})))];case 1:o.sent();return[2]}}))}))};ContactModule.prototype.setContactSyncMode=function(e){var t=this;var n=e.types.map((function(e){return t._source.get(e)}));n.forEach((function(t){var n;return(n=t===null||t===void 0?void 0:t.setContactSyncMode)===null||n===void 0?void 0:n.call(t,e.mode)}))};ContactModule.prototype.isUserRegisteredInCompany=function(e){return Array.from(this._source.values()).some((function(t){var n;return(n=t.isUserRegisteredInCompany)===null||n===void 0?void 0:n.call(t,e)}))};ContactModule.prototype.isUserInvitedInCompany=function(e){return g(this,void 0,Promise,(function(){var t;var n=this;return _(this,(function(r){switch(r.label){case 0:return[4,(0,u.runInPool)(Array.from(this._source.values()).map((function(t){return function(){return g(n,void 0,void 0,(function(){var n;return _(this,(function(r){return[2,(n=t.isUserInvitedInCompany)===null||n===void 0?void 0:n.call(t,e)]}))}))}})))];case 1:t=r.sent();return[2,t.some((function(e){return e}))]}}))}))};ContactModule.prototype.doFuzzySearchEmailContacts=function(e,t,n){return g(this,void 0,Promise,(function(){var r,o,i,a;var s=this;return _(this,(function(c){switch(c.label){case 0:r=this._getSourcesByTypes(n);o=[];return[4,(0,u.runInPool)(r.map((function(n){return function(){return g(s,void 0,void 0,(function(){var r,i,a,u;return _(this,(function(s){switch(s.label){case 0:r=n===null||n===void 0?void 0:n.doFuzzySearchEmailContacts;if(!r)return[3,2];a=(i=o).push;u={type:n.getType()};return[4,n.doFuzzySearchEmailContacts(e,t)];case 1:r=a.apply(i,[(u.result=s.sent(),u)]);s.label=2;case 2:return[2,r]}}))}))}})))];case 1:c.sent();i=function(){var e=[];o.forEach((function(t){t.result.emailContacts.forEach((function(n){e.push(p.K.getUniqueId(t.type,n.rawId))}))}));return e};return[4,this._doSearchMissingDuplicateContacts({searchValue:e,options:t,getUniqueIds:i,searchResult:o,getSearchFuncFromSource:function(e){var t;return(t=e.doFuzzySearchEmailContacts)===null||t===void 0?void 0:t.bind(e)}})];case 2:c.sent();a=this._handleEmailContactSearchResult(o);if(!t.needMerge)return[3,4];return[4,this._handleMergeEmail(a,t,e,n)];case 3:a=c.sent();c.label=4;case 4:return[2,a]}}))}))};ContactModule.prototype._handleMergeEmail=function(e,t,n,r){var o=this._satisfyLimit(e.emailContacts,t.resultLimit);e.emailContacts=this._contactDeDuplicationController.mergeEmailSearchResult(e.emailContacts,this._gatherAllEmails);var i=this._satisfyLimit(e.emailContacts,t.resultLimit);if(t.resultLimit&&o&&!i){var a=v({},t);m.info("call do fuzzy search email due to unsatisfactory of number limit after merge,limit number\n       :"+a.resultLimit+" ");a.resultLimit=undefined;return this.doFuzzySearchEmailContacts(n,a,r)}return e};ContactModule.prototype.sortDataByLabel=function(e){return b(e).sort((function(e,t){var n=e.label&&l.EU[e.label]||l.EU.Default;var r=t.label&&l.EU[t.label]||l.EU.Default;var o=n-r;if(!o){Object.keys(e).some((function(n){var r=JSON.stringify(e[n]);var i=JSON.stringify(t[n]);o=r<i?-1:r>i?1:0;return o}))}return o}))};ContactModule.prototype._handleEmailContactSearchResult=function(e,t){var n=this;var r={terms:[],emailContacts:[]};if(e.length){e.forEach((function(e){var t=n._transformContactSearchedResult(e.type);var o=e.result.emailContacts.map(t);r.emailContacts=r.emailContacts.concat(o)}));r.emailContacts=r.emailContacts.sort(t||this.defaultSortContactByKeyFunc);r.terms=e[0].result.terms}return r};ContactModule.prototype._getSourcesByTypes=function(e){var t=this;return e?e.map((function(e){return t._source.get(e)})).filter((function(e){return e})):Array.from(this._source.values())};ContactModule.prototype.isVisibleContact=function(e){var t;var n=this._source.get(this.getTypeById(e));var r=n&&n.getDataByIdSynchronously(this.getRawIdById(e));var o=(t=n===null||n===void 0?void 0:n.getContactParser)===null||t===void 0?void 0:t.call(n);return!!(r&&(o===null||o===void 0?void 0:o.isVisibleContact(r)))};ContactModule.prototype.isMatchableContact=function(e){var t;var n=this._source.get(this.getTypeById(e));var r=n&&n.getDataByIdSynchronously(this.getRawIdById(e));var o=(t=n===null||n===void 0?void 0:n.getContactParser)===null||t===void 0?void 0:t.call(n);return!!(r&&(o===null||o===void 0?void 0:o.isMatchableContact(r)))};ContactModule.prototype.getPhoneNumbersByContactIdSynchronously=function(e){var t;var n=this._source.get(this.getTypeById(e));var r=n&&n.getDataByIdSynchronously(this.getRawIdById(e));return r&&((t=n===null||n===void 0?void 0:n.getPhoneNumbers)===null||t===void 0?void 0:t.call(n,r))||[]};ContactModule.prototype.getPhoneNumbersByContactId=function(e){var t;return g(this,void 0,Promise,(function(){var n,r,o;return _(this,(function(i){switch(i.label){case 0:n=this._source.get(this.getTypeById(e));o=n;if(!o)return[3,2];return[4,n.getDataById(this.getRawIdById(e))];case 1:o=i.sent();i.label=2;case 2:r=o;return[2,r&&((t=n===null||n===void 0?void 0:n.getPhoneNumbers)===null||t===void 0?void 0:t.call(n,r))||[]]}}))}))};ContactModule.prototype.matchContactByExtensionId=function(e){return this._matchByExtensionIdInLoop(e,this._priority.values())};ContactModule.prototype._matchByExtensionIdInLoop=function(e,t){var n;return g(this,void 0,Promise,(function(){var r,o,i;return _(this,(function(a){switch(a.label){case 0:r=t.next().value;o=r&&this._source.get(r.type);if(!o){return[2]}return[4,(n=o.matchByExtensionId)===null||n===void 0?void 0:n.call(o,e)];case 1:i=a.sent();if(i){return[2,p.K.getUniqueId(o.getType(),i)]}return[2,this._matchByExtensionIdInLoop(e,t)]}}))}))};ContactModule.prototype.matchContactByExtensionIdSynchronously=function(e){return this._matchByExtensionIdSynchronouslyInLoop(e,this._priority.values())};ContactModule.prototype._matchByExtensionIdSynchronouslyInLoop=function(e,t){var n;var r=t.next().value;var o=r&&this._source.get(r.type);if(!o){return}var i=(n=o.matchByExtensionIdSynchronously)===null||n===void 0?void 0:n.call(o,e);if(i){return p.K.getUniqueId(o.getType(),i)}return this._matchByExtensionIdSynchronouslyInLoop(e,t)};ContactModule.prototype.getExtensionIdByContactId=function(e){return g(this,void 0,Promise,(function(){var t;return _(this,(function(n){switch(n.label){case 0:return[4,this._getRawContactData(e)];case 1:t=n.sent();return[2,t&&t.rawContact&&this.getExtensionIdFromContact(e,t.rawContact)||undefined]}}))}))};ContactModule.prototype.getExtensionIdByContactIdSynchronously=function(e){var t=this._source.get(this.getTypeById(e));if(!t){return undefined}var n=t.getDataByIdSynchronously(this.getRawIdById(e));return n&&this.getExtensionIdFromContact(e,n)||undefined};ContactModule.prototype.getExtensionIdsByContactIds=function(e){var t;return g(this,void 0,Promise,(function(){var n,r,o,i,a,u;var s=this;return _(this,(function(c){switch(c.label){case 0:n=[];if(!e.length){return[2,Promise.resolve(n)]}r=this._source.get(this.getTypeById(e[0]));if(!r){return[2,Promise.resolve(n)]}o=(t=r===null||r===void 0?void 0:r.getContactParser)===null||t===void 0?void 0:t.call(r);if(!o){return[2,Promise.resolve(n)]}i=[];e.forEach((function(e){i.push(s.getRawIdById(e))}));if(!r.getDataByIds)return[3,2];return[4,r.getDataByIds(i)];case 1:u=c.sent();return[3,3];case 2:u=[];c.label=3;case 3:a=u;a.forEach((function(e){var t;if(e){var r=(t=o===null||o===void 0?void 0:o.getExtensionId)===null||t===void 0?void 0:t.call(o,e);if(r){n.push(r)}}}));return[2,n]}}))}))};ContactModule.prototype.getExtensionIdFromContact=function(e,t){var n,r;var o=this._source.get(this.getTypeById(e));var i=(n=o===null||o===void 0?void 0:o.getContactParser)===null||n===void 0?void 0:n.call(o);return(r=i===null||i===void 0?void 0:i.getExtensionId)===null||r===void 0?void 0:r.call(i,t)};ContactModule.prototype.getContactGroupId=function(e){var t,n;var r=this._source.get(this.getTypeById(e));var o=r&&r.getDataByIdSynchronously(this.getRawIdById(e));var i=(t=r===null||r===void 0?void 0:r.getContactParser)===null||t===void 0?void 0:t.call(r);return o&&((n=i===null||i===void 0?void 0:i.getContactGroupId)===null||n===void 0?void 0:n.call(i,o))||undefined};ContactModule.prototype.getCurrentContactGroupIdByType=function(e){var t;var n=this._source.get(e);return(t=n===null||n===void 0?void 0:n.getCurrentContactGroupId)===null||t===void 0?void 0:t.call(n)};ContactModule.prototype.subscribeContactSyncStatus=function(e,t){var n=this;var r=[];e.forEach((function(e){var t=n._source.get(e);t&&r.push(t)}));if(r.length){this.contactSyncStatusController.subscribeContactSyncStatus(r,t)}};ContactModule.prototype.unsubscribeContactSyncStatus=function(e){this.contactSyncStatusController.unsubscribeContactSyncStatus(e)};ContactModule.prototype.getLastSyncTime=function(e){var t=this;var n=[];e.forEach((function(e){var r=t._source.get(e);r&&n.push(r)}));return this.contactSyncStatusController.getLastSyncTime(n)};Object.defineProperty(ContactModule.prototype,"contactSyncStatusController",{get:function(){if(!this._contactSyncStatusController){this._contactSyncStatusController=new d.Pu}return this._contactSyncStatusController},enumerable:true,configurable:true});ContactModule.prototype._getRawContactData=function(e){return g(this,void 0,void 0,(function(){var t,n;return _(this,(function(r){switch(r.label){case 0:t=this._source.get(this.getTypeById(e));if(!t){return[2,null]}n={source:t};return[4,t.getDataById(this.getRawIdById(e))];case 1:return[2,(n.rawContact=r.sent(),n)]}}))}))};ContactModule.prototype._satisfyLimit=function(e,t){return!t?true:e.length>=t};return ContactModule}(i.AbstractModule)},489597:(e,t,n)=>{"use strict";n.d(t,{c:()=>h});var r=n(862926);var o=n.n(r);var i=n(667489);var a=n.n(i);var u=n(827027);var s=n(27677);var c=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var l=undefined&&undefined.__assign||function(){l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return l.apply(this,arguments)};var f=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var d=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var p=1;var h=function(e){c(AbstractContactFetchController,e);function AbstractContactFetchController(t,n){var o=e.call(this,{dao:n,jobKey:t.jobKey,perfTag:t.perfTag,iSyncEnabled:false},t.pageSize)||this;o._configs=t;o._fetchContactList=function(e){return f(o,void 0,void 0,(function(){var t,n,o,i,a,c;var l;return d(this,(function(f){switch(f.label){case 0:if(!this._shouldPassEtag(e.page))return[3,2];return[4,this.userConfig.getETag()];case 1:n=f.sent()||"";return[3,3];case 2:n="";f.label=3;case 3:t=n;return[4,this.fetchContactApi(e,t)];case 4:o=f.sent();i=u.responseParser.parse(o);if(i instanceof r.NotModifiedError){throw i}a=o.data;c=(l=a===null||a===void 0?void 0:a.paging)===null||l===void 0?void 0:l.totalPages;if(this._shouldSaveEtag(e.page,c)&&(!t||o.headers[r.RESPONSE_HEADER_KEY.E_TAG]!==t)){this.userConfig.setETag(o.headers[r.RESPONSE_HEADER_KEY.E_TAG])}if(!Array.isArray(o.data.records)){s.K.doErrorTrackingInCommon("CONTACT_SYNC_FIELD_TYPE_ERROR",{jobKey:this._configs.jobKey,data:o.data});o.data.records=[]}return[2,Promise.resolve(o.data)]}}))}))};return o}AbstractContactFetchController.prototype.onDataUpserted=function(e){i.notificationCenter.emitEntityUpdate(this._configs.entityEventKey,e);return Promise.resolve()};AbstractContactFetchController.prototype.onDataDeleted=function(e){i.notificationCenter.emitEntityDelete(this._configs.entityEventKey,e);return Promise.resolve()};AbstractContactFetchController.prototype._shouldPassEtag=function(e){return e===p};AbstractContactFetchController.prototype._shouldSaveEtag=function(e,t){return e===t};Object.defineProperty(AbstractContactFetchController.prototype,"iSyncFetchHandler",{get:function(){return this._fetchContactList},enumerable:true,configurable:true});Object.defineProperty(AbstractContactFetchController.prototype,"fSyncFetchHandler",{get:function(){return this._fetchContactList},enumerable:true,configurable:true});AbstractContactFetchController.prototype.handleCreateContacts=function(e){return f(this,void 0,void 0,(function(){var t;return d(this,(function(n){switch(n.label){case 0:if(e.length===0){return[2]}this.logger.info("create contacts",e.map((function(e){e.id;e.extensionNumber})));return[4,this._md5Utils.addMD5ToList(this._getTrimmedContacts(e),this._keysToIgnore)];case 1:t=n.sent();return[4,this.entitySourceController.bulkPut(t)];case 2:n.sent();i.notificationCenter.emitEntityUpdate(this._configs.entityEventKey,t);return[2]}}))}))};AbstractContactFetchController.prototype.handleUpdateContacts=function(e){return f(this,void 0,void 0,(function(){var t,n,r,o,a,u;var s=this;return d(this,(function(c){switch(c.label){case 0:if(e.length===0){return[2]}this.logger.info("update contacts",e.map((function(e){e.id;e.extensionNumber})));t=this._getTrimmedContacts(e);n=t.map((function(e){return e.id}));return[4,this.entitySourceController.getEntitiesLocally(n,false)];case 1:r=c.sent();o=t.map((function(e){return s._deepMergeContactData(e,r===null||r===void 0?void 0:r.find((function(t){return t.id===e.id})))}));return[4,this._md5Utils.addMD5ToList(o,this._keysToIgnore)];case 2:a=c.sent();return[4,this.entitySourceController.bulkUpdate(a)];case 3:c.sent();return[4,this.entitySourceController.batchGet(n)];case 4:u=c.sent();i.notificationCenter.emitEntityUpdate(this._configs.entityEventKey,u);return[2]}}))}))};AbstractContactFetchController.prototype.handleDeleteContacts=function(e){return f(this,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:if(e.length===0){return[2]}this.logger.info("delete contacts, ids:",e);return[4,this.entitySourceController.bulkDelete(e)];case 1:t.sent();i.notificationCenter.emitEntityDelete(this._configs.entityEventKey,e);return[2]}}))}))};AbstractContactFetchController.prototype._getTrimmedContacts=function(e){var t=["eventType","oldEtag","newEtag"];var n=e.slice();n.forEach((function(e){t.forEach((function(t){return delete e[t]}))}));return n};AbstractContactFetchController.prototype._deepMergeContactData=function(e,t){var n=l({},e);var r=new Set(Object.keys(e));var o=Object.keys(t||{}).filter((function(e){return!r.has(e)}));o.forEach((function(e){return n[e]=undefined}));return n};return AbstractContactFetchController}(u.AbstractScheduledPageSyncController)},475349:(e,t,n)=>{"use strict";n.d(t,{j:()=>w});var r=n(298784);var o=n.n(r);var i=n(667489);var a=n(862926);var u=n(776271);var s=n(27677);var c=n(316273);var l=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var f=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var d=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var p=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e};var h=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var v=c.k.subModule("[DirectoryContactDeDuplicationController]");var g=function(){function DirectoryContactDeDuplicationController(){this._directoryDeduplicateInfo=new Map;this._contactId2Info=new Map;this._duplicateInfos=new Map;this._reverseDuplicateInfos=new Map}DirectoryContactDeDuplicationController.prototype.haveDuplicateInfo=function(){var e;return!!((e=this._duplicateInfos)===null||e===void 0?void 0:e.size)};DirectoryContactDeDuplicationController.prototype.hasContactInMergeChain=function(e){var t=this;return this.haveDuplicateInfo()&&e.some((function(e){var n,r;return!!(((n=t._reverseDuplicateInfos.get(e))===null||n===void 0?void 0:n.length)||((r=t._duplicateInfos.get(e))===null||r===void 0?void 0:r.length))}))};DirectoryContactDeDuplicationController.prototype.hasParentContact=function(e){var t=this;return this.haveDuplicateInfo()&&e.some((function(e){var n;return!!((n=t._reverseDuplicateInfos.get(e))===null||n===void 0?void 0:n.length)}))};DirectoryContactDeDuplicationController.prototype.isDeDuplicatedContactId=function(e){return this._reverseDuplicateInfos.has(e)};DirectoryContactDeDuplicationController.prototype.getById=function(e){var t=this._duplicateInfos.get(e)||[];return{id:e,duplicateIds:p(new Set(t))}};DirectoryContactDeDuplicationController.prototype.getParentId=function(e){return this._reverseDuplicateInfos.get(e)||[]};DirectoryContactDeDuplicationController.prototype.computeAndNotifyReload=function(){this._computeAllDuplicateInfo();this.notifyReload()};DirectoryContactDeDuplicationController.prototype._computeAllDuplicateInfo=function(){this._duplicateInfos=this._computeDuplicateInfo(this._directoryDeduplicateInfo);this._reverseDuplicateInfos=this._computeReverseDuplicateInfo(this._duplicateInfos)};DirectoryContactDeDuplicationController.prototype._computePartialAndNotifyUpdate=function(e,t){var n=this;this._computeDuplicateInfoByEmails(e,t);var r=[];t.forEach((function(e){return r.push(n.getById(e))}));this.notifyUpdate(r)};DirectoryContactDeDuplicationController.prototype._computeDuplicateInfoByEmails=function(e,t){var n=this;var r=new Map;e.forEach((function(e){var t=n._directoryDeduplicateInfo.get(e);if(t&&t.length>0){r.set(e,t)}}));var o=this._computeDuplicateInfo(r);var i=this._computeReverseDuplicateInfo(o);t.forEach((function(e){n._duplicateInfos.delete(e);n._reverseDuplicateInfos.delete(e)}));o.forEach((function(e,t){n._duplicateInfos.set(t,e)}));i.forEach((function(e,t){n._reverseDuplicateInfos.set(t,e)}))};DirectoryContactDeDuplicationController.prototype.cleanUpAll=function(){this._directoryDeduplicateInfo.clear();this._contactId2Info.clear();this._duplicateInfos.clear();this._reverseDuplicateInfos.clear()};DirectoryContactDeDuplicationController.prototype.handleContactDelete=function(e,t){var n=t.map((function(t){return s.K.getUniqueId(e.getType(),t)}));var r=new Map;n.forEach((function(e){return r.set(e,[])}));this._updateInfoByContactUpdate(r,e)};DirectoryContactDeDuplicationController.prototype.handleContactUpdate=function(e,t){var n,r;var o,i,a;var u=new Map;var s=e.getType();try{for(var c=h(t),l=c.next();!l.done;l=c.next()){var f=l.value;var d=e.getDataByIdSynchronously(f);if(d){var v=(a=(o=e.getContactParser)===null||o===void 0?void 0:(i=o.call(e)).getLowercaseEmails)===null||a===void 0?void 0:a.call(i,d);if(v&&v.length>0){var g=v.map((function(e){return e||""})).filter((function(e){return e}));u.set(s+"."+f,p(new Set(g)))}}}}catch(e){n={error:e}}finally{try{if(l&&!l.done&&(r=c.return))r.call(c)}finally{if(n)throw n.error}}this._updateInfoByContactUpdate(u,e)};DirectoryContactDeDuplicationController.prototype._updateInfoByContactUpdate=function(e,t){var n,r;var o;try{for(var i=h(e),a=i.next();!a.done;a=i.next()){var u=d(a.value,2),s=u[0],c=u[1];var l=this._getDiffEmails(((o=this._contactId2Info.get(s))===null||o===void 0?void 0:o.emails)||[],c),f=l.addedEmails,g=l.deletedEmails;if(f.length!==0||g.length!==0){v.info("contact update and change emails:",s,f,g);var _=this._getAllRelateEmails(p(g,f));if(_.length*2>this._directoryDeduplicateInfo.size){this._updateNewInfo(t,s,c,f,g);this.computeAndNotifyReload();break}var y=this._getContactIdsByEmails(_);this._updateNewInfo(t,s,c,f,g);this._computePartialAndNotifyUpdate(_,y)}}}catch(e){n={error:e}}finally{try{if(a&&!a.done&&(r=i.return))r.call(i)}finally{if(n)throw n.error}}};DirectoryContactDeDuplicationController.prototype._updateNewInfo=function(e,t,n,r,o){if(n.length===0){this._contactId2Info.delete(t)}else{this._contactId2Info.set(t,{emails:n,priority:e.getPriority()})}r&&this._addDeduplicateInfoByEmails(r,t);o&&this._deleteDeduplicateInfoByEmails(o,t)};DirectoryContactDeDuplicationController.prototype._getContactIdsByEmails=function(e){var t,n;var r=[];try{for(var o=h(e),i=o.next();!i.done;i=o.next()){var a=i.value;r.push.apply(r,p(this._directoryDeduplicateInfo.get(a)||[]))}}catch(e){t={error:e}}finally{try{if(i&&!i.done&&(n=o.return))n.call(o)}finally{if(t)throw t.error}}return p(new Set(r))};DirectoryContactDeDuplicationController.prototype._getAllRelateEmails=function(e){var t,n,r,o;var i;var a=new Map;var u=false;e.forEach((function(e){return a.set(e,false)}));do{if(this._directoryDeduplicateInfo.size<a.size*2){u=true;break}if(!p(a.values()).some((function(e){return!e}))){break}try{for(var s=(t=void 0,h(a)),c=s.next();!c.done;c=s.next()){var l=d(c.value,2),f=l[0],v=l[1];if(v){continue}a.set(f,true);var g=this._directoryDeduplicateInfo.get(f);if(g&&g.length>0){try{for(var _=(r=void 0,h(g)),y=_.next();!y.done;y=_.next()){var b=y.value;(i=this._contactId2Info.get(b))===null||i===void 0?void 0:i.emails.forEach((function(e){if(!a.has(e)){a.set(e,false)}}))}}catch(e){r={error:e}}finally{try{if(y&&!y.done&&(o=_.return))o.call(_)}finally{if(r)throw r.error}}}}}catch(e){t={error:e}}finally{try{if(c&&!c.done&&(n=s.return))n.call(s)}finally{if(t)throw t.error}}}while(true);return u?p(this._directoryDeduplicateInfo.keys()):p(a.keys())};DirectoryContactDeDuplicationController.prototype._getDiffEmails=function(e,t){var n=o().difference(e,t);var r=o().difference(t,e);return{deletedEmails:n,addedEmails:r}};DirectoryContactDeDuplicationController.prototype._deleteDeduplicateInfoByEmails=function(e,t){var n=this;e.forEach((function(e){var r=n._directoryDeduplicateInfo.get(e);if(r&&r.length>0){var o=r.filter((function(e){return e!==t}));if(o.length>0){n._directoryDeduplicateInfo.set(e,o)}else{n._directoryDeduplicateInfo.delete(e)}}}))};DirectoryContactDeDuplicationController.prototype._addDeduplicateInfoByEmails=function(e,t){var n=this;e.forEach((function(e){var r=n._directoryDeduplicateInfo.get(e);var o=p(new Set(p(r||[],[t])));n._directoryDeduplicateInfo.set(e,n._sortContactIdsByPriority(o))}))};DirectoryContactDeDuplicationController.prototype.addDeduplicateInfo=function(e){var t;return l(this,void 0,void 0,(function(){var n,r,o,i,a,u,c,l,g,_,y;var b,C;var m=this;return f(this,(function(f){switch(f.label){case 0:n=e.getPriority();r=e.getType();return[4,(t=e.getDeduplicateInfo)===null||t===void 0?void 0:t.call(e)];case 1:o=f.sent();if(!o||o.size===0){v.info("get deduplicate info is empty:",e.getType());return[2]}i=new Map;o.forEach((function(e,t){i.set(t,e.map((function(e){return s.K.getUniqueId(r,e)})))}));a=function(e,t){t.forEach((function(t){var r=m._contactId2Info.get(t);if(!r){m._contactId2Info.set(t,{priority:n,emails:[e]})}else{r.emails.push(e)}}));var r=u._directoryDeduplicateInfo.get(e);if(!r||u._containsNewContactIds(t,r)){var o=p(r||[],t);u._directoryDeduplicateInfo.set(e,u._sortContactIdsByPriority(o))}};u=this;try{for(c=h(i),l=c.next();!l.done;l=c.next()){g=d(l.value,2),_=g[0],y=g[1];a(_,y)}}catch(e){b={error:e}}finally{try{if(l&&!l.done&&(C=c.return))C.call(c)}finally{if(b)throw b.error}}return[2]}}))}))};DirectoryContactDeDuplicationController.prototype._containsNewContactIds=function(e,t){return e.some((function(e){return!t.includes(e)}))};DirectoryContactDeDuplicationController.prototype._deleteContactId2Info=function(e){var t=this;e.forEach((function(e){return t._contactId2Info.delete(e)}))};DirectoryContactDeDuplicationController.prototype.deleteDeduplicateInfo=function(e){var t,n;var r=this;var o=[];try{for(var i=h(this._directoryDeduplicateInfo),a=i.next();!a.done;a=i.next()){var u=d(a.value,2),s=u[0],c=u[1];var l=c.filter((function(t){var n;if(((n=r._contactId2Info.get(t))===null||n===void 0?void 0:n.priority)!==e){return true}o.push(t);return false}));if(l.length>0){this._directoryDeduplicateInfo.set(s,l)}else{this._directoryDeduplicateInfo.delete(s)}}}catch(e){t={error:e}}finally{try{if(a&&!a.done&&(n=i.return))n.call(i)}finally{if(t)throw t.error}}this._deleteContactId2Info(o)};DirectoryContactDeDuplicationController.prototype._computeDuplicateInfo=function(e){var t,n,r,o;var i=new Map;var _loop_2=function(e){var t=a._sortContactIdsByPriority(e);var n=a._dividingIndexOfHighAndOtherByPriority(t);if(n&&n>=1){var r=t.slice(0,n);var o=t.slice(n);r===null||r===void 0?void 0:r.forEach((function(e){var t=i.get(e);i.set(e,p(t||[],o))}))}};var a=this;try{for(var u=h(e.values()),s=u.next();!s.done;s=u.next()){var c=s.value;_loop_2(c)}}catch(e){t={error:e}}finally{try{if(s&&!s.done&&(n=u.return))n.call(u)}finally{if(t)throw t.error}}var l=new Map;try{for(var f=h(i),v=f.next();!v.done;v=f.next()){var g=d(v.value,2),_=g[0],y=g[1];var b=this._sortContactIdsByPriority(p(new Set(y)));l.set(_,b)}}catch(e){r={error:e}}finally{try{if(v&&!v.done&&(o=f.return))o.call(f)}finally{if(r)throw r.error}}this._deleteSerialDuplicate(l);return l};DirectoryContactDeDuplicationController.prototype._dividingIndexOfHighAndOtherByPriority=function(e){var t=this;if(e.length===0){return undefined}var n=this._contactId2Info.get(e[0]);if(!n){v.warn("can not find priority:",e);return undefined}var r=e.findIndex((function(e){var r;return((r=t._contactId2Info.get(e))===null||r===void 0?void 0:r.priority)!==n.priority}));return r};DirectoryContactDeDuplicationController.prototype._deleteSerialDuplicate=function(e){var t,n,r,o;var i;var a=[];try{for(var u=h(e),s=u.next();!s.done;s=u.next()){var c=d(s.value,2),l=c[0],f=c[1];var v=[];try{for(var g=(r=void 0,h(f)),_=g.next();!_.done;_=g.next()){var y=_.value;var b=e.get(y);if(b&&b.length>0){v.push.apply(v,p(b));a.push(y)}}}catch(e){r={error:e}}finally{try{if(_&&!_.done&&(o=g.return))o.call(g)}finally{if(r)throw r.error}}(i=e.get(l))===null||i===void 0?void 0:i.push.apply(i,p(new Set(v)))}}catch(e){t={error:e}}finally{try{if(s&&!s.done&&(n=u.return))n.call(u)}finally{if(t)throw t.error}}a.forEach((function(t){return e.delete(t)}))};DirectoryContactDeDuplicationController.prototype._computeReverseDuplicateInfo=function(e){var t,n,r,i,a,u;var s;var c=new Map;try{for(var l=h(e),f=l.next();!f.done;f=l.next()){var p=d(f.value,2),g=p[0],_=p[1];try{for(var y=(r=void 0,h(_)),b=y.next();!b.done;b=y.next()){var C=b.value;var m=c.get(C);var S=(s=this._contactId2Info.get(g))===null||s===void 0?void 0:s.priority;if(S===undefined){v.error("_contactId2Info find record error, it shows up id without priority , need to check logic");continue}if(!m){m=[];m[S]=[g];c.set(C,m)}else{m[S]=m[S]?m[S]:[];m[S].push(g)}}}catch(e){r={error:e}}finally{try{if(b&&!b.done&&(i=y.return))i.call(y)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{if(f&&!f.done&&(n=l.return))n.call(l)}finally{if(t)throw t.error}}var E=new Map;try{for(var I=h(c),w=I.next();!w.done;w=I.next()){var R=d(w.value,2),g=R[0],P=R[1];E.set(g,o().flatten(P.filter((function(e){return e}))))}}catch(e){a={error:e}}finally{try{if(w&&!w.done&&(u=I.return))u.call(I)}finally{if(a)throw a.error}}return E};DirectoryContactDeDuplicationController.prototype._sortContactIdsByPriority=function(e){var t=this;if(e.length<=1){return e}return e.sort((function(e,n){var r=t._contactId2Info.get(e);var o=t._contactId2Info.get(n);if(r&&o){if(r.priority===o.priority){return e>n?1:-1}return r.priority-o.priority}return 0}))};DirectoryContactDeDuplicationController.prototype.notifyUpdate=function(e){i.notificationCenter.emitEntityUpdate(u.FY.ENTITY.CONTACT_DUPLICATE_INFO,e)};DirectoryContactDeDuplicationController.prototype.notifyReload=function(){i.notificationCenter.emitEntityReload(u.FY.ENTITY.CONTACT_DUPLICATE_INFO,[],true)};return DirectoryContactDeDuplicationController}();var _=function(){function ContactMergeUtils(){}ContactMergeUtils.getEmailAddressKey=function(e){var t;return((t=e.address)===null||t===void 0?void 0:t.toLowerCase().trim())||""};ContactMergeUtils.getPhoneNumberKey=function(e){return e.phoneNumber.trim()};return ContactMergeUtils}();var y=undefined&&undefined.__assign||function(){y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return y.apply(this,arguments)};var b=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var C=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var m=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var S=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var E=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(S(arguments[t]));return e};var I=c.k.tags("[ContactDeDuplicationController]");var w=function(){function ContactDeDuplicationController(){this._directoryController=new g;this._mergedSources=new Map}ContactDeDuplicationController.prototype._handleContactReloadEvent=function(e){var t;return b(this,void 0,void 0,(function(){return C(this,(function(n){switch(n.label){case 0:return[4,(t=e.isProviderAvailable)===null||t===void 0?void 0:t.call(e)];case 1:if(!n.sent())return[3,3];return[4,this.handleNewContactProvider(e)];case 2:n.sent();return[3,4];case 3:this.handleDeleteContactProvider(e);n.label=4;case 4:return[2]}}))}))};ContactDeDuplicationController.prototype._handleContactUpdateEvent=function(e,t){var n,r;return b(this,void 0,void 0,(function(){var o,i,a,u,s,c,l,f;var d,p;return C(this,(function(h){switch(h.label){case 0:o=t.body.ids;return[4,(n=e.getDeduplicateCount)===null||n===void 0?void 0:n.call(e)];case 1:i=h.sent();if(!i){return[2]}if(!(i<o.length*2))return[3,3];return[4,this.handleNewContactProvider(e)];case 2:h.sent();return[2];case 3:a=[];u=[];h.label=4;case 4:h.trys.push([4,9,10,11]);s=m(o),c=s.next();h.label=5;case 5:if(!!c.done)return[3,8];l=c.value;return[4,(r=e.canBeDeduplicate)===null||r===void 0?void 0:r.call(e,""+l)];case 6:if(h.sent()){u.push(l)}else{a.push(l)}h.label=7;case 7:c=s.next();return[3,5];case 8:return[3,11];case 9:f=h.sent();d={error:f};return[3,11];case 10:try{if(c&&!c.done&&(p=s.return))p.call(s)}finally{if(d)throw d.error}return[7];case 11:I.info("receive update contact ids:",a,u);u.length>0&&this._directoryController.handleContactUpdate(e,u);a.length>0&&this._directoryController.handleContactDelete(e,a);return[2]}}))}))};ContactDeDuplicationController.prototype._handleContactDeleteEvent=function(e,t){I.info("receive delete contact ids:",t.body.ids);this._directoryController.handleContactDelete(e,t.body.ids)};ContactDeDuplicationController.prototype.handleContactUpdate=function(e,t){var n;return b(this,void 0,void 0,(function(){var r;return C(this,(function(o){switch(o.label){case 0:if(!((n=e.isDeduplicateProvider)===null||n===void 0?void 0:n.call(e))){I.info("cannot update because it is not a deduplicate provider",e.getType());return[2]}I.info("contact update:",t.type,e.getType());r=t.type;switch(r){case i.EVENT_TYPES.RELOAD:return[3,1];case i.EVENT_TYPES.UPDATE:return[3,3];case i.EVENT_TYPES.DELETE:return[3,5]}return[3,6];case 1:return[4,this._handleContactReloadEvent(e)];case 2:o.sent();return[3,7];case 3:return[4,this._handleContactUpdateEvent(e,t)];case 4:o.sent();return[3,7];case 5:{this._handleContactDeleteEvent(e,t);return[3,7]}o.label=6;case 6:{return[3,7]}o.label=7;case 7:return[2]}}))}))};ContactDeDuplicationController.prototype.getById=function(e){return this._directoryController.getById(e)};ContactDeDuplicationController.prototype.getParentId=function(e){return this._directoryController.getParentId(e)};ContactDeDuplicationController.prototype.isDeDuplicatedContactId=function(e){return this._directoryController.isDeDuplicatedContactId(e)};ContactDeDuplicationController.prototype.handleNewContactProvider=function(e){var t,n;return b(this,void 0,void 0,(function(){return C(this,(function(r){switch(r.label){case 0:if(!((t=e.isDeduplicateProvider)===null||t===void 0?void 0:t.call(e))){I.info("cannot add to unmerged sources because it is not a deduplicate provider",e.getType());return[2]}return[4,(n=e.isProviderAvailable)===null||n===void 0?void 0:n.call(e)];case 1:if(!r.sent()){I.info("cannot add to unmerged sources because provider is not available",e.getType());return[2]}I.info("add source to unmerged sources:",e.getType());this._mergedSources.set(e.getPriority(),{source:e,beMerged:false});return[4,this._startCompute()];case 2:r.sent();return[2]}}))}))};ContactDeDuplicationController.prototype._startCompute=function(){return b(this,void 0,void 0,(function(){var e,t,n,r,o;var i,s;return C(this,(function(l){switch(l.label){case 0:e=c.k.performance();l.label=1;case 1:l.trys.push([1,6,7,8]);t=m(this._mergedSources.values()),n=t.next();l.label=2;case 2:if(!!n.done)return[3,5];r=n.value;if(!!r.beMerged)return[3,4];r.beMerged=true;return[4,this._addContact(r.source)];case 3:l.sent();l.label=4;case 4:n=t.next();return[3,2];case 5:return[3,8];case 6:o=l.sent();i={error:o};return[3,8];case 7:try{if(n&&!n.done&&(s=t.return))s.call(t)}finally{if(i)throw i.error}return[7];case 8:this._computeAndNotifyReload();e.end({key:u.LZ.ADD_COMPUTE_DUPLICATE_CONTACT,level:a.LOG_CONTROL_LEVEL.NORMAL});return[2]}}))}))};ContactDeDuplicationController.prototype.handleDeleteContactProvider=function(e){var t,n;var r;if(!((r=e.isDeduplicateProvider)===null||r===void 0?void 0:r.call(e))){I.info("cannot delete because the source is not a deduplicate provider",e.getType());return}this._mergedSources.delete(e.getPriority());if(this._mergedSources.size<=1){this._cleanUpAll();try{for(var o=m(this._mergedSources.values()),i=o.next();!i.done;i=o.next()){var a=i.value;a.beMerged=false}}catch(e){t={error:e}}finally{try{if(i&&!i.done&&(n=o.return))n.call(o)}finally{if(t)throw t.error}}return}this._deleteContact(e.getPriority());this._computeAndNotifyReload()};ContactDeDuplicationController.prototype.needToDeduplicate=function(){return this._directoryController.haveDuplicateInfo()};ContactDeDuplicationController.prototype.deduplicateIdModels=function(e){var t=this;return e.filter((function(e){return!t._directoryController.isDeDuplicatedContactId(e.id)}))};ContactDeDuplicationController.prototype._addContact=function(e){return this._directoryController.addDeduplicateInfo(e)};ContactDeDuplicationController.prototype._deleteContact=function(e){this._directoryController.deleteDeduplicateInfo(e)};ContactDeDuplicationController.prototype._computeAndNotifyReload=function(){this._directoryController.computeAndNotifyReload()};ContactDeDuplicationController.prototype._cleanUpAll=function(){this._directoryController.cleanUpAll()};ContactDeDuplicationController.prototype.mergeContactResultById=function(e){var t=this;if(!this._directoryController.hasParentContact(e.map((function(e){return e.id})))){return e}I.info("before merge result with attribute fetch , the array length is "+e.length+" ");var n=new Set;var r=[];e.forEach((function(e){var o=t._directoryController.getParentId(e.id);var i=[];if(o.length>0){o.forEach((function(t){i.push(y(y({},e),{id:t}))}))}else{i.push(e)}i.forEach((function(e){if(!n.has(e.id)){r.push(e);n.add(e.id)}}))}));I.info("after merge result with attribute fetch , the array length is "+r.length+" ");return r};ContactDeDuplicationController.prototype.getFirstParentContactId=function(e){var t=this;return e.map((function(e){var n=t.getParentId(e);return n&&n.length>0?n[0]:e}))};ContactDeDuplicationController.prototype.mergeContactsExtraData=function(e){var t=this;if(!this.needToDeduplicate()){return e.sortedInfoModels}var n=e.attrReturnType,r=e.fetchAttributesByContactId;var o=new Map;var i=[];e.sortedInfoModels.forEach((function(e){var a=[];var u=t._directoryController.getParentId(e.id)||[];if(u.length){u.forEach((function(t){a.push(y(y({},e),{id:t}))}))}else{a.push(e)}a.forEach((function(e){var a,u,s,c;var l={contactMergeInfoMap:o,resultArray:i,newSortableInfo:e};if(n.returnMatchEmail){t._mergeContactAndExtraData(y(y({},l),{newSortableModelExtraData:{isAttributeMatched:!!((a=e.extraData)===null||a===void 0?void 0:a.isEmailMatched),matchedAttributes:((u=e.extraData)===null||u===void 0?void 0:u.matchedEmails)||[]},helperFuncs:t._emailAttributeHelpers({fetchAttributeByContactId:r.fetchEmails,extractAttributeKey:_.getEmailAddressKey})}))}else if(n.returnPhoneNumber){t._mergeContactAndExtraData(y(y({},l),{newSortableModelExtraData:{isAttributeMatched:!!((s=e.extraData)===null||s===void 0?void 0:s.isPhoneMatched),matchedAttributes:((c=e.extraData)===null||c===void 0?void 0:c.matchedNumbers)||[]},helperFuncs:t._phoneAttributeHelpers({fetchAttributeByContactId:r.fetchPhoneNumbers,extractAttributeKey:_.getPhoneNumberKey})}))}}))}));return i.map((function(e){if(e.extraData){e.contact.extraData=e.extraData}return e.contact}))};ContactDeDuplicationController.prototype._mergeContactAndExtraData=function(e){var t;var n=e.newSortableInfo,r=e.contactMergeInfoMap,o=e.resultArray,i=e.newSortableModelExtraData,a=e.helperFuncs;if(!r.has(n.id)){this._initializeContactSearchCache(o,n,r)}else{var u=r.get(n.id);if(!u.uniqueAttributeKeySet){u.uniqueAttributeKeySet=new Set}if(!u.allAttributeFetched){(t=a.extractAttributesFromSortItem(o[u.index]))===null||t===void 0?void 0:t.forEach((function(e){u.uniqueAttributeKeySet.add(a.extractAttributeKey(e))}))}}var s=r.get(n.id);var c=this._getAllPossibleAttributes({newSortableInfo:n,contactMergeInfo:s,helperFuncs:a,newSortableModelExtraData:i});if(!s.uniqueAttributeKeySet&&c.length!==i.matchedAttributes.length){s.uniqueAttributeKeySet=new Set}var l=o[s.index];c.forEach((function(e){var t,n;var r=a.extractAttributeKey(e);if(r&&(!s.uniqueAttributeKeySet||!((t=s.uniqueAttributeKeySet)===null||t===void 0?void 0:t.has(r)))){(n=s.uniqueAttributeKeySet)===null||n===void 0?void 0:n.add(r);a.saveAttributes2Cache(e,l)}}))};ContactDeDuplicationController.prototype.mergePhoneSearchResult=function(e,t){return this._mergeResultWithAttributeFetch(e,{modelAttributeMatchFunc:function(e){return e.isPhoneMatched},modelAttributeKeyGetFunc:function(e){return _.getPhoneNumberKey(e.phoneInfo)},modelAttributeSetFunc:function(e,t){e.phoneInfo=t;return e},fetchAttributeFunc:t,generateIdFromNewAttribute:function(e,t){var n=e.split(".");return n[0]+"."+n[1]+"."+t.phoneNumber+"."+(t.label||t.usageType)}})};ContactDeDuplicationController.prototype.mergeEmailSearchResult=function(e,t){return this._mergeResultWithAttributeFetch(e,{modelAttributeMatchFunc:function(e){return e.isEmailMatched},modelAttributeKeyGetFunc:function(e){return _.getEmailAddressKey(e.email)},modelAttributeSetFunc:function(e,t){e.email=t;return e},fetchAttributeFunc:t,generateIdFromNewAttribute:function(e,t){var n=e.split(".");return n[0]+"."+n[1]+"."+t.label+"."+t.address}})};ContactDeDuplicationController.prototype._mergeResultWithAttributeFetch=function(e,t){var n=this;if(!this._directoryController.hasContactInMergeChain(e.map((function(e){return e.rawId})))){return e}I.info("before merge result with attribute fetch , the array length is "+e.length+" ");var r=[];var i=new Map;e.forEach((function(e){var o=n._directoryController.getParentId(e.rawId);var a=[];if((o===null||o===void 0?void 0:o.length)>0){o.forEach((function(t){a.push(y(y({},e),{rawId:t,id:e.id+"."+t}))}))}else{a.push(e)}a.forEach((function(e){n._calculateAndFillContactMatchData({model:e,attrFuncCollections:t,rawIdIndexMap:i,tempDataResult:r})}))}));var a=o().flatten(r);I.info("after merge result with attribute fetch , the array length is "+a.length+" ");return a};ContactDeDuplicationController.prototype._calculateAndFillContactMatchData=function(e){var t=e.rawIdIndexMap,n=e.tempDataResult,r=e.model,o=e.attrFuncCollections;var i=t.get(r.rawId);var a;var u=o.modelAttributeKeyGetFunc(r);var s=i===null||i===void 0?void 0:i.keySet;if(i){a=n[i.index];if(!i.complete){i.onlyAttributeMatch=true;i.keySet=new Set;i.complete=true;t.set(r.rawId,i);s=i.keySet;s.add(o.modelAttributeKeyGetFunc(a[0]))}if(!s.has(u)){a.push(r);r.sortWeights=a[0].sortWeights;s.add(u)}}else{i={index:n.length,complete:false};t.set(r.rawId,i);a=[r]}if(!o.modelAttributeMatchFunc(r)&&i.onlyAttributeMatch!==false){i.onlyAttributeMatch=false;var c=this._directoryController.getById(r.rawId);if(c.duplicateIds.length>0){var l=o.fetchAttributeFunc(E([r.rawId],c.duplicateIds));s=new Set;i.keySet=s;i.complete=true;a=[];l.forEach((function(e){var t=y({},r);t.id=o.generateIdFromNewAttribute(t.id,e);o.modelAttributeSetFunc(t,e);if(!s.has(o.modelAttributeKeyGetFunc(t))){a.push(t);s.add(o.modelAttributeKeyGetFunc(t))}}))}}n[i.index]=a};ContactDeDuplicationController.prototype.getDiffDuplicateIds=function(e){var t=this;var n=new Set(e);var r=new Set;n.forEach((function(e){var n=t.getById(e);n.duplicateIds.forEach((function(e){return r.add(e)}))}));var o=[];r.forEach((function(e){if(!n.has(e)){o.push(e)}}));return o};ContactDeDuplicationController.prototype._phoneAttributeHelpers=function(e){var t={fetchAttributeByContactId:e.fetchAttributeByContactId,extractAttributeKey:e.extractAttributeKey,saveAttributes2Cache:function(e,t){var n;(n=t.extraData)===null||n===void 0?void 0:n.matchedNumbers.push(e)},extractAttributesFromSortItem:function(e){var t;return((t=e.extraData)===null||t===void 0?void 0:t.matchedNumbers)||[]}};return t};ContactDeDuplicationController.prototype._emailAttributeHelpers=function(e){var t={fetchAttributeByContactId:e.fetchAttributeByContactId,extractAttributeKey:e.extractAttributeKey,saveAttributes2Cache:function(e,t){var n;(n=t.extraData)===null||n===void 0?void 0:n.matchedEmails.push(e)},extractAttributesFromSortItem:function(e){var t;return((t=e.extraData)===null||t===void 0?void 0:t.matchedEmails)||[]}};return t};ContactDeDuplicationController.prototype._initializeContactSearchCache=function(e,t,n){var r,o;var i={index:e.length,allAttributeFetched:false,attributeMatched:true,uniqueAttributeKeySet:undefined};var a={contact:t,extraData:{matchedNumbers:[],matchedEmails:[],isEmailMatched:(r=t.extraData)===null||r===void 0?void 0:r.isEmailMatched,isPhoneMatched:(o=t.extraData)===null||o===void 0?void 0:o.isPhoneMatched}};n.set(t.id,i);e.push(a)};ContactDeDuplicationController.prototype._getAllPossibleAttributes=function(e){var t=e.newSortableInfo,n=e.contactMergeInfo,r=e.newSortableModelExtraData,o=e.helperFuncs;var i=[];var a=n.attributeMatched&&!r.isAttributeMatched;var u=a&&this.getById(t.id).duplicateIds||[];if(u.length){i=o.fetchAttributeByContactId(E([t.id],u))||[]}else{i=r.matchedAttributes}return i};return ContactDeDuplicationController}()},915730:(e,t,n)=>{"use strict";n.d(t,{P:()=>s});var r=n(295454);var o=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var i=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var a=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var u=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};var s=function(){function ContactSyncStatusController(){this._registeredContactSourceMap=new Map;this._transformedListenerMap=new Map;this._composeProgress=function(e){return e.some((function(e){return e===r.EP.IN_PROGRESS}))?r.EP.IN_PROGRESS:r.EP.IDLE}}ContactSyncStatusController.prototype.subscribeContactSyncStatus=function(e,t){var n=this;var r=e.filter((function(e){return n._isValidContactSource(e)})).map((function(e){var t=n._registeredContactSourceMap.get(e);if(!t){t=new c(e);n._registeredContactSourceMap.set(e,t)}return t}));var o=this._transformSyncStatusListener(t);this.multipleProgressHandler.subscribe(r,o);this._transformedListenerMap.set(t,o)};ContactSyncStatusController.prototype.unsubscribeContactSyncStatus=function(e){var t=this._transformedListenerMap.get(e);if(t){this.multipleProgressHandler.unsubscribe(t);this._transformedListenerMap.delete(e)}};ContactSyncStatusController.prototype.getLastSyncTime=function(e){return o(this,void 0,void 0,(function(){var t;var n=this;return i(this,(function(r){switch(r.label){case 0:t=[];return[4,Promise.all(e.map((function(e){return o(n,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,(t=e===null||e===void 0?void 0:e.getLastSyncTime)===null||t===void 0?void 0:t.call(e)];case 1:return[2,n.sent()]}}))}))})))];case 1:r.sent().forEach((function(e){return e&&t.push(e)}));return[2,t.length?Math.max.apply(Math,u(t)):undefined]}}))}))};ContactSyncStatusController.prototype._transformSyncStatusListener=function(e){return function(t){var n=t===r.EP.IN_PROGRESS;e(n)}};Object.defineProperty(ContactSyncStatusController.prototype,"multipleProgressHandler",{get:function(){if(!this._multipleProgressHandler){this._multipleProgressHandler=new r.mq(this._composeProgress)}return this._multipleProgressHandler},enumerable:true,configurable:true});ContactSyncStatusController.prototype._isValidContactSource=function(e){return!!(e.subscribeSyncStatus&&e.unsubscribeSyncStatus&&e.getIsInSyncing)};return ContactSyncStatusController}();var c=function(){function ContactSourceAdapter(e){var t=this;this._source=e;this.subscribe=this._generateSubscribeFunc(this._source);this.unsubscribe=this._generateUnsubscribeFunc(this._source);this.getIdentity=function(){return t._source.getType()};this.getProgress=function(){var e,n;return((n=(e=t._source).getIsInSyncing)===null||n===void 0?void 0:n.call(e))?r.EP.IN_PROGRESS:r.EP.IDLE}}ContactSourceAdapter.prototype._generateSubscribeFunc=function(e){var t=this;return function(n){var o;var contactSyncStatusListener=function(e){var t=e?r.EP.IN_PROGRESS:r.EP.IDLE;n(t)};(o=e.subscribeSyncStatus)===null||o===void 0?void 0:o.call(e,contactSyncStatusListener);t._contactSyncStatusListener=contactSyncStatusListener}};ContactSourceAdapter.prototype._generateUnsubscribeFunc=function(e){var t=this;return function(n){var r;(r=e.unsubscribeSyncStatus)===null||r===void 0?void 0:r.call(e,t._contactSyncStatusListener)}};return ContactSourceAdapter}()},753349:()=>{},729776:()=>{},886551:(e,t,n)=>{"use strict";var r=n(729776);var o=n.n(r);if(n.o(r,"ContactUtils"))n.d(t,{ContactUtils:function(){return r.ContactUtils}});if(n.o(r,"FuzzySearchPhoneContactOptions"))n.d(t,{FuzzySearchPhoneContactOptions:function(){return r.FuzzySearchPhoneContactOptions}});var i=n(753349);var a=n.n(i);if(n.o(i,"ContactUtils"))n.d(t,{ContactUtils:function(){return i.ContactUtils}});if(n.o(i,"FuzzySearchPhoneContactOptions"))n.d(t,{FuzzySearchPhoneContactOptions:function(){return i.FuzzySearchPhoneContactOptions}})},492591:()=>{},521740:(e,t,n)=>{"use strict";var r=n(492591);var o=n.n(r);if(n.o(r,"AbstractContactFetchController"))n.d(t,{AbstractContactFetchController:function(){return r.AbstractContactFetchController}});if(n.o(r,"AbstractContactInfoReader"))n.d(t,{AbstractContactInfoReader:function(){return r.AbstractContactInfoReader}});if(n.o(r,"AbstractContactSearchController"))n.d(t,{AbstractContactSearchController:function(){return r.AbstractContactSearchController}});if(n.o(r,"BaseContactService"))n.d(t,{BaseContactService:function(){return r.BaseContactService}});if(n.o(r,"ContactCacheController"))n.d(t,{ContactCacheController:function(){return r.ContactCacheController}});if(n.o(r,"ContactEntityCacheSearchController"))n.d(t,{ContactEntityCacheSearchController:function(){return r.ContactEntityCacheSearchController}});if(n.o(r,"ContactUtils"))n.d(t,{ContactUtils:function(){return r.ContactUtils}});if(n.o(r,"FuzzySearchPhoneContactOptions"))n.d(t,{FuzzySearchPhoneContactOptions:function(){return r.FuzzySearchPhoneContactOptions}})},316273:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(862926);var o=n.n(r);var i="[CONTACT][CORE]";var a=r.ModuleLogger.getLogger(i,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.COMMON)},120228:()=>{},900251:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var r=n(862926);var o=n.n(r);var i=n(776271);var a=function(){function ContactUtils(){}ContactUtils.getTypeById=function(e){var t=e.indexOf(".");return t===-1?e:e.slice(0,t)};ContactUtils.getUniqueId=function(e,t){return e+"."+t};ContactUtils.doErrorTrackingInCommon=function(e,t){(0,r.doErrorTracking)(r.EVENT_DATA_FEATURE.COMMON,{key:""+i.fK+e,message:JSON.stringify(t),level:r.LOG_CONTROL_LEVEL.HIGH})};return ContactUtils}()},636428:(e,t,n)=>{"use strict";n.d(t,{y0:()=>F});var r="embedded";var o={TEAMS_EMBED_CONFIG:"teams_embed_config"};var i=n(667489);var a=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var u=function(e){a(EmbeddedUserConfig,e);function EmbeddedUserConfig(){return e.call(this,r)||this}EmbeddedUserConfig.prototype.setTeamsEmbedConfig=function(e){return this.put(o.TEAMS_EMBED_CONFIG,e)};EmbeddedUserConfig.prototype.getTeamsEmbedConfig=function(){return this.get(o.TEAMS_EMBED_CONFIG)};return EmbeddedUserConfig}(i.UserConfig);var s=n(882846);var c=n.n(s);var l=n(587040);var f=n(470033);var d=n(295454);var p=n(862926);var h="[EMBEDDED]";var v=p.ModuleLogger.getLogger(h,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),p.EVENT_DATA_FEATURE.COMMON);var g=n(696206);var _=n(379269);var y=n(782117);var b=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var C=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var m=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var S=1;var E=function(e){b(RegionSettingItemProvider,e);function RegionSettingItemProvider(){return e.call(this,{id:_._7.Phone_Region})||this}RegionSettingItemProvider.prototype.buildStateProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return C(e,void 0,void 0,(function(){var e;return m(this,(function(t){switch(t.label){case 0:return[4,this.rcInfoModule.getCurrentCountry()];case 1:e=t.sent();return[2,this._getRegionSettingVisibleState(e.callingCode)]}}))}))}})};RegionSettingItemProvider.prototype._getRegionSettingVisibleState=function(e){return C(this,void 0,Promise,(function(){var t,n,r,o,i,a;return m(this,(function(u){switch(u.label){case 0:t=(0,l.gT)().context.entitlement;n=f.H3.RCExtensionFeaturesId,r=n.WebPhone,o=n.VoipCalling;i=t.getRaw(r)&&t.getRaw(o);return[4,this.rcInfoModule.getCountryList()];case 1:a=u.sent();if(i){if(!a||!a.length){return[2,g.ESettingItemState.DISABLE]}if(a.length===S&&!this.rcInfoModule.hasAreaCode(e)){return[2,g.ESettingItemState.DISABLE]}return[2,g.ESettingItemState.ENABLE]}return[2,g.ESettingItemState.INVISIBLE]}}))}))};Object.defineProperty(RegionSettingItemProvider.prototype,"rcInfoModule",{get:function(){return(0,i.getModule)(_.oF)},enumerable:true,configurable:true});return RegionSettingItemProvider}(g.BaseSettingItemProvider);var I=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var w=function(e){I(DefaultAppSettingItemProvider,e);function DefaultAppSettingItemProvider(){return e.call(this,{id:y.O0.Phone_DefaultApp,source:{type:g.Pe.CONSTANT,defaultValue:[y.hr.GLIP]},value:{type:g.Pe.STORAGE,defaultValue:y.hr.GLIP}})||this}DefaultAppSettingItemProvider.prototype.buildStateProvider=function(){return this.buildBaseItemValueProvider({getter:function(){var e=(0,l.gT)().context.entitlement;var t=f.H3.RCExtensionFeaturesId,n=t.WebPhone,r=t.VoipCalling;var o=e.getRaw(n)&&e.getRaw(r);return Promise.resolve(o?g.ESettingItemState.ENABLE:g.ESettingItemState.INVISIBLE)}})};return DefaultAppSettingItemProvider}(g.BaseSettingItemProvider);var R=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var P=function(e){R(TeamsSettings,e);function TeamsSettings(){return e.call(this)||this}TeamsSettings.prototype.getCustomProviderMap=function(){var e;return e={},e[_._7.Phone_Region]=new E,e};TeamsSettings.prototype.getProviderMap=function(){var e;return e={},e[y.O0.Phone_DefaultApp]=new w,e};return TeamsSettings}(g.AbstractModuleSettingProviderManager);var A=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var T=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var O=v.tags("[MSTeamsProvider]");var N=function(){function MSTeamsProvider(e,t){this._userConfig=e;this._embeddedConfig=t}MSTeamsProvider.prototype.init=function(e){return A(this,void 0,void 0,(function(){var t;return T(this,(function(n){switch(n.label){case 0:return[4,this._parseAndGetEmbeddedMode()];case 1:t=n.sent().isDirectRouting;t?this._directRoutingPermissionHandler(e):this._dial2rcPermissionHandler(e);i.accountManager.getCurrent().context.entitlement.on(i.Entitlement.getEntitlementKey(d.Lb.RC_INFO),(function(){(new P).load()}));return[2]}}))}))};MSTeamsProvider.prototype.initProviderPermission=function(e){var t=this._embeddedConfig.appPermission.localPermission;if(t&&Object.keys(t).length){var n=[f.H3.RCExtensionFeaturesId.Glip,f.H3.RCExtensionFeaturesId.Meetings,f.H3.RCAccountExtendedPermissionId.CanUseExternalContact,f.H3.RCAccountExtendedPermissionId.CanUseRCCloudContact,f.H3.RCAccountExtendedPermissionId.CanUseGOCloudContact,f.H3.RCCustomPermissionList.enableCloudDirectory,f.H3.RCExtensionFeaturesId.HUD];this._setLocalPermission(e,n)}};MSTeamsProvider.prototype._parseAndGetEmbeddedMode=function(){return A(this,void 0,void 0,(function(){var e,t,n,r,o;return T(this,(function(a){switch(a.label){case 0:e=i.accountManager.getCurrent().context.entitlement;t=this._userConfig.getTeamsEmbedConfig();n=!!(t===null||t===void 0?void 0:t.isDirectRouting);if(!(!t||c()()-t.lastTimestamp>d.lo.ONE_DAY))return[3,4];a.label=1;case 1:a.trys.push([1,3,,4]);return[4,l.Vi.requestRCExtensionInstances()];case 2:r=a.sent().records;n=!!r.length;this._userConfig.setTeamsEmbedConfig({isDirectRouting:n,lastTimestamp:c()()});return[3,4];case 3:o=a.sent();O.error("get instance info error",o);this._userConfig.setTeamsEmbedConfig({isDirectRouting:false,lastTimestamp:0});return[3,4];case 4:return[4,e.set(f.H3.RCCustomPermissionList.isDirectRouting,n)];case 5:a.sent();O.info("emit embedded mode directRouting",n);return[2,{isDirectRouting:n}]}}))}))};MSTeamsProvider.prototype._dial2rcPermissionHandler=function(e){var t=[f.H3.RCExtensionFeaturesId.VoipCalling];this._setLocalPermission(e,t)};MSTeamsProvider.prototype._directRoutingPermissionHandler=function(e){var t=[f.H3.RCExtensionFeaturesId.WebPhone,f.H3.RCExtensionFeaturesId.RingOut];this._setLocalPermission(e,t)};MSTeamsProvider.prototype._setLocalPermission=function(e,t){var n=this._generateLocalPermission(t);O.info("init local permission",n);e.entitlement.initLocalPermission(n)};MSTeamsProvider.prototype._generateLocalPermission=function(e){var t=this._embeddedConfig.appPermission.localPermission;if(!t)return new Map;var n=e.reduce((function(e,n){e[n]=t[n]===undefined?true:t[n];return e}),{});return new Map(Object.entries(n))};return MSTeamsProvider}();var x;(function(e){e["TEAMS"]="teams"})(x||(x={}));var D=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var M=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var k=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var L=function(){function EmbeddedManager(){var e=this;this._embeddedProviderMap=new Map;Object.entries(this._getEmbeddedProvider()).forEach((function(t){var n=k(t,2),r=n[0],o=n[1];return e._embeddedProviderMap.set(r,o)}))}EmbeddedManager.prototype._getEmbeddedProvider=function(){var e;return e={},e[x.TEAMS]=N,e};EmbeddedManager.prototype._registerEmbeddedProvider=function(e){this._embeddedProvider=e};EmbeddedManager.prototype.init=function(e){var t=this._embeddedProviderMap.get(e.embedded);if(t){this._registerEmbeddedProvider(new t(this.userConfig,e))}};EmbeddedManager.prototype.initEmbedded=function(e){var t;return D(this,void 0,void 0,(function(){return M(this,(function(n){switch(n.label){case 0:return[4,(t=this._embeddedProvider)===null||t===void 0?void 0:t.init(e)];case 1:n.sent();return[2]}}))}))};EmbeddedManager.prototype.initEmbeddedPermission=function(e){var t;(t=this._embeddedProvider)===null||t===void 0?void 0:t.initProviderPermission(e)};Object.defineProperty(EmbeddedManager.prototype,"userConfig",{get:function(){if(!this._userConfig){this._userConfig=new u}return this._userConfig},enumerable:true,configurable:true});return EmbeddedManager}();var F=new L},236850:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(862926);var o=n.n(r);var i=n(86020);var a=function(){function ErrorParserHolder(){}ErrorParserHolder.getErrorParser=function(){if(!ErrorParserHolder._errorParser){ErrorParserHolder._errorParser=new r.ErrorParser;ErrorParserHolder._init()}return ErrorParserHolder._errorParser};ErrorParserHolder._init=function(){ErrorParserHolder._errorParser.register(new r.RuntimeErrorParser);ErrorParserHolder._errorParser.register(new i.wy)};ErrorParserHolder.register=function(e){ErrorParserHolder.getErrorParser();ErrorParserHolder._errorParser.register(e)};return ErrorParserHolder}()},332113:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var r=n(862926);var o=n.n(r);var i=n(286442);var a=n(558807);var u="HTTP_515";var s={NOT_NETWORK:{type:i.i.NETWORK,codes:[r.ERROR_CODES_NETWORK.NOT_NETWORK,r.ERROR_CODES_NETWORK.NETWORK_ERROR,r.ERROR_CODES_NETWORK.LOCAL_TIMEOUT]},NOT_AUTHORIZED:{type:a.LZ,codes:[a.L$.NOT_AUTHORIZED]},FORBIDDEN:{type:i.i.NETWORK,codes:[r.ERROR_CODES_NETWORK.FORBIDDEN]},BACKEND_ERROR:[{type:i.P,codes:["*"]},{type:a.LZ,codes:["*"]},{type:i.i.NETWORK,codes:["*"],excludeCodes:[r.ERROR_CODES_NETWORK.NOT_NETWORK,r.ERROR_CODES_NETWORK.NETWORK_ERROR,r.ERROR_CODES_NETWORK.LOCAL_TIMEOUT]}],MIGRATE_ERROR:{type:i.i.NETWORK,codes:[u]},IPC_ERROR:{type:i.i.IPC,codes:["*"]}}},86020:(e,t,n)=>{"use strict";n.d(t,{wy:()=>c});var r={GENERAL:"GENERAL_ERROR",CRITICAL_ERROR:"CRITICAL_ERROR",NEED_RETRY:"NEED_RETRY",UN_SUPPORTED:"UN_SUPPORTED",INVALID_USAGE_ERROR:"INVALID_USAGE_ERROR"};var o=n(242691);var i=n(862926);var a=n(286442);var u=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var s=function(e){u(JDBError,e);function JDBError(t,n,r){return e.call(this,a.i.DB,t,n,r)||this}return JDBError}(i.JError);var c=function(){function DBErrorParser(){}DBErrorParser.prototype.getName=function(){return"DBErrorParser"};DBErrorParser.prototype.parse=function(e){if(e instanceof o.Pu){return new s(r.CRITICAL_ERROR,e.message)}if(e instanceof o.y4){return new s(r.NEED_RETRY,e.message)}if(e instanceof o.U3){return new s(r.UN_SUPPORTED,e.message)}if(e instanceof o.K9){return new s(r.INVALID_USAGE_ERROR,e.message)}if(e instanceof o.yr){return new s(r.GENERAL,e.message)}return null};return DBErrorParser}()},88502:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(862926);var o=n.n(r);var i=n(332113);var a=n(236850);var u=function(){function Helper(){}Helper.prototype.isNetworkConnectionError=function(e){return r.errorUtils.errorConditionSelector(a.m.getErrorParser().parse(e),i.T.NOT_NETWORK)};Helper.prototype.isAuthenticationError=function(e){return r.errorUtils.errorConditionSelector(a.m.getErrorParser().parse(e),i.T.NOT_AUTHORIZED)};Helper.prototype.isLocalTimeoutError=function(e){return r.errorUtils.errorConditionSelector(a.m.getErrorParser().parse(e),i.T.LOCAL_TIMEOUT)};Helper.prototype.isForbiddenError=function(e){return r.errorUtils.errorConditionSelector(a.m.getErrorParser().parse(e),i.T.FORBIDDEN)};Helper.prototype.isBackEndError=function(e){return r.errorUtils.errorConditionSelector(a.m.getErrorParser().parse(e),i.T.BACKEND_ERROR)};Helper.prototype.isMigrateError=function(e){return r.errorUtils.errorConditionSelector(a.m.getErrorParser().parse(e),i.T.MIGRATE_ERROR)};Helper.prototype.isIPCError=function(e){return r.errorUtils.errorConditionSelector(a.m.getErrorParser().parse(e),i.T.IPC_ERROR)};return Helper}();const s=new u},38942:(e,t,n)=>{"use strict";n.d(t,{G:()=>o.G,FEATURE_FLAG_ENTITY_KEY:()=>a.b,FEATURE_FLAG_MODULE:()=>a.h,V:()=>r.V});var r=n(97283);var o=n(858890);var i=n(140993);if(n.o(i,"FEATURE_FLAG_ENTITY_KEY"))n.d(t,{FEATURE_FLAG_ENTITY_KEY:function(){return i.FEATURE_FLAG_ENTITY_KEY}});if(n.o(i,"FEATURE_FLAG_MODULE"))n.d(t,{FEATURE_FLAG_MODULE:function(){return i.FEATURE_FLAG_MODULE}});var a=n(847549)},424274:()=>{},125184:()=>{},140993:(e,t,n)=>{"use strict";var r=n(125184);var o=n.n(r);if(n.o(r,"FEATURE_FLAG_ENTITY_KEY"))n.d(t,{FEATURE_FLAG_ENTITY_KEY:function(){return r.FEATURE_FLAG_ENTITY_KEY}});if(n.o(r,"FEATURE_FLAG_MODULE"))n.d(t,{FEATURE_FLAG_MODULE:function(){return r.FEATURE_FLAG_MODULE}});var i=n(424274);var a=n.n(i);if(n.o(i,"FEATURE_FLAG_ENTITY_KEY"))n.d(t,{FEATURE_FLAG_ENTITY_KEY:function(){return i.FEATURE_FLAG_ENTITY_KEY}});if(n.o(i,"FEATURE_FLAG_MODULE"))n.d(t,{FEATURE_FLAG_MODULE:function(){return i.FEATURE_FLAG_MODULE}})},87774:(e,t,n)=>{"use strict";n.d(t,{Q:()=>b});var r=n(667489);var o=n(858890);var i=n(862926);var a="[PERMISSION][CORE]";var u=i.ModuleLogger.getLogger(a,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),i.EVENT_DATA_FEATURE.FOUNDATION);var s=n(814678);var c=n(963786);var l=n(847549);var f=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var d=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var p=-1;var h=function(){function FeatureFlagServiceHelper(){this.controllers=[]}FeatureFlagServiceHelper.prototype.injectControllers=function(e){e.setCallback(this._refreshPermissions.bind(this));this.controllers.push(e);this._refreshPermissions().catch((function(e){u.log("injectControllers: init permission failed.",e)}))};FeatureFlagServiceHelper.prototype.getById=function(e){return f(this,void 0,Promise,(function(){var t;return d(this,(function(n){switch(n.label){case 0:return[4,this._getAllPermissions()];case 1:t=n.sent();return[2,{id:e,permissions:t}]}}))}))};FeatureFlagServiceHelper.prototype.getFeatureFlag=function(e,t){return f(this,void 0,Promise,(function(){var n;return d(this,(function(r){n=this._getController(e);if(n){return[2,n.getFeatureFlag(e,t)]}return[2,p]}))}))};FeatureFlagServiceHelper.prototype.hasPermission=function(e,t){return f(this,void 0,Promise,(function(){var n;return d(this,(function(r){n=this._getController(e);if(n){return[2,n.hasPermission(e,t)]}return[2,false]}))}))};FeatureFlagServiceHelper.prototype._refreshPermissions=function(){return f(this,void 0,void 0,(function(){var e,t,n;return d(this,(function(r){switch(r.label){case 0:return[4,this._getAllPermissions()];case 1:e=r.sent();t=(0,c.x6)();n=t&&t.getUniqueId()||"";u.log("user:"+n+", refreshPermissions:"+JSON.stringify(e));s.rF.emitEntityUpdate(l.b,[{id:n,permissions:e}]);return[2]}}))}))};FeatureFlagServiceHelper.prototype._getAllPermissions=function(){return f(this,void 0,void 0,(function(){var e,t;var n=this;return d(this,(function(r){switch(r.label){case 0:e=Object.keys(o.G);t={};return[4,Promise.all(e.map((function(e){return f(n,void 0,void 0,(function(){var n;return d(this,(function(r){switch(r.label){case 0:return[4,this.hasPermission(e)];case 1:n=r.sent();t[e]=n;return[2]}}))}))})))];case 1:r.sent();return[2,t]}}))}))};FeatureFlagServiceHelper.prototype.getAllPermissionFlags=function(){return f(this,void 0,void 0,(function(){var e,t;var n=this;return d(this,(function(r){switch(r.label){case 0:e=Object.keys(o.G);t={};return[4,Promise.all(e.map((function(e){return f(n,void 0,void 0,(function(){var n,r;return d(this,(function(o){switch(o.label){case 0:n=t;r=e;return[4,this.getFeatureFlag(e)];case 1:n[r]=o.sent();return[2]}}))}))})))];case 1:r.sent();return[2,t]}}))}))};FeatureFlagServiceHelper.prototype._getController=function(e){return this.controllers.find((function(t){return t.isFlagSupported(e)}))};return FeatureFlagServiceHelper}();var v=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var g=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var _=function(){function UserPermissionObserver(){var e=this;this._userPermissions=[];this._userPermissionObserver=function(t,n,r,o){var i;e._observe({initImmediately:o,subscribe:function(e){s.rF.on(l.b,e);i=function(){s.rF.off(l.b,e)}},getter:function(){return v(e,void 0,void 0,(function(){return g(this,(function(e){return[2,r(t)]}))}))}},n);return function(){i&&i()}};this.observe=function(t,n,r,o){return v(e,void 0,void 0,(function(){var e;return g(this,(function(i){e=this._userPermissionObserver(t,n,r,o);this._userPermissions.push({id:t,onChange:n,unsubscribe:e});return[2]}))}))};this.unsubscribe=function(t){return v(e,void 0,void 0,(function(){var e=this;return g(this,(function(n){this._userPermissions.forEach((function(n,r){if((!t.id||n.id===t.id)&&n.onChange===t.onChange){n.unsubscribe();e._userPermissions.splice(r,1)}}));return[2]}))}))}}UserPermissionObserver.prototype._observe=function(e,t){return v(this,void 0,void 0,(function(){var n,r,o,i;var a=this;return g(this,(function(u){switch(u.label){case 0:n=e.subscribe,r=e.getter,o=e.initImmediately;if(!o)return[3,2];return[4,r()];case 1:i=u.sent();t(i);u.label=2;case 2:n((function(){return v(a,void 0,void 0,(function(){return g(this,(function(e){r().then((function(e){if(e!==i){i=e;t(e)}}));return[2]}))}))}));return[2]}}))}))};return UserPermissionObserver}();var y=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var b=function(e){y(FeatureFlagService,e);function FeatureFlagService(){var t=e.call(this,{isSupportedCache:false})||this;t.featureFlagServiceHelper=new h;t._userPermissionObserver=new _;return t}FeatureFlagService.prototype.injectControllers=function(e){this.featureFlagServiceHelper.injectControllers(e)};FeatureFlagService.prototype.getUserPermission=function(){var e=(0,c.x6)();if(e){return this.getById(e.getUniqueId())}return this.getById("")};FeatureFlagService.prototype.getUserPermissionFlags=function(){return this.featureFlagServiceHelper.getAllPermissionFlags()};FeatureFlagService.prototype.hasPermission=function(e,t){return this.featureFlagServiceHelper.hasPermission(e,t)};FeatureFlagService.prototype.getFeatureFlag=function(e,t){return this.featureFlagServiceHelper.getFeatureFlag(e,t)};FeatureFlagService.prototype.getById=function(e){return this.featureFlagServiceHelper.getById(e)};FeatureFlagService.prototype.observe=function(e,t,n){var r=this;return this._userPermissionObserver.observe(e,t,(function(){return r.hasPermission(e)}),n)};FeatureFlagService.prototype.observeFeatureFlag=function(e,t,n){var r=this;return this._userPermissionObserver.observe(e,t,(function(){return r.getFeatureFlag(e)}),n)};FeatureFlagService.prototype.unsubscribe=function(e,t){return this._userPermissionObserver.unsubscribe({id:e,onChange:t})};return FeatureFlagService}(r.EntityBaseService)},208873:(e,t,n)=>{"use strict";n.d(t,{k:()=>te});var r=n(298784);var o=n.n(r);var i=n(862926);var a=n(85508);var u=n(963786);var s=n(7828);var c=n(87882);var l=n(424843);var f=n(814678);var d=n(302186);var p=n(667489);var h=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var v=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var g=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var _=function(e){h(GlipDataCenter,e);function GlipDataCenter(){return e!==null&&e.apply(this,arguments)||this}GlipDataCenter.prototype.setSyncService=function(e){this._syncService=e};GlipDataCenter.prototype.startSyncData=function(){return v(this,void 0,Promise,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,this._syncService.fetchInitial({firstSignIn:true})];case 1:e.sent();return[2]}}))}))};GlipDataCenter.prototype.startLoadData=function(){return v(this,void 0,Promise,(function(){return g(this,(function(e){return[2]}))}))};return GlipDataCenter}(p.DataCenter);var y=n(708022);var b=n(205598);var C=n(876854);var m=n(751643);var S=n(610875);var E=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var I=function(e){E(ReLoginGlipStrategy,e);function ReLoginGlipStrategy(){return e!==null&&e.apply(this,arguments)||this}ReLoginGlipStrategy.prototype.getJobKey=function(){return"GLIP_LOGIN"};return ReLoginGlipStrategy}(S.Z);var w=n(95037);var R=n(436234);var P=n(370286);var A=n(631774);var T=n(7849);var O=n(558807);var N=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var x=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var accountConflictReportGenerator=function(e){return N(void 0,void 0,void 0,(function(){var t,n,r,o,i,a,s,c;return x(this,(function(l){switch(l.label){case 0:!e.payload&&(e.payload={});t=e.payload;n="This user has two accounts and cannot log into the RingCentral app. Please contact this user to gather further information and resolve the conflict.";r="";o=(0,u.x6)();a=o;if(!a)return[3,2];return[4,o.getUserInfo()];case 1:a=l.sent();l.label=2;case 2:i=a;if(i){i.name&&(n=n.concat("\n* **Username**: "+i.name));r=i.email;t.userName=i.name}s=t.rawErrorMessage||e.message;c=null;if(e.code===b.L$.RC_ACCOUNT_MISMATCH){c=s.match(b.QZ)}else{c=s.match(b.tR);c&&(r=c[1])}if(r){n=n.concat("\n* **Email**: "+r);t.email=r}if(c){n=n.concat("\n* **Brand**: "+c[2],"\n* **Existing Account UID**: "+c[3],"\n* **User's Account UID**: "+c[4]);t.brand=c[2];t.anotherUID=c[3];t.currentUID=c[4]}return[2,{activity:"Account Conflict Reporter",title:"**Duplicate user accounts**",body:n}]}}))}))};var D=n(439477);var M=n(62427);var k=n(998942);var L=n(372393);var F=n(114178);var U=n(960782);var B=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var G=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var j=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var H=function(e){B(GetGlipAccountUserConfigKeyAction,e);function GetGlipAccountUserConfigKeyAction(t){if(t===void 0){t=p.ActionWeight.NORMAL}return e.call(this,t)||this}GetGlipAccountUserConfigKeyAction.prototype.getAction=function(){return G(this,void 0,void 0,(function(){return j(this,(function(e){switch(e.label){case 0:return[4,p.accountManager.getCurrent().getSubAccount(y.oF).userConfig];case 1:return[2,e.sent()]}}))}))};return GetGlipAccountUserConfigKeyAction}(p.AbstractKeyAction);var V=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var W=function(e){V(OnGlipLoginResultKeyAction,e);function OnGlipLoginResultKeyAction(t){if(t===void 0){t=p.ActionWeight.NORMAL}return e.call(this,t)||this}OnGlipLoginResultKeyAction.prototype.getAction=function(){return Promise.resolve(L.oz)};return OnGlipLoginResultKeyAction}(p.AbstractKeyAction);var z=n(875905);var Y=n(596021);var q=new Y.T(z.UN,b.jO);p.configStoreManager.addConfigSource(z.UN,q);var K=n(295454);var Q=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Z=undefined&&undefined.__assign||function(){Z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return Z.apply(this,arguments)};var X=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var J=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var $=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var ee;(function(e){e["RE_INDEX_CLEAR_DATA"]="re_index_clear_data"})(ee||(ee={}));var te=function(e){Q(GlipAccount,e);function GlipAccount(t,n,r,o,i,s){var c=e.call(this,t,n,new _,o)||this;c._apiConfig=r;c._discoveryToken=i;c._glipToken=s;c._onDiscoveryBetaFlagChanged=function(e){var t=$(e,1),n=t[0];c._logger.info("_onDiscoveryBetaFlagChanged",n);if(n===undefined){return}c.endpointsDiscovery.setEnable(n);c._handleDiscoveryPermissionChanged()};c._handleDiscoveryPermissionChanged=function(){if(c.loginStatus!==u.IC.SUCCESS){c._logger.info("_onDiscoveryPermissionChanged, isNotLogin");return}var e=c.endpointsDiscovery.isEnable();c._logger.info("_onDiscoveryPermissionChanged",e);if(e){if(c.endpointsDiscovery.isEndpointsValid()){c.endpointsDiscovery.scheduleNextDiscovery()}else{c.endpointsDiscovery.startDiscovery({discoveryType:M.DISCOVERY_TYPE.INVALIDATE_EVENT})}}else{c.endpointsDiscovery.stopDiscovery()}};c._getGlipAccountInfo=function(){var e=c.userConfig.getFirstLoginTimestamp();var t=c.syncService.userConfig.getLastIndexTimestamp();var n=c.userConfig.getUnreadToggleSetting();return{firstLoginTimestamp:e,lastIndexTimestamp:t,unreadToggleSetting:n,loginStatus:c.loginStatus}};c._logger=a.k.tags(GlipAccount.name);c._init();return c}Object.defineProperty(GlipAccount.prototype,"userConfig",{get:function(){if(!this._userConfig){this._userConfig=new R.kF}return this._userConfig},enumerable:true,configurable:true});Object.defineProperty(GlipAccount.prototype,"syncConfig",{get:function(){return this.syncService.userConfig},enumerable:true,configurable:true});GlipAccount.prototype.getNetworkHandlerConfig=function(e){if(e===void 0){e=y._v.GLIP_SERVER}return this.accountNetworkCenter.getNetworkHandlerConfig(e)};GlipAccount.prototype.getApiConfig=function(e){return this._apiConfig[e]};GlipAccount.prototype.buildNetworkClient=function(e,t,n){if(e===void 0){e=this._apiConfig.glip}if(t===void 0){t=this.getNetworkHandlerConfig()}if(n===void 0){n=m.W0}return this.accountNetworkCenter.buildNetworkClient(e,t,n,new D.v)};GlipAccount.prototype.accountName=function(){return K._N.GLIP};GlipAccount.prototype.internalLogin=function(){return X(this,void 0,Promise,(function(){var e=this;return J(this,(function(t){switch(t.label){case 0:if(!!this._loginGlipTask)return[3,2];return[4,this._prepareLogin()];case 1:t.sent();this._loginGlipTask=new c.R(new I,(function(){var t={success:false};return e._startLogin().then((function(e){t=e;if(!t.success){throw new O.Fw(O.L$.GENERAL,"login failed")}})).catch((function(n){e._logger.error("login failed,",n);e._handleLoginError(n,t)})).finally((function(){e._preHandleLogin(t);f.rF.emitKVChange(y.FY.LOGIN,t);t.success&&d.Pal.instance.networkStatus().addCheckPoint((function(){return Promise.resolve(e.socketManager.isConnected())}),true)}))}));t.label=2;case 2:this._loginGlipTask.start();return[2,Promise.resolve()]}}))}))};GlipAccount.prototype.doRefreshToken=function(){return Promise.reject(new i.JError("refreshGlipToken","should not refresh Glip Token"))};GlipAccount.prototype.checkServerStatus=function(e){e&&e(true,0);return true};GlipAccount.prototype.onRefreshTokenFailure=function(e){this._logger.info("onRefreshTokenFailure, force logout:",e);e&&this.delegate.onForceLogout()};GlipAccount.prototype.logout=function(){this._logger.info("logout");if(this.loginStatus===u.IC.LOGOUT_IN_PROGRESS){return Promise.resolve()}this.setLoginStatus(u.IC.LOGOUT_IN_PROGRESS);f.rF.emitKVChange(y.FY.LOGOUT);this.socketManager.onLogout();this.delegate.onLogout();this._disposeEndpointsDiscovery();M.AbstractEndpointsDiscovery.unobserveCDNMultiInstanceFlagChanged(this._handleDiscoveryPermissionChanged);this.userConfig.clear();this.syncService.dispose();this._disposeHealthyModule();this.setLoginStatus(u.IC.ALREADY_LOGOUT);return Promise.resolve()};GlipAccount.prototype.forceLogout=function(){this._logger.info("forceLogout");this.delegate.onForceLogout()};GlipAccount.prototype.clearAllData=function(){this.userConfig.clear();this.syncConfig.clear()};GlipAccount.prototype.setRCTokenProvider=function(e){this._rcTokenProvider=e;this.getNetworkHandlerConfig().rcTokenProvider=e.getSyncOAuthToken.bind(e)};GlipAccount.prototype.clearSyncConfig=function(){this.syncConfig.clear()};GlipAccount.prototype.isDataSyncing=function(){return this.syncService.isDataSyncing()};Object.defineProperty(GlipAccount.prototype,"clientConfigController",{get:function(){if(!this._clientConfigController){this._clientConfigController=new k.Jz(this.userConfig,this.context.entitlement)}return this._clientConfigController},enumerable:true,configurable:true});Object.defineProperty(GlipAccount.prototype,"endpointsDiscovery",{get:function(){return C.jO},enumerable:true,configurable:true});Object.defineProperty(GlipAccount.prototype,"syncService",{get:function(){if(!this._syncService){this._syncService=new P._U({handleAccountData:this._handleAccountData.bind(this),reLogin:this.delegate.onReLogin.bind(this.delegate),reIndex:this._reIndexData.bind(this)})}return this._syncService},enumerable:true,configurable:true});GlipAccount.prototype._reIndexData=function(){return X(this,void 0,void 0,(function(){var e,t,n;return J(this,(function(r){switch(r.label){case 0:e=a.k.performance();r.label=1;case 1:r.trys.push([1,3,,4]);t=Array.from(this.moduleDataManager.values());return[4,Promise.all(t.map((function(e){return e.reIndexData()})))];case 2:r.sent();return[3,4];case 3:n=r.sent();a.k.info("ReIndexController:onReIndex() error:",n);return[3,4];case 4:e.end({key:ee.RE_INDEX_CLEAR_DATA,level:i.LOG_CONTROL_LEVEL.HIGH});f.rF.emitKVChange(s.SERVICE_EVENT.RELOAD);return[2]}}))}))};GlipAccount.prototype.sync=function(){this.syncService.retryIndex()};GlipAccount.prototype.isSocketConnected=function(){return this.socketManager&&this.socketManager.isConnected()};GlipAccount.prototype.getSocketToken=function(){return this.socketManager&&this.socketManager.getToken()};GlipAccount.prototype.getTokenForDiscovery=function(){var e,t;return X(this,void 0,Promise,(function(){var n;return J(this,(function(r){switch(r.label){case 0:n=this._glipToken||this.userConfig.getToken();if(n)return[3,2];return[4,(e=this._rcTokenProvider)===null||e===void 0?void 0:e.getOAuthToken()];case 1:n=(t=r.sent())===null||t===void 0?void 0:t.access_token;r.label=2;case 2:return[2,n]}}))}))};GlipAccount.prototype.createTokenHandler=function(){var e=this;var t=this.userConfig.getToken();var n=new i.OAuthTokenHandler({token:t?new i.Token(t):undefined,name:this.accountName(),tokenRefreshable:false,tokenExpirable:false,doRefreshTokenFunc:function(){return e.doRefreshToken()}});n.addListener({onRefreshTokenFailure:function(t){return e.onRefreshTokenFailure(t)},onRefreshTokenSuccess:function(){},onStartRefreshToken:function(){},onSurvivalModeDetected:function(){}});return n};GlipAccount.prototype.createSurvivalModeHandler=function(){return undefined};GlipAccount.prototype.createSocketClient=function(){return new i.BaseSocketClient((function(){return d.Pal.instance.networkStatus().getStatus()}),this._getSocketRequestDelegate())};GlipAccount.prototype._getSocketRequestDelegate=function(){if(!this._socketRequestDelegate){this._socketRequestDelegate=new A.zw}return this._socketRequestDelegate};GlipAccount.prototype._handleLoginError=function(e,t){var n=this;t.success=false;t.error=e;if(e.code===O.L$.RC_ACCOUNT_MISMATCH||e.code===O.L$.RC_ACCOUNT_EXTENSION_MISMATCH){this._loginGlipTask&&this._loginGlipTask.clear();return accountConflictReportGenerator(e).then((function(e){return b["do"].reportAccountConflict(e)})).catch((function(e){return n._logger.info("handleAccountConflictError error: ",e)}))}var r=/^HTTP_4\d\d$/;if(r.test(e.code)&&e.code!==i.ERROR_CODES_NETWORK.REQUEST_TIMEOUT&&e.code!==i.ERROR_CODES_NETWORK.TOO_MANY_REQUESTS){this._loginGlipTask&&this._loginGlipTask.clear()}throw e};GlipAccount.prototype._init=function(){this.clientConfigController.init();this._initEndpointsDiscovery();this.accountNetworkCenter.buildNetworkRequestHandler({handlerConfig:C.yT,requireSocketClient:true,requireTokenHandler:true});this.accountNetworkCenter.buildNetworkRequestHandler({handlerConfig:C.YP,requireSocketClient:true,requireTokenHandler:true});this.accountNetworkCenter.buildNetworkRequestHandler({handlerConfig:C.SX,requireSocketClient:true,requireTokenHandler:true});this.accountNetworkCenter.buildNetworkRequestHandler({handlerConfig:C.tJ,requireTokenHandler:true});this.accountNetworkCenter.buildNetworkRequestHandler({handlerConfig:new C.rV(this.endpointsDiscovery),requireSocketClient:true,requireTokenHandler:true});this._createSocketManager();this.getDataCenter().setSyncService(this.syncService);this._subscribeNotification();this._initHealthyModule();this._initCommonKeyAction()};GlipAccount.prototype._initEndpointsDiscovery=function(){(0,L.f5)({context:this.context,discoveryToken:this._discoveryToken});q.init()};GlipAccount.prototype._observeDiscoveryPermissionChange=function(){this.context.entitlement.observe([k.ZS.MULTI_INSTANCE],this._onDiscoveryBetaFlagChanged,{fireImmediately:true})};GlipAccount.prototype._disposeEndpointsDiscovery=function(){this.endpointsDiscovery.dispose();this.context.entitlement.dispose([k.ZS.MULTI_INSTANCE],this._onDiscoveryBetaFlagChanged)};GlipAccount.prototype._createSocketManager=function(){var e=this;this.socketManager=A.Cn.getInstance({getDelegate:function(){return e._getSocketRequestDelegate()},getToken:function(){return e.userConfig.getToken()},getLastCanReconnectTime:function(){return e.syncService.userConfig.getLastCanReconnectTime()},setLastCanReconnectTime:function(t){return e.syncService.userConfig.setLastCanReconnectTime(t)},updateToken:function(t){e.userConfig.setToken(t.access_token||"");e.accountNetworkCenter.updateNetworkToken(t)}});this.endpointsDiscovery.addDiscoveryListener(this.socketManager)};GlipAccount.prototype._subscribeNotification=function(){T.t.on(y.FY.SOCKET.LOGOUT,this._onSocketLogout.bind(this));T.t.on(y.FY.SOCKET.CLIENT_CONFIG,this._onSocketUpdateClientConfig.bind(this));T.t.on(y.FY.SOCKET.ENDPOINTS_REFRESH,this._onSocketDiscovery.bind(this))};GlipAccount.prototype._preHandleLogin=function(e){this._logger.info("_preHandleLogin");e.success?this.setLoginStatus(u.IC.SUCCESS):this.setLoginStatus(u.IC.FAILURE,e.error);if(e.success){this.socketManager.onLogin();if(e.firstLogin){this.userConfig.setFirstLoginTimestamp(Date.now());this._logger.custom(i.LOG_CUSTOM_TYPE.TYPE_PERSISTENT,"glip:"+this.userConfig.getUserId()+" first login time:"+this.userConfig.getFirstLoginTimestamp())}this._observeDiscoveryPermissionChange()}this.delegate.onLogin(e)};GlipAccount.prototype._onSocketLogout=function(e){this._logger.info("receive force_logout from socket but will not force logout here:",e)};GlipAccount.prototype._onSocketUpdateClientConfig=function(e){this._logger.info("receive clientConfig from socket and will update on userConfig",e);this.userConfig.setClientConfig(e)};GlipAccount.prototype._prepareLogin=function(){return X(this,void 0,Promise,(function(){return J(this,(function(e){switch(e.label){case 0:this._logger.info("_prepareLogin");this._setupNetworkClient();return[4,M.AbstractEndpointsDiscovery.fetchCDNMultiInstanceFlagAndScheduleJob()];case 1:e.sent();M.AbstractEndpointsDiscovery.observeCDNMultiInstanceFlagChanged(this._handleDiscoveryPermissionChanged);this._onDiscoveryStatusChange();return[2]}}))}))};GlipAccount.prototype._onDiscoveryStatusChange=function(){var e=this;this.endpointsDiscovery.addDiscoveryListener({onDiscoveryStart:function(){e._logger.info("onDiscoveryStart")},onDiscoveryDone:function(t,n){e._logger.info("onDiscoveryDone",t,n);if(e.isLoggedIn()&&!t&&!n){e.forceLogout()}}})};GlipAccount.prototype._setupNetworkClient=function(){var e=this.getNetworkHandlerConfig(y._v.GLIP_SERVER);if(e){var t=this.getApiConfig(l.HttpConfigType.GLIP);b["do"].glipNetworkClient=this.buildNetworkClient(t,e,m.W0);var n=this.getApiConfig(l.HttpConfigType.GLIP_DESKTOP);b["do"].glipDesktopNetworkClient=this.buildNetworkClient(n,e,m.W0)}};GlipAccount.prototype._startLogin=function(){return X(this,void 0,Promise,(function(){var e,t,n,r,o,a;return J(this,(function(u){switch(u.label){case 0:e={success:false};t=this.userConfig.getToken();if(t){this.accountNetworkCenter.updateNetworkToken(new i.Token(t));n=this.syncService.userConfig.getLastIndexTimestamp();this._logger.info("_startLogin, lastIndexTimestamp: ",n);e.firstLogin=n?false:true}else{e.firstLogin=true}this.firstLogin=e.firstLogin;return[4,this._doDiscovery()];case 1:r=u.sent();if(!r)return[3,6];o=e;if(!t)return[3,3];return[4,this._loginWithToken()];case 2:a=u.sent();return[3,5];case 3:return[4,this._loginWithoutToken()];case 4:a=u.sent();u.label=5;case 5:o.success=a;return[3,7];case 6:e.success=false;this._logger.info("_startLogin, discovery failed");u.label=7;case 7:return[2,e]}}))}))};GlipAccount.prototype._loginWithToken=function(){return X(this,void 0,Promise,(function(){var e,t;return J(this,(function(n){switch(n.label){case 0:this._logger.info("_loginWithToken, already exist token");e=this.userConfig.getToken();t=new i.Token(e);return[4,this.onAuthSuccess(t,!!this.firstLogin)];case 1:n.sent();return[2,true]}}))}))};GlipAccount.prototype._loginWithoutToken=function(){return X(this,void 0,Promise,(function(){var e;var t=this;return J(this,(function(n){switch(n.label){case 0:this._logger.info("_loginWithoutToken");e=false;return[4,this.authenticator.login((function(n){return X(t,void 0,void 0,(function(){return J(this,(function(t){switch(t.label){case 0:this._logger.info("_loginWithoutToken, get token success");this.userConfig.setToken(n.token.access_token||"");return[4,this.onAuthSuccess(n.token,!!this.firstLogin)];case 1:t.sent();e=true;return[2]}}))}))}))];case 1:n.sent();return[2,e]}}))}))};GlipAccount.prototype._doDiscovery=function(){return X(this,void 0,Promise,(function(){var e,t,n,r,o,i,a;return J(this,(function(u){switch(u.label){case 0:e=this.endpointsDiscovery.isEnable();this._logger.info("isDiscoveryEnable:",e);if(!e){return[2,true]}if(this.endpointsDiscovery.isEndpointsValid()){return[2,true]}r=(n=this.endpointsDiscovery).startDiscovery;o={discoveryType:M.DISCOVERY_TYPE.IGNORE_RETRY};return[4,this.getTokenForDiscovery()];case 1:return[4,r.apply(n,[(o.tokenOrCode=u.sent(),o)])];case 2:t=u.sent();if(!t.success){i=F.EndpointsDiscoveryGlobalConfig.getHAEndpoints();if(i){t.success=true;a=this.endpointsDiscovery.userConfig.getEndpoints();this.endpointsDiscovery.userConfig.setEndpoints(Z(Z({},a),{endpoints:i}))}}return[2,t.success]}}))}))};GlipAccount.prototype._handleAccountData=function(e,t,n){return X(this,void 0,Promise,(function(){return J(this,(function(r){switch(r.label){case 0:this._logger.info("start handle data:",t);this._updateAccountInfo(e);return[4,this.getDataCenter().onDataChanged({data:e,isFromLocalInstance:n},t)];case 1:r.sent();return[2]}}))}))};GlipAccount.prototype._updateAccountInfo=function(e){this._logger.info("_parseAccountInfo");e.user_id&&this.userConfig.setUserId(e.user_id);e.company_id&&this.userConfig.setCompanyId(e.company_id);var t=o().get(e,"profile._id");t&&this.userConfig.setProfileId(t);e.client_config&&this.userConfig.setClientConfig(e.client_config);e.payments&&this.userConfig.setPayments(e.payments)};GlipAccount.prototype.addBrandNamePrefix=function(e){return"GLIP-"+e};GlipAccount.prototype.getUniqueId=function(){return this.addBrandNamePrefix(this.userConfig.getUserId())};GlipAccount.prototype.getUniqueOrganizationId=function(){return this.addBrandNamePrefix(this.userConfig.getCompanyId())};GlipAccount.prototype._initHealthyModule=function(){this._healthModuleController=new s.HealthModuleController(Symbol(this.accountName()),this.accountName(),{GlipAccountInfo:this._getGlipAccountInfo});this._healthModuleController.init()};GlipAccount.prototype._disposeHealthyModule=function(){this._healthModuleController&&this._healthModuleController.dispose()};GlipAccount.prototype._onSocketDiscovery=function(){var e=this.endpointsDiscovery.isEnable();this._logger.info("_onSocketDiscovery, isEnable:",e);if(e){this.endpointsDiscovery.startDiscovery({discoveryType:M.DISCOVERY_TYPE.INVALIDATE_EVENT})}};GlipAccount.prototype._initCommonKeyAction=function(){var e=(0,s.getModule)(U.COMMON_KEY_ACTION_MODULE).getKeyActionService();e.register(U.ACTION_KEY.GET_GLIP_ACCOUNT_USER_CONFIG,new H);e.register(U.ACTION_KEY.ON_GLIP_LOGIN_RESULT,new W)};return GlipAccount}(w.i)},95037:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var r=n(963786);var o=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var i=function(e){o(IGlipAccount,e);function IGlipAccount(){return e!==null&&e.apply(this,arguments)||this}return IGlipAccount}(r.lV)},180077:(e,t,n)=>{"use strict";n.d(t,{d:()=>l});var r=n(514206);var o=n.n(r);var i=n(862926);var a=n.n(i);var u=n(424843);var s=n(245561);var c=undefined&&undefined.__assign||function(){c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return c.apply(this,arguments)};var l=function(){function GlipApi(){}GlipApi.loginGlip=function(e){var t={rc_access_token_data:e};var n={path:i.RequestPath.buildRequestPath(s.IY.API_OAUTH_TOKEN),method:i.NETWORK_METHOD.PUT,data:t,authFree:true,timeout:i.TEN_MINUTE_TIMEOUT};return GlipApi.glipNetworkClient.rawRequest(c(c({},n),{via:i.NETWORK_VIA.HTTP}))};GlipApi.indexData=function(e,t,n){if(t===void 0){t={}}if(n===void 0){n={}}var r=i.REQUEST_PRIORITY.HIGH;return GlipApi.glipNetworkClient.get({params:e,requestConfig:t,headers:n,priority:r,path:i.RequestPath.buildRequestPath("/index"),via:i.NETWORK_VIA.HTTP,retryCount:0,timeout:i.TEN_MINUTE_TIMEOUT})};GlipApi.initialData=function(e,t,n){if(t===void 0){t={}}if(n===void 0){n={}}var r=i.REQUEST_PRIORITY.HIGH;return GlipApi.glipDesktopNetworkClient.get({params:e,requestConfig:t,headers:n,priority:r,path:i.RequestPath.buildRequestPath("/initial"),via:i.NETWORK_VIA.HTTP,retryCount:i.DEFAULT_RETRY_COUNT,timeout:i.TEN_MINUTE_TIMEOUT})};GlipApi.remainingData=function(e,t,n){if(t===void 0){t={}}if(n===void 0){n={}}var r=i.REQUEST_PRIORITY.HIGH;return GlipApi.glipDesktopNetworkClient.get({params:e,requestConfig:t,headers:n,priority:r,path:i.RequestPath.buildRequestPath("/remaining"),via:i.NETWORK_VIA.HTTP,retryCount:0,timeout:i.TEN_MINUTE_TIMEOUT})};GlipApi.getScoreboard=function(e){var t=i.REQUEST_PRIORITY.IMMEDIATE;var n={priority:t,path:i.RequestPath.buildRequestPath("/scoreboard"),method:i.NETWORK_METHOD.GET,params:e};return GlipApi.glipNetworkClient.rawRequest(c(c({},n),{via:i.NETWORK_VIA.HTTP}))};GlipApi.subscribe=function(){var e=i.REQUEST_PRIORITY.IMMEDIATE;return GlipApi.glipNetworkClient.get({priority:e,via:i.NETWORK_VIA.SOCKET,path:i.RequestPath.buildRequestPath("/subscribe"),pathPrefix:"",ignoreNetwork:true})};GlipApi.reportAccountConflict=function(e){var t=u.apiConfiguration.getConfig().accountConflict;if(t){return o().post(t,e)}return Promise.resolve()};return GlipApi}()},245561:(e,t,n)=>{"use strict";n.d(t,{IY:()=>r,Ju:()=>o,Dl:()=>i});var r={API_OAUTH_TOKEN:"/login"};var o="x-authorization";var i="x-rc-authorization"},697818:(e,t,n)=>{"use strict";n.d(t,{F:()=>u});var r=n(862926);var o=n.n(r);var i=n(240473);var a=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var u=function(e){a(JServerError,e);function JServerError(t,n,r){return e.call(this,i.LZ,t,n,r)||this}return JServerError}(r.JError)},240473:(e,t,n)=>{"use strict";n.d(t,{L$:()=>r,LZ:()=>o,sm:()=>i});var r={GENERAL:"GENERAL",INVALID_GRANT:"INVALID_GRANT",ALREADY_TAKEN:"ALREADY_TAKEN",INVALID_FIELD:"INVALID_FIELD",SYNTAX_ERROR:"SYNTAX_ERROR",URI_ERROR:"URI_ERROR",NOT_AUTHORIZED:"NOT_AUTHORIZED",DELETED:"DELETED",SERVER_ERROR:"SERVER_ERROR",RC_ACCOUNT_MISMATCH:"RC_ACCOUNT_MISMATCH",RC_ACCOUNT_EXTENSION_MISMATCH:"RC_ACCOUNT_EXTENSION_MISMATCH"};var o="GLIP_SERVER";var i="rawErrorMessage"},876854:(e,t,n)=>{"use strict";n.d(t,{rV:()=>h,jO:()=>v,YP:()=>_,tJ:()=>b,yT:()=>g,SX:()=>y});var r=n(862926);var o=n(708022);var i=n(667489);var a=n(114178);var u=n(302186);var s=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var c=function(e){s(UploadHandlerConfig,e);function UploadHandlerConfig(){return e!==null&&e.apply(this,arguments)||this}UploadHandlerConfig.prototype.getRequestDecorator=function(){var e=this;return function(t){if(t.needAuth()){if(!e.tokenHandler){throw new Error("token handler can not be null.")}t.headers[r.X_USER_AGENT]=u.Pal.instance.getPlatformUtils().buildUserAgentForHttp();if(e.tokenHandler.isOAuthTokenAvailable()){t.path=t.path+"?tk="+e.tokenHandler.accessToken()}}return{success:true}}};return UploadHandlerConfig}(a.GLIPHandlerConfig);var l=n(62427);var f=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var d=function(e){f(GlipDiscoveryHandlerConfig,e);function GlipDiscoveryHandlerConfig(){return e!==null&&e.apply(this,arguments)||this}GlipDiscoveryHandlerConfig.prototype.requestDecoration=function(){var t=e.prototype.requestDecoration.call(this);return function(e){e.headers&&(e.headers["RcRequestId"]=e.id);return t(e)}};return GlipDiscoveryHandlerConfig}(l.DiscoveryHandlerConfig);var p=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var h=function(e){p(GlipCustomEndpointHandlerConfig,e);function GlipCustomEndpointHandlerConfig(t){return e.call(this,{name:o._v.GLIP_CUSTOM_ENDPOINT,defaultVia:r.NETWORK_VIA.HTTP,endpointType:"",endpointsDiscovery:t})||this}GlipCustomEndpointHandlerConfig.prototype.replaceHost=function(e){var t;var n=((t=e.requestConfig)===null||t===void 0?void 0:t["customEndpoint"])&&this.endpointsDiscovery.getEndpointHostByType(e.requestConfig["customEndpoint"]);if(n){e.host=n;return true}return false};return GlipCustomEndpointHandlerConfig}(a.GLIPHandlerConfig);var v=new a.GlipEndpointsDiscovery;var g=new a.GLIPHandlerConfig({name:o._v.GLIP_SERVER,defaultVia:r.NETWORK_VIA.ALL,endpointType:a.GLIP_ENDPOINT_TYPE.APP,endpointsDiscovery:v,fallbackHostGetter:function(){return i.apiConfiguration.getConfig().glip.server}});var _=new a.GLIPHandlerConfig({name:o._v.GLIP_API,defaultVia:r.NETWORK_VIA.ALL,endpointType:a.GLIP_ENDPOINT_TYPE.API,endpointsDiscovery:v,fallbackHostGetter:function(){return i.apiConfiguration.getConfig().glip.apiServer}});var y=new c({name:o._v.GLIP_UPLOAD,defaultVia:r.NETWORK_VIA.HTTP,endpointType:a.GLIP_ENDPOINT_TYPE.API,endpointsDiscovery:v,fallbackHostGetter:function(){return i.apiConfiguration.getConfig().glip.apiServer}});var b=new d({name:o._v.GLIP_DISCOVERY,defaultVia:r.NETWORK_VIA.HTTP,getAPIUserAgent:function(){var e;return(e=u.Pal.instance.getPlatformUtils())===null||e===void 0?void 0:e.buildUserAgentForHttp()}})},751643:(e,t,n)=>{"use strict";n.d(t,{Wg:()=>u,tR:()=>c,QZ:()=>s,W0:()=>l});var r=n(424843);var o=n(862926);var i=n(708022);var a=n(558807);var u=function(){function GlipResponseParser(){this.name="GlipResponseParser"}GlipResponseParser.prototype.parse=function(e){var t;if(e.request.handlerName&&![i._v.GLIP_SERVER,i._v.GLIP_API,i._v.GLIP_UPLOAD].includes(e.request.handlerName)){return null}var n=e.data;if(n){var r="";var u="";if(n.error){if(typeof n.error==="string"){r=n.error;u=n.error_description}else if(typeof n.error==="object"&&typeof n.error.code==="string"){r=n.error.code;u=n.error.message}}else if(typeof n.code==="number"){r=n.code.toString();u=n.message}if(!r){return null}if(a.L$[r.toUpperCase()]){return new a.Fw(r.toUpperCase(),u+". "+(0,o.getApiInfo)(e),(t={},t[a.sm]=u,t))}}return null};return GlipResponseParser}();var s=/The (.*) company is already on Glip with a different (.*) account \(UID (.*)\) than yours \(UID (.*)\)\./;var c=/(.*) is already on Glip in a company with a different(.*) account \(UID (.*)\) than yours \(UID (.*)\)\./;var l=new r.ResponseParser;l.register(new u);l.register(new r.CommonResponseParser)},215505:(e,t,n)=>{"use strict";n.d(t,{f:()=>s,B:()=>c});var r=n(862926);var o=n(205598);var i=n(245561);var a=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var u=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var s=function(){function GlipSSOAuthenticator(e){this._provider=e}GlipSSOAuthenticator.prototype.login=function(e){return a(this,void 0,Promise,(function(){var t,n,a;return u(this,(function(u){switch(u.label){case 0:return[4,this._provider.getAuthCode()];case 1:t=u.sent();return[4,o["do"].loginGlip(t)];case 2:n=u.sent();a=n.headers[i.Ju];if(!a||n.status<200||n.status>=300){throw o.W0.parse(n)}return[4,e({token:new r.Token(a)})];case 3:u.sent();return[2]}}))}))};return GlipSSOAuthenticator}();var c=function(){function GlipTokenAuthenticator(e){this._token=e}GlipTokenAuthenticator.prototype.login=function(e){return e({token:this._token})};return GlipTokenAuthenticator}()},436234:(e,t,n)=>{"use strict";n.d(t,{kF:()=>c,LT:()=>a});var r=n(469882);var o=n(298784);var i=n(708022);var a={TOKEN:"token",CLIENT_CONFIG:"client_config",USER_ID:"user_id",PROFILE_ID:"profile_id",COMPANY_ID:"company_id",CLIENT_ID:"client_id",UNREAD_TOGGLE_ON:"unread_toggle_on",USE_SECURE_DOWNLOAD:"use_secure_download",FIRST_LOGIN_TIMESTAMP:"first_login_timestamp",PAYMENTS:"payments"};var u=i.oF.toLowerCase();var s=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var c=function(e){s(GlipAccountUserConfig,e);function GlipAccountUserConfig(){return e.call(this,u)||this}GlipAccountUserConfig.prototype.setToken=function(e){this.put(a.TOKEN,e)};GlipAccountUserConfig.prototype.getToken=function(){return(0,o.trim)(this.get(a.TOKEN))};GlipAccountUserConfig.prototype.setCompanyId=function(e){this.put(a.COMPANY_ID,e)};GlipAccountUserConfig.prototype.getCompanyId=function(){var e=this.get(a.COMPANY_ID);return e};GlipAccountUserConfig.prototype.setClientId=function(e){this.put(a.CLIENT_ID,e)};GlipAccountUserConfig.prototype.getClientId=function(){return this.get(a.CLIENT_ID)};GlipAccountUserConfig.prototype.setClientConfig=function(e){this.put(a.CLIENT_CONFIG,e)};GlipAccountUserConfig.prototype.getClientConfig=function(){return this.get(a.CLIENT_CONFIG)};GlipAccountUserConfig.prototype.setPayments=function(e){this.put(a.PAYMENTS,e)};GlipAccountUserConfig.prototype.getPayments=function(){return this.get(a.PAYMENTS)};GlipAccountUserConfig.prototype.setProfileId=function(e){this.put(a.PROFILE_ID,e)};GlipAccountUserConfig.prototype.getProfileId=function(){var e=this.get(a.PROFILE_ID);return e};GlipAccountUserConfig.prototype.setUserId=function(e){this.put(a.USER_ID,e)};GlipAccountUserConfig.prototype.getUserId=function(){return this.get(a.USER_ID)};GlipAccountUserConfig.prototype.setUnreadToggleSetting=function(e){this.put(a.UNREAD_TOGGLE_ON,e)};GlipAccountUserConfig.prototype.getUnreadToggleSetting=function(){return this.get(a.UNREAD_TOGGLE_ON)};GlipAccountUserConfig.prototype.setUseSecureDownload=function(e){this.put(a.USE_SECURE_DOWNLOAD,e)};GlipAccountUserConfig.prototype.getUseSecureDownload=function(){return this.get(a.USE_SECURE_DOWNLOAD)};GlipAccountUserConfig.prototype.setFirstLoginTimestamp=function(e){this.put(a.FIRST_LOGIN_TIMESTAMP,e)};GlipAccountUserConfig.prototype.getFirstLoginTimestamp=function(){return this.get(a.FIRST_LOGIN_TIMESTAMP)};return GlipAccountUserConfig}(r.UserConfig)},572766:(e,t,n)=>{"use strict";n.d(t,{J:()=>l});var r=n(436234);var o=n(304360);var i=n(667489);var a=n.n(i);var u=n(92003);var s=n(85508);var c=n(85468);var l=function(){function ClientConfigController(e,t){var n=this;this._userConfig=e;this._entitlement=t;this._handleClientConfigChanged=function(e,t){e===i.CONFIG_EVENT_TYPE.UPDATE&&Object.values(u.tf).forEach((function(e){var r;var o=n.isBetaEnabledForAll(e,t)||n.isInBetaDomainList(e,t)||n.isInBetaEmailList(e,t);var i=c.U.isEnabled()&&((r=c.U.getBetaFlagDebugSetting())===null||r===void 0?void 0:r[e]);s.k.info("clientConfigChanged,key:"+e+",isEnable:"+o+",debug:"+i);n._entitlement.set(u.TW[e],i||o)}))}}ClientConfigController.prototype.init=function(){var e=this._userConfig.getClientConfig();e&&this._handleClientConfigChanged(i.CONFIG_EVENT_TYPE.UPDATE,e);this._initDebugSetting();this._userConfig.on(r.LT.CLIENT_CONFIG,this._handleClientConfigChanged)};ClientConfigController.prototype.dispose=function(){this._userConfig.off(r.LT.CLIENT_CONFIG,this._handleClientConfigChanged)};ClientConfigController.prototype.isInBeta=function(e){var t;var n=c.U.isEnabled()&&((t=c.U.getBetaFlagDebugSetting())===null||t===void 0?void 0:t[e]);return n||!!this._entitlement.get(u.TW[e])};ClientConfigController.prototype.isInBetaEmailList=function(e,t){var n,r;var o=this._getClientConfig(t);return!!((n=o[""+e+u.rL.EMAILS])===null||n===void 0?void 0:n.includes((r=this._userConfig.getUserId())===null||r===void 0?void 0:r.toString()))};ClientConfigController.prototype.isInBetaDomainList=function(e,t){var n,r;var o=this._getClientConfig(t);return!!((n=o[""+e+u.rL.DOMAINS])===null||n===void 0?void 0:n.includes((r=this._userConfig.getCompanyId())===null||r===void 0?void 0:r.toString()))};ClientConfigController.prototype.isBetaEnabledForAll=function(e,t){var n=this._getClientConfig(t);return n[""+e+u.rL.ALL]===o.g.TRUE};ClientConfigController.prototype._getClientConfig=function(e){return e||this._userConfig.getClientConfig()||{}};ClientConfigController.prototype._initDebugSetting=function(){var e=this;var t=c.U.isEnabled()&&c.U.getBetaFlagDebugSetting();if(!t){return}Object.keys(t).forEach((function(n){var r=u.TW[n];r&&t[n]&&e._entitlement.set(r,true)}))};return ClientConfigController}()},85468:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var r=n(862926);var o=n.n(r);var i=n(667489);var a=n.n(i);var u=n(92003);var s=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var c=function(e){s(ClientConfigDebugger,e);function ClientConfigDebugger(){return e!==null&&e.apply(this,arguments)||this}ClientConfigDebugger.getBetaFlagDebugSetting=function(){return this.get(this.clientConfigKey)};ClientConfigDebugger.isEnabled=function(){return!r.BuildUtils.isPublicBuild()};ClientConfigDebugger.moduleName="debugger";ClientConfigDebugger.clientConfigKey="clientConfig";return ClientConfigDebugger}(i.GlobalConfig)},92003:(e,t,n)=>{"use strict";n.d(t,{rL:()=>o,tf:()=>i,ZS:()=>u,TW:()=>s});var r=n(5279);var o={EMAILS:"_emails",DOMAINS:"_domains",ALL:"_all"};var i;(function(e){e["MULTI_INSTANCE"]="multi_instance";e["SECURE_DOWNLOADS"]="secure_downloads";e["MI_CROSS_INSTANCE_GUESTS"]="mi_cross_instance_guests"})(i||(i={}));var a="[ClientConfig]";var u=(0,r.S)(i,a);var s=Object.keys(i).reduce((function(e,t){e[i[t]]=u[t];return e}),{})},596021:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(62427);var o=n(741598);var i=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var a=function(e){i(GlipDiscoveryConfigSource,e);function GlipDiscoveryConfigSource(){return e!==null&&e.apply(this,arguments)||this}GlipDiscoveryConfigSource.prototype.getEndpoints=function(){var e;return((e=this._endpointsDiscovery.getEndpoints())===null||e===void 0?void 0:e.endpoints)||o.r.getHAEndpoints()};GlipDiscoveryConfigSource.prototype.isEndpointsValid=function(){return this._endpointsDiscovery.isEndpointsValid()||!!o.r.getHAEndpoints()};return GlipDiscoveryConfigSource}(r.DiscoveryConfigSource)},741598:(e,t,n)=>{"use strict";n.d(t,{r:()=>u});var r="discovery.glip";var o={IS_ENABLE:"isEnable",ENDPOINTS:"endpoints"};var i=n(667489);var a=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var u=function(e){a(EndpointsDiscoveryGlobalConfig,e);function EndpointsDiscoveryGlobalConfig(){return e!==null&&e.apply(this,arguments)||this}EndpointsDiscoveryGlobalConfig.isEnable=function(){return this.get(o.IS_ENABLE)};EndpointsDiscoveryGlobalConfig.setEnable=function(e){this.put(o.IS_ENABLE,e)};EndpointsDiscoveryGlobalConfig.getHAEndpoints=function(){return this.get(o.ENDPOINTS)};EndpointsDiscoveryGlobalConfig.setHAEndpoints=function(e){this.put(o.ENDPOINTS,e)};EndpointsDiscoveryGlobalConfig.moduleName=r;return EndpointsDiscoveryGlobalConfig}(i.GlobalConfig)},875905:(e,t,n)=>{"use strict";n.d(t,{Bx:()=>r,oR:()=>a,Gn:()=>o,H6:()=>i,XW:()=>u,Jp:()=>s,UN:()=>c});var r=5;var o=2;var i=30*24*60*60;var a=5*60;var u={API:"api",APP:"app",APP_GALERY:"appGalery",CACHE:"cache",DOWNLOADS:"downloads",STATUS:"status",WEBHOOKS:"webhooks"};var s={ENDPOINTS:"/v1.0/endpoints"};var c="GLIP_DISCOVERY_CONFIG_SOURCE";var l="API_CONFIG_STORE"},921757:()=>{},227821:()=>{},472724:(e,t,n)=>{"use strict";n.d(t,{As:()=>h});var r=n(862926);var o={GLP200:"GLP-200",GLP201:"GLP-201"};var i=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var a=function(e){i(GlipNetworkRequestExecutor,e);function GlipNetworkRequestExecutor(){return e!==null&&e.apply(this,arguments)||this}GlipNetworkRequestExecutor.prototype.onSuccess=function(t){if(t.status===r.RESPONSE_STATUS_CODE.SERVER_ERROR_515){this._handle515ServerError(t)}else{e.prototype.onSuccess.call(this,t)}};GlipNetworkRequestExecutor.prototype.onFailure=function(t){if(t.status===r.RESPONSE_STATUS_CODE.SERVER_ERROR_515){this._handle515ServerError(t)}else{e.prototype.onFailure.call(this,t)}};GlipNetworkRequestExecutor.prototype._handle515ServerError=function(e){if(this._isServerErrorCodeMatched(e.data,o.GLP200)&&!this._isIndexRequest(e)){this.responseListener.onCompanyReadOnly()}else if(this._isServerErrorCodeMatched(e.data,o.GLP201)){this.responseListener.onDiscoveryNeeded()}this._callXApiCompletionCallback(e)};GlipNetworkRequestExecutor.prototype._isIndexRequest=function(e){if(!e){return false}return e.request.path==="/api/index"};return GlipNetworkRequestExecutor}(r.NetworkRequestExecutor);var u=n(85508);var s=n(62427);var c=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var l=function(e){c(GlipNetworkRequestHandler,e);function GlipNetworkRequestHandler(){var t=e!==null&&e.apply(this,arguments)||this;t._logger=u.k.tags(GlipNetworkRequestHandler.name);return t}GlipNetworkRequestHandler.prototype.onDiscoveryNeeded=function(){e.prototype.onDiscoveryNeeded.call(this);this.endpointsDiscovery.onMigrated()};GlipNetworkRequestHandler.prototype.onCompanyReadOnly=function(){this._logger.info("onCompanyReadOnly");this.endpointsDiscovery.onMigration()};return GlipNetworkRequestHandler}(s.DiscoveryRequestHandler);var f=n(302186);var d=undefined&&undefined.__assign||function(){d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return d.apply(this,arguments)};var getGlipRequestDecorator=function(e,t){return function(n){if(n.needAuth()){if(!e.tokenHandler){throw new Error("token handler can not be null.")}n.headers[r.X_USER_AGENT]=f.Pal.instance.getPlatformUtils().buildUserAgentForHttp();if(e.tokenHandler&&e.tokenHandler.isOAuthTokenAvailable()){n.headers=d(d({},n.headers),{Authorization:"Bearer "+e.tokenHandler.accessToken()})}}var o=t();if(o&&n.via===r.NETWORK_VIA.SOCKET){var i=o();n.headers=d(d({},n.headers),{"X-RC-Access-Token-Data":i&&e.btoa(JSON.stringify(i))})}return{success:true}}};var p=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var h=function(e){p(GLIPHandlerConfig,e);function GLIPHandlerConfig(){var t=e!==null&&e.apply(this,arguments)||this;t.customNetworkRequestHandlerBuilder=function(e){return new l(e,t.endpointsDiscovery)};t.customNetworkRequestExecutorBuilder=function(e,t,n){return new a(e,t,n)};return t}GLIPHandlerConfig.prototype.getRequestDecorator=function(){var e=this;return getGlipRequestDecorator(this,(function(){return e.rcTokenProvider}))};return GLIPHandlerConfig}(s.MultiInstanceNetworkHandlerConfig)},458430:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});var r={TYPE_ID_COMPANY:1,TYPE_ID_GROUP:2,TYPE_ID_PERSON:3,TYPE_ID_POST:4,TYPE_ID_PROJECT:5,TYPE_ID_TEAM:6,TYPE_ID_STATE:7,TYPE_ID_PLUGIN:8,TYPE_ID_TASK:9,TYPE_ID_FILE:10,TYPE_ID_PRESENCE:11,TYPE_ID_STORED_FILE:12,TYPE_ID_BUG:13,TYPE_ID_EVENT:14,TYPE_ID_PROFILE:15,TYPE_ID_EMAIL_STATE:16,TYPE_ID_LINK:17,TYPE_ID_PAGE:18,TYPE_ID_ACCOUNT:19,TYPE_ID_MEETING:20,TYPE_ID_MEGA_MEETING:21,TYPE_ID_ADDLIVE_MEETING:23,TYPE_ID_PAYMENT:24,TYPE_ID_DO_IMPORT:25,TYPE_ID_GMAIL_IMPORT:26,TYPE_ID_INTEGRATION:27,TYPE_ID_INTEGRATION_ITEM:28,TYPE_ID_REFERRAL:29,TYPE_ID_POLL:30,TYPE_ID_CODE:31,TYPE_ID_GOOGLE_SIGNON:32,TYPE_ID_LINKEDIN_SIGNON:33,TYPE_ID_QUESTION:34,TYPE_ID_IMPORT_ITEM:35,TYPE_ID_SLACK_IMPORT:36,TYPE_ID_HIPCHAT_IMPORT:37,TYPE_ID_ASANA_IMPORT:38,TYPE_ID_TRELLO_IMPORT:39,TYPE_ID_RC_SIGNON:40,TYPE_ID_CONFERENCE:41,TYPE_ID_CALL:42,TYPE_ID_SIP:43,TYPE_ID_EXPORT:44,TYPE_ID_INTERACTIVE_MESSAGE_ITEM:45,TYPE_ID_FLIP2GLIP_EMAIL:46,TYPE_ID_OUTLOOK_IMPORT:60,TYPE_ID_RC_PHONE_TAB:100,TYPE_ID_RC_CALL:101,TYPE_ID_RC_VOICEMAIL:102,TYPE_ID_RC_FAX:103,TYPE_ID_RC_PRESENCE:104,TYPE_ID_RC_BLOCK:105,TYPE_ID_RC_SMSES:106,TYPE_ID_RC_VIDEO:107,TYPE_ID_RC_VIDEO_INVITATION:109,TYPE_ID_ADAPTIVE_CARD:110,TYPE_ID_HUDDLE:111,TYPE_ID_CUSTOM_ITEM:7e3,TYPE_ID_JIRA_ITEM:7001,TYPE_ID_GITHUB_ITEM:7002,TYPE_ID_HARVEST_ITEM:7003,TYPE_ID_STRIPE_ITEM:7004,TYPE_ID_ZENDESK_ITEM:7005,TYPE_ID_ASANA_ITEM:7006,TYPE_ID_BITBUCKET_ITEM:7007,TYPE_ID_BOX_ITEM:7008,TYPE_ID_BUGSNAG_ITEM:7009,TYPE_ID_BUILDBOX_ITEM:7010,TYPE_ID_CIRCLECI_ITEM:7011,TYPE_ID_CLOUD66_ITEM:7012,TYPE_ID_CODESHIP_ITEM:7013,TYPE_ID_CONCUR_ITEM:7014,TYPE_ID_CRASHLYTICS_ITEM:7015,TYPE_ID_DATADOG_ITEM:7016,TYPE_ID_EXPENSIFY_ITEM:7017,TYPE_ID_FRESHBOOKS_ITEM:7018,TYPE_ID_GETSATISFACTION_ITEM:7019,TYPE_ID_GOSQUARED_ITEM:7020,TYPE_ID_HANGOUTS_ITEM:7021,TYPE_ID_HONEYBADGER_ITEM:7022,TYPE_ID_HUBOT_ITEM:7023,TYPE_ID_HUBSPOT_ITEM:7024,TYPE_ID_INSIGHTLY_ITEM:7025,TYPE_ID_JENKINS_ITEM:7026,TYPE_ID_LIBRATO_ITEM:7027,TYPE_ID_MAILCHIMP_ITEM:7029,TYPE_ID_MARKETO_ITEM:7030,TYPE_ID_NAGIOS_ITEM:7031,TYPE_ID_NINEFOLD_ITEM:7033,TYPE_ID_ONEDRIVE_ITEM:7034,TYPE_ID_OPSGENIE_ITEM:7035,TYPE_ID_PAGERDUTY_ITEM:7036,TYPE_ID_PAPERTRAIL_ITEM:7037,TYPE_ID_PHABRICATOR_ITEM:7038,TYPE_ID_PINGDOM_ITEM:7039,TYPE_ID_PIVOTALTRACKER_ITEM:7040,TYPE_ID_QUICKBOOKS_ITEM:7041,TYPE_ID_REAMAZE_ITEM:7043,TYPE_ID_ROLLCALL_ITEM:7044,TYPE_ID_RSS_ITEM:7045,TYPE_ID_SALESFORCE_ITEM:7046,TYPE_ID_SCREENHERO_ITEM:7047,TYPE_ID_SEMAPHORE_ITEM:7048,TYPE_ID_SENTRY_ITEM:7049,TYPE_ID_STATUSPAGEIO_ITEM:7050,TYPE_ID_SUBVERSION_ITEM:7051,TYPE_ID_SUPPORTFU_ITEM:7052,TYPE_ID_TRAVIS_ITEM:7053,TYPE_ID_TRELLO_ITEM:7054,TYPE_ID_TWITTER_ITEM:7055,TYPE_ID_USERVOICE_ITEM:7056,TYPE_ID_VOCUS_ITEM:7057,TYPE_ID_ZAPIER_ITEM:7058,TYPE_ID_ZOHO_ITEM:7059,TYPE_ID_DONEDONE_ITEM:7060,TYPE_ID_AIRBRAKE_ITEM:7061,TYPE_ID_NEW_RELIC_ITEM:7062,TYPE_ID_TRAVIS_CI_ITEM:7063,TYPE_ID_HEROKU_ITEM:7064,TYPE_ID_CONFLUENCE_ITEM:7065,TYPE_ID_SERVICE_NOW_ITEM:7066,TYPE_ID_RAYGUN_ITEM:7067,TYPE_ID_MAGNUMCI_ITEM:7068,TYPE_ID_RUNSCOPE_ITEM:7070,TYPE_ID_CIRCLE_CI_ITEM:7073,TYPE_ID_GO_SQUARED_ITEM:7075,TYPE_ID_OPS_GENIE_ITEM:7076,TYPE_ID_SUMO_LOGIC_ITEM:7082,TYPE_ID_APP_SIGNAL_ITEM:7083,TYPE_ID_USERLIKE_ITEM:7086,TYPE_ID_DESK_ITEM:7089,TYPE_ID_VICTOR_OPS_ITEM:7090,TYPE_ID_GLIPFORCE_ITEM:7091,TYPE_ID_STATUS_PAGE_ITEM:7092}},506281:(e,t,n)=>{"use strict";n.d(t,{O:()=>u});var r=7e3;var o=110;var i=8191;var a=262143;var u=function(){function GlipTypeUtil(){}GlipTypeUtil.isIntegrationType=function(e){var t=GlipTypeUtil.extractTypeId(e);return t>=r};GlipTypeUtil.isAdaptiveCardType=function(e){var t=GlipTypeUtil.extractTypeId(e);return t===o};GlipTypeUtil.extractTypeId=function(e){return e>0?e&i:-e&i};GlipTypeUtil.isExpectedType=function(e,t){return this.extractTypeId(e)===t};GlipTypeUtil.generatePseudoIdByType=function(e){return-((Math.floor(Math.random()*a)<<13)+e)};return GlipTypeUtil}()},85508:(e,t,n)=>{"use strict";n.d(t,{k:()=>u});var r=n(862926);var o=n.n(r);var i=n(105195);var a="[GLIP_ACCOUNT]";var u=r.ModuleLogger.getLogger(a,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),i.l)},196639:(e,t,n)=>{"use strict";n.d(t,{e:()=>m});var r=n(667489);var o=n(23579);var i=n(862926);var a="[MESSAGE][NETWORK]";var u=i.ModuleLogger.getLogger(a,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),i.EVENT_DATA_FEATURE.COMMON).subModule("[AGGREGATE]");var s=n(118776);var c=n(708022);var l=n(7849);var f=n(915745);var d=undefined&&undefined.__assign||function(){d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return d.apply(this,arguments)};var p=function(){function ChunkResponseHandler(){this._chunkMap=new Map}ChunkResponseHandler.prototype.handleChunkResponse=function(e){if(e.header.chunkCount===1){return{isDone:true,data:{header:d(d({},e.header),{chunkId:undefined,chunkCount:undefined}),data:e.data,status:e.status}}}var t=this._chunkMap.get(e.header.responseId);if(!t){t={total:e.header.chunkCount,receivedChunks:[{chunkId:e.header.chunkId||0,data:e.data}]};this._chunkMap.set(e.header.responseId,t);return{isDone:false,data:undefined}}if(e.header.chunkCount){t.total=e.header.chunkCount}var n=t.receivedChunks.some((function(t){if(t.chunkId===e.header.chunkId){return true}return false}));!n&&t.receivedChunks.push({chunkId:e.header.chunkId||0,data:e.data});if(t.receivedChunks.length===t.total){var r=this._mergeResponse(t);this.clear(e.header.responseId);return{isDone:true,data:{header:d(d({},e.header),{chunkId:undefined,chunkCount:undefined}),data:r,status:e.status}}}return{isDone:false,data:undefined}};ChunkResponseHandler.prototype._mergeResponse=function(e){var t=e.receivedChunks.sort((function(e,t){return e.chunkId-t.chunkId}));return t.map((function(e){return e.data})).join("")};ChunkResponseHandler.prototype.clear=function(e){this._chunkMap.delete(e)};ChunkResponseHandler.prototype.clearAll=function(){this._chunkMap.clear()};return ChunkResponseHandler}();var h=n(998942);var v=n(372393);var g=n(461197);var _=n(38942);var y=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var b=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var C="[AggregateRequestController]";var m=function(){function AggregateRequestController(e,t){var n=this;this.name=e;this._networkClient=t;this._requestTimeout=s.By;this._requestTimeoutObserved=false;this._handleResponse=function(e,t){if(t===void 0){t=false}var r=n._buildAggregateResponse(e);n._checkAndStartRequestTimer(r.header.requestId);if(!n._shouldHandle(r)){return}if(r.status>=200&&r.status<300){n._handleSuccessResponse(r,t)}else{n._handleFailResponse(r)}};this._handleSuccessResponse=function(e,t){if(t===void 0){t=false}if(e.header.chunkId){n._handleChunkResponse(e,t)}else{n._handleFullResponse(e,t)}};this._handleFullResponse=function(e,t){var r=n._requestMap.get(e.header.requestId);if(!r){n._logger.warn("aggregate request not exist: "+e.header.requestId);return}var i=false;var a;if(typeof e.data==="string"){try{a=JSON.parse(e.data)}catch(t){n._logger.error("aggregate response parse failed: "+e.data);i=true}}else{a=e.data}if(i){n._updateResponseStatus(e,r,o.RS.FAIL)}else{n._updateResponseStatus(e,r,o.RS.SUCCESS)}var u=(r===null||r===void 0?void 0:r.strategy.requestMode())||o.J0.ASYNC;u===o.J0.ASYNC?n._handleAsyncResponse(r,a,t):n._handleSyncResponse(r,a)};this._onRequestTimeout=function(e){n._requestTimerMap.delete(e);var t=n._requestMap.get(e);t&&n._handleFailRequest(t)};this._onPendingTimeout=function(e){var t=-1;n._pendingQueue.some((function(n,r){if(n.requestId===e){t=r;return true}return false}));t>=0&&n._pendingQueue.splice(t,1);n._pendingTimerMap.delete(e);n._finishRequest(e,new f.V(f.i.GENERAL,"pending timeout"))};this._init()}AggregateRequestController.prototype._init=function(){this._requestMap=new Map;this._requestTimerMap=new Map;this._syncModeDataMap=new Map;this._pendingQueue=[];this._pendingTimerMap=new Map;this._waitingMap=new Map;this._chunkResponseHandler=new p;this._logger=u.tags(C+"["+this.name+"]");r.notificationCenter.on(c.FY.SOCKET.SOCKET_STATE_CHANGE,this._handleSocketConnectionStateChanged.bind(this));this._observeTimeoutChange()};AggregateRequestController.prototype._observeTimeoutChange=function(){var e=this;if(this._requestTimeoutObserved){return}var t=(0,g.getModule)(_.FEATURE_FLAG_MODULE);var observer=function(t){t&&(e._requestTimeout=t*1e3)};if(t){t.observeFeatureFlag(_.G.D_USE_AGGREGATE_REQUEST_TIMEOUT,observer,true);this._requestTimeoutObserved=true}};AggregateRequestController.prototype._firePendingRequests=function(){do{var e=this._pendingQueue.shift();if(!e){break}this._clearPendingTimer(e.requestId);this._doRequest(e)}while(this._pendingQueue.length>0)};AggregateRequestController.prototype._retryWhenReconnect=function(){var e=this;this._requestMap.forEach((function(t){if(t.strategy.retryWhenReconnect()&&!t.isExecuting){e._retry(t,true)}}))};AggregateRequestController.prototype._cleanUpNoRetryRequests=function(){var e=this;var t=[];this._requestMap.forEach((function(e,n){if(!e.strategy.retryWhenReconnect()){t.push(n)}}));t.forEach((function(t){e._finishRequest(t,new f.V(f.i.GENERAL,"socket disconnected"))}))};AggregateRequestController.prototype._handleSocketConnectionStateChanged=function(e){var t=e.state;if(t==="connected"){this._firePendingRequests();this._retryWhenReconnect()}else if(t==="disconnected"){this._cleanUpNoRetryRequests()}};AggregateRequestController.prototype._buildRequestInfo=function(e,t){var n=e.strategy,r=e.query,a=e.callback;var u=(0,i.uniqueNumberId)();var s=r.headers||{};s[o.yf.X_GLIP_REQUEST_ID]=u;r.headers=s;var c={requestId:u,strategy:n,query:r,responseStatus:undefined,callbacks:[a]};this._requestMap.set(u,c);this._waitingMap.set(u,t);return c};AggregateRequestController.prototype._isFeatureFlagON=function(){var e;return(e=(0,v.BS)())===null||e===void 0?void 0:e.clientConfigController.isInBeta(h.tf.MI_CROSS_INSTANCE_GUESTS)};AggregateRequestController.prototype.request=function(e){return y(this,void 0,void 0,(function(){var t;var n=this;return b(this,(function(r){switch(r.label){case 0:if(!!this._isFeatureFlagON())return[3,3];return[4,this._networkClient().doRequest(e.oldQuery)];case 1:t=r.sent();return[4,e.callback({data:t.data,isDone:true,isLocal:true})];case 2:r.sent();return[3,4];case 3:return[2,new Promise((function(t,r){var o=e.strategy.token();if(o){var i=n._buildRequestInfo(e,{resolve:t,reject:r});n._doRequest(i)}else if(e.strategy.canPending()){var i=n._buildRequestInfo(e,{resolve:t,reject:r});n._addToPendingQueue(i)}else{n._logger.info("socket not connected, reject aggregate request");r(new f.V(f.i.GENERAL,"socket not connected"))}}))];case 4:return[2]}}))}))};AggregateRequestController.prototype._attachNewlyToken=function(e){e.query.headers[o.yf.X_GLIP_SUBSCRIPTION_KEY]=e.strategy.token()};AggregateRequestController.prototype._addToPendingQueue=function(e){this._pendingQueue.push(e);this._startPendingTimer(e.requestId)};AggregateRequestController.prototype._updateExecutingMark=function(e,t){e.isExecuting=t};AggregateRequestController.prototype._doRequest=function(e){return y(this,void 0,void 0,(function(){var t,n;return b(this,(function(r){switch(r.label){case 0:this._updateExecutingMark(e,true);this._subscribeSocketEvent(e.requestId);this._attachNewlyToken(e);r.label=1;case 1:r.trys.push([1,3,,4]);return[4,this._networkClient().rawRequest(e.query)];case 2:t=r.sent();this._handleResponse(t,true);return[3,4];case 3:n=r.sent();this._finishRequest(e.requestId,n);return[3,4];case 4:return[2]}}))}))};AggregateRequestController.prototype._handleChunkResponse=function(e,t){var n=this._chunkResponseHandler.handleChunkResponse(e),r=n.isDone,o=n.data;if(r&&o){this._handleFullResponse(o,t)}};AggregateRequestController.prototype._buildAggregateResponse=function(e){this._lowerCaseHeaders(e);var t=e.headers||{};return{header:{responseId:t[o.yf.X_GLIP_RESPONSE_ID],requestId:t[o.yf.X_GLIP_REQUEST_ID],expectedResponseIds:t[o.yf.X_GLIP_EXPECTED_RESPONSE_ID],chunkId:t[o.yf.X_GLIP_CHUNK_ID]&&parseInt(t[o.yf.X_GLIP_CHUNK_ID],10),chunkCount:t[o.yf.X_GLIP_CHUNK_COUNT]&&parseInt(t[o.yf.X_GLIP_CHUNK_COUNT],10)},data:e.data,status:e.status}};AggregateRequestController.prototype._lowerCaseHeaders=function(e){var t=e.headers;Object.keys(t).forEach((function(e){var n=e.toLowerCase();if(n!==e){t[n]=t[e];delete t[e]}}))};AggregateRequestController.prototype._checkAndStartRequestTimer=function(e){var t=this._requestTimerMap.get(e);if(!t){this._startRequestTimer(e)}};AggregateRequestController.prototype._handleFailResponse=function(e){this._finishRequest(e.header.requestId,new f.V(f.i.GENERAL,"got failed response: "+e.data))};AggregateRequestController.prototype._handleFailRequest=function(e){var t=e.strategy;if(!t.token()){if(t.retryWhenReconnect()){this._updateExecutingMark(e,false);return}this._finishRequest(e.requestId,new f.V(f.i.GENERAL,"token is not available"));return}if(t.retryCount()<0){this._finishRequest(e.requestId,new f.V(f.i.GENERAL,"request failed and reach retry limit"));return}this._retry(e)};AggregateRequestController.prototype._handleAsyncResponse=function(e,t,n){var r=e===null||e===void 0?void 0:e.callbacks;if(r){var o=this._getResponsesStatus(e),i=o.isDone,a=o.isAllSuccess;t&&r.forEach((function(e){return e({data:t,isLocal:n,isDone:i})}));if(i){if(a){this._finishRequest(e.requestId)}else{this._handleFailRequest(e)}}}};AggregateRequestController.prototype._handleSyncResponse=function(e,t){var n=e.requestId;var r=this._syncModeDataMap.get(n);var o;if(t){if(r){o=e.strategy.merge(r,t)}else{o=t}this._syncModeDataMap.set(n,o)}else{this._logger.warn("current response do not contain data",n);o=r}var i=this._getResponsesStatus(e),a=i.isDone,u=i.isAllSuccess;if(a){if(u){o&&e.callbacks.forEach((function(e){return e({data:o,isLocal:true,isDone:a})}));this._finishRequest(n)}else{this._handleFailRequest(e)}}};AggregateRequestController.prototype._retry=function(e,t){if(t===void 0){t=false}return y(this,void 0,void 0,(function(){var n,r,i;return b(this,(function(a){switch(a.label){case 0:n=e.responseStatus;if(!n||n.size===0){this._finishRequest(e.requestId,new f.V(f.i.GENERAL,"request timeout with no response"));return[2]}r=[];n.forEach((function(e,t){if(e!==o.RS.SUCCESS){r.push(t)}}));if(!(r.length>0))return[3,2];i=e.query.headers||{};i[o.yf.X_GLIP_MISSED_RESPONSE_IDS]=r.join(",");if(!t){i[o.yf.X_GLIP_MISSED_DATA_ONLY]="true"}this._clearRequestTimer(e.requestId);this._unSubscribeSocketEvent(e.requestId);return[4,this._doRequest(e)];case 1:a.sent();a.label=2;case 2:return[2]}}))}))};AggregateRequestController.prototype._finishRequest=function(e,t){var n=this;this._unSubscribeSocketEvent(e);this._clearRequestTimer(e);this._syncModeDataMap.delete(e);var r=this._requestMap.get(e);if(r){if(r.responseStatus){r.responseStatus.forEach((function(e,t){n._chunkResponseHandler.clear(t)}))}this._requestMap.delete(e)}else{this._logger.warn("request info not exist",e)}var o=this._waitingMap.get(e);if(o){if(t){this._logger.info("aggregate request finished with error",t);o.reject(t)}else{o.resolve({})}this._waitingMap.delete(e)}};AggregateRequestController.prototype._shouldHandle=function(e){var t=e.header.requestId;var n=e.header.responseId;var r=this._requestMap.get(t);if(!r){this._logger.warn("Has not request info in map for",t);return false}if(!r.responseStatus){return true}var i=r.responseStatus.get(n);if(!i){this._logger.warn("this response is not expected",t,n);return false}if(i!==o.RS.IN_PROGRESS){this._logger.warn("The response already handled",t,n);return false}return true};AggregateRequestController.prototype._updateResponseStatus=function(e,t,n){var r=t===null||t===void 0?void 0:t.responseStatus;if(!r){this._initResponseStatus(t,e.header.responseId,e.header.expectedResponseIds,n)}else{r.set(e.header.responseId,n)}};AggregateRequestController.prototype._initResponseStatus=function(e,t,n,r){if(n){e.responseStatus=new Map;var i=n.split(",");i.forEach((function(n){e.responseStatus.set(n,n===t?r:o.RS.IN_PROGRESS)}))}else{this._logger.warn("no expected response ids for:",t)}};AggregateRequestController.prototype._subscribeSocketEvent=function(e){l.t.on("SOCKET.RESPONSE_V2."+e,this._handleResponse)};AggregateRequestController.prototype._unSubscribeSocketEvent=function(e){l.t.off("SOCKET.RESPONSE_V2."+e,this._handleResponse)};AggregateRequestController.prototype._startRequestTimer=function(e){var t=this;var n=setTimeout((function(){t._onRequestTimeout(e)}),this._requestTimeout);this._requestTimerMap.set(e,n)};AggregateRequestController.prototype._startPendingTimer=function(e){var t=this;var n=setTimeout((function(){t._onPendingTimeout(e)}),s.mB);this._pendingTimerMap.set(e,n)};AggregateRequestController.prototype._clearRequestTimer=function(e){var t=this._requestTimerMap.get(e);if(t){clearTimeout(t);this._requestTimerMap.delete(e)}};AggregateRequestController.prototype._clearPendingTimer=function(e){var t=this._pendingTimerMap.get(e);if(t){clearTimeout(t);this._pendingTimerMap.delete(e)}};AggregateRequestController.prototype._getResponsesStatus=function(e){var t=e===null||e===void 0?void 0:e.responseStatus;var n=true;var r=true;if(t){t.forEach((function(e){if(e===o.RS.FAIL){r=false}else if(e===o.RS.IN_PROGRESS){n=false}}))}else{n=false;r=false}return{isDone:n,isAllSuccess:r}};return AggregateRequestController}()},67961:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});var r=n(23579);var o=n(118776);var i=n(372393);var a=function(){function BaseAggregateStrategy(e){this._retryCount=e||o.VP}BaseAggregateStrategy.prototype.canDuplicate=function(){return true};BaseAggregateStrategy.prototype.canPending=function(){return false};BaseAggregateStrategy.prototype.retryWhenReconnect=function(){return false};BaseAggregateStrategy.prototype.requestMode=function(){return r.J0.ASYNC};BaseAggregateStrategy.prototype.retryCount=function(){this._retryCount-=1;return this._retryCount};BaseAggregateStrategy.prototype.token=function(){return(0,i.BS)().getSocketToken()};return BaseAggregateStrategy}()},118776:(e,t,n)=>{"use strict";n.d(t,{VP:()=>r,By:()=>o,mB:()=>i});var r=3;var o=60*1e3;var i=60*1e3},23579:(e,t,n)=>{"use strict";n.d(t,{J0:()=>r,yf:()=>o,RS:()=>i});var r;(function(e){e["ASYNC"]="ASYNC";e["SYNC"]="SYNC"})(r||(r={}));var o;(function(e){e["X_GLIP_REQUEST_ID"]="x-glip-request-id";e["X_GLIP_SUBSCRIPTION_KEY"]="x-glip-subscription-key";e["X_GLIP_RESPONSE_ID"]="x-glip-response-id";e["X_GLIP_EXPECTED_RESPONSE_ID"]="x-glip-expected-response-ids";e["X_GLIP_CHUNK_ID"]="x-glip-chunk-id";e["X_GLIP_CHUNK_COUNT"]="x-glip-chunk-count";e["X_GLIP_MISSED_RESPONSE_IDS"]="x-glip-missed-response-ids";e["X_GLIP_MISSED_DATA_ONLY"]="x-glip-missed-data-only"})(o||(o={}));var i;(function(e){e["IN_PROGRESS"]="IN_PROGRESS";e["SUCCESS"]="SUCCESS";e["FAIL"]="FAIL"})(i||(i={}))},7849:(e,t,n)=>{"use strict";n.d(t,{t:()=>f});var r=n(85508);var o=n(814678);var i=n(465524);var a=n(581407);var u=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var s=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var c=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var l=function(e){u(DataDispatcher,e);function DataDispatcher(){return e!==null&&e.apply(this,arguments)||this}DataDispatcher.prototype.register=function(e,t){this.on(e,t)};DataDispatcher.prototype.unregister=function(e,t){this.off(e,t)};DataDispatcher.prototype.onResponseV2=function(e,t){var n=e["type"];if(!n){r.k.warn("response_v2 miss type",e);return}var o;var i=e["headers"];Object.keys(i).forEach((function(e){var t=e.toLowerCase();if(t!==e){i[t]=i[e];delete i[e]}}));if(n===a.RV.CLIENT_REQUEST){o=e["messageId"]}else if(n===a.RV.ASYNC_RESPONSE){o=e["headers"]["x-glip-request-id"]}if(!o){r.k.warn("response_v2 miss msgId",e);return}var u=null;try{u=JSON.parse(t)}catch(e){u=t}var s={status:e["status"],headers:e["headers"],data:u};return this.emitAsync(this._getEmitEvent("SOCKET","response_v2."+o),s)};DataDispatcher.prototype.onDataArrived=function(e,t,n){return s(this,void 0,void 0,(function(){var r;var o=this;return c(this,(function(a){r=(0,i.Lp)(e,t);if(!r){return[2]}return[2,Promise.all(Object.keys(r).map((function(e){return o.emitAsync(o._getEmitEvent("SOCKET",e,n),r[e])})))]}))}))};DataDispatcher.prototype._getEmitEvent=function(e,t,n){var o=""+e.toUpperCase()+(n?".PARTIAL":"")+"."+t.toUpperCase();if(o!=="SOCKET.PRESENCE"&&o!=="SOCKET.TYPING"){r.k.info("Data dispatched for event:"+o)}return o};return DataDispatcher}(o.LM);var f=new l},581407:(e,t,n)=>{"use strict";n.d(t,{oF:()=>r,yY:()=>o,iz:()=>i,RV:()=>a});var r="Socket";var o=Symbol(r);var i={REQUEST:"request",REQUEST_V2:"request_v2"};var a={CLIENT_REQUEST:"ClientRequest",ASYNC_RESPONSE:"AsyncResponse"}},631774:(e,t,n)=>{"use strict";n.d(t,{iz:()=>r.iz,zw:()=>te,Cn:()=>H,tS:()=>C.t});var r=n(581407);var o=n(85508);var i=n(862926);var a=n(205598);var u=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var s=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var c="[SOCKET SocketScoreboard]";var l=function(){function ScoreboardController(e,t){this._managerId=0;this._retryCount=0;this._isExecuting=false;this._managerId=e;this._appVersion=t}ScoreboardController.prototype.requestScoreboard=function(e){return u(this,void 0,void 0,(function(){return s(this,(function(t){this._retryCount=0;this._isExecuting=true;this._doScoreboardApi(e);return[2]}))}))};ScoreboardController.prototype.isExecuting=function(){return this._isExecuting};ScoreboardController.prototype.clear=function(){this._isExecuting=false;this._retryCount=0;this._clearCanConnectTimeOutId();o.k.tags(c).log("clean up")};ScoreboardController.prototype._doScoreboardApi=function(e){return u(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);if(!this.isExecuting()){o.k.tags(c).info("_doScoreboardApi() return due to isExecuting is false");return[2]}return[4,a["do"].getScoreboard(this._getParameters())];case 1:t=r.sent();if(t.status>=200&&t.status<300){this._onCanConnectApiSuccess(e,t)}else{this._onCanConnectApiFailure(t,e)}return[3,3];case 2:n=r.sent();this._onCanConnectApiFailure(n,e);return[3,3];case 3:return[2]}}))}))};ScoreboardController.prototype._getParameters=function(){return{type:"web",location:"0x0",version:this._appVersion,state:"offline",_:(0,i.getCurrentTime)()}};ScoreboardController.prototype._onCanConnectApiSuccess=function(e,t){return u(this,void 0,void 0,(function(){var n,r,a;return s(this,(function(u){switch(u.label){case 0:o.k.tags(c).log(" handleRequestSuccess:",(0,i.sensitive)(t));n=t.data;if(!(typeof n==="object"))return[3,4];if(!(n&&n["reconnect_retry_in"]))return[3,2];r=n["reconnect_retry_in"];this._errorInfo={statusCode:t.status,message:"connect should retry in "+r};return[4,this._tryToCheckCanConnectAfterTime(e,r)];case 1:u.sent();return[3,3];case 2:this._setErrorInfo("");this._isExecuting=false;a=t.headers["x-authorization"]||"";e(this._managerId,n.scoreboard,a);u.label=3;case 3:return[3,5];case 4:this._onCanConnectApiFailure("invalid result type",e);u.label=5;case 5:return[2]}}))}))};ScoreboardController.prototype._onCanConnectApiFailure=function(e,t){this._setErrorInfo(e);if(e.status&&e.status===513){o.k.tags(c).log(c,"handleRequestFail scoreboard_513_error");t(this._managerId,"","")}else{this._retryCount=this._retryCount+1;var n=(0,i.getSpartaRandomTime)(this._retryCount,true);o.k.tags(c).log(c," handleRequestFail:",e," retry after:",n);this._tryToCheckCanConnectAfterTime(t,n)}};ScoreboardController.prototype._setErrorInfo=function(e){if(e&&e.status){this._errorInfo={statusCode:e.status,message:e.statusText}}else{this._errorInfo=e}};ScoreboardController.prototype._tryToCheckCanConnectAfterTime=function(e,t){var n=this;if(!this._scoreboardTimeOutId){this._scoreboardTimeOutId=setTimeout((function(){n._handleReTry(e)}),t)}else{o.k.tags(c).warn(c," has already exits time out id")}};ScoreboardController.prototype._handleReTry=function(e){this._clearCanConnectTimeOutId();this._doScoreboardApi(e)};ScoreboardController.prototype._clearCanConnectTimeOutId=function(){this._scoreboardTimeOutId&&clearTimeout(this._scoreboardTimeOutId);this._scoreboardTimeOutId=undefined};ScoreboardController.prototype.getHealthyInfo=function(){return{retryCount:this._retryCount,errorInfo:this._errorInfo}};return ScoreboardController}();var f=n(814678);var d=n(990883);var p=n.n(d);var h=n(794457);var v=2e4;var g="glip_ping";var _="glip_pong";var y=function(){function GlipPingPong(e){var t=this;this._pingTimeOutTime=v;this._pingCallbacks=[];this._logPrefix="[SOCKET GLIP_PING_PONG]";this._onPingFailure=function(){t._handlePingResult(false)};this._onPong=function(e){o.k.log(t._logPrefix," ping back to pong id: ",e);t._handlePingResult(true)};this._wakeUpFromSleepMode=function(e){t._checkConnected(e)};this._pingTimeOutTime=e.pingTimeOut||v;this._socket=e.socket;this._pingPongStatusCallback=e.callback;this._init()}GlipPingPong.prototype.ping=function(e){o.k.log(this._logPrefix," enter glip ping");if(this._socket){e&&this._pingCallbacks.push(e);if(!this._pingTimeOutId){var t=(0,i.getCurrentTime)();this._pingTimeOutId=setTimeout(this._onPingFailure,this._pingTimeOutTime);o.k.log(this._logPrefix," ping id: ",t);this._socket.emit(g,t)}}else{e&&e(false)}};GlipPingPong.prototype.cleanup=function(){this._socket&&this._socket.removeEventListener(_,this._onPong);this._socket=undefined;this._pingPongStatusCallback=undefined;this._pingCallbacks=[];this._clearPingTimeOutId();f.rF.off(h.N.WAKE_UP_FROM_SLEEP,this._wakeUpFromSleepMode);o.k.log(this._logPrefix," cleanup done")};GlipPingPong.prototype._init=function(){this._socket&&this._socket.on(_,this._onPong);f.rF.on(h.N.WAKE_UP_FROM_SLEEP,this._wakeUpFromSleepMode)};GlipPingPong.prototype._checkConnected=function(e){var t=this;o.k.log(this._logPrefix," check connection slice:",e);this.ping((function(n){if(n){o.k.log(t._logPrefix," ping success with slice",e)}else{o.k.log(t._logPrefix," ping failed with slice",e)}}))};GlipPingPong.prototype._handlePingResult=function(e){o.k.log(this._logPrefix," socket-> glip ping pong handle ping result:",e);this._clearPingTimeOutId();this._pingPongStatusCallback&&this._pingPongStatusCallback(e);this._pingCallbacks.forEach((function(t){t(e)}));this._pingCallbacks=[]};GlipPingPong.prototype._clearPingTimeOutId=function(){if(this._pingTimeOutId){clearTimeout(this._pingTimeOutId);this._pingTimeOutId=undefined}};return GlipPingPong}();var b=n(708022);var C=n(7849);var m=n(302186);var S=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var E=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var I=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(E(arguments[t]));return e};var w="SOCKET";var R=function(e){S(SocketFSM,e);function SocketFSM(t,n,r,o,i){var a=e.call(this,{transitions:[{name:"init",from:"none",to:"idle"},{name:"start",from:"idle",to:"connecting"},{name:"stop",from:"disconnected",to:"disconnected"},{name:"stop",from:"disconnecting",to:"disconnecting"},{name:"stop",from:["connecting","connected"],to:"disconnecting"},{name:"finishConnect",from:"connecting",to:"connected"},{name:"failConnect",from:["connecting","disconnecting"],to:"disconnected"},{name:"fireDisconnect",from:["connecting","disconnecting","connected"],to:"disconnected"},{name:"fireTryReconnect",from:"disconnected",to:"connecting"}],methods:{onInvalidTransition:function(e,t,n){this.error("onInvalidTransition "+e+": "+t+" => "+n)},onPendingTransition:function(e,t,n){this.info("onPendingTransition "+e+": "+t+" => "+n)},onTransition:function(e){this.info("onTransition "+e.transition+": "+e.from+" => "+e.to);return true},onEnterState:function(){this.info("onEnterState "+this.state+" isManualStopped:"+this.isManualStopped);if(this.stateHandler){this.stateHandler({name:this.name,state:this.state,isManualStopped:this.isManualStopped})}},onInit:function(){this.info("onInit "+this.state);this.socketDelegate.init(this.serverUrl,{tk:this.glipToken,"x-user-agent":m.Pal.instance.getPlatformUtils().buildUserAgentForHttp()});this._glipPingPong=new y({socket:this.socketDelegate.socket,callback:this.fsmGlipPingPongCallback.bind(this)});this.registerSocketEvents()},onStart:function(){this._startSocket=true;this.socketDelegate.socket.connect()},onStop:function(){var e=this;this.info("onStop",this.isManualStopped);this.isManualStopped=true;setTimeout((function(){if(e.socketDelegate&&e.socketDelegate.socket){e.socketDelegate.socket.reconnection=false;e._startSocket&&e.socketDelegate.socket.disconnect()}e.cleanup()}))},onFinishConnect:function(){},onFireDisconnect:function(){this.info("onFireDisconnect "+this.state);this.cleanup()},onFailConnect:function(){this.info("onFailConnect "+this.state);this.cleanup()}}})||this;a.serverUrl=t;a.glipToken=n;a.stateHandler=r;a.glipPingPongStatusCallback=o;a.socketDelegate=i;a.latestPongTime=0;a.isManualStopped=false;a.logPrefix="";a._startSocket=false;SocketFSM.instanceID+=1;a.name="_FSM"+SocketFSM.instanceID;a.logPrefix="["+w+" "+a.name+"]";a.info("serverUrl: "+a.serverUrl);a.init();return a}SocketFSM.prototype.info=function(){var e;var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}(e=o.k.tags(this.logPrefix)).info.apply(e,I(t))};SocketFSM.prototype.warn=function(){var e;var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}(e=o.k.tags(this.logPrefix)).warn.apply(e,I(t))};SocketFSM.prototype.error=function(){var e;var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}(e=o.k.tags(this.logPrefix)).error.apply(e,I(t))};SocketFSM.prototype.isConnected=function(){return this.state==="connected"};SocketFSM.prototype.isStateDisconnected=function(){return this.state==="disconnected"};SocketFSM.prototype.stopFSM=function(){this.info("stopping FSM");this.isManualStopped=true;delete this.glipPingPongStatusCallback;delete this.stateHandler;if(this.socketDelegate&&this.socketDelegate.socket&&!this.socketDelegate.socket.disconnected){this.stop()}else{this.cleanup()}};SocketFSM.prototype.setReconnection=function(e){if(this.socketDelegate&&this.socketDelegate.socket&&this.socketDelegate.socket.io){this.info("setReconnection: "+this.socketDelegate.socket.io._reconnection+" ==> "+e);this.socketDelegate.socket.io.reconnection(e)}else{this.warn("setReconnection: ==> "+e+". Error: no socket")}};SocketFSM.prototype.cleanup=function(){this.info("cleaning socketFSM");this._startSocket=false;if(this._glipPingPong){this._glipPingPong.cleanup();this._glipPingPong=undefined;this.info("glip ping pong cleanup done.")}if(this.socketDelegate){if(this.socketDelegate.socket){this.socketDelegate.socket.removeAllListeners();this.socketDelegate.socket.destroy();delete this.socketDelegate.socket;this.socketDelegate.socket=null;this.info("socket client cleanup done.")}this.socketDelegate=null}};SocketFSM.prototype.doGlipPing=function(){var e=this;var t=this.isReady();this.info("check if socket is connected, isStateConnected: "+this.isConnected()+", isReady: "+this.isReady());t&&this._glipPingPong&&this._glipPingPong.ping((function(t){e.info("check socket and it is ping result is:",t)}))};SocketFSM.prototype.setIsReady=function(e){this.socketDelegate&&this.socketDelegate.setIsReady(e)};SocketFSM.prototype.isReady=function(){return this.socketDelegate&&this.socketDelegate.isReady()};SocketFSM.prototype.registerSocketEvents=function(){var e=this;this.socketDelegate.socket.on("connect",(function(t){e.info("socket-> connect. socket id:",e.socketDelegate.socket.id,t);e.finishConnect()}));this.socketDelegate.socket.on("connect_error",(function(t){e.info("socket-> connect_error. ",t);e.failConnect()}));this.socketDelegate.socket.on("connect_timeout",(function(t){e.info("socket-> connect_timeout. ",t)}));this.socketDelegate.socket.on("connecting",(function(t){e.info("socket-> connecting. ",t)}));this.socketDelegate.socket.on("disconnect",(function(t){e.info("socket-> disconnect. ",t);e.fireDisconnect()}));this.socketDelegate.socket.on("error",(function(t){e.info("socket-> error. ",t)}));this.socketDelegate.socket.on("reconnect",(function(t){e.info("socket-> reconnect. ",t);f.rF.emit(b.FY.SOCKET.RECONNECT,t)}));this.socketDelegate.socket.on("reconnect_attempt",(function(t){e.info("socket-> reconnect_attempt. ",t)}));this.socketDelegate.socket.on("request_timeout",(function(t){e.info("socket-> request_timeout. ",t);e.doGlipPing()}));this.socketDelegate.socket.on("reconnect_failed",(function(t){e.info("socket-> reconnect_failed. ",t)}));this.socketDelegate.socket.on("reconnect_error",(function(t){e.info("socket-> reconnect_error. ",t)}));this.socketDelegate.socket.on("reconnecting",(function(t){e.info("socket-> reconnecting. ",t);e.fireTryReconnect()}));this.socketDelegate.socket.on("presence_unified",(function(e){C.t.onDataArrived("presence_unified",e)}));this.socketDelegate.socket.on("message",(function(t){e.info("socket-> message. ");C.t.onDataArrived("message",t)}));this.socketDelegate.socket.on("acknowledge_meeting",(function(t){e.info("socket-> acknowledge_meeting. ");C.t.onDataArrived("acknowledge_meeting",t)}));this.socketDelegate.socket.on("partial",(function(t){e.info("socket-> partial. ");C.t.onDataArrived("partial",t,true)}));this.socketDelegate.socket.on("response",(function(t){t&&e.info("socket-> response. ")}));this.socketDelegate.socket.on("typing",(function(e){C.t.onDataArrived("typing",e)}));this.socketDelegate.socket.on("system_message",(function(t){e.info("socket-> system_message. ");C.t.onDataArrived("system_message",t)}));this.socketDelegate.socket.on("client_config",(function(t){e.info("socket-> client_config. ",t)}));this.socketDelegate.socket.on("response_v2",(function(t,n){e.info("socket-> response_v2. ");C.t.onResponseV2(t,n)}))};SocketFSM.prototype.fsmGlipPingPongCallback=function(e){this.info(" glipPingPongCallback success: "+e+" state:"+this.state+" isManualStopped :"+this.isManualStopped);this.glipPingPongStatusCallback&&this.glipPingPongStatusCallback(e)};SocketFSM.instanceID=0;return SocketFSM}(p());var P=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var A=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var T="[SOCKET subscribe]";var O=new Set(Object.values(i.ERROR_CODES_NETWORK).filter((function(e){return e.startsWith("HTTP_4")})));var N="OK";var x=function(){function SocketSubscribeController(e){this._retryCount=0;this._isExecuting=false;this._callback=e}SocketSubscribeController.prototype.requestSubscribe=function(){this._isExecuting=true;this._doSubscribeApi()};SocketSubscribeController.prototype.isExecuting=function(){return this._isExecuting};SocketSubscribeController.prototype.clear=function(){this._isExecuting=false;this._callback=undefined;this._clearSubscribeTimeoutId();this._retryCount=0};SocketSubscribeController.prototype.getToken=function(){return this._token};SocketSubscribeController.prototype._doSubscribeApi=function(){return P(this,void 0,void 0,(function(){var e,t;return A(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,a["do"].subscribe()];case 1:e=n.sent();if(e&&e.status===N){this._token=e.subscription}this._setErrorInfo("");this._isExecuting=false;this._callback&&this._callback();return[3,3];case 2:t=n.sent();o.k.log(T+" request failed "+t);this._setErrorInfo(t);if(this._canRetry(t)){this._onSubscribeApiFailure()}return[3,3];case 3:return[2]}}))}))};SocketSubscribeController.prototype._setErrorInfo=function(e){if(e&&e.status){this._errorInfo={statusCode:e.status,message:e.statusText}}else{this._errorInfo=e}};SocketSubscribeController.prototype._canRetry=function(e){return!O.has(e.code)};SocketSubscribeController.prototype._onSubscribeApiFailure=function(){this._retryCount=this._retryCount+1;var e=(0,i.getSpartaRandomTime)(this._retryCount,true);this._handleRetry(e)};SocketSubscribeController.prototype._handleRetry=function(e){var t=this;o.k.log(T+" retry in "+e);this._clearSubscribeTimeoutId();if(!this._subscribeTimeOutId){this._subscribeTimeOutId=setTimeout((function(){t._doSubscribeApi()}),e)}else{o.k.info(T+" invalid timeout id")}};SocketSubscribeController.prototype._clearSubscribeTimeoutId=function(){this._subscribeTimeOutId&&clearTimeout(this._subscribeTimeOutId);this._subscribeTimeOutId=undefined};SocketSubscribeController.prototype.getHealthyInfo=function(){return{retryCount:this._retryCount,errorInfo:this._errorInfo}};return SocketSubscribeController}();var D=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var M=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(D(arguments[t]));return e};var k=function(){function SocketConnectionController(e,t,n){this.stateHandler=e;this.pingPongCallback=t;this._dependency=n;this._logPrefix="[SOCKET ConnectionController]";this.activeFSM=null;this._currentId=0;this._isExecuting=false}SocketConnectionController.prototype.info=function(){var e;var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}(e=o.k.tags(this._logPrefix)).info.apply(e,M(t))};SocketConnectionController.prototype.warn=function(){var e;var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}(e=o.k.tags(this._logPrefix)).warn.apply(e,M(t))};SocketConnectionController.prototype.error=function(){var e;var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}(e=o.k.tags(this._logPrefix)).error.apply(e,M(t))};SocketConnectionController.prototype.isExecuting=function(){return this._isExecuting};SocketConnectionController.prototype.isReady=function(){return this.activeFSM&&this.activeFSM.isReady()};SocketConnectionController.prototype.getToken=function(){return this._subscribeController&&this._subscribeController.getToken()};SocketConnectionController.prototype.start=function(e){var t=this;if(this._isExecuting)return;try{this._isExecuting=true;if(this._connectionTimeOutId){this._clearConnectTimeOutId()}this._connectionTimeOutId=setTimeout((function(){t._clearConnectTimeOutId();t._requestScoreboard()}),e)}catch(e){o.k.tags(this._logPrefix).info("start() crash:",e);this._isExecuting=false}};SocketConnectionController.prototype._requestScoreboard=function(){this.info("_requestScoreboard()");this.getScoreboardController().requestScoreboard(this._scoreboardCallback.bind(this))};SocketConnectionController.prototype.getScoreboardController=function(){if(this._scoreboardController){this._scoreboardController.clear()}else{this._currentId=(0,i.getCurrentTime)();var e=(m.Pal.instance.getApplicationInfo()||{}).appVersion,t=e===void 0?"":e;this._scoreboardController=new l(this._currentId,t)}return this._scoreboardController};SocketConnectionController.prototype.stop=function(){this._isExecuting=false;this._clearConnectTimeOutId();this._resetScoreboardController();this._resetSubscribeController();if(this.activeFSM){this.activeFSM.stop();this.activeFSM=null}};SocketConnectionController.prototype.getState=function(){return this.activeFSM?this.activeFSM.state:"none"};SocketConnectionController.prototype.doGlipPing=function(){this.activeFSM&&this.activeFSM.doGlipPing()};SocketConnectionController.prototype.getRunningFSMUrl=function(){return this.activeFSM&&this.activeFSM.serverUrl||""};SocketConnectionController.prototype.getName=function(){return this.activeFSM&&this.activeFSM.name||""};SocketConnectionController.prototype._scoreboardCallback=function(e,t,n){this.info("get scoreboard back id:"+e+" currentId:"+this._currentId+" tk:"+n);if(n){this._dependency.updateToken(new i.Token(n))}if(e===this._currentId){this._startFSM(t)}this._scoreboardController&&this._scoreboardController.clear()};SocketConnectionController.prototype._startFSM=function(e){var t=this._dependency.getToken();this.info("starting FSM with host:",e);if(e){this.activeFSM=new R(e,t,this._stateHandler.bind(this),this._glipPingPongStatusCallback.bind(this),this._dependency.getDelegate());this.activeFSM.start()}else{this._isExecuting=false}};SocketConnectionController.prototype._glipPingPongStatusCallback=function(e){this.pingPongCallback(e)};SocketConnectionController.prototype._stateHandler=function(e){this.info("stateHandler name:"+e.name+", state:"+e.state);if(e.state==="connected"){this._subscribe()}else{if(e.state==="disconnected"){this._onSocketDisconnected()}this.stateHandler(e)}};SocketConnectionController.prototype._onSocketDisconnected=function(){this._isExecuting=false;this._resetSubscribeController()};SocketConnectionController.prototype._subscribe=function(){if(!this._subscribeController){this._subscribeController=new x(this._subscribeCallback.bind(this));this._subscribeController.requestSubscribe()}else{this.warn("subscribeController is not undefined")}};SocketConnectionController.prototype._subscribeCallback=function(){this.info("socket subscribe success");if(this.activeFSM){this.activeFSM.setIsReady(true);this._isExecuting=false;this.stateHandler({name:this.activeFSM.name,state:"connected",isManualStopped:false})}};SocketConnectionController.prototype._resetScoreboardController=function(){if(this._scoreboardController){this._scoreboardController.clear();this._scoreboardController=undefined}};SocketConnectionController.prototype._resetSubscribeController=function(){if(this._subscribeController){this._subscribeController.clear();this._subscribeController=undefined}};SocketConnectionController.prototype._clearConnectTimeOutId=function(){this._connectionTimeOutId&&clearTimeout(this._connectionTimeOutId);this._connectionTimeOutId=undefined};SocketConnectionController.prototype.getHealthyInfo=function(){var e=this.isReady();if(e){return{step:"done"}}var t=this.getState();if(t==="none"){return this._getScoreboardHealthyInfo()}if(t!=="connected"){return{step:"socketFSM",state:t}}return this._getSubscribeHealthyInfo()};SocketConnectionController.prototype._getScoreboardHealthyInfo=function(){if(this._scoreboardController){var e=this._scoreboardController.getHealthyInfo(),t=e.retryCount,n=e.errorInfo;return{step:"scoreboard",retryCount:t,errorInfo:n}}return{step:"ScoreboardController not create"}};SocketConnectionController.prototype._getSubscribeHealthyInfo=function(){if(this._subscribeController){var e=this._subscribeController.getHealthyInfo(),t=e.retryCount,n=e.errorInfo;return{step:"subscribe",retryCount:t,errorInfo:n}}return{step:"SubscribeController not create"}};return SocketConnectionController}();var L=n(667489);var F=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var U=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(F(arguments[t]));return e};var B=5*60*1e3;var G=1e3;var j="SOCKET";var H=function(){function SocketManager(e){var t=this;this._dependency=e;this._hasLoggedIn=false;this._isOffline=false;this._flapCount=0;this._flapProtection=B;this._getHealthyInfo=function(){if(!t.connectionController){return{isConnected:"SocketConnectionController not create"}}return t.connectionController.getHealthyInfo()};this._onLockScreen=function(){if(!t.connectionController){t.info("No activeClient when lock screen.")}};this._onUnlockScreen=function(){t.info("_onUnlockScreen");t._detectConnection(false)};this._logPrefix="["+j+" manager]";this._subscribeExternalEvent();i.HealthModuleManager.getInstance().register(new i.BaseHealthModule(r.yY,r.oF));i.HealthModuleManager.getInstance().get(r.yY).register({name:"SocketConnectState",getStatus:this._getHealthyInfo});i.powerMonitor.onLock(this._onLockScreen);i.powerMonitor.onUnlock(this._onUnlockScreen)}SocketManager.prototype.onLogin=function(){this._hasLoggedIn=true;this._detectConnection(true)};SocketManager.prototype.onLogout=function(){this.info("onLogout");this._hasLoggedIn=false;this._stopActiveConnection()};SocketManager.prototype.cleanup=function(){i.powerMonitor.offLock(this._onLockScreen);i.powerMonitor.offUnlock(this._onUnlockScreen)};SocketManager.getInstance=function(e){if(!SocketManager.instance){o.k.info("["+j+" manager] getInstance");SocketManager.instance=new SocketManager(e)}return SocketManager.instance};SocketManager.prototype.info=function(){var e;var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}(e=o.k.tags(this._logPrefix)).info.apply(e,U(t))};SocketManager.prototype.warn=function(){var e;var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}(e=o.k.tags(this._logPrefix)).warn.apply(e,U(t))};SocketManager.prototype.error=function(){var e;var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}(e=o.k.tags(this._logPrefix)).error.apply(e,U(t))};SocketManager.prototype.isOffline=function(){return this._isOffline};SocketManager.prototype.isConnected=function(){return this.connectionController&&this.connectionController.isReady()};SocketManager.prototype.getToken=function(){return this.connectionController&&this.connectionController.getToken()};SocketManager.prototype._subscribeExternalEvent=function(){var e=this;L.notificationCenter.on(b.FY.SOCKET.NETWORK_CHANGE,(function(t){var n=t.state;switch(n){case"offline":e._onOffline();break;case"online":e._onOnline();break;case"focus":e._onFocus();break;default:break}}));L.notificationCenter.on(b.FY.SOCKET.RECONNECT,(function(t){e._onReconnect(t)}))};SocketManager.prototype._onReconnect=function(e){var t=this._getRunningFSMUrl();this.info("incomes new reconnect socket host:"+e+", and current running url "+t)};SocketManager.prototype._getRunningFSMUrl=function(){return this.connectionController&&this.connectionController.getRunningFSMUrl()||""};SocketManager.prototype._onOffline=function(){this.info("onOffline");this._isOffline=true;this._flapCount=0;this._stopActiveConnection()};SocketManager.prototype._onOnline=function(){this.info("onOnline");this._isOffline=false;if(i.powerMonitor.isScreenLocked()){this.info("Not start socket when online due to locked screen");return}this._detectConnection(false)};SocketManager.prototype.onDiscoveryStart=function(){this.info("onDiscoveryStart")};SocketManager.prototype.onDiscoveryDone=function(e,t){this.info("onDiscoveryDone,",e,t);if(!this._hasLoggedIn){return}if(e){this._stopActiveConnection()}this._detectConnection(e)};SocketManager.prototype._onFocus=function(){this.info("onFocus");this._detectConnection(false);if(this.connectionController&&!this.connectionController.isReady()){L.notificationCenter.emit(b.FY.SOCKET.SOCKET_STATE_CHANGE,{state:"refresh"})}};SocketManager.prototype._detectConnection=function(e,t){if(t===void 0){t=true}if(!this._hasLoggedIn||this._isOffline){this.info("_recoverConnection() should not do recover due to _hasLoggedIn:",this._hasLoggedIn,"_isOffline:",this._isOffline);return}if(e){this._restartConnection();return}if(this.connectionController){if(t&&this.connectionController.isReady()){this.info("_recoverConnection() shouldCheckReady:",t);this.connectionController.doGlipPing()}else{var n=this.connectionController.isExecuting();if(!n){this._restartConnection()}else{this.info("_recoverConnection() connectionController is in executing")}}}else{this._restartConnection()}};SocketManager.prototype._startConnection=function(){this.info("_startClient");if(!this.connectionController){this.connectionController=new k(this._stateHandler.bind(this),this._glipPingPongCallback.bind(this),this._dependency);this.connectionController.start(this._getDelayStartTime())}else{this.warn("should not have active client")}};SocketManager.prototype._stopActiveConnection=function(){L.notificationCenter.emitKVChange(b.FY.SOCKET.STOPPING_SOCKET);if(this.connectionController){this.connectionController.stop();this.connectionController=undefined}};SocketManager.prototype._stateHandler=function(e){var t=e.name,n=e.state,r=e.isManualStopped;this.info("stateHandler name:"+t+", state:"+n+", isManualStopped:"+r);this._updateFlapCount(n);if(n==="disconnected"&&!r){this._detectConnection(true)}L.notificationCenter.emit(b.FY.SOCKET.SOCKET_STATE_CHANGE,{state:n})};SocketManager.prototype._updateFlapCount=function(e){var t=this;if(e==="connected"){if(this._flapCountTimeoutId){this._flapCountTimeoutId=setTimeout((function(){t._flapCount=0}),this._flapProtection)}}else if(e==="disconnected"){this._flapCount=this._flapCount+1}};SocketManager.prototype._glipPingPongCallback=function(e){this.info(" _glipPingPongCallback isSuccess",e);if(!e){this._detectConnection(false,false)}};SocketManager.prototype._restartConnection=function(){this._clearFlapCountTimeoutId();this._stopActiveConnection();this._startConnection()};SocketManager.prototype._clearFlapCountTimeoutId=function(){if(this._flapCountTimeoutId){clearTimeout(this._flapCountTimeoutId);this._flapCountTimeoutId=undefined}};SocketManager.prototype._getDelayStartTime=function(){try{if(this._flapCount===0){var e=(0,i.getCurrentTime)();var t=this._dependency.getLastCanReconnectTime()||0;this._dependency.setLastCanReconnectTime(e);var n=e-t;return n>G?0:G-n}return(0,i.getSpartaRandomTime)(this._flapCount,true)}catch(e){o.k.tags(this._logPrefix).info("_getDelayStartTime() crash:",e);return 0}};return SocketManager}();var V=n(149923);var W=n.n(V);var z=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Y=undefined&&undefined.__assign||function(){Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return Y.apply(this,arguments)};var q=function(e){z(GlipSocketRequest,e);function GlipSocketRequest(t){var n=e.call(this,t)||this;n.uri="";n.parameters=Y(Y(Y({},t.params),t.data),{request_id:t.id});n.uri=t.path;delete n.params;delete n.handlerName;delete n.headers[i.X_USER_AGENT];return n}return GlipSocketRequest}(i.BaseRequest);var K=n(298784);var Q=n.n(K);var Z=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var X=undefined&&undefined.__assign||function(){X=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return X.apply(this,arguments)};var J=function(e){Z(GlipSocketRequestV2,e);function GlipSocketRequestV2(t){var n;var r=e.call(this,t)||this;r.type="ClientRequest";var o=X(X({},t.params),t.data);r.messageId=t.id;r.uri=t.pathV2||t.path;if(!Q().isEmpty(o)){if(r.headers){r.headers[i.REQUEST_HEADER_KEYS.CONTENT_TYPE]=i.CONTENT_TYPES.JSON}else{r.headers=(n={},n[i.REQUEST_HEADER_KEYS.CONTENT_TYPE]=i.CONTENT_TYPES.JSON,n)}r.body=JSON.stringify(o)}r.query=X(X({},t.params),{request_id:t.id});delete r.params;delete r.data;delete r.parameters;return r}return GlipSocketRequestV2}(q);var $=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var ee=undefined&&undefined.__assign||function(){ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return ee.apply(this,arguments)};var te=function(e){$(GlipSocketRequestDelegate,e);function GlipSocketRequestDelegate(){var t=e!==null&&e.apply(this,arguments)||this;t._isReady=false;return t}GlipSocketRequestDelegate.prototype.init=function(e,t){this.socket=W()("https://"+e,{transports:["websocket"],autoConnect:false,reconnection:false,reconnectionDelay:5e3,reconnectionDelayMax:25e3,forceNew:true,query:ee({manual_subscribe:true,will_send_client_data:true},t)});this._responseObserver&&this.socket.on("response",this._responseObserver);this._responseV2Observer&&this.socket.on("response_v2",this._responseV2Observer);this._disconnectObserver&&this.socket.on("disconnect",this._disconnectObserver)};GlipSocketRequestDelegate.prototype.sendRequest=function(e){var t,n;if(!this.socket){var o=this.socketRequestHelper.buildError(i.RESPONSE_STATUS_CODE.LOCAL_ABORTED,i.NETWORK_FAIL_TEXT.SOCKET_DISCONNECTED);var a=o.setRequest(e).build();(t=this._rawResponseObserver)===null||t===void 0?void 0:t.call(this,{requestId:e.id,response:a});return}var u=e.channel||r.iz.REQUEST;if(![r.iz.REQUEST,r.iz.REQUEST_V2].includes(u)){this.socket.emit(u,e.data);var a=(new i.SocketResponseBuilder).setStatus(200).build();(n=this._rawResponseObserver)===null||n===void 0?void 0:n.call(this,{requestId:e.id,response:a});return}var s=u===r.iz.REQUEST_V2?new J(e):new q(e);if(s["body"]){this.socket.emit(u,s,s["body"])}else{this.socket.emit(u,s)}};GlipSocketRequestDelegate.prototype.setIsReady=function(e){this._isReady=e};GlipSocketRequestDelegate.prototype.isReady=function(){return this._isReady};GlipSocketRequestDelegate.prototype.isClientAvailable=function(){return!!(this.socket&&this.socket.connected&&this._isReady)};GlipSocketRequestDelegate.prototype.observeSocketResponse=function(e){this._rawResponseObserver=e;this._responseObserver=function(t){var n,r,o;var a=(r=(n=t===null||t===void 0?void 0:t.request)===null||n===void 0?void 0:n.parameters)===null||r===void 0?void 0:r.request_id;if(t&&a){var u=(new i.SocketResponseBuilder).setData(t.body).setHeaders(Q().pick(t,["Content-Type","X-Frame-Options","X-Request-Id"])).setRequest(t.request).setStatus((o=t.request)===null||o===void 0?void 0:o.status_code).build();e({requestId:a,response:u})}};this._responseV2Observer=function(t,n){if(t.type!==r.RV.CLIENT_REQUEST){return}var o=t===null||t===void 0?void 0:t.messageId;if(t&&o){var a={};try{a=JSON.parse(n)}catch(e){a=n}var u=(new i.SocketResponseBuilder).setData(a).setHeaders(t.headers).setStatus(t.status).build();e({requestId:o,response:u})}}};GlipSocketRequestDelegate.prototype.observeSocketDisconnect=function(e){this._disconnectObserver=e};return GlipSocketRequestDelegate}(i.AbstractSocketRequestDelegate)},962139:(e,t,n)=>{"use strict";n.d(t,{_:()=>H});var r=n(85508);var o=n(862926);var i=n(334783);var a=n(438820);var u=n(814678);var s=n(484078);var c=n(816682);var l=n(205598);var f=n(179993);var d=n(708022);var p=n(87882);var h=n(610875);var v=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var g=function(e){v(IndexDataTaskStrategy,e);function IndexDataTaskStrategy(){return e!==null&&e.apply(this,arguments)||this}IndexDataTaskStrategy.prototype.getJobKey=function(){return"INDEX_DATA"};return IndexDataTaskStrategy}(h.Z);var _=2;var y="INDEX_TASK_CONTROLLER";var b=function(){function IndexTaskController(e){this._taskControllerQueue=[];this._executeFunc=e}IndexTaskController.prototype.start=function(){var e=this._taskControllerQueue[0];if(this._taskControllerQueue.length<_){var t=this._getNewTask();this._taskControllerQueue.push(t)}r.k.tags(y).info("incomes new start");if(e){if(!e.isExecuting()){r.k.tags(y).info("clear old task");e.clear();this._taskControllerQueue.shift();this._onTaskArrived()}}else{this._onTaskArrived()}};IndexTaskController.prototype._onTaskArrived=function(){var e=this;r.k.tags(y).info("new task arrived");var t=this._taskControllerQueue[0];if(t&&!t.isExecuting()){t.start((function(){var t=e._taskControllerQueue.shift();t&&t.clear();e._onTaskArrived()}))}};IndexTaskController.prototype._getNewTask=function(){var e=new g;var t=new p.R(e,this._executeFunc);return t};IndexTaskController.prototype.reset=function(){var e=false;this._taskControllerQueue.forEach((function(t){t.resetStrategy();e=true}));return e};IndexTaskController.prototype.stop=function(){this._taskControllerQueue.forEach((function(e){e.clear()}));this._taskControllerQueue=[]};return IndexTaskController}();var C=n(667489);var m=n(302186);var S=n(7849);var E=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var I=function(e){E(RemainingTaskStrategy,e);function RemainingTaskStrategy(){return e!==null&&e.apply(this,arguments)||this}RemainingTaskStrategy.prototype.getJobKey=function(){return"REMAINING_DATA"};return RemainingTaskStrategy}(h.Z);var w=n(38942);var R=n(298784);var P=n.n(R);var A=n(196639);var T=n(372393);var O=n(67961);var N=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var x=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var D="[LOG_INDEX_DATA]";var M="SYNC_SERVICE";var k=Symbol(M);var L=8;var F=2*7*24*60*60*1e3;var U=7*24*60*60*1e3;var B=60*60*1e3;var G=3;var j=B;var H=function(){function SyncService(e){this._dependency=e;this._isDataSyncing=false;this._isFetchingRemaining=false;this._indexFailedTimes=0;this.init()}SyncService.prototype.init=function(){var e=this;var t=a.W0.newProgressBar();this._progressBar={start:function(){return m.Pal.instance.networkStatus().getStatus()&&t.start()},stop:function(){return t.stop()}};this._subscribeSocketEvent();this._subscribeWindowEvent();this._healthModuleController=new s.i(k,M,{SyncStatus:function(){return e._userConfig?e._getHealthyInfo():""}});this._healthModuleController.init();this._indexRequestController=new A.e("Index",(function(){return l["do"].glipNetworkClient}));this._remainingRequestController=new A.e("Remaining",(function(){return l["do"].glipDesktopNetworkClient}))};SyncService.prototype._subscribeWindowEvent=function(){var e=this;u.rF.on(C.WINDOW_EVENT.WAKE_UP_FROM_SLEEP,this._handleWakeUpFromSleep.bind(this));u.rF.on(C.WINDOW_EVENT.FOCUS,this._handleWindowFocused.bind(this));u.rF.on(C.WINDOW_EVENT.ONLINE,(function(t){var n=t.onLine;e._onNetWorkChanged(n)}))};SyncService.prototype._subscribeSocketEvent=function(){var e=this;S.t.on(d.FY.SOCKET.TIMESTAMP,(function(t){e._updateIndexTimestamp(t,false)}));S.t.on(d.FY.SOCKET.RESYNC,(function(t){return N(e,void 0,void 0,(function(){return x(this,(function(e){if(!t){r.k.tags(M).info("resyncInfo is empty");return[2]}this._handleResyncEvent(t.ts);return[2]}))}))}));u.rF.on(d.FY.SOCKET.STOPPING_SOCKET,this._handleStoppingSocketEvent.bind(this));u.rF.on(d.FY.SOCKET.SOCKET_STATE_CHANGE,this._handleSocketConnectionStateChanged.bind(this))};SyncService.prototype._handleResyncEvent=function(e){r.k.tags(M).info("handle resync event, ts:"+e);if(!e){return}var t=this.userConfig.getLastIndexTimestamp();if(t){e<t&&this.userConfig.setResyncTimestamp(e)}else{r.k.tags(M).info("_handleResyncEvent() not lastIndexTimestamp")}this.fetchIndex()};SyncService.prototype._getHealthyInfo=function(){var e=this.userConfig.getIndexSucceed();return{lastIndexTimestamp:this.userConfig.getLastIndexTimestamp(),lastIndexStatus:e?"success":"failed",lastIndexFailedStatusCode:e?"":this.userConfig.getIndexFailedStatusCode(),lastIndexFailedMessage:e?"":this.userConfig.getIndexFailedMessage(),indexRetryTimes:this._indexFailedTimes,indexDuration:this.userConfig.getIndexDuration(),lastRemainingStatus:this.isRemainingFetched()?"Y":"N"}};SyncService.prototype.dispose=function(){this.userConfig.clear();this._healthModuleController.dispose()};Object.defineProperty(SyncService.prototype,"userConfig",{get:function(){if(!this._userConfig){this._userConfig=new c.iD}return this._userConfig},enumerable:true,configurable:true});SyncService.prototype.isDataSyncing=function(){return this._isDataSyncing};SyncService.prototype.isRemainingFetched=function(){return this.userConfig.getFetchedRemaining()};SyncService.prototype.fetchInitial=function(e){return N(this,void 0,Promise,(function(){var e,t,n;return x(this,(function(i){switch(i.label){case 0:this._isDataSyncing=true;this._progressBar.start();t=(0,o.commonPerformanceTracer)();i.label=1;case 1:i.trys.push([1,4,5,6]);return[4,l["do"].initialData({_:Date.now()})];case 2:e=i.sent();r.k.tags(M).info("fetch initial success");return[4,this._handleIndexData(e,f.V.INITIAL,true)];case 3:i.sent();e&&e.timestamp&&this._updateIndexTimestamp(e.timestamp,true);u.rF.emitKVChange(d.FY.INITIAL);return[3,6];case 4:n=i.sent();r.k.tags(M).info("fetch initial data error:",n);throw n;case 5:t.end({key:f.L.FIRST_LOGIN,level:o.LOG_CONTROL_LEVEL.HIGH});this._progressBar.stop();this._isDataSyncing=false;return[7];case 6:return[2,e]}}))}))};SyncService.prototype.fetchRemaining=function(e){return N(this,void 0,Promise,(function(){var t,n;var i=this;return x(this,(function(a){t=function(){return N(i,void 0,void 0,(function(){var t,n,i,a,u;return x(this,(function(s){switch(s.label){case 0:if(this._isFetchingRemaining){r.k.tags(M).info("is in fetching remaining");return[2]}if(this.userConfig.getFetchedRemaining()){return[2]}s.label=1;case 1:s.trys.push([1,4,,5]);this._isFetchingRemaining=true;r.k.tags(M).info("start fetching remaining");t={method:o.NETWORK_METHOD.GET,params:{_:this.userConfig.getLastIndexTimestamp()||Date.now()},priority:o.REQUEST_PRIORITY.HIGH,path:o.RequestPath.buildRequestPath("/remaining"),via:o.NETWORK_VIA.HTTP,retryCount:0,timeout:o.TEN_MINUTE_TIMEOUT};n={resolve:function(){},reject:function(){}};i=new Promise((function(e,t){n.resolve=e;n.reject=t}));a=this._generateRemainingCallback(n,e);return[4,this._remainingRequestController.request({oldQuery:t,query:t,strategy:new O.Y,callback:a})];case 2:s.sent();return[4,i];case 3:s.sent();return[3,5];case 4:u=s.sent();r.k.tags(M).info("fetch remaining data error:"+u);this._isFetchingRemaining=false;if((0,T.BS)().isSocketConnected()){throw u}else{r.k.tags(M).info("socket disconnect, stop re-fetch the remaining")}return[3,5];case 5:return[2]}}))}))};n=this._getRemainingTaskController(t);n.start();return[2]}))}))};SyncService.prototype._generateRemainingCallback=function(e,t){var n=this;var o=0;var i=[];return function(a){return N(n,void 0,void 0,(function(){var n;return x(this,(function(u){switch(u.label){case 0:if(a.isDone){r.k.tags(M).info("fetch remaining success")}u.label=1;case 1:u.trys.push([1,3,,4]);return[4,this._handleIndexData(a.data,f.V.REMAINING,a.isLocal)];case 2:u.sent();return[3,4];case 3:n=u.sent();o++;i.push(n);return[3,4];case 4:if(a.isDone){r.k.tags(M).info("fetch remaining data error:"+i);if(o>0){this._handleRemainingDoneWithError(i,e)}else{this._handleRemainingDoneWithSuccess(e,t)}}return[2]}}))}))}};SyncService.prototype._handleRemainingDoneWithError=function(e,t){this._isFetchingRemaining=false;t.reject(e)};SyncService.prototype._handleRemainingDoneWithSuccess=function(e,t){this._isFetchingRemaining=false;this.userConfig.setFetchedRemaining(true);u.rF.emitKVChange(d.FY.REMAINING,t);e.resolve({})};SyncService.prototype.fetchIndex=function(){return N(this,void 0,Promise,(function(){var e,t,n;return x(this,(function(r){switch(r.label){case 0:e=this.userConfig.getLastIndexTimestamp();return[4,this._reInitial(e)];case 1:t=r.sent();if(t){return[2]}n=this._getIndexDataTaskController();n.start();return[2]}}))}))};SyncService.prototype._handleIndexResult=function(e,t,n){return N(this,void 0,Promise,(function(){var o;return x(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);t++;return[4,this._handleIndexData(e,f.V.INDEX,n)];case 1:i.sent();return[2,true];case 2:o=i.sent();r.k.tags(M).info("_handleIndexResult failed:",o);if(t>=G){return[2,false]}return[2,this._handleIndexResult(e,t,n)];case 3:return[2]}}))}))};SyncService.prototype.retryIndex=function(){var e=this.userConfig.getLastIndexTimestamp();if(!e){r.k.tags(M).info("retryIndex() not timestamp");this.fetchIndex();return}var t=Date.now();if(t-e>U){r.k.tags(M).info("retryIndex() last success is 7 days ago");this._dependency.reLogin()}else{r.k.tags(M).info("retryIndex() just do retry");this.fetchIndex()}};SyncService.prototype._reInitial=function(e){return N(this,void 0,void 0,(function(){var t,n,o,o,o;return x(this,(function(i){switch(i.label){case 0:t=(0,C.getModule)(w.FEATURE_FLAG_MODULE);if(!t)return[3,8];return[4,t.getFeatureFlag(w.G.D_USE_RE_INIT_WHILE_LONG_TIME_OFFLINE)];case 1:n=i.sent();if(!e){return[2,false]}if(!(n.reInitial&&n.reInitial.enabled))return[3,2];o=P().max([n.reInitial.intervalHours*B,j]);if(o&&Date.now()-e>o){r.k.tags(M).info("_reFetchInitial do re-fetch");this.fetchInitial();return[2,false]}return[3,7];case 2:if(!(m.Pal.instance.networkStatus().getStatus()&&n.reIndex&&n.reIndex.enabled))return[3,5];o=P().max([n.reIndex.intervalHours*B,j]);if(!(o&&Date.now()-e>o))return[3,4];r.k.tags(M).info("_reFetchInitial do re-index");return[4,this._dependency.reIndex()];case 3:i.sent();return[2,true];case 4:return[3,7];case 5:if(!(m.Pal.instance.networkStatus().getStatus()&&m.Pal.instance.getPlatformUtils().isSafari()&&n.platform&&n.platform.safari&&n.platform.safari.reIndex&&n.platform.safari.reIndex.enabled&&n.platform.safari.reIndex.intervalHours))return[3,7];o=P().max([n.platform.safari.reIndex.intervalHours*B,j]);r.k.tags(M).info("_reFetchInitial do re-index on safari platform, old index timestamp: "+e+", configuration timestamp: "+n.platform.safari.reIndex.intervalHours*B+", offline timestamp: "+(Date.now()-e));if(!(o&&Date.now()-e>=o))return[3,7];return[4,this._dependency.reIndex()];case 6:i.sent();return[2,true];case 7:return[3,9];case 8:r.k.tags(M).info("_reFetchInitial can not get featureFlagModule");i.label=9;case 9:return[2,false]}}))}))};SyncService.prototype._isMeetRefreshCondition=function(){return this._indexFailedTimes>=L};SyncService.prototype._emitInvalidIndexEvent=function(){r.k.tags(M).info("_emitInvalidIndexEvent()");u.rF.emitKVChange(d.FY.INVALID_INDEX)};SyncService.prototype._resetIndexFailedTimes=function(){this._indexFailedTimes=0};SyncService.prototype._addIndexFailedTimes=function(e){var t=e.isMatch({type:o.ERROR_TYPES.NETWORK,codes:[o.ERROR_CODES_NETWORK.NOT_NETWORK,o.ERROR_CODES_NETWORK.NETWORK_ERROR,o.ERROR_CODES_NETWORK.LOCAL_TIMEOUT]});if(!t){this._indexFailedTimes+=1;r.k.tags(M).info("_addIndexFailedTimes() index failed times:",this._indexFailedTimes)}};SyncService.prototype._isTimestampExpired=function(e){return Date.now()-e>=F&&!o.DebugUtils.isNodeEnv("test")};SyncService.prototype._onNetWorkChanged=function(e){if(!e){r.k.tags(M).info("_onNetWorkChanged() into offline");this._resetIndexFailedTimes()}};SyncService.prototype._handleWakeUpFromSleep=function(){r.k.tags(M).info("handleWakeUpFromSleep");this._resetSocketConnectedLocalTime()};SyncService.prototype._handleWindowFocused=function(){this._checkIndex()};SyncService.prototype._checkIndex=function(){return N(this,void 0,Promise,(function(){return x(this,(function(e){switch(e.label){case 0:if(!(this.userConfig.getLastIndexTimestamp()&&!this.userConfig.getIndexSucceed()))return[3,2];r.k.tags(M).info(" _checkIndex, last index was not succeed");if(!(!this._indexDataTaskController||!this._indexDataTaskController.reset()))return[3,2];r.k.tags(M).info("_checkIndex not task executing");return[4,this.fetchIndex()];case 1:e.sent();e.label=2;case 2:return[2]}}))}))};SyncService.prototype._handleSocketConnectionStateChanged=function(e){var t=e.state;r.k.tags(M).info("sync service SERVICE.SOCKET_STATE_CHANGE",t);if(t==="connected"){this._onSocketConnected()}else if(t==="refresh"){this.fetchIndex()}else if(t==="connecting"){this._progressBar.start()}else if(t==="disconnected"){this._onSocketDisconnected();this._progressBar.stop()}};SyncService.prototype._onSocketConnected=function(){this.userConfig.setSocketConnectedLocalTime(Date.now());this.fetchIndex();if(!this.isRemainingFetched()){this.fetchRemaining()}};SyncService.prototype._onSocketDisconnected=function(){this._resetSocketConnectedLocalTime()};SyncService.prototype._resetSocketConnectedLocalTime=function(){this.userConfig.setSocketConnectedLocalTime(0)};SyncService.prototype._handleStoppingSocketEvent=function(){r.k.tags(M).info("handleStoppingSocketEvent");this._resetSocketConnectedLocalTime()};SyncService.prototype._handleSyncIndexError=function(e){if(e.isMatch({type:o.ERROR_TYPES.NETWORK,codes:[o.ERROR_CODES_NETWORK.GATEWAY_TIMEOUT,o.ERROR_CODES_NETWORK.REQUEST_TIMEOUT]})){this._dependency.reLogin()}};SyncService.prototype._indexExecuteFunc=function(){return N(this,void 0,void 0,(function(){var e,t,n,a,u,s,c,l,f;return x(this,(function(d){switch(d.label){case 0:e=0;t=0;n=this.userConfig.getResyncTimestamp();a=this.userConfig.getLastIndexTimestamp();u=n?n:a;d.label=1;case 1:d.trys.push([1,3,,4]);!u&&r.k.tags(M).debug("fetchIndex: can not get timestamp!");if(this._isTimestampExpired(u)){r.k.log(M,"timestamp expired: "+u+", relogin");this._dependency.reLogin();return[2]}r.k.tags(M).info(D,"start fetching index:"+u);this._isDataSyncing=true;this._progressBar.start();t=Date.now();s={method:o.NETWORK_METHOD.GET,params:{newer_than:String(u-3e5)},priority:o.REQUEST_PRIORITY.HIGH,path:o.RequestPath.buildRequestPath("/index"),via:o.NETWORK_VIA.HTTP,retryCount:0,timeout:o.TEN_MINUTE_TIMEOUT};c=this._generateIndexCallback(u===n,t);return[4,this._indexRequestController.request({oldQuery:s,query:s,strategy:new O.Y,callback:c})];case 2:d.sent();return[3,4];case 3:l=d.sent();r.k.tags(M).info(D,"fetch index failed");f=i.mi.getErrorParser().parse(l);this._addIndexFailedTimes(f);this.userConfig.setIndexSucceed(false);this.userConfig.setIndexFailedStatusCode(l.code);this._handleSyncIndexError(f);if(this._isMeetRefreshCondition()){this._emitInvalidIndexEvent()}e=Date.now()-t;this.userConfig.setIndexDuration(e);this._progressBar.stop();this._isDataSyncing=false;if((0,T.BS)().isSocketConnected()){throw l}else{r.k.tags(M).info(D,"socket disconnect, stop re-fetch the index")}return[3,4];case 4:return[2]}}))}))};SyncService.prototype._generateIndexCallback=function(e,t){var n=this;var o=0;var i;var a;return function(u){return N(n,void 0,void 0,(function(){var n;return x(this,(function(s){switch(s.label){case 0:if(u.isDone){r.k.tags(M).info(D,"fetch index success");i=Date.now()-t}return[4,this._handleIndexResult(u.data,0,u.isLocal)];case 1:n=s.sent();if(!n){o++}if(u.data.timestamp&&(!a||u.data.timestamp<a)){a=u.data.timestamp}if(u.isDone){r.k.tags(M).info(D,"executeFunc done. stop progress");if(o>0){this._handleIndexDoneWithError(i)}else{this._handleIndexDoneWithSuccess(e,u.data,i,a)}}return[2]}}))}))}};SyncService.prototype._handleIndexDoneWithError=function(e){this._progressBar.stop();this._isDataSyncing=false;this.userConfig.setIndexDuration(e);this._emitInvalidIndexEvent()};SyncService.prototype._handleIndexDoneWithSuccess=function(e,t,n,r){this._progressBar.stop();this._isDataSyncing=false;this.userConfig.setIndexDuration(n);this._updateIndexTimestamp(r,true);if(e){this.userConfig.removeResyncTimestamp()}this._resetIndexFailedTimes();this.userConfig.setIndexSucceed(true);u.rF.emitKVChange(d.FY.INDEX)};SyncService.prototype._getIndexDataTaskController=function(){if(!this._indexDataTaskController){this._indexDataTaskController=new b(this._indexExecuteFunc.bind(this))}return this._indexDataTaskController};SyncService.prototype._getRemainingTaskController=function(e){if(!this._remainingTaskController){this._remainingTaskController=new C.TaskController(new I,e)}return this._remainingTaskController};SyncService.prototype._handleIndexData=function(e,t,n){return N(this,void 0,Promise,(function(){return x(this,(function(r){switch(r.label){case 0:return[4,this._dependency.handleAccountData(e,t,n)];case 1:r.sent();if(e.static_http_server){c.Ex.setStaticHttpServer(e.static_http_server);u.rF.emitKVChange(d.FY.STATIC_HTTP_SERVER)}return[2]}}))}))};SyncService.prototype._updateIndexTimestamp=function(e,t){if(t){r.k.tags(M).info("updateIndexTimestamp time:"+e+", forceUpdate:true");this.userConfig.setLastIndexTimestamp(e)}else if(this._canUpdateIndexTimeStamp()){r.k.tags(M).info("updateIndexTimestamp time:"+e+", forceUpdate:false");this.userConfig.setLastIndexTimestamp(e)}};SyncService.prototype._canUpdateIndexTimeStamp=function(){var e=this.userConfig.getSocketConnectedLocalTime();var t=this.userConfig.getLastIndexTimestamp();return!!(e&&t>e)};return SyncService}()},684642:(e,t,n)=>{"use strict";n.d(t,{E:()=>a});var r=n(25019);var o=n(527457);var i=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var a=function(e){i(SyncGlobalConfig,e);function SyncGlobalConfig(){return e!==null&&e.apply(this,arguments)||this}SyncGlobalConfig.setStaticHttpServer=function(e){this.put(r.WF.STATIC_HTTP_SERVER,e)};SyncGlobalConfig.getStaticHttpServer=function(){return this.get(r.WF.STATIC_HTTP_SERVER)};return SyncGlobalConfig}(o.K)},425552:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});var r=n(469882);var o=n(25019);var i=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var a=function(e){i(SyncUserConfig,e);function SyncUserConfig(){return e.call(this,o.Li)||this}SyncUserConfig.prototype.setResyncTimestamp=function(e){this.put(o.mu.RESYNC_TIMESTAMP,e)};SyncUserConfig.prototype.getResyncTimestamp=function(){return this.get(o.mu.RESYNC_TIMESTAMP)};SyncUserConfig.prototype.removeResyncTimestamp=function(){this.remove(o.mu.RESYNC_TIMESTAMP)};SyncUserConfig.prototype.setLastIndexTimestamp=function(e){this.put(o.mu.LAST_INDEX_TIMESTAMP,e)};SyncUserConfig.prototype.getLastIndexTimestamp=function(){return this.get(o.mu.LAST_INDEX_TIMESTAMP)};SyncUserConfig.prototype.removeLastIndexTimestamp=function(){this.remove(o.mu.LAST_INDEX_TIMESTAMP)};SyncUserConfig.prototype.setFetchedRemaining=function(e){this.put(o.mu.FETCHED_REMAINING,e)};SyncUserConfig.prototype.getFetchedRemaining=function(){return this.get(o.mu.FETCHED_REMAINING)};SyncUserConfig.prototype.removeFetchRemaining=function(){this.remove(o.mu.FETCHED_REMAINING)};SyncUserConfig.prototype.setIndexSucceed=function(e){this.put(o.mu.INDEX_SUCCEED,e)};SyncUserConfig.prototype.getIndexSucceed=function(){return this.get(o.mu.INDEX_SUCCEED)};SyncUserConfig.prototype.removeIndexSucceed=function(){this.remove(o.mu.INDEX_SUCCEED)};SyncUserConfig.prototype.setIndexFailedStatusCode=function(e){this.put(o.mu.INDEX_FAILED_STATUS_CODE,e)};SyncUserConfig.prototype.getIndexFailedStatusCode=function(){return this.get(o.mu.INDEX_FAILED_STATUS_CODE)};SyncUserConfig.prototype.setIndexFailedMessage=function(e){this.put(o.mu.INDEX_FAILED_MESSAGE,e)};SyncUserConfig.prototype.getIndexFailedMessage=function(){return this.get(o.mu.INDEX_FAILED_MESSAGE)};SyncUserConfig.prototype.setIndexDuration=function(e){this.put(o.mu.INDEX_DURATION,e)};SyncUserConfig.prototype.getIndexDuration=function(){return this.get(o.mu.INDEX_DURATION)};SyncUserConfig.prototype.setIndexStartLocalTime=function(e){this.put(o.mu.INDEX_START_LOCAL_TIME,e)};SyncUserConfig.prototype.getIndexStartLocalTime=function(){return this.get(o.mu.INDEX_START_LOCAL_TIME)};SyncUserConfig.prototype.removeIndexStartLocalTime=function(){this.remove(o.mu.INDEX_START_LOCAL_TIME)};SyncUserConfig.prototype.setSocketConnectedLocalTime=function(e){this.put(o.mu.SOCKET_CONNECTED_LOCAL_TIME,e)};SyncUserConfig.prototype.getSocketConnectedLocalTime=function(){return this.get(o.mu.SOCKET_CONNECTED_LOCAL_TIME)};SyncUserConfig.prototype.removeSocketConnectedLocalTime=function(){this.remove(o.mu.SOCKET_CONNECTED_LOCAL_TIME)};SyncUserConfig.prototype.setLastCanReconnectTime=function(e){this.put(o.mu.LAST_CAN_RECONNECT_TIME,e)};SyncUserConfig.prototype.getLastCanReconnectTime=function(){return this.get(o.mu.LAST_CAN_RECONNECT_TIME)};SyncUserConfig.prototype.removeLastCanReconnectTime=function(){this.remove(o.mu.LAST_CAN_RECONNECT_TIME)};return SyncUserConfig}(r.UserConfig)},25019:(e,t,n)=>{"use strict";n.d(t,{mu:()=>r,WF:()=>o,Li:()=>i});var r={LAST_INDEX_TIMESTAMP:"LAST_INDEX_TIMESTAMP",FETCHED_REMAINING:"FETCHED_REMAINING",INDEX_SUCCEED:"INDEX_SUCCEED",INDEX_FAILED_STATUS_CODE:"INDEX_FAILED_STATUS_CODE",INDEX_FAILED_MESSAGE:"INDEX_FAILED_MESSAGE",INDEX_DURATION:"INDEX_DURATION",INDEX_START_LOCAL_TIME:"INDEX_START_LOCAL_TIME",SOCKET_CONNECTED_LOCAL_TIME:"SOCKET_CONNECTED_LOCAL_TIME",LAST_CAN_RECONNECT_TIME:"LAST_CAN_RECONNECT_TIME",RESYNC_TIMESTAMP:"RESYNC_TIMESTAMP"};var o={STATIC_HTTP_SERVER:"STATIC_HTTP_SERVER"};var i="sync"},179993:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,V:()=>o});var r={FIRST_LOGIN:"first_login"};var o={INDEX:"index",REMAINING:"remaining",INITIAL:"initial"}},304360:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});var r;(function(e){e["TRUE"]="true";e["FALSE"]="false"})(r||(r={}))},108725:(e,t,n)=>{"use strict";n.d(t,{HD:()=>b,Ve:()=>_,Y5:()=>l});var r=n(689070);var o=n(298784);var i=n.n(o);var a=n(862926);var u=n(667489);var s=n(570265);var c=n(295454);var l=new s.BaseConfig({enable:false,host:"",performance:{enable:false,level:a.LOG_CONTROL_LEVEL.HIGH},api:{enable:false},health:{enable:false},custom:{enable:true,level:a.LOG_CONTROL_LEVEL.HIGH},error:{enable:true}});u.configStoreManager.addConfigStore(c.L2.KIBANA_CONFIG_STORE,l);var f="[KIBANA][CORE]";var d=a.ModuleLogger.getLogger(f,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),a.EVENT_DATA_FEATURE.COMMON);var p=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var h=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var v=function(){function KibanaEventDataFilter(){var e=this;this._apiIgnoreHostSet=new Set;this._observerController=new u.ObservableController;this._configObserver={getter:function(e){return e},callback:function(t){e._observerController.notifyObserver4Changes((function(e){return e()}));d.info("kibana config updated",t)}}}KibanaEventDataFilter.prototype.observeFilterUpdate=function(e){this._observerController.addObserver(e)};KibanaEventDataFilter.prototype.unobserveFilterUpdate=function(e){this._observerController.removeObserver(e)};KibanaEventDataFilter.prototype.init=function(){return p(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,this._subscribeNotifications()];case 1:e.sent();return[2]}}))}))};KibanaEventDataFilter.prototype.addIgnoreApiHost=function(e){this._apiIgnoreHostSet.add(e)};KibanaEventDataFilter.prototype.filter=function(e){if(!this.checkEventDataValid(e)){return undefined}return e};KibanaEventDataFilter.prototype._isItemFilterSetting=function(e){return i().isObject(e)&&Object.prototype.hasOwnProperty.call(e,"enable")};KibanaEventDataFilter.prototype._getItemFilterSetting=function(e){var t=l.getConfig()[e.event.type];if(!this._isItemFilterSetting(t)){return null}return t};KibanaEventDataFilter.prototype.checkEventDataValid=function(e){if(!l.getConfig().enable){return false}var t=this._getItemFilterSetting(e);if(!t){return true}var n=t.enable,r=t.level,o=t.blockKeys,u=t.enableKeys;if(!n){return false}var s=true;if(e.event.type===a.EVENT_DATA_TYPE.API){var c=i().get(e.event.details.data,"host");if(c&&this._apiIgnoreHostSet.has(c)){return false}}if(r){var f=i().get(e.event.details.data,"level");s=f&&f>=r}if(o||u){var d=i().get(e.event.details.data,"key");if(i().includes(o,d)){s=false}if(i().includes(u,d)){s=true}}return s};KibanaEventDataFilter.prototype._subscribeNotifications=function(){return p(this,void 0,void 0,(function(){return h(this,(function(e){l.addConfigObserver(this._configObserver);return[2]}))}))};KibanaEventDataFilter.prototype.dispose=function(){l.removeConfigObserver(this._configObserver)};return KibanaEventDataFilter}();var g=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var _=function(e){g(KibanaEventDataTransformer,e);function KibanaEventDataTransformer(t){return e.call(this,t)||this}KibanaEventDataTransformer.prototype.transform=function(e){this._setBaseExtraInfo(e);return e};return KibanaEventDataTransformer}(r.BaseEventDataTransformer);var y=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var b=function(e){y(KibanaDataTracking,e);function KibanaDataTracking(t,n,r,o){var i=e.call(this,t,n,r,o,new v,new _(t))||this;l.addConfigObserver({getter:function(e){return e.host},callback:function(e){i.updateEndPointAddress({server:e.host,url:""})}});return i}return KibanaDataTracking}(r.dQ)},361722:(e,t,n)=>{"use strict";n.d(t,{hf:()=>r,rk:()=>o});var r;(function(e){e["Notification_Browser"]="Notification_Browser";e["Notification_On_Focus"]="Notification_On_Focus";e["MessageShortcuts"]="Message_Shortcuts";e["QuickActionShortcuts"]="Quick_Action_Shortcuts";e["AppNavigationShortcuts"]="App_Navigation_Shortcuts";e["TextFormattingShortcuts"]="Text_Formatting_Shortcuts";e["Audio_DirectMessage"]="Audio_DirectMessage";e["FlashAppIcon"]="FlashAppIcon";e["BounceAppIcon"]="BounceAppIcon";e["Notification_NewMessages"]="Notification_NewMessages"})(r||(r={}));var o;(function(e){e["BOUNCE_ALWAYS"]="bounce_always";e["BOUNCE_ONCE"]="bounce_once";e["OFF"]="off"})(o||(o={}));var i;(function(e){e[e["SHOW"]=0]="SHOW";e[e["HIDE"]=1]="HIDE"})(i||(i={}))},826953:(e,t,n)=>{"use strict";n.d(t,{n:()=>E});var r=n(667489);var o=n(862926);var i=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var a="LOG";var u=function(e){i(LogPersistenceLocalStorage,e);function LogPersistenceLocalStorage(){return e!==null&&e.apply(this,arguments)||this}LogPersistenceLocalStorage.getValueAndRemoveKey=function(){var e=this.get(a);this.remove(a);return e};LogPersistenceLocalStorage.setValue=function(e){this.put(a,e)};LogPersistenceLocalStorage.moduleName="LOG_PERSISTENCE";return LogPersistenceLocalStorage}(r.GlobalConfig);var s={maxCacheLength:100,consumeCount:10,interval:1e3};var c=100;var gen=function(e,t,n){if(e===void 0){e="id"}if(t===void 0){t=[]}return{unique:e,indices:t,onUpgrade:n}};var l={name:"LogPersistence",version:1,schema:{1:{log:gen("id",["timestamp","seq"])}}};const f=l;var d=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var p=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var h=function(){function LogDataProcessor(e){this._logPersistenceDAO=e}LogDataProcessor.prototype.process=function(e){return d(this,void 0,Promise,(function(){return p(this,(function(t){switch(t.label){case 0:return[4,this._logPersistenceDAO.setItems(e)];case 1:t.sent();return[2,Promise.resolve(true)]}}))}))};return LogDataProcessor}();var v="[PERSISTENCE][CORE]";var g=o.ModuleLogger.getLogger(v,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),o.EVENT_DATA_FEATURE.FOUNDATION);var _=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var y=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var b=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var C=function(e){_(LogPersistenceDAO,e);function LogPersistenceDAO(t,n){var r=e.call(this,LogPersistenceDAO.COLLECTION_NAME,t)||this;r._limit=n;r._latestCursor=0;return r}LogPersistenceDAO.prototype.queryAllItems=function(){return y(this,void 0,Promise,(function(){var e,t,n,r;return b(this,(function(o){switch(o.label){case 0:o.trys.push([0,4,,5]);e=[];return[4,this._getPrimaryIds()];case 1:t=o.sent();if(!(t&&t.length>0))return[3,3];return[4,this.batchGet(t)];case 2:n=o.sent();if(n&&n.length>0){n.forEach((function(t){e.push({timestamp:t.timestamp,message:t.message,sessionId:t.sessionId})}))}o.label=3;case 3:return[2,Promise.resolve(e)];case 4:r=o.sent();g.info("query persistence logs fail");return[2,Promise.resolve([])];case 5:return[2]}}))}))};LogPersistenceDAO.prototype.setItems=function(e){return y(this,void 0,Promise,(function(){var t,n,r;return b(this,(function(o){switch(o.label){case 0:o.trys.push([0,3,,4]);if(!(this._latestCursor===0))return[3,2];t=this;return[4,this._queryLatestCursor()];case 1:t._latestCursor=o.sent();o.label=2;case 2:n=this._generatePersistenceLogItem(e);this.bulkPut(n);return[3,4];case 3:r=o.sent();g.info("set persistence logs fail");return[3,4];case 4:return[2]}}))}))};LogPersistenceDAO.prototype._getPrimaryIds=function(){return y(this,void 0,void 0,(function(){return b(this,(function(e){switch(e.label){case 0:return[4,this.createQuery().orderBy("timestamp").primaryKeys()];case 1:return[2,e.sent()]}}))}))};LogPersistenceDAO.prototype._generatePersistenceLogItem=function(e){var t=this;var n=[];var r=0;if(e.length>this._limit){e=e.slice(e.length-this._limit,e.length)}e.forEach((function(e){if(t._latestCursor===t._limit){t._latestCursor=0}t._latestCursor++;r++;var o={id:t._latestCursor,seq:r,timestamp:e.timestamp,message:e.message,sessionId:e.sessionId};n.push(o)}));return n};LogPersistenceDAO.prototype._queryLatestCursor=function(){return y(this,void 0,Promise,(function(){var e;return b(this,(function(t){switch(t.label){case 0:return[4,this.createQuery().orderBy("timestamp",true).orderBy("seq",true).limit(1).primaryKeys().catch((function(e){g.info("get id fail",e)}))];case 1:e=t.sent();if(e&&e.length>0){return[2,e[0]]}return[2,0]}}))}))};LogPersistenceDAO.COLLECTION_NAME="log";return LogPersistenceDAO}(r.BaseDao);var m=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var S=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var E=function(){function LogPersistence(){var e=this;this._saveLeftCacheToLocalStorage=function(){var t=e._dataConsumerController.peekFromCache();if(t.length>0){u.setValue(t)}};this._dataConsumerController=new o.DataConsumeController(s)}LogPersistence.prototype.addLog=function(e){var t={timestamp:e.timestamp,sessionId:e.sessionId,message:e.message};this._dataConsumerController.add(t)};LogPersistence.prototype.getLogMessages=function(){return m(this,void 0,Promise,(function(){return S(this,(function(e){switch(e.label){case 0:return[4,this._logPersistenceDAO.queryAllItems()];case 1:return[2,e.sent()]}}))}))};LogPersistence.prototype.init=function(){return m(this,void 0,void 0,(function(){var e;var t=this;return S(this,(function(n){switch(n.label){case 0:this._daoManager=new r.DaoManager(f);return[4,this._daoManager.initDatabase((function(){return Promise.resolve()}),(function(){return Promise.resolve()}))];case 1:n.sent();this._logPersistenceDAO=this._daoManager.getDao(C,c);this._logDataProcessor=new h(this._logPersistenceDAO);this._dataConsumerController.addProcessor(this._logDataProcessor);e=u.getValueAndRemoveKey();if(e&&e.length>0){e.forEach((function(e){t._dataConsumerController.add(e)}))}window.addEventListener("beforeunload",this._saveLeftCacheToLocalStorage);return[2]}}))}))};LogPersistence.prototype.dispose=function(){window.removeEventListener("beforeunload",this._saveLeftCacheToLocalStorage);this._saveLeftCacheToLocalStorage()};return LogPersistence}()},443998:(e,t,n)=>{"use strict";n.r(t);n.d(t,{MeetingLinkParserModule:()=>E});var r=n(667489);var o=n(25650);var i=n(434856);var a=n(862926);var u="[MEETING_LINK_PARSER][CORE]";var s="meet";var c=a.ModuleLogger.getLogger(u,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),s);var l=undefined&&undefined.__assign||function(){l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return l.apply(this,arguments)};var f={".*officeathand.att.com":{meetingAppName:o.x.RCV_ATT,meetingService:o.D.RCV,hostKeyIsRegex:true},"(\\w+\\.)?v.uat.ringcentral.com":{meetingAppName:o.x.RCV_ATT,meetingService:o.D.RCV,hostKeyIsRegex:true},".+bt.*.com":{meetingAppName:o.x.RCM_BT,meetingService:o.D.RCM,hostKeyIsRegex:true},"ringcentral-bt.zoom.us":{meetingAppName:o.x.RCM_BT,meetingService:o.D.RCM},"btuat.dev.meetzoom.us":{meetingAppName:o.x.RCM_BT,meetingService:o.D.RCM},".+telus.*\\.com":{meetingAppName:o.x.RCM_TELUS,meetingService:o.D.RCM,hostKeyIsRegex:true},"telusuat.dev.meetzoom.us":{meetingAppName:o.x.RCM_TELUS,meetingService:o.D.RCM},"ringcentral-telus.zoom.us":{meetingAppName:o.x.RCM_TELUS,meetingService:o.D.RCM},"webinar.ringcentral.com":{meetingAppName:o.x.RCM,meetingService:o.D.RCM},".*video\\.rainbowoffice\\.com":{meetingAppName:o.x.RCV_RAINBOW,meetingService:o.D.RCV,hostKeyIsRegex:true},"xmnup-rxe-1-v-rainbow.lab.nordigy.ru":{meetingAppName:o.x.RCV_RAINBOW,meetingService:o.D.RCV}};var d={"https?://[\\w-.]*fiji\\.gliprc\\.com/w/a/join/([\\w-]+)":{meetingAppName:o.x.RCW,meetingService:o.D.RCV,typeName:i.i.audience},"https?://[\\w-]*v\\.lab\\.nordigy\\.ru/w/a/join/([\\w-]+)":{meetingAppName:o.x.RCW,meetingService:o.D.RCV,typeName:i.i.audience},"https?://v\\.ringcentral\\.com/w/a/join/([\\w-]+)":{meetingAppName:o.x.RCW,meetingService:o.D.RCV,typeName:i.i.audience},"https?://v\\.ops\\.ringcentral\\.com/w/a/join/([\\w-]+)":{meetingAppName:o.x.RCW,meetingService:o.D.RCV,typeName:i.i.audience},"https?://[\\w-.]*fiji\\.gliprc\\.com/w/((join/([\\w-\\+]+))|(conf/on/([\\w-\\+]+)))":{meetingAppName:o.x.RCW,meetingService:o.D.RCV,typeName:i.i.host},"https?://[\\w-]*v\\.lab\\.nordigy\\.ru/w/((join/([\\w-\\+]+))|(conf/on/([\\w-\\+]+)))":{meetingAppName:o.x.RCW,meetingService:o.D.RCV,typeName:i.i.host},"https?://v\\.ringcentral\\.com/w/((join/([\\w-\\+]+))|(conf/on/([\\w-\\+]+)))":{meetingAppName:o.x.RCW,meetingService:o.D.RCV,typeName:i.i.host},"https?://v\\.ops\\.ringcentral\\.com/w/((join/([\\w-\\+]+))|(conf/on/([\\w-\\+]+)))":{meetingAppName:o.x.RCW,meetingService:o.D.RCV,typeName:i.i.host}};var p=function(){function MeetingLinkParser(){var e=this;this._meetingLinkTypeMap=null;this._defaultMeetingLinkTypeMap={};this._meetingLinkTypeRegexMap=[];this._webinarMeetingLinkTypeRegexMap=[];Object.keys(f).forEach((function(t){var n=f[t];if(n.hostKeyIsRegex){e._meetingLinkTypeRegexMap.push({hostRegex:new RegExp(t),meetingAppName:n.meetingAppName,meetingService:n.meetingService})}else{e._defaultMeetingLinkTypeMap[t]=n}}));Object.keys(d).forEach((function(t){var n=d[t];e._webinarMeetingLinkTypeRegexMap.push({hostRegex:new RegExp(t),meetingAppName:n.meetingAppName,meetingService:n.meetingService,typeName:n.typeName})}))}Object.defineProperty(MeetingLinkParser.prototype,"meetingLinkTypeMap",{get:function(){return l(l({},this._meetingLinkTypeMap),this._defaultMeetingLinkTypeMap)},enumerable:true,configurable:true});MeetingLinkParser.prototype.initMeetingLinkTypeMap=function(e){c.info("initMeetingLinkTypeMap invoked, "+(this._meetingLinkTypeMap?"has mapping, skip":"")+" init with given mapping");if(!this._meetingLinkTypeMap){this._meetingLinkTypeMap=e}};MeetingLinkParser.prototype.setMeetingLinkTypeMap=function(e){c.info("setMeetingLinkTypeMap invoked");this._meetingLinkTypeMap=e};MeetingLinkParser.prototype.partialUpdateMeetingLinkTypeMap=function(e){c.info("partialUpdateMeetingLinkTypeMap invoked");this._meetingLinkTypeMap=l(l({},this._meetingLinkTypeMap),e)};MeetingLinkParser.prototype.partialUpdateDefaultMeetingLinkTypeMap=function(e){c.info("partialUpdateDefaultMeetingLinkTypeMap invoked");this._defaultMeetingLinkTypeMap=l(l({},this._defaultMeetingLinkTypeMap),e)};MeetingLinkParser.prototype.parse=function(e){c.log("parse link: "+e);var t=e.trim().replace(/^:/,"");if(!/https?:\/\//.test(t)){t="https://"+t}try{var n=new URL(t);var r=n.host,i=n.pathname,a=n.searchParams,u=n.href,s=n.protocol;if(!["http:","https:"].includes(s)){throw new Error("invalid link")}var l=this.meetingLinkTypeMap[r];if(!l){c.info("Can't find type from static map, trying to match with regex map");var f=this._meetingLinkTypeRegexMap.find((function(e){var t=e.hostRegex;return t.test(r)}));if(f){l={meetingAppName:f.meetingAppName,meetingService:f.meetingService}}}var d=this._webinarMeetingLinkTypeRegexMap.find((function(e){var t=e.hostRegex;return t.test(u)}));if(d){l={meetingAppName:d.meetingAppName,meetingService:d.meetingService,typeName:d.typeName}}if(!l){throw new Error("Can't find meetingLinkType")}var p=a.get("pwd")||a.get("pw")||"";var h="";if(d){var v=i.match(/\/w(?:\/a)?\/(?:join|(?:conf\/on))\/([\w-\\+]+)/);h=v?v[1]:""}else{var g=i.match(/\/(j|join|share|my|w)\/([^/]*).*$/);h=g?g[2]:"";h=h||a.get("jid")||""}var _=i.match(/\/conf\/on\/([^/]*).*$/);var y=_?_[1]:"";var b=h||y;var C={url:n,meetingCode:b,meetingAppName:b?l.meetingAppName:"",meetingService:l.meetingService,joinOpenUris:[u],meetingPassword:p,typeName:l.typeName};c.info("result of parsing "+e+": "+JSON.stringify(C));return C}catch(e){c.warn("fail to parse "+t+", error: "+e);return{meetingCode:"",meetingAppName:"",meetingService:o.D.unKnown,joinOpenUris:[],meetingPassword:""}}};return MeetingLinkParser}();var h=n(439477);var v=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var g=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var _="common/parser/meetingLinkTypeMap.json";var y={FETCH_MEETING_LINK_TYPE_MAP:"FETCH_MEETING_LINK_TYPE_MAP"};var b=function(){function MeetingLinkTypeMapController(e){var t=this;this._logger=c.tags(MeetingLinkTypeMapController.name);this._config=null;this._changeHandlers=[];this.updateConfig=function(e){t._config=e;t._triggerChange()};this._networkClient=new r.NetworkClient({handlerName:r.CustomNetworkHandlerConfig.handlerName},r.CustomNetworkHandlerConfig.defaultVia,e.networkManager,new r.CommonResponseParser,new h.v)}MeetingLinkTypeMapController.prototype.registerChangeHandler=function(e){this._changeHandlers.push(e)};MeetingLinkTypeMapController.prototype._triggerChange=function(){var e=this;this._changeHandlers.forEach((function(t){e._config&&t(e._config)}))};MeetingLinkTypeMapController.prototype.scheduleFetchingConfigTask=function(){var e=this;this._scheduleJob(y.FETCH_MEETING_LINK_TYPE_MAP,(function(){return e._fetchConfiguration().then(e.updateConfig)}))};MeetingLinkTypeMapController.prototype._scheduleJob=function(e,t){var n=this;r.globalJobScheduler.scheduleDailyPeriodicJob(e,(function(r){return v(n,void 0,void 0,(function(){var n;return g(this,(function(o){switch(o.label){case 0:o.trys.push([0,2,,3]);return[4,t()];case 1:o.sent();r(true);return[3,3];case 2:n=o.sent();this._logger.warn("Failed to fetch meetLinkTypeMap config in daily JOB, "+e+", "+n);r(false);return[3,3];case 3:return[2]}}))}))}),true,r.INITIAL_OPTION.FIRE_IMMEDIATELY)};MeetingLinkTypeMapController.prototype._fetchConfiguration=function(){return this._networkClient.get({via:a.NETWORK_VIA.HTTP,host:r.apiConfiguration.getConfig().assetsServer,path:a.RequestPath.buildRequestPath(_),retryCount:a.DEFAULT_RETRY_COUNT})};return MeetingLinkTypeMapController}();var C=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var m=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var S=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var E=function(e){C(MeetingLinkParserModule,e);function MeetingLinkParserModule(t){var n=e.call(this,t)||this;n._meetingLinkTypeMapAdded=false;n._currentBrandMeetingAppNames={rcv:"",rcm:""};n._discoveryConfig={};n._rcvDiscoveryObserver={getter:function(){return r.apiConfiguration.getConfig().meetingsConfig.rcv.baseUrl},callback:function(){n._discoveryConfig[r.apiConfiguration.getConfig().meetingsConfig.rcv.baseUrl]={meetingService:o.D.RCV,meetingAppName:n._currentBrandMeetingAppNames.rcv};n._onDiscoveryConfigChange()}};n._rcmDiscoveryObserver={getter:function(){return r.apiConfiguration.getConfig().meetingsConfig.zoom.baseUrl},callback:function(){n._discoveryConfig[r.apiConfiguration.getConfig().meetingsConfig.zoom.baseUrl]={meetingService:o.D.RCM,meetingAppName:n._currentBrandMeetingAppNames.rcm};n._onDiscoveryConfigChange()}};n._getHealthyStatus=function(){if(n._meetingLinkTypeMapAdded){return{meetingLinkTypeMapAdded:true}}return{}};return n}MeetingLinkParserModule.prototype.onLoad=function(){var e=this;this.getHealthController().registerItemMap({MeetingLinkParserInfo:function(){return m(e,void 0,void 0,(function(){return S(this,(function(e){switch(e.label){case 0:return[4,this._getHealthyStatus()];case 1:return[2,e.sent()]}}))}))}});this.meetingLinkTypeMapController.registerChangeHandler((function(t){e.meetingLinkParser.setMeetingLinkTypeMap(t)}));this.meetingLinkTypeMapController.scheduleFetchingConfigTask();this._listenOnDiscoveryAPIChange()};MeetingLinkParserModule.prototype.onUnload=function(){};MeetingLinkParserModule.prototype.moduleName=function(){return i.o};MeetingLinkParserModule.prototype.setCurrentBrandMeetingAppNames=function(e){var t=this;c.info("setCurrentBrandMeetingAppName: ",e);this._currentBrandMeetingAppNames=e;Object.keys(this._discoveryConfig).forEach((function(e){var n=t._discoveryConfig[e];if(n.meetingService===o.D.RCV){n.meetingAppName=t._currentBrandMeetingAppNames.rcv}else{n.meetingAppName=t._currentBrandMeetingAppNames.rcm}}));this._onDiscoveryConfigChange()};MeetingLinkParserModule.prototype.parse=function(e){return this.meetingLinkParser.parse(e)};MeetingLinkParserModule.prototype.initMeetingLinkTypeMap=function(e){this._meetingLinkTypeMapAdded=true;this.meetingLinkParser.initMeetingLinkTypeMap(e)};MeetingLinkParserModule.prototype.setMeetingLinkTypeMap=function(e){this._meetingLinkTypeMapAdded=true;this.meetingLinkParser.setMeetingLinkTypeMap(e)};MeetingLinkParserModule.prototype.partialUpdateMeetingLinkTypeMap=function(e){this.meetingLinkParser.partialUpdateMeetingLinkTypeMap(e)};Object.defineProperty(MeetingLinkParserModule.prototype,"meetingLinkParser",{get:function(){if(!this._meetingLinkParser){this._meetingLinkParser=new p}return this._meetingLinkParser},enumerable:true,configurable:true});Object.defineProperty(MeetingLinkParserModule.prototype,"meetingLinkTypeMapController",{get:function(){if(!this._meetingLinkTypeMapController){this._meetingLinkTypeMapController=new b(this._context)}return this._meetingLinkTypeMapController},enumerable:true,configurable:true});MeetingLinkParserModule.prototype._unlistenOnDiscoveryAPIChange=function(){r.apiConfiguration.removeConfigObserver(this._rcvDiscoveryObserver);r.apiConfiguration.removeConfigObserver(this._rcmDiscoveryObserver)};MeetingLinkParserModule.prototype._listenOnDiscoveryAPIChange=function(){r.apiConfiguration.addConfigObserver(this._rcvDiscoveryObserver);r.apiConfiguration.addConfigObserver(this._rcmDiscoveryObserver)};MeetingLinkParserModule.prototype._onDiscoveryConfigChange=function(){this.meetingLinkParser.partialUpdateDefaultMeetingLinkTypeMap(this._discoveryConfig)};return MeetingLinkParserModule}(r.AbstractModule)},434856:(e,t,n)=>{"use strict";n.d(t,{o:()=>o,i:()=>i});var r=n(295454);var o=r.Lb.MEETING_LINK_PARSER;var i={audience:"RCW Audience",host:"RCW Host"}},46230:(e,t,n)=>{"use strict";n.d(t,{c:()=>P});var r=n(295454);var o=n(862926);var i=n(667489);var a=3;var u=3;var s=30*24*60*60;var c=5*60;var l=20*24*60*60*1e3;var f=n(367245);var d=n(914751);var p=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var h=function(e){p(EndpointsDiscoveryUserConfig,e);function EndpointsDiscoveryUserConfig(t){return e.call(this,d.A+"."+t)||this}EndpointsDiscoveryUserConfig.prototype.getEndpoints=function(){return this.get(d.U.ENDPOINTS)};EndpointsDiscoveryUserConfig.prototype.setEndpoints=function(e){this.put(d.U.ENDPOINTS,e)};return EndpointsDiscoveryUserConfig}(i.UserConfig);var v=undefined&&undefined.__assign||function(){v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return v.apply(this,arguments)};var g=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var _=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var y=function(){function EndpointsDiscoveryInternal(e){var t=e.moduleName,n=e.discoveryAPI,r=e.endpointsDefaultValue,o=e.handleDiscoveryResponse,a=e.preHandleDiscoveryResponse;this._discoveryAPI=n;this._handleDiscoveryResponse=o;this._preHandleDiscoveryResponse=a;this._commonResponseParser=new i.CommonResponseParser;this._initDiscoveryUserConfig(t,r);this.logger=f.k.tags(EndpointsDiscoveryInternal.name+"."+t)}EndpointsDiscoveryInternal.prototype.startDiscovery=function(e){return g(this,void 0,Promise,(function(){var t,n,r,o,i;var a=this;return _(this,(function(u){switch(u.label){case 0:t=e.host,n=e.tokenOrCode,r=e.retryCount,o=e.retryInterval;return[4,this._discoveryAPI.getEndpoints({host:t,tokenOrCode:n,retryCount:r,retryInterval:o}).then((function(e){a._preHandleDiscoveryResponse(e);if(e.status<200||e.status>=300){a.logger.info("getEndpoints failed:"+e.status+","+e.data);var t=a._getRetryAfterFromResponse(e);a._handleDiscoveryFailed(t);return{success:false,error:a._commonResponseParser.parse(e)||undefined}}a._handleDiscoveryResponse(e.data);return{success:true}})).catch((function(e){a.logger.info("getEndpoints exception:",e);a._handleDiscoveryFailed(0);return{success:false,error:e}}))];case 1:i=u.sent();return[2,i]}}))}))};EndpointsDiscoveryInternal.prototype.stopDiscovery=function(){this.logger.info("stopDiscovery");this._discoveryAPI.cancelGetEndpoints()};EndpointsDiscoveryInternal.prototype._handleDiscoveryFailed=function(e){var t=this.discoveryUserConfig.getEndpoints()||{};this.logger.info("_handleDiscoveryFailed",e,t);t.retryInterval=Math.max(e,t.retryInterval||u);this.discoveryUserConfig.setEndpoints(t)};EndpointsDiscoveryInternal.prototype._getRetryAfterFromResponse=function(e){var t;var n=Number((t=e.headers)===null||t===void 0?void 0:t[o.RESPONSE_HEADER_KEY.RETRY_AFTER])||0;return n};EndpointsDiscoveryInternal.prototype._initDiscoveryUserConfig=function(e,t){this.discoveryUserConfig=new h(e);var n=this.discoveryUserConfig.getEndpoints()||{};this.discoveryUserConfig.setEndpoints(v(v({},t),n))};return EndpointsDiscoveryInternal}();var b=n(622080);var C=n(955078);var m=n(381376);var S=undefined&&undefined.__assign||function(){S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return S.apply(this,arguments)};var E=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var I=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var w=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var R=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var P=function(){function AbstractEndpointsDiscovery(){var e=this;this._executeDiscovery=function(t){return w(e,void 0,Promise,(function(){var e,n,o,i,s,c;var l=this;return R(this,(function(f){switch(f.label){case 0:e=t.tokenOrCode;this.logger.info("_executeDiscovery");if(this._isDiscovering()){this.logger.info("isDiscovering when execute");return[2]}this._discoveryStatus=b.Q.PROCESSING;this._onDiscoveryStart();return[4,this.getDiscoveryHost().catch((function(e){l.logger.warn("getDiscoveryHost failed:",e);return undefined}))];case 1:n=f.sent();if(!n)return[3,3];o=this.getEndpoints()||{};return[4,this.discoveryInternal.startDiscovery({host:n,tokenOrCode:e,retryInterval:(o.retryInterval||u)*r.lo.ONE_SECOND,retryCount:o.retryCount||a})];case 2:i=f.sent(),s=i.success,c=i.error;s?this._handleDiscoverySuccess():this._handleDiscoveryFailed({tokenOrCode:e,error:c});return[3,4];case 3:this._handleDiscoveryFailed({tokenOrCode:e});f.label=4;case 4:return[2]}}))}))};this._initialized=false;this.discoveryListeners=[];this._discoveryStatus=b.Q.INITIAL;this.logger=f.k.tags(AbstractEndpointsDiscovery.name)}AbstractEndpointsDiscovery.initialDiscovery=function(){return C.jP.instance.initialDiscovery()};AbstractEndpointsDiscovery.fetchCDNMultiInstanceFlag=function(){return C.jP.instance.fetchCDNMultiInstanceFlag().catch((function(){f.k.info("fetchCDNMultiInstanceFlag, fetch cdnFlag failed");return undefined}))};Object.defineProperty(AbstractEndpointsDiscovery,"betaFlagController",{get:function(){if(!this._betaFlagController){this._betaFlagController=new m.g(AbstractEndpointsDiscovery.fetchCDNMultiInstanceFlag.bind(AbstractEndpointsDiscovery))}return this._betaFlagController},enumerable:true,configurable:true});AbstractEndpointsDiscovery.getLocalCDNMultiInstanceFlag=function(){return AbstractEndpointsDiscovery.betaFlagController.userConfig.getCDNMultiInstanceFlag()};AbstractEndpointsDiscovery.fetchCDNMultiInstanceFlagAndScheduleJob=function(){return AbstractEndpointsDiscovery.betaFlagController.fetchCDNMultiInstanceFlagAndScheduleJob()};AbstractEndpointsDiscovery.observeCDNMultiInstanceFlagChanged=function(e){AbstractEndpointsDiscovery.betaFlagController.observeCDNMultiInstanceFlagChanged(e)};AbstractEndpointsDiscovery.unobserveCDNMultiInstanceFlagChanged=function(e){AbstractEndpointsDiscovery.betaFlagController.unobserveCDNMultiInstanceFlagChanged(e)};AbstractEndpointsDiscovery.prototype.init=function(e){this.logger.info("init EndpointDiscovery");if(this._initialized){this.logger.info("already initialized");return}this._initialized=true;var t=new C.wM({getToken:e.getToken,generateDiscoveryAPIQuery:this.generateDiscoveryAPIQuery.bind(this),networkClient:e.networkClient});this.discoveryInternal=new y({moduleName:this.getModuleName(),discoveryAPI:t,endpointsDefaultValue:e.endpointsDefaultValue,handleDiscoveryResponse:this.handleDiscoveryResponse.bind(this),preHandleDiscoveryResponse:this.preHandleDiscoveryResponse.bind(this)})};AbstractEndpointsDiscovery.prototype.dispose=function(){this.logger.info("EndpointDiscovery dispose");this.stopDiscovery()};Object.defineProperty(AbstractEndpointsDiscovery.prototype,"userConfig",{get:function(){return this.discoveryInternal.discoveryUserConfig},enumerable:true,configurable:true});AbstractEndpointsDiscovery.prototype.addDiscoveryListener=function(e){this.discoveryListeners.push(e)};AbstractEndpointsDiscovery.prototype.removeDiscoveryListener=function(e){this.discoveryListeners=this.discoveryListeners.filter((function(t){return t!==e}))};AbstractEndpointsDiscovery.prototype.scheduleNextDiscovery=function(){var e;!this._isDiscovering()&&!this._isScheduling()&&this._triggerNextDiscoveryJob((e=this.getEndpoints())===null||e===void 0?void 0:e.nextRefreshTime)};AbstractEndpointsDiscovery.prototype.startDiscovery=function(e){this.logger.info("startDiscovery,",JSON.stringify(e));var t=e.discoveryType,n=t===void 0?b.n.OTHER:t,r=e.tokenOrCode;if(this._isDiscovering()){this.logger.info("isDiscovering");return this.discoveryResultWrapper.getObj()}if(n===b.n.IGNORE_RETRY&&this._discoveryStatus===b.Q.FAILURE_SCHEDULE){this.logger.info("ignore retry");return Promise.resolve({success:false})}if(n===b.n.INVALIDATE_EVENT){this.logger.info("invalidate event");if(this._discoveryStatus!==b.Q.FAILURE_SCHEDULE){this.logger.info("schedule with radom delay");this._scheduleDiscovery({delay:this._getRandomDiscoveryDelay(),tokenOrCode:r})}return this.discoveryResultWrapper.getObj()}this._clearDiscoveryTimer();this._executeDiscovery({tokenOrCode:r});return this.discoveryResultWrapper.getObj()};AbstractEndpointsDiscovery.prototype.stopDiscovery=function(){this.logger.info("stopDiscovery");this._clearDiscoveryTimer();this.discoveryInternal.stopDiscovery();this._discoveryStatus=b.Q.STOPPED};AbstractEndpointsDiscovery.prototype.getEndpoints=function(){var e;return(e=this.discoveryInternal)===null||e===void 0?void 0:e.discoveryUserConfig.getEndpoints()};AbstractEndpointsDiscovery.prototype.getEndpointHostByType=function(e){var t,n,r;return(r=(n=(t=this.getEndpoints())===null||t===void 0?void 0:t.endpoints)===null||n===void 0?void 0:n[e])===null||r===void 0?void 0:r.host};AbstractEndpointsDiscovery.prototype.isEndpointsValid=function(){var e;return!!((e=this.discoveryInternal.discoveryUserConfig.getEndpoints())===null||e===void 0?void 0:e.endpoints)};Object.defineProperty(AbstractEndpointsDiscovery.prototype,"discoveryResultWrapper",{get:function(){if(!this._discoveryResultWrapper){this._discoveryResultWrapper=new o.AsyncObjectWrapper}return this._discoveryResultWrapper},enumerable:true,configurable:true});AbstractEndpointsDiscovery.prototype._isDiscovering=function(){return this._discoveryStatus===b.Q.PROCESSING};AbstractEndpointsDiscovery.prototype._isScheduling=function(){return this._discoveryStatus===b.Q.SUCCESS_SCHEDULE||this._discoveryStatus===b.Q.FAILURE_SCHEDULE};AbstractEndpointsDiscovery.prototype._getRandomDiscoveryDelay=function(){return Math.floor(Math.random()*16)*r.lo.ONE_SECOND};AbstractEndpointsDiscovery.prototype._clearDiscoveryTimer=function(){if(this._discoveryTimer){clearTimeout(this._discoveryTimer);this._discoveryTimer=undefined}};AbstractEndpointsDiscovery.prototype._triggerNextDiscoveryJob=function(e,t){this.logger.info("_triggerNextDiscoveryJob,",e);if(e){var n=Math.max(e-Date.now(),0);this._scheduleDiscovery({delay:n,tokenOrCode:t})}};AbstractEndpointsDiscovery.prototype._scheduleDiscovery=function(e){var t=this;var n=e.delay,r=e.tokenOrCode;this.logger.info("_scheduleDiscovery,",n);this._clearDiscoveryTimer();n<l&&(this._discoveryTimer=setTimeout((function(){return t._executeDiscovery({tokenOrCode:r})}),n))};AbstractEndpointsDiscovery.prototype._handleDiscoverySuccess=function(){var e=this.getEndpoints()||{};this.logger.info("_handleDiscoverySuccess",JSON.stringify(e));this._onDiscoveryDone(true);this._discoveryStatus=b.Q.SUCCESS_SCHEDULE;var t=Date.now()+(e.expiresIn||s)*r.lo.ONE_SECOND;if(t){this.logger.info("set nextRefreshTime",t);this.discoveryInternal.discoveryUserConfig.setEndpoints(S(S({},e),{nextRefreshTime:t}));this._triggerNextDiscoveryJob(t)}};AbstractEndpointsDiscovery.prototype._handleDiscoveryFailed=function(e){var t=e.tokenOrCode,n=e.error;var o=this.getEndpoints()||{};this.logger.info("_handleDiscoveryFailed",JSON.stringify(o));this._onDiscoveryDone(false,n);this._discoveryStatus=b.Q.FAILURE_SCHEDULE;var i=Date.now()+(o.retryCycleDelay||c)*r.lo.ONE_SECOND;if(i){this.logger.info("set nextRefreshTime",i);this.discoveryInternal.discoveryUserConfig.setEndpoints(S(S({},o),{nextRefreshTime:i}));this._triggerNextDiscoveryJob(i,t)}};AbstractEndpointsDiscovery.prototype._onDiscoveryStart=function(){this.logger.info("_onDiscoveryStart");this.discoveryListeners.forEach((function(e){return e.onDiscoveryStart()}))};AbstractEndpointsDiscovery.prototype._onDiscoveryDone=function(e,t){var n=this.isEndpointsValid();this.logger.info("_onDiscoveryDone",e,n);this.discoveryResultWrapper.setObj({success:e,error:t});this._discoveryResultWrapper=undefined;this.discoveryListeners.forEach((function(r){return r.onDiscoveryDone(e,n,t)}))};var e,t;E([o.SingleRequest,I("design:type",Function),I("design:paramtypes",[]),I("design:returntype",typeof(e=typeof Promise!=="undefined"&&Promise)==="function"?e:Object)],AbstractEndpointsDiscovery,"initialDiscovery",null);E([o.SingleRequest,I("design:type",Function),I("design:paramtypes",[]),I("design:returntype",typeof(t=typeof Promise!=="undefined"&&Promise)==="function"?t:Object)],AbstractEndpointsDiscovery,"fetchCDNMultiInstanceFlag",null);return AbstractEndpointsDiscovery}()},653917:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var o=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var i=function(){function DiscoveryRetryStrategy(e){this._discoveryRetryInterval=e}DiscoveryRetryStrategy.prototype.doRetry=function(e,t){var n=Math.max(this._discoveryRetryInterval,t||0);if(e){this._timeoutBundle=setTimeout(e,n)}return n};DiscoveryRetryStrategy.prototype.cancel=function(){if(this._timeoutBundle){clearTimeout(this._timeoutBundle)}};return DiscoveryRetryStrategy}();var a=function(){function DiscoveryAPI(e){var t=e.getToken,n=e.generateDiscoveryAPIQuery,r=e.networkClient;this._getToken=t;this._generateDiscoveryAPIQuery=n;this.networkClient=r}DiscoveryAPI.prototype.getEndpoints=function(e){return r(this,void 0,Promise,(function(){var t,n,r,a,u,s,c;return o(this,(function(o){switch(o.label){case 0:t=e.host,n=e.tokenOrCode,r=e.retryCount,a=e.retryInterval;return[4,this._getToken()];case 1:u=o.sent()||n;return[4,this._generateDiscoveryAPIQuery({host:t,token:u})];case 2:s=o.sent();s.retryStrategy=new i(a);s.retryCount=r;return[4,this.networkClient.rawRequest(s,this)];case 3:c=o.sent();return[2,c]}}))}))};DiscoveryAPI.prototype.cancelGetEndpoints=function(){this.request&&this.networkClient.cancelRequest(this.request)};return DiscoveryAPI}()},544498:(e,t,n)=>{"use strict";n.d(t,{j:()=>l});var r=n(424843);var o=n(429205);var i=n(862926);var a={INITIAL_DISCOVERY:"/.well-known/entry-points/initial",CDN_MULTI_INSTANCE_FLAG:"/multi-instance.json"};var u=n(367245);var s=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var c=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var l=function(){function DiscoveryCommonApi(){}Object.defineProperty(DiscoveryCommonApi.prototype,"networkClient",{get:function(){if(!this._networkClient){var e=new i.NetworkManager((function(){return true}));e.buildNetworkRequestBaseHandler(r.CustomNetworkHandlerConfig);this._networkClient=new r.NetworkClient({handlerName:r.CustomNetworkHandlerConfig.handlerName},r.CustomNetworkHandlerConfig.defaultVia,e,new r.CommonResponseParser)}return this._networkClient},enumerable:true,configurable:true});Object.defineProperty(DiscoveryCommonApi,"instance",{get:function(){if(!this._instance){this._instance=new DiscoveryCommonApi}return this._instance},enumerable:true,configurable:true});DiscoveryCommonApi.prototype.initialDiscovery=function(){var e=r.apiConfiguration.getConfig(),t=e.rc,n=t.clientId,o=t.discoveryServer,u=e.brandId;if(!o){throw new i.JNetworkError(i.ERROR_CODES_NETWORK.SERVICE_UNAVAILABLE,"can not get initial url")}var s={clientId:n,brandId:u};return this.networkClient.get({via:i.NETWORK_VIA.HTTP,host:""+o+a.INITIAL_DISCOVERY,path:i.RequestPath.buildRequestPath(""),params:s,ignoreNetwork:true,retryCount:i.DEFAULT_RETRY_COUNT})};DiscoveryCommonApi.prototype.fetchCDNMultiInstanceFlag=function(){var e,t,n,l,f,d;return s(this,void 0,Promise,(function(){var s,p,h,v,g;return c(this,(function(c){switch(c.label){case 0:s={PLA:{discoveryRequired:false},GLIP:{discoveryRequired:false}};return[4,this.networkClient.get({via:i.NETWORK_VIA.HTTP,host:"",path:i.RequestPath.buildRequestPath(a.CDN_MULTI_INSTANCE_FLAG),headers:{"cache-control":"no-store, no-cache, max-age=0","content-type":"application/json"},ignoreNetwork:true,retryCount:i.DEFAULT_RETRY_COUNT})];case 1:p=c.sent();h=r.apiConfiguration.getConfig().brandId;v=h&&(p===null||p===void 0?void 0:p[h])||p;if(v){g=o.B.getEnv()||i.BuildUtils.defaultEnv();v.GLIP&&!((e=v.GLIP.blackList)===null||e===void 0?void 0:e.includes(g))&&!((n=(t=p.GLIP)===null||t===void 0?void 0:t.blackList)===null||n===void 0?void 0:n.includes(g))&&(s.GLIP.discoveryRequired=!!v.GLIP.discoveryRequired);v.PLA&&!((l=v.PLA.blackList)===null||l===void 0?void 0:l.includes(g))&&!((d=(f=p.PLA)===null||f===void 0?void 0:f.blackList)===null||d===void 0?void 0:d.includes(g))&&(s.PLA.discoveryRequired=!!v.PLA.discoveryRequired)}u.k.info("CDNFlag,PLA:"+s.PLA.discoveryRequired+",GLIP:"+s.GLIP.discoveryRequired);return[2,s]}}))}))};return DiscoveryCommonApi}()},955078:(e,t,n)=>{"use strict";n.d(t,{wM:()=>r.w,zw:()=>o.z,jP:()=>i.j});var r=n(653917);var o=n(577088);var i=n(544498);var a=n(128816);var u=n.n(a);if(n.o(a,"DISCOVERY_TYPE"))n.d(t,{DISCOVERY_TYPE:function(){return a.DISCOVERY_TYPE}});if(n.o(a,"DiscoveryRequestHandler"))n.d(t,{DiscoveryRequestHandler:function(){return a.DiscoveryRequestHandler}});if(n.o(a,"MultiInstanceNetworkHandlerConfig"))n.d(t,{MultiInstanceNetworkHandlerConfig:function(){return a.MultiInstanceNetworkHandlerConfig}})},128816:()=>{},914751:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,U:()=>o});var r="discovery";var o={ENDPOINTS:"endpoints"}},653505:(e,t,n)=>{"use strict";var r=n(914751)},381376:(e,t,n)=>{"use strict";n.d(t,{g:()=>g});var r=n(667489);var o="discoveryBetaFlag";var i={CDN_MULTI_INSTANCE_FLAG:"cdnMultiInstanceFlag"};var a=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var u=function(e){a(DiscoveryCommonUserConfig,e);function DiscoveryCommonUserConfig(){return e.call(this,o)||this}DiscoveryCommonUserConfig.prototype.setCDNMultiInstanceFlag=function(e){this.put(i.CDN_MULTI_INSTANCE_FLAG,e)};DiscoveryCommonUserConfig.prototype.getCDNMultiInstanceFlag=function(){return this.get(i.CDN_MULTI_INSTANCE_FLAG)};return DiscoveryCommonUserConfig}(r.UserConfig);var s=n(862926);var c={FETCH_CDN_MULTI_INSTANCE_FLAG:"fetchCDNMultiInstanceFlag"};var l=n(367245);var f=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var d=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var p=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var h=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var v=1*60*60;var g=function(){function DiscoveryBetaFlagController(e){this._fetchCDNMultiInstanceFlag=e;this._isFetchAndScheduled=false}Object.defineProperty(DiscoveryBetaFlagController.prototype,"userConfig",{get:function(){if(!this._userConfig){this._userConfig=new u}return this._userConfig},enumerable:true,configurable:true});DiscoveryBetaFlagController.prototype.fetchCDNMultiInstanceFlagAndScheduleJob=function(){return p(this,void 0,Promise,(function(){var e,t,n;var o=this;return h(this,(function(i){switch(i.label){case 0:e=this.userConfig.getCDNMultiInstanceFlag();if(this._isFetchAndScheduled){return[2,e]}t=function(e){return p(o,void 0,Promise,(function(){var t;return h(this,(function(n){switch(n.label){case 0:return[4,this._fetchCDNMultiInstanceFlag().catch((function(){l.k.info("fetchCDNMultiInstanceFlagAndScheduleJob, fetch flag failed");return undefined}))];case 1:t=n.sent();if(t){this.userConfig.setCDNMultiInstanceFlag(t);e===null||e===void 0?void 0:e(true)}else{e===null||e===void 0?void 0:e(false)}return[2,t]}}))}))};n=false;if(!!e)return[3,2];n=true;return[4,t()];case 1:e=i.sent();i.label=2;case 2:r.jobScheduler.schedulePeriodicJob(c.FETCH_CDN_MULTI_INSTANCE_FLAG,(function(e){t(e)}),true,v,n?r.INITIAL_OPTION.IGNORE_FIRST_TIME:r.INITIAL_OPTION.BASE_ON_LAST_TIME);this._isFetchAndScheduled=true;return[2,e]}}))}))};DiscoveryBetaFlagController.prototype.observeCDNMultiInstanceFlagChanged=function(e){this.userConfig.on(i.CDN_MULTI_INSTANCE_FLAG,e)};DiscoveryBetaFlagController.prototype.unobserveCDNMultiInstanceFlagChanged=function(e){this.userConfig.off(i.CDN_MULTI_INSTANCE_FLAG,e)};var e;f([s.SingleRequest,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",typeof(e=typeof Promise!=="undefined"&&Promise)==="function"?e:Object)],DiscoveryBetaFlagController.prototype,"fetchCDNMultiInstanceFlagAndScheduleJob",null);return DiscoveryBetaFlagController}()},75035:(e,t,n)=>{"use strict";n.d(t,{DiscoveryHandlerConfig:()=>r.zw,c:()=>i.c,DISCOVERY_TYPE:()=>s.n,Y:()=>l.c});var r=n(955078);if(n.o(r,"DISCOVERY_TYPE"))n.d(t,{DISCOVERY_TYPE:function(){return r.DISCOVERY_TYPE}});if(n.o(r,"DiscoveryRequestHandler"))n.d(t,{DiscoveryRequestHandler:function(){return r.DiscoveryRequestHandler}});if(n.o(r,"MultiInstanceNetworkHandlerConfig"))n.d(t,{MultiInstanceNetworkHandlerConfig:function(){return r.MultiInstanceNetworkHandlerConfig}});var o=n(653505);var i=n(46230);var a=n(987951);var u=n.n(a);if(n.o(a,"DISCOVERY_TYPE"))n.d(t,{DISCOVERY_TYPE:function(){return a.DISCOVERY_TYPE}});if(n.o(a,"DiscoveryRequestHandler"))n.d(t,{DiscoveryRequestHandler:function(){return a.DiscoveryRequestHandler}});if(n.o(a,"MultiInstanceNetworkHandlerConfig"))n.d(t,{MultiInstanceNetworkHandlerConfig:function(){return a.MultiInstanceNetworkHandlerConfig}});var s=n(622080);var c=n(381376);var l=n(182735)},987951:()=>{},622080:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r,n:()=>o});var r;(function(e){e[e["INITIAL"]=0]="INITIAL";e[e["PROCESSING"]=1]="PROCESSING";e[e["SUCCESS_SCHEDULE"]=2]="SUCCESS_SCHEDULE";e[e["FAILURE_SCHEDULE"]=3]="FAILURE_SCHEDULE";e[e["STOPPED"]=4]="STOPPED"})(r||(r={}));var o;(function(e){e[e["INVALIDATE_EVENT"]=0]="INVALIDATE_EVENT";e[e["IGNORE_RETRY"]=1]="IGNORE_RETRY";e[e["OTHER"]=2]="OTHER"})(o||(o={}))},800770:()=>{},62427:(e,t,n)=>{"use strict";n.d(t,{AbstractEndpointsDiscovery:()=>r.c,DISCOVERY_TYPE:()=>r.DISCOVERY_TYPE,DiscoveryConfigSource:()=>r.Y,DiscoveryRequestHandler:()=>o.Q,MultiInstanceNetworkHandlerConfig:()=>o.j});var r=n(75035);if(n.o(r,"DiscoveryHandlerConfig"))n.d(t,{DiscoveryHandlerConfig:function(){return r.DiscoveryHandlerConfig}});if(n.o(r,"DiscoveryRequestHandler"))n.d(t,{DiscoveryRequestHandler:function(){return r.DiscoveryRequestHandler}});if(n.o(r,"MultiInstanceNetworkHandlerConfig"))n.d(t,{MultiInstanceNetworkHandlerConfig:function(){return r.MultiInstanceNetworkHandlerConfig}});var o=n(595791);if(n.o(o,"DiscoveryHandlerConfig"))n.d(t,{DiscoveryHandlerConfig:function(){return o.DiscoveryHandlerConfig}})},367245:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(862926);var o=n.n(r);var i=r.ModuleLogger.getLogger("[MULTI_INSTANCE][CORE]",(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.FOUNDATION)},194381:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(696206);var o=n(50977);var i=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var a=function(e){i(NavOrderSettingItemProvider,e);function NavOrderSettingItemProvider(){return e.call(this,{id:o.C.NAV_ORDER,state:{type:r.Pe.CONSTANT,defaultValue:r.ESettingItemState.ENABLE}})||this}return NavOrderSettingItemProvider}(r.BaseSettingItemProvider)},490099:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var r=n(667489);var o=n.n(r);var i=n(696206);var a=n(638457);var u=n(295454);var s=n(50977);var c=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var l=function(e){c(NavTextVisibilitySettingItemProvider,e);function NavTextVisibilitySettingItemProvider(){var t=e.call(this,{id:s.C.NAV_TEXT_VISIBLE,source:{type:i.Pe.CONSTANT},value:{type:i.Pe.STORAGE},state:{type:i.Pe.CONSTANT,defaultValue:i.ESettingItemState.ENABLE}})||this;t._handleVisibleChanged=function(e,n){var r=e.providerName;if(r===a.UserSettingInternalProviderName.MEMORY){t.getValueProvider().notifyChange(n)}};return t}Object.defineProperty(NavTextVisibilitySettingItemProvider.prototype,"_navSettingService",{get:function(){return(0,r.getModule)(u.Lb.NAV_SETTING).getService()},enumerable:true,configurable:true});NavTextVisibilitySettingItemProvider.prototype.onLoad=function(){this._navSettingService.registerNavTextVisibleChangedCallback(this._handleVisibleChanged)};NavTextVisibilitySettingItemProvider.prototype.onUnload=function(){this._navSettingService.unregisterNavTextVisibleChangedCallback(this._handleVisibleChanged)};NavTextVisibilitySettingItemProvider.prototype.buildValueProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return Promise.resolve(e._navSettingService.isNavTextVisible())},setter:function(t){return e._navSettingService.setNavTextVisible(t)}})};return NavTextVisibilitySettingItemProvider}(i.BaseSettingItemProvider)},483921:(e,t,n)=>{"use strict";n.d(t,{hN:()=>r.h,Gx:()=>getNavSettingHistory});var r=n(772437);var o=n(490099);var i=n(638457);var a=n(295454);var u=n(667489);var s=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var c=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var getNavSettingHistory=function(e){return{version:1,moduleName:a.Lb.USER_SETTING,changes:{1:function(){return s(void 0,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:t=(0,u.getModule)(a.Lb.USER_SETTING).getDBConfigService();return[4,t.get(a.Lb.USER_SETTING,i.USER_SETTING_GLOBAL_KEYS.NAV_TEXT_VISIBILITY_KEY)];case 1:n=r.sent();n!==undefined&&e.userSettingService.setToLocal(i.USER_SETTING_GLOBAL_KEYS.NAV_TEXT_VISIBILITY_KEY,n);return[2]}}))}))}}}}},50977:(e,t,n)=>{"use strict";n.d(t,{C:()=>r,E:()=>o});var r;(function(e){e["NAV_TEXT_VISIBLE"]="nav_setting_text_visible";e["NAV_ORDER"]="nav_setting_order"})(r||(r={}));var o;(function(e){e["MESSAGE"]="message";e["VIDEO"]="video";e["PHONE"]="phone";e["CROSS_LAUNCH_PHONE"]="cross_launch_phone";e["SMS"]="sms";e["FAX"]="fax";e["CONTACTS"]="contacts";e["PLUGIN"]="plugin";e["ANALYTICS"]="analytics";e["WEBINAR"]="webinar";e["APPS"]="apps";e["ACCOUNT_SETUP"]="account_setup";e["SETTINGS"]="settings";e["RESOURCE_CENTER"]="resource_center";e["COMPANY_SETUP"]="company_setup";e["LOGOUT"]="logout"})(o||(o={}))},842047:(e,t,n)=>{"use strict";n.d(t,{NavItemId:()=>i.E,NavSettingId:()=>i.C});var r=n(622394);var o=n.n(r);if(n.o(r,"NavItemId"))n.d(t,{NavItemId:function(){return r.NavItemId}});if(n.o(r,"NavSettingId"))n.d(t,{NavSettingId:function(){return r.NavSettingId}});var i=n(50977);var a=n(243179);var u=n(483921)},243179:(e,t,n)=>{"use strict";n.d(t,{P:()=>r.P});var r=n(501769)},622394:()=>{},439477:(e,t,n)=>{"use strict";n.d(t,{v:()=>f});var r=n(461197);var o=n(38942);var i=n(667489);var a=n(862926);var u="[NETWORK_MONITOR][CORE]";var s=a.ModuleLogger.getLogger(u,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),a.EVENT_DATA_FEATURE.FOUNDATION);var c=10*1e3;var l="[RequestThresholdHandler]";var f=function(){function RequestThresholdHandler(){this._requestMap=new Map;RequestThresholdHandler._initThresholdConfig()}RequestThresholdHandler.prototype.handleThreshold=function(e){if(!RequestThresholdHandler._thresholdConfig||!RequestThresholdHandler._thresholdConfig.enabled){return true}var t=e.subPath?e.subPath:e.path;var n=this._requestMap.get(t);if(!n){s.tags(l).info("handleThreshold() not info in map");this._reset(t);return true}var r=this._isOverTime(n);if(r){s.tags(l).info("handleThreshold() shouldReset over time, reset");this._reset(t);return true}this._update(t,n);var o=e.thresholdPriority?e.thresholdPriority:i.THRESHOLD_PRIORITY.NORMAL;var a=this._isOverLimit(this._convertPriorityToCount(o),n);a&&s.tags(l).info("handleThreshold() priority:",o,"count:",n.count);return!a};RequestThresholdHandler.prototype._isOverTime=function(e){var t=Date.now();return t-e.time>=c};RequestThresholdHandler.prototype._isOverLimit=function(e,t){return t.count>e};RequestThresholdHandler.prototype._reset=function(e){this._requestMap.set(e,{time:Date.now(),count:1})};RequestThresholdHandler.prototype._update=function(e,t){t.count+=1;this._requestMap.set(e,t)};RequestThresholdHandler._initThresholdConfig=function(){var e=this;if(this._thresholdConfigObserved){return}var t=(0,r.getModule)(o.FEATURE_FLAG_MODULE);if(t){t.observeFeatureFlag(o.G.D_USE_API_REQUEST_THRESHOLD,(function(t){e._thresholdConfig=t}),true);this._thresholdConfigObserved=true}};RequestThresholdHandler.prototype._convertPriorityToCount=function(e){return RequestThresholdHandler._thresholdConfig.level[e]};RequestThresholdHandler._thresholdConfigObserved=false;return RequestThresholdHandler}()},62224:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});var r;(function(e){e["NotPhoenixOrGlipUser"]="NotPhoenixOrGlipUser";e["CanUseExternalContact"]="CanUseExternalContact";e["CanUseRCCloudContact"]="CanUseRCCloudContact";e["CanUseGOCloudContact"]="CanUseGOCloudContact";e["ACCOUNT_UPGRADE_PROMOTION"]="ACCOUNT_UPGRADE_PROMOTION"})(r||(r={}))},918869:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var r;(function(e){e["hasAnalyticPortalUri"]="hasAnalyticPortalUri";e["hasSMSCallerIds"]="hasSMSCallerIds";e["isFederatedAccount"]="isFederatedAccount";e["allPhoneFeatures"]="allPhoneFeatures";e["hasSMBCompanySetupUri"]="hasSMBCompanySetupUri";e["isSuperAdmin"]="isSuperAdmin";e["isFreeUserLicense"]="isFreeUserLicense";e["isPhoenixPaidBillingType"]="isPhoenixPaidBillingType";e["hasDigitalLines"]="hasDigitalLines";e["enableCloudDirectory"]="enableCloudDirectory";e["isDirectRouting"]="isDirectRouting"})(r||(r={}))},234462:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var r;(function(e){e["VOIP_CALLING"]="VoipCalling";e["INTERNATIONAL_CALLING"]="InternationalCalling";e["ON_DEMAND_CALL_RECORDING"]="OnDemandCallRecording";e["CALL_PARK"]="CallPark";e["SINGLE_EXTENSION_UI"]="SingleExtensionUI";e["CALL_SWITCH"]="CallSwitch";e["PAGER"]="Pager";e["FAX"]="Fax";e["VIDEO_CONFERENCING"]="VideoConferencing";e["CONFERENCING"]="Conferencing";e["CALL_FORWARDING"]="CallForwarding";e["WEB_PHONE"]="WebPhone";e["SMS"]="SMS";e["SMS_RECEIVE"]="SMSReceiving";e["PRESENCE"]="Presence";e["VOICEMAIL_TO_TEXT"]="VoicemailToText";e["MMS"]="MMS";e["DND"]="DND"})(r||(r={}))},171870:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var r;(function(e){e["INTERNAL_CALLS"]="InternalCalls";e["DOMESTIC_CALLS"]="DomesticCalls";e["INTERNATIONAL_CALLS"]="InternationalCalls";e["INTERNATIONAL_CALLING"]="InternationalCalling";e["READ_COMPANY_CALLLOG"]="ReadCompanyCallLog";e["EDIT_COMPANY_CALLLOG"]="EditCompanyCallLog";e["PERMISSION_MEETINGS"]="Meetings";e["READ_BLOCKED_NUMBER"]="ReadBlockedNumbers";e["EDIT_BLOCKED_NUMBER"]="EditBlockedNumbers";e["READ_CALL_LOG"]="ReadCallLog";e["READ_MESSAGES"]="ReadMessages";e["INBOUND_SMS"]="InboundSMS";e["ORGANIZE_CONFERENCE"]="OrganizeConference";e["INTERNAL_SMS"]="InternalSMS";e["LOCAL_SMS"]="LocalSMS";e["INTERNATIONAL_SMS"]="InternationalSMS";e["DEVICE_STATUS_REPORT"]="DeviceStatusReport";e["EDIT_LIVE_REPORTS"]="EditLiveReports";e["READ_LIVE_REPORTS"]="ReadLiveReports";e["MEETINGS_ANALYTICS"]="MeetingsAnalytics";e["PERFORMANCE_REPORTS"]="PerformanceReports";e["COMPANY_NUMBERS_REPORTS"]="CompanyNumbersReport";e["QUALITY_OF_SERVICE"]="QualityOfService";e["GLIP"]="Glip";e["USERS"]="Users";e["EDIT_CALL_LOG"]="EditCallLog";e["READ_REPORTS"]="ReadReports";e["BUSINESS_SMS"]="BusinessSms";e["READ_PRESENCE_STATUS"]="ReadPresenceStatus";e["EDIT_PRESENCE_STATUS"]="EditPresenceStatus";e["PHONES_AND_DEVICES"]="PhonesAndDevices";e["COMPANY_NUMBERS_AND_INFO"]="CompanyNumbersAndInfo";e["AUTO_RECEPTIONIST"]="AutoReceptionist";e["GROUPS"]="Groups";e["ROLES"]="Roles";e["TEMPLATES"]="Templates";e["USER_GROUPS"]="User Groups";e["SERVICE_PLAN"]="ServicePlan";e["PAYMENT_METHOD"]="PaymentMethod";e["USER_INFO"]="UserInfo";e["PHONES_AND_NUMBERS"]="PhonesAndNumbers";e["SCREENING_GREETING_HOLD_MUSIC"]="ScreeningGreetingHoldMusic";e["CALL_HANDLING"]="CallHandling";e["MESSAGE_AND_NOTIFICATIONS"]="MessagesAndNotifications";e["OUTBOUND_FAX_SETTINGS"]="OutboundFaxSettings";e["OUTBOUND_CALLER_ID"]="OutboundCallerId";e["QOS_REPORTS"]="QoSReports";e["READ_USER_FORWARDING_NUMBER"]="ReadUserForwardingFlipNumbers";e["EDIT_USER_ANSWERING_RULES"]="EditUserAnsweringRules"})(r||(r={}))},815793:(e,t,n)=>{"use strict";n.r(t);n.d(t,{PhoneContactModule:()=>w});var r=n(461197);var o=n(482166);var i=n(667489);var a=n(642107);var u=n(298784);var s=n.n(u);var c=n(862926);var l=n(831270);var f=n(274251);var d=n(796183);var p=n(860563);var h=undefined&&undefined.__assign||function(){h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return h.apply(this,arguments)};var v=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var g=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var _=d.k.tags("[PhoneContactMatchCacheController]");var y="RC";var b=function(){function PhoneContactMatchCacheController(){var e=this;this._phoneContactCacheMap=new Map;this._toDeleteIds=new Set;this._contactGroupMainNumbers=[];this._unifiedContactProviderReloadFun=function(){e.reMatchPhoneContacts(true)};this._unifiedContactPhonesChangedFun=function(t){e._handlePhoneNumberUpdate(t)};this._handleRegionChangeFun=function(){e.reMatchPhoneContacts(false)};this.handleContactDuplicate=function(t){return v(e,void 0,void 0,(function(){var e,n,r,o,a;var u=this;return g(this,(function(s){switch(s.label){case 0:_.info("handle contact duplicate change:",t.type);e=t.type===i.EVENT_TYPES.RELOAD;if(e){return[2,this.reMatchPhoneContacts(true)]}n=new Set;if(t.type===i.EVENT_TYPES.UPDATE){r=Array.from(t.body.entities.values());r===null||r===void 0?void 0:r.forEach((function(e){var t;n.add(e.id);(t=e.duplicateIds)===null||t===void 0?void 0:t.forEach((function(e){return n.add(e)}))}))}o=t.type===i.EVENT_TYPES.UPDATE;a=[];return[4,Promise.all(Array.from(this._phoneContactCacheMap.values()).map((function(e){return v(u,void 0,void 0,(function(){var t,r,i;return g(this,(function(u){switch(u.label){case 0:if(!e.matchedContactId){return[2]}if(!(o&&n.has(e.matchedContactId)))return[3,3];t=p.V.parsePhoneContactId(e.id);if(!t)return[3,3];i=this._matchContact;return[4,this._generatePhoneNumberMatchInfo(t)];case 1:return[4,i.apply(this,[u.sent()])];case 2:r=u.sent();if(e.matchedContactId!==r){e.matchedContactId=r;this._phoneContactCacheMap.set(e.id,e);a.push(e)}u.label=3;case 3:return[2]}}))}))})))];case 1:s.sent();this._emitEntityUpdate(a);return[2]}}))}))};this._debounceClearNeedlessPhoneNumberMatch=s().debounce((function(){var t=Array.from(e._toDeleteIds.values());var n=[];t.map((function(t){e._phoneContactCacheMap.delete(t);n.push({id:t,matchedContactId:""})}));e._toDeleteIds.clear();e._emitEntityUpdate(n)}),o.m5);this._handlePhoneNumberUpdate=function(t){return v(e,void 0,void 0,(function(){var e;var n=this;return g(this,(function(r){switch(r.label){case 0:e=[];return[4,Promise.all(Array.from(this._phoneContactCacheMap.values()).map((function(r){return v(n,void 0,void 0,(function(){var n,o,i,a,u,s;var c;return g(this,(function(l){switch(l.label){case 0:n=p.V.parsePhoneContactId(r.id);if(!n)return[3,4];return[4,this._generatePhoneNumberMatchInfo(n)];case 1:o=l.sent();return[4,this._getPossibleNumber(o.numberToMatch)];case 2:i=l.sent();a=r.matchedContactId&&t.updatedContactIds.has(r.matchedContactId)||((c=i===null||i===void 0?void 0:i.numberList)===null||c===void 0?void 0:c.some((function(e){return t.updatedPhoneNumbers.has(e)})));if(!a)return[3,4];return[4,this._updateMatchedContact(r.id)];case 3:u=l.sent();s=this._phoneContactCacheMap.get(r.id);u&&s&&e.push(s);l.label=4;case 4:return[2]}}))}))})))];case 1:r.sent();this._emitEntityUpdate(e);return[2]}}))}))}}PhoneContactMatchCacheController.prototype.start=function(){i.notificationCenter.on(l.EVENT_KEY.ENTITY.UNIFIED_CONTACT_PHONES_CHANGED,this._unifiedContactPhonesChangedFun);i.notificationCenter.on(l.EVENT_KEY.ENTITY.UNIFIED_CONTACT_PHONES_RELOAD,this._unifiedContactProviderReloadFun);i.notificationCenter.on(a.PHONE_PARSER_EVENT.STATION_UPDATE,this._handleRegionChangeFun);i.notificationCenter.on(l.EVENT_KEY.ENTITY.CONTACT_DUPLICATE_INFO,this.handleContactDuplicate)};PhoneContactMatchCacheController.prototype.stop=function(){i.notificationCenter.off(l.EVENT_KEY.ENTITY.UNIFIED_CONTACT_PHONES_CHANGED,this._unifiedContactPhonesChangedFun);i.notificationCenter.off(l.EVENT_KEY.ENTITY.UNIFIED_CONTACT_PHONES_RELOAD,this._unifiedContactProviderReloadFun);i.notificationCenter.off(a.PHONE_PARSER_EVENT.STATION_UPDATE,this._handleRegionChangeFun);i.notificationCenter.off(l.EVENT_KEY.ENTITY.CONTACT_DUPLICATE_INFO,this.handleContactDuplicate)};PhoneContactMatchCacheController.prototype.setContactGroupMainNumbers=function(e){_.info("contact group main numbers changed",e);this._contactGroupMainNumbers=e;this.reMatchPhoneContacts(true)};PhoneContactMatchCacheController.prototype._getContactIdsByPhoneNumber=function(e,t){return v(this,void 0,void 0,(function(){var n;return g(this,(function(r){switch(r.label){case 0:return[4,this._getPossibleNumber(e)];case 1:n=r.sent();if(n){n=h(h({},n),{isShortOrSpecial:t})}return[2,this._getContactModule().matchByPhoneNumber(e,n)]}}))}))};PhoneContactMatchCacheController.prototype._emitEntityUpdate=function(e){if(!(e===null||e===void 0?void 0:e.length)){return}_.log("update phone contact matching",e.map((function(e){return e.id})));i.notificationCenter.emitEntityUpdate(o.dF.ENTITY.PHONE_CONTACT,e)};PhoneContactMatchCacheController.prototype.getCachedEntity=function(e){if(typeof e!=="string"){_.trace("phone number should be string",e)}return this._phoneContactCacheMap.get(e)||{id:e}};Object.defineProperty(PhoneContactMatchCacheController.prototype,"possibleNumbersCacheController",{get:function(){var e=this;if(!this._possibleNumbersCacheController){this._possibleNumbersCacheController=new i.LRULimitedCacheController({cacheCount:o.H,isEqualFun:function(t,n){return e._isEqualCacheInfo(t,n)},getNewCacheFun:function(t){return e.getNewPossibleNumber(t)}})}return this._possibleNumbersCacheController},enumerable:true,configurable:true});PhoneContactMatchCacheController.prototype.getNewPossibleNumber=function(e){return v(this,void 0,Promise,(function(){var t,n;return g(this,(function(r){switch(r.label){case 0:return[4,this._waitStationSettingReady()];case 1:r.sent();t=(0,i.getModule)(f.iJ);return[4,t.generateMatchedPhoneNumberList(e)];case 2:n=r.sent();return[2,n&&{phoneNumber:e,possibleNumber:n}]}}))}))};Object.defineProperty(PhoneContactMatchCacheController.prototype,"formattedPhoneNumberCacheController",{get:function(){var e=this;if(!this._formattedPhoneNumberCacheController){this._formattedPhoneNumberCacheController=new i.LRULimitedCacheController({cacheCount:o.Yd,isEqualFun:function(t,n){return e._isEqualCacheInfo(t,n)},getNewCacheFun:function(t){return e.getNewFormattedPhoneNumber(t)}})}return this._formattedPhoneNumberCacheController},enumerable:true,configurable:true});PhoneContactMatchCacheController.prototype.getNewFormattedPhoneNumber=function(e){return v(this,void 0,Promise,(function(){var t,n;return g(this,(function(r){switch(r.label){case 0:return[4,this._waitStationSettingReady()];case 1:r.sent();t=(0,i.getModule)(f.iJ);return[4,t.getLocalCanonical(e)];case 2:n=r.sent();return[2,{phoneNumber:e,formattedPhoneNumber:n}]}}))}))};PhoneContactMatchCacheController.prototype._isEqualCacheInfo=function(e,t){return e.phoneNumber===t};PhoneContactMatchCacheController.prototype.observePhoneNumberMatch=function(e){return v(this,void 0,void 0,(function(){var t,n,r,o,i;return g(this,(function(a){switch(a.label){case 0:t=p.V.parsePhoneContactId(e);if(!t){return[2]}this._toDeleteIds.has(e)&&this._toDeleteIds.delete(e);if(this._phoneContactCacheMap.has(e)){return[2]}return[4,this._generatePhoneNumberMatchInfo(t)];case 1:n=a.sent();return[4,this._matchContact(n)];case 2:r=a.sent();return[4,this.formattedPhoneNumberCacheController.get(t.phoneNumber)];case 3:o=a.sent();i={id:e,formattedPhoneNumber:o===null||o===void 0?void 0:o.formattedPhoneNumber,matchedContactId:r};this._phoneContactCacheMap.set(e,i);this._emitEntityUpdate([i]);return[2]}}))}))};PhoneContactMatchCacheController.prototype._generatePhoneNumberMatchInfo=function(e){return v(this,void 0,void 0,(function(){var t,n,r,o,i;return g(this,(function(a){switch(a.label){case 0:return[4,this._getPhoneParserModule().getPhoneParser(e.phoneNumber)];case 1:t=a.sent();n=t===null||t===void 0?void 0:t.isShortNumber();r=n?undefined:t===null||t===void 0?void 0:t.getDialableNumber();o=t===null||t===void 0?void 0:t.getSubAddress();i={mainNumber:r,callerName:e.displayName,isExtensionNumber:!!n,numberToMatch:e.phoneNumber};if((r===null||r===void 0?void 0:r.length)&&(o===null||o===void 0?void 0:o.length)){i.numberToMatch=o;i.isExtensionNumber=true;i.isFederationNumber=true}return[2,i]}}))}))};PhoneContactMatchCacheController.prototype.matchPhoneContact=function(e){return v(this,void 0,void 0,(function(){var t,n,r;return g(this,(function(o){switch(o.label){case 0:t=p.V.parsePhoneContactId(e);if(!t)return[3,2];r=this._matchContact;return[4,this._generatePhoneNumberMatchInfo(t)];case 1:n=r.apply(this,[o.sent()]);return[3,3];case 2:n=undefined;o.label=3;case 3:return[2,n]}}))}))};PhoneContactMatchCacheController.prototype._matchContact=function(e){return v(this,void 0,void 0,(function(){var t,n,r;return g(this,(function(o){switch(o.label){case 0:return[4,this._getContactIdsByPhoneNumber(e.numberToMatch,e.isExtensionNumber)];case 1:t=o.sent();n=e.isExtensionNumber&&t.length>1||!!e.isFederationNumber;if(!n)return[3,3];return[4,this._matchFederation(t,e)];case 2:r=o.sent();return[3,4];case 3:r=t[0];o.label=4;case 4:return[2,r]}}))}))};PhoneContactMatchCacheController.prototype._filterMatchableContacts=function(e){var t=this;return e.filter((function(e){return t._getContactModule().isMatchableContact(e)}))};PhoneContactMatchCacheController.prototype._matchFederation=function(e,t){var n,r;return v(this,void 0,void 0,(function(){var o;return g(this,(function(i){switch(i.label){case 0:if(!((n=t.mainNumber)===null||n===void 0?void 0:n.length))return[3,2];return[4,this._matchByMainNumber(e,t.mainNumber)];case 1:return[2,i.sent()];case 2:if((r=t.callerName)===null||r===void 0?void 0:r.length){return[2,this._matchByCallerName(e,t.callerName)]}o=this._filterMatchableContacts(e);return[2,this._matchCurrentAccountContact(o)||(o.length===1?o[0]:undefined)]}}))}))};PhoneContactMatchCacheController.prototype._matchByMainNumber=function(e,t){return v(this,void 0,void 0,(function(){var n;var r=this;return g(this,(function(o){switch(o.label){case 0:return[4,this._getContactGroupIdIdByMainNumber(t)];case 1:n=o.sent();if(!n){return[2,undefined]}return[2,e.find((function(e){return r._getContactModule().getContactGroupId(e)===n}))]}}))}))};PhoneContactMatchCacheController.prototype._getContactGroupIdIdByMainNumber=function(e){var t,n;return v(this,void 0,void 0,(function(){var r,o;return g(this,(function(i){switch(i.label){case 0:return[4,this._getPhoneParserModule().getPhoneParser(e)];case 1:r=i.sent();o=r===null||r===void 0?void 0:r.getE164();if(!o){_.info("can not get e164 number",e);return[2,undefined]}return[2,(n=(t=this._contactGroupMainNumbers)===null||t===void 0?void 0:t.find((function(e){return e.mainNumber===o})))===null||n===void 0?void 0:n.contactGroupId]}}))}))};PhoneContactMatchCacheController.prototype._getUserDisplayName=function(e){return e.replace("."," ")};PhoneContactMatchCacheController.prototype._matchByCallerName=function(e,t){var n=this;var r=e.filter((function(e){var r;var o=(r=n._getContactModule().getDataByIdSynchronously(e))===null||r===void 0?void 0:r.displayName;if(!o){return false}return n._getUserDisplayName(o.toLocaleLowerCase())===n._getUserDisplayName(t.toLocaleLowerCase())}));if(r.length>1){var o=this._matchCurrentAccountContact(this._filterMatchableContacts(r));if(o){return o}}return r[0]};PhoneContactMatchCacheController.prototype._matchCurrentAccountContact=function(e){var t=this;if(!e.length){return undefined}var n=this._getContactModule().getCurrentContactGroupIdByType(l.ContactUtils.getTypeById(e[0]));return e.find((function(e){return t._getContactModule().getContactGroupId(e)===n}))};PhoneContactMatchCacheController.prototype.unObservePhoneNumberMatch=function(e){this._toDeleteIds.add(e);this._debounceClearNeedlessPhoneNumberMatch()};PhoneContactMatchCacheController.prototype._updateMatchedContact=function(e){return v(this,void 0,Promise,(function(){var t,n,r,o,i,a,u,s;return g(this,(function(c){switch(c.label){case 0:t=this._phoneContactCacheMap.get(e);n=p.V.parsePhoneContactId(e);if(!n||!t){return[2,false]}return[4,this._generatePhoneNumberMatchInfo(n)];case 1:r=c.sent();o=false;if(!t.matchedContactId)return[3,5];i=this._getContactModule().isVisibleContact(t.matchedContactId);if(!!i)return[3,2];o=true;return[3,4];case 2:a=this._getContactModule().getPhoneNumbersByContactIdSynchronously(t.matchedContactId);return[4,this._getPossibleNumber(r.numberToMatch)];case 3:u=c.sent();o=!(a===null||a===void 0?void 0:a.some((function(e){var t;return(t=u===null||u===void 0?void 0:u.numberList)===null||t===void 0?void 0:t.includes(e.phoneNumber)})));c.label=4;case 4:return[3,6];case 5:o=true;c.label=6;case 6:if(!o)return[3,8];return[4,this._matchContact(r)];case 7:s=c.sent();t.matchedContactId=s;_.info("need rematch phoneNumber",{id:e,contactId:s});c.label=8;case 8:return[2,o]}}))}))};PhoneContactMatchCacheController.prototype._getPossibleNumber=function(e){return v(this,void 0,Promise,(function(){var t;return g(this,(function(n){switch(n.label){case 0:return[4,this.possibleNumbersCacheController.get(e)];case 1:t=n.sent();return[2,t===null||t===void 0?void 0:t.possibleNumber]}}))}))};PhoneContactMatchCacheController.prototype.reMatchPhoneContacts=function(e){return v(this,void 0,void 0,(function(){var t;var n=this;return g(this,(function(r){switch(r.label){case 0:_.log("rematch phone contact matching, size:",this._phoneContactCacheMap.size);this.formattedPhoneNumberCacheController.clearAll();this.possibleNumbersCacheController.clearAll();t=[];return[4,(0,c.runInPool)(Array.from(this._phoneContactCacheMap.values()).map((function(r){return function(){return v(n,void 0,void 0,(function(){var n,o,i;return g(this,(function(a){switch(a.label){case 0:n=r.id;if(!e)return[3,2];r.matchedContactId="";return[4,this._updateMatchedContact(n)];case 1:a.sent();a.label=2;case 2:o=p.V.parsePhoneContactId(n);if(!o)return[3,4];return[4,this.formattedPhoneNumberCacheController.get(o.phoneNumber)];case 3:i=a.sent();r.formattedPhoneNumber=i===null||i===void 0?void 0:i.formattedPhoneNumber;a.label=4;case 4:t.push(r);return[2]}}))}))}})))];case 1:r.sent();this._emitEntityUpdate(t);return[2]}}))}))};PhoneContactMatchCacheController.prototype.getCacheStatus=function(){return{phoneContactCount:this._phoneContactCacheMap.size,possibleNumberCount:this._possibleNumbersCacheController.size(),formattedNumberCount:this._formattedPhoneNumberCacheController.size()}};PhoneContactMatchCacheController.prototype._waitStationSettingReady=function(){var e,t,n;return v(this,void 0,void 0,(function(){return g(this,(function(r){switch(r.label){case 0:if(!this._hasRegionSetting())return[3,4];if(!!((e=this._getPhoneParserModule())===null||e===void 0?void 0:e.isInit()))return[3,2];return[4,(t=this._getPhoneParserModule())===null||t===void 0?void 0:t.initPhoneParser(false)];case 1:r.sent();r.label=2;case 2:return[4,(n=this._getPhoneParserModule())===null||n===void 0?void 0:n.waitStationLocationSettingReady()];case 3:r.sent();r.label=4;case 4:return[2]}}))}))};PhoneContactMatchCacheController.prototype._hasRegionSetting=function(){return(0,i.getCurrentAccount)()&&(0,i.getCurrentAccount)().accountType()===y};PhoneContactMatchCacheController.prototype._getPhoneParserModule=function(){return(0,i.getModule)(a.PHONE_PARSER_MODULE)};PhoneContactMatchCacheController.prototype._getContactModule=function(){return(0,i.getModule)(l.MODULE_NAME)};return PhoneContactMatchCacheController}();var C=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var m=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var S=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var E=function(e){C(PhoneContactService,e);function PhoneContactService(){var t;var n=e.call(this,{isSupportedCache:false})||this;n._reMatchPhoneContacts=function(e){return m(n,void 0,Promise,(function(){return S(this,(function(t){switch(t.label){case 0:if(!e)return[3,2];d.k.log("[phoneContactService] rematch contact");return[4,this.phoneContactMatchCacheController.reMatchPhoneContacts(true)];case 1:t.sent();t.label=2;case 2:return[2]}}))}))};n.addSubscriptionController(i.SubscribeController.buildSubscriptionController(i.notificationCenter,(t={},t[a.PHONE_PARSER_EVENT.INIT]=n._reMatchPhoneContacts,t)));return n}PhoneContactService.prototype.onStarted=function(){e.prototype.onStarted.call(this);this.phoneContactMatchCacheController.start()};PhoneContactService.prototype.onStopped=function(){this.phoneContactMatchCacheController.stop();e.prototype.onStopped.call(this)};Object.defineProperty(PhoneContactService.prototype,"phoneContactMatchCacheController",{get:function(){if(!this._phoneContactMatchCacheController){this._phoneContactMatchCacheController=new b}return this._phoneContactMatchCacheController},enumerable:true,configurable:true});PhoneContactService.prototype.getSynchronously=function(e){return this.phoneContactMatchCacheController.getCachedEntity(e)};PhoneContactService.prototype.observePhoneNumberMatch=function(e){return this.phoneContactMatchCacheController.observePhoneNumberMatch(e)};PhoneContactService.prototype.unObservePhoneNumberMatch=function(e){this.phoneContactMatchCacheController.unObservePhoneNumberMatch(e)};PhoneContactService.prototype.getCacheStatus=function(){return this.phoneContactMatchCacheController.getCacheStatus()};PhoneContactService.prototype.matchPhoneContact=function(e){return this.phoneContactMatchCacheController.matchPhoneContact(e)};PhoneContactService.prototype.setContactGroupMainNumbers=function(e){this.phoneContactMatchCacheController.setContactGroupMainNumbers(e)};return PhoneContactService}(i.EntityBaseService);var I=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var w=function(e){I(PhoneContactModule,e);function PhoneContactModule(t){return e.call(this,t)||this}PhoneContactModule.prototype.onLoad=function(){var e=this;this.phoneContactService.start();this.getHealthController().registerItemMap({PhoneContactCacheInfo:function(){return e.phoneContactService.getCacheStatus()}})};PhoneContactModule.prototype.onUnload=function(){this.phoneContactService.stop()};Object.defineProperty(PhoneContactModule.prototype,"phoneContactService",{get:function(){if(!this._service){this._service=new E}return this._service},enumerable:true,configurable:true});PhoneContactModule.prototype.moduleName=function(){return o.Po};PhoneContactModule.prototype.getSynchronously=function(e){return this.phoneContactService.getSynchronously(e)};PhoneContactModule.prototype.observePhoneNumberMatch=function(e){return this.phoneContactService.observePhoneNumberMatch(e)};PhoneContactModule.prototype.unObservePhoneNumberMatch=function(e){this.phoneContactService.unObservePhoneNumberMatch(e)};PhoneContactModule.prototype.matchPhoneContact=function(e){return this.phoneContactService.matchPhoneContact(e)};PhoneContactModule.prototype.setContactGroupMainNumbers=function(e){this.phoneContactService.setContactGroupMainNumbers(e)};return PhoneContactModule}(r.AbstractModule)},592613:()=>{},796183:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(862926);var o=n.n(r);var i=n(482166);var a=r.ModuleLogger.getLogger(i.Po,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.COMMON)},557841:(e,t,n)=>{"use strict";var r=n(274251)},299318:(e,t,n)=>{"use strict";n.r(t);n.d(t,{PhoneNumberModule:()=>p});var r=n(91287);var o=n(461197);var i=n(808192);var a=n(642107);var u=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var s=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var c=function(){function PhoneNumberController(){}Object.defineProperty(PhoneNumberController.prototype,"phoneParserModule",{get:function(){return(0,o.getModule)(a.PHONE_PARSER_MODULE)},enumerable:true,configurable:true});PhoneNumberController.prototype.getE164PhoneNumber=function(e){return u(this,void 0,Promise,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,this.phoneParserModule.getPhoneParser(e,false)];case 1:t=n.sent();return[2,t?t.getE164():e]}}))}))};PhoneNumberController.prototype.getLocalCanonical=function(e){return u(this,void 0,Promise,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,this.phoneParserModule.getPhoneParser(e,false)];case 1:t=n.sent();return[2,t?t.getLocalCanonical():e]}}))}))};PhoneNumberController.prototype.isSpecialNumber=function(e){return u(this,void 0,Promise,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,this.phoneParserModule.getPhoneParser(e,false)];case 1:t=n.sent();return[2,t?t.isSpecialNumber():false]}}))}))};PhoneNumberController.prototype.isShortNumber=function(e){return u(this,void 0,Promise,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,this.phoneParserModule.getPhoneParser(e,false)];case 1:t=n.sent();return[2,t?t.isShortNumber():false]}}))}))};PhoneNumberController.prototype.isServiceFeatureNumber=function(e){return u(this,void 0,Promise,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,this.phoneParserModule.getPhoneParser(e,false)];case 1:t=n.sent();return[2,t?t.isServiceFeatureNumber():false]}}))}))};PhoneNumberController.prototype.isValidNumber=function(e){return new RegExp("^[0-9+*# ()-.]+$").test(e.trim())};PhoneNumberController.prototype.generateMatchedPhoneNumberList=function(e){return u(this,void 0,Promise,(function(){var t,n,r,o,o,i,a,u,c,l,f,d;return s(this,(function(s){switch(s.label){case 0:return[4,this.phoneParserModule.getPhoneParser(e,false)];case 1:t=s.sent();if(!t){return[2]}n=t.isShortNumber()||t.isSpecialNumber();r=[];r.push(e);if(!t.isShortNumber())return[3,2];o=t.getE164();if(o.length&&o!==e){r.push(o)}return[3,5];case 2:if(!(!t.isShortNumber()&&!t.isSpecialNumber()))return[3,5];o=t.getE164();if(o.length&&o!==e){r.push(o)}i=t.getCountryCode();if(!i.length)return[3,5];a=o.indexOf(i);if(a===-1){return[2]}u=e.indexOf("+");if(u===0){r.push(e.substr(1))}return[4,this.phoneParserModule.getStationCountryCode()];case 3:c=s.sent();return[4,this.phoneParserModule.getStationAreaCode()];case 4:l=s.sent();if(c&&c===i){f=o.substr(a+i.length);if(f.length&&f!==o){r.push(f);d=t.getAreaCode();if(d.length){if(l===d){r.push(t.getNumber())}r.push("0"+f)}}}s.label=5;case 5:return[2,{numberList:r,isShortOrSpecial:n}]}}))}))};return PhoneNumberController}();var l=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var f=function(e){l(PhoneNumberService,e);function PhoneNumberService(){return e!==null&&e.apply(this,arguments)||this}PhoneNumberService.prototype.getPhoneNumberController=function(){if(!this._phoneNumberController){this._phoneNumberController=new c}return this._phoneNumberController};PhoneNumberService.prototype.getE164PhoneNumber=function(e){return this.getPhoneNumberController().getE164PhoneNumber(e)};PhoneNumberService.prototype.getLocalCanonical=function(e){return this.getPhoneNumberController().getLocalCanonical(e)};PhoneNumberService.prototype.isShortNumber=function(e){return this.getPhoneNumberController().isShortNumber(e)};PhoneNumberService.prototype.isSpecialNumber=function(e){return this.getPhoneNumberController().isSpecialNumber(e)};PhoneNumberService.prototype.isServiceFeatureNumber=function(e){return this.getPhoneNumberController().isServiceFeatureNumber(e)};PhoneNumberService.prototype.isValidNumber=function(e){return this.getPhoneNumberController().isValidNumber(e)};PhoneNumberService.prototype.generateMatchedPhoneNumberList=function(e){return this.getPhoneNumberController().generateMatchedPhoneNumberList(e)};return PhoneNumberService}(i.Kb);var d=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var p=function(e){d(PhoneNumberModule,e);function PhoneNumberModule(){var t=e!==null&&e.apply(this,arguments)||this;t._service=new f;return t}PhoneNumberModule.prototype.onLoad=function(){};PhoneNumberModule.prototype.onUnload=function(){};PhoneNumberModule.prototype.moduleName=function(){return r.i};PhoneNumberModule.prototype.getE164PhoneNumber=function(e){return this._service.getE164PhoneNumber(e)};PhoneNumberModule.prototype.getLocalCanonical=function(e){return this._service.getLocalCanonical(e)};PhoneNumberModule.prototype.isShortNumber=function(e){return this._service.isShortNumber(e)};PhoneNumberModule.prototype.isSpecialNumber=function(e){return this._service.isSpecialNumber(e)};PhoneNumberModule.prototype.isServiceFeatureNumber=function(e){return this._service.isServiceFeatureNumber(e)};PhoneNumberModule.prototype.isValidNumber=function(e){return this._service.isValidNumber(e)};PhoneNumberModule.prototype.generateMatchedPhoneNumberList=function(e){return this._service.generateMatchedPhoneNumberList(e)};return PhoneNumberModule}(o.AbstractModule)},274251:(e,t,n)=>{"use strict";n.d(t,{iJ:()=>o.i,if:()=>o.g,Iv:()=>i.Iv,fk:()=>i.fk,vX:()=>i.vX,zQ:()=>a.z});var r=n(299318);var o=n(91287);var i=n(822466);var a=n(596548)},237420:(e,t,n)=>{"use strict";n.d(t,{t:()=>u});var r=n(452898);var o=n(864183);var i=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var a=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var u=function(){function PhoneParser(e,t){this._phoneParser=e;this._module=t}PhoneParser.prototype.getE164=function(e){if(e===void 0){e=true}return this._phoneParser.getE164Extended(e)};PhoneParser.prototype.getE164TAS=function(e){if(e===void 0){e=false}return this._phoneParser.getE164TAS(e)};PhoneParser.prototype.getCanonical=function(e){if(e===void 0){e=true}return this._phoneParser.getCanonical(e)};PhoneParser.prototype.getLocalCanonical=function(e){if(e===void 0){e=true}return this._phoneParser.getLocalCanonical(e)};PhoneParser.prototype.isShortNumber=function(){return this._phoneParser.isRCExtension()};PhoneParser.prototype.isTollFree=function(){return this._phoneParser.isTollFree()};PhoneParser.prototype.isSpecialNumber=function(){return this._phoneParser.isSpecialNumber()};PhoneParser.prototype.isServiceFeatureNumber=function(){var e;return((e=this._phoneParser.getServiceCodeType())===null||e===void 0?void 0:e.value)!==r.rl.enPDSFTUnknown};PhoneParser.prototype.checkValidForCountry=function(e){return this._phoneParser.checkValidForCountry(e)};PhoneParser.prototype.getSpecialPrefixMask=function(){return this._phoneParser.getSpecialPrefixMask()};PhoneParser.prototype.getSpecialNumberTemplate=function(){return this._phoneParser.getSpecialNumberTemplate()};PhoneParser.prototype.isEmpty=function(){return this._phoneParser.isEmpty()};PhoneParser.prototype.isValid=function(){return this._phoneParser.getNumber().length!==0};PhoneParser.prototype.isEqualToPhoneNumber=function(e){return i(this,void 0,Promise,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this._module.getPhoneParser(e,false)];case 1:t=n.sent();if(!t){return[2,false]}return[2,this.getE164()===t.getE164()]}}))}))};PhoneParser.prototype.isInternationalDialing=function(e){return i(this,void 0,Promise,(function(){var t;return a(this,(function(n){switch(n.label){case 0:if(!e){o.k.info("isInternationalDialing: can not get rc main number.");return[2,false]}if(this.isShortNumber()||this.isServiceFeatureNumber()){return[2,false]}return[4,this._module.getPhoneParser(e,false)];case 1:t=n.sent();if(!t){return[2,false]}if(this.isUSAOrCanada()&&t.isUSAOrCanada()||this.getCountryName()===t.getCountryName()){return[2,false]}return[2,true]}}))}))};PhoneParser.prototype.getCountryCode=function(){return this._phoneParser.getCountryCode()};PhoneParser.prototype.getAreaCode=function(){return this._phoneParser.getAreaCode()};PhoneParser.prototype.getCountryId=function(){return this._phoneParser.getCountryId()};PhoneParser.prototype.isUSAOrCanada=function(){var e=this.getCountryId();return e===1||e===39};PhoneParser.prototype.getCountryName=function(){return this._phoneParser.getCountryName()};PhoneParser.prototype.getDialableNumber=function(){return this._phoneParser.getDialable(false)};PhoneParser.prototype.getNumber=function(){return this._phoneParser.getNumber()};PhoneParser.prototype.getDtmfPostfix=function(){return this._phoneParser.getDtmfPostfix()};PhoneParser.prototype.getSubAddress=function(){return this._phoneParser.getSubAddress()};PhoneParser.prototype.getDialableExtended=function(e){return this._phoneParser.getDialableExtended(e)};PhoneParser.prototype.isUKTextRelayService=function(){var e;return((e=this._phoneParser.getSpecialPrefixType())===null||e===void 0?void 0:e.value)===r.Ng.enPDSpecPrefixUKTextRelayService};return PhoneParser}()},877806:(e,t,n)=>{"use strict";n.r(t);n.d(t,{PhoneParserModule:()=>b});var r=n(452898);var o=n(302186);var i=n(667489);var a=n(862926);var u=n(87837);var s=n(864183);var c=n(106422);var l=n(787466);var gen=function(e,t,n){if(e===void 0){e="id"}if(t===void 0){t=[]}return{unique:e,indices:t,onUpgrade:n}};var f={name:"PhoneParser",version:1,schema:{1:{userConfigs:gen("key")}}};const d=f;var p=n(237420);var h=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var v=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var g=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var _="[PhoneParserModule]";var y=s.k.tags(_);var b=function(e){h(PhoneParserModule,e);function PhoneParserModule(t){var n=e.call(this,t)||this;n._isStationLocationSet=false;n._triggerForceInit=function(){var forceInit=function(){n.initPhoneParser(true)};if(n._initStatus===u.F5.INITIALIZING){n._initQueue.push((function(){forceInit()}));return}forceInit()};n._getHealthyStatus=function(){return v(n,void 0,void 0,(function(){var e;return g(this,(function(t){switch(t.label){case 0:if(!this.isLoaded())return[3,2];e={initStatus:this._initStatus,isLibExist:this._lib?true:false};return[4,this.getPhoneDataFileVersion()];case 1:return[2,(e.phoneDataVersion=t.sent(),e)];case 2:return[2,{}]}}))}))};n._initStatus=u.F5.IDLE;n._initQueue=[];return n}PhoneParserModule.prototype.onLoad=function(){this.userConfig.on(l.J.PHONE_DATA,this._triggerForceInit);this._initHealthyModule()};PhoneParserModule.prototype.onUnload=function(){this._disposeHealthyModule();this.userConfig.off(l.J.PHONE_DATA,this._triggerForceInit)};PhoneParserModule.prototype.getSchema=function(){return d};PhoneParserModule.prototype.moduleName=function(){return u.CT};Object.defineProperty(PhoneParserModule.prototype,"userConfig",{get:function(){if(!this._userConfig){this._userConfig=new c.H(this.daoManager.getDBConfigService())}return this._userConfig},enumerable:true,configurable:true});PhoneParserModule.prototype.isInit=function(){return this._initStatus===u.F5.INITIALIZED};PhoneParserModule.prototype.initPhoneParser=function(e){return v(this,void 0,Promise,(function(){var t,n,r;var i=this;return g(this,(function(c){switch(c.label){case 0:y.info("Start initializing PhoneParser",{force:e});t=o.Pal.instance.getLifecycle();return[4,t.when(o.AppLifecyclePhase.Restored)];case 1:c.sent();if(e){this._initStatus=u.F5.IDLE}if(this.isInit()){return[2,true]}if(this._initStatus===u.F5.INITIALIZING){return[2,new Promise((function(e){i._initQueue.push(e)}))]}this._initStatus=u.F5.INITIALIZING;n=s.k.performance();return[4,this._loadPhoneParser().catch((function(e){y.warn("init failed:",e);return false}))];case 2:r=c.sent();n.end({key:u.T1.INIT_PHONE_PARSER,level:a.LOG_CONTROL_LEVEL.HIGH,infos:{result:r}});this._initFinished(r);return[2,r]}}))}))};PhoneParserModule.prototype.getPhoneParser=function(e,t){if(t===void 0){t=false}return v(this,void 0,Promise,(function(){var n;return g(this,(function(r){switch(r.label){case 0:if(typeof e!=="string"){y.trace("phone number is not a string");return[2]}return[4,this._canGetPhoneParser()];case 1:if(!r.sent()){y.log("can not get phone parser",{phoneNumber:e,useDefaultSettingsKey:t});return[2]}if(t){n=this._lib.getSettingsKey("1650",1210)}else{n=this._lib.getStationSettingsKey()}return[2,new p.t(this._lib.getPhoneParser(e,n),this)]}}))}))};PhoneParserModule.prototype.getPhoneDataFileVersion=function(){var e=this;return this._canGetPhoneParser().then((function(t){return t?e._lib.getPhoneDataFileVersion():undefined}))};PhoneParserModule.prototype.getStationCountryCode=function(){var e=this;return this._canGetPhoneParser().then((function(t){return t?e._lib.getStationCountryCode():undefined}))};PhoneParserModule.prototype.getStationAreaCode=function(){var e=this;return this._canGetPhoneParser().then((function(t){return t?e._lib.getStationAreaCode():undefined}))};PhoneParserModule.prototype.setStationLocation=function(e){var t;var n=e.szCountryCode,r=e.szAreaCode,o=e.brandId,a=o===void 0?0:o,s=e.maxShortLen,c=s===void 0?-1:s,l=e.shortPstnPossible,f=l===void 0?false:l,d=e.siteCode,p=d===void 0?"":d,h=e.shortPinLen,v=h===void 0?0:h,g=e.outboundCallPrefix,_=g===void 0?"":g;if(!this._lib){return false}this._lib.setStationLocation(n,r,a,c,f,p,v,_);(t=this._stationLocationBarrier)===null||t===void 0?void 0:t.open();this._isStationLocationSet=true;i.notificationCenter.emit(u.pz.STATION_UPDATE);return true};PhoneParserModule.prototype.waitStationLocationSettingReady=function(){var e;if(this._isStationLocationSet){(e=this._stationLocationBarrier)===null||e===void 0?void 0:e.open();return Promise.resolve(true)}if(!this._stationLocationBarrier){this._stationLocationBarrier=new a.Barrier}return this._stationLocationBarrier.wait()};PhoneParserModule.prototype.getStationSettingsKey=function(){var e=this;return this._canGetPhoneParser().then((function(t){return t?e._lib.getStationSettingsKey():undefined}))};PhoneParserModule.prototype.getRegionalInfo=function(e,t){var n=this;return this._canGetPhoneParser().then((function(r){return r?n._lib.getRegionalInfo(e,t):undefined}))};PhoneParserModule.prototype.isAreaCodeValid=function(e,t){return this.getRegionalInfo(e,t).then((function(e){return!!(e&&!e.hasBan())}))};PhoneParserModule.prototype.isStationUK=function(){return this.getStationCountryCode().then((function(e){return e===u.Z8.UK}))};PhoneParserModule.prototype.isStationUSorCA=function(){return this.getStationCountryCode().then((function(e){return e===u.Z8.US_OR_CA}))};PhoneParserModule.prototype._initFinished=function(e){y.info("Finish initializing PhoneParser",{success:e});this._initStatus=e?u.F5.INITIALIZED:u.F5.IDLE;this._initQueue.forEach((function(t){t(e)}));this._initQueue=[];i.notificationCenter.emitKVChange(u.pz.INIT,e)};PhoneParserModule.prototype._canGetPhoneParser=function(){return v(this,void 0,Promise,(function(){return g(this,(function(e){return[2,this.isInit()||this.initPhoneParser(false)]}))}))};PhoneParserModule.prototype._initHealthyModule=function(){this._healthModuleController=new i.HealthModuleController(Symbol(this.moduleName()),this.moduleName(),{PhoneParserInfo:this._getHealthyStatus});this._healthModuleController.init()};PhoneParserModule.prototype._disposeHealthyModule=function(){this._healthModuleController&&this._healthModuleController.dispose()};PhoneParserModule.prototype._loadPhoneParser=function(){return v(this,void 0,Promise,(function(){var e,t,n,o,i,a,u,s;return g(this,(function(c){switch(c.label){case 0:return[4,(0,r.Ry)()];case 1:e=c.sent();t=this;return[4,e.default()];case 2:t._lib=c.sent();if(!this._lib){y.error("get phone parser lib failed, lib is undefined!!");this._doErrorTrackingForInitPhoneParser("GET_LIB_FAIL");return[2,false]}y.info("get phone parser lib success, try to read phone data");return[4,this.userConfig.getPhoneData()];case 3:n=c.sent();if(!n)return[3,8];c.label=4;case 4:c.trys.push([4,5,,7]);this._lib.readRootNodeByString(n);return[3,7];case 5:o=c.sent();y.warn("read phone parser failed with error, try read default data and delete invalid phone data",{error:o});a=(i=this._lib).readRootNodeByString;return[4,(0,r.zi)()];case 6:a.apply(i,[c.sent()]);this._removePhoneData();this._doErrorTrackingForInitPhoneParser("READ_ROOT_NODE_FAIL",JSON.stringify(o));return[3,7];case 7:return[3,10];case 8:y.info("no phone parser data in local, read default one");s=(u=this._lib).readRootNodeByString;return[4,(0,r.zi)()];case 9:s.apply(u,[c.sent()]);c.label=10;case 10:return[2,true]}}))}))};PhoneParserModule.prototype._removePhoneData=function(){y.info("_removePhoneData in DB");return this.userConfig.removePhoneData().catch((function(e){y.info("remove invalid phone data with error",{error:e})}))};PhoneParserModule.prototype._doErrorTrackingForInitPhoneParser=function(e,t){if(t===void 0){t=""}(0,a.doErrorTracking)(a.EVENT_DATA_FEATURE.COMMON,{key:u.RH.INIT_PHONE_PARSER+"_"+e,message:t,level:a.LOG_CONTROL_LEVEL.HIGH})};return PhoneParserModule}(i.AbstractModule)},787466:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,J:()=>o});var r="phoneParser";var o={PHONE_DATA:"PHONE_DATA"}},106422:(e,t,n)=>{"use strict";n.d(t,{H:()=>s});var r=n(469882);var o=n(787466);var i=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var a=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var u=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var s=function(e){i(PhoneParserUserConfig,e);function PhoneParserUserConfig(t){return e.call(this,o.L,t)||this}PhoneParserUserConfig.prototype.setPhoneData=function(e){return a(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.put(o.J.PHONE_DATA,e)];case 1:t.sent();return[2]}}))}))};PhoneParserUserConfig.prototype.getPhoneData=function(){return a(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.get(o.J.PHONE_DATA)];case 1:return[2,e.sent()]}}))}))};PhoneParserUserConfig.prototype.removePhoneData=function(){return this.remove(o.J.PHONE_DATA)};return PhoneParserUserConfig}(r.DBConfig)},87837:(e,t,n)=>{"use strict";n.d(t,{CT:()=>o,pz:()=>i,F5:()=>a,Z8:()=>u,RH:()=>s,T1:()=>c});var r=n(295454);var o=r.Lb.PHONE_PARSER;var i={INIT:o+".INIT",STATION_UPDATE:"PHONE_PARSER.STATION_UPDATE"};var a;(function(e){e[e["IDLE"]=0]="IDLE";e[e["INITIALIZING"]=1]="INITIALIZING";e[e["INITIALIZED"]=2]="INITIALIZED"})(a||(a={}));var u={UK:"44",US_OR_CA:"1"};var s;(function(e){e["INIT_PHONE_PARSER"]="ERROR_P_PHONE_PARSER_INIT"})(s||(s={}));var c;(function(e){e["INIT_PHONE_PARSER"]="PERFORMANCE_P_PHONE_PARSER_INIT"})(c||(c={}))},642107:(e,t,n)=>{"use strict";n.d(t,{PHONE_PARSER_EVENT:()=>a.pz,PHONE_PARSER_MODULE:()=>a.CT});var r=n(877806);var o=n(237420);var i=n(106422);var a=n(87837)},864183:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(862926);var o=n.n(r);var i=n(87837);var a=r.ModuleLogger.getLogger(i.CT,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.COMMON)},671898:(e,t,n)=>{"use strict";n.d(t,{y:()=>a});var r=n(667489);var o=n.n(r);var i=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var a=function(e){i(IRCAccount,e);function IRCAccount(){return e!==null&&e.apply(this,arguments)||this}return IRCAccount}(r.ISubAccount)},978083:(e,t,n)=>{"use strict";n.d(t,{_:()=>Y});var r=n(862926);var o=n(376639);var i=n(963786);var a=n(424843);var u=n(7828);var s=n(667489);var c=n(672102);var l=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var f=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var d=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var p=function(e){l(GenerateRCCodeKeyAction,e);function GenerateRCCodeKeyAction(t){if(t===void 0){t=s.ActionWeight.NORMAL}return e.call(this,t)||this}GenerateRCCodeKeyAction.prototype.getAction=function(){return f(this,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return[4,c.V.generateRCCode];case 1:return[2,e.sent()]}}))}))};return GenerateRCCodeKeyAction}(s.AbstractKeyAction);var h=n(814678);var v=n(298784);var g=n.n(v);var _=n(190547);var y=n(827027);var b=n(671898);var C=n(338320);var m=n(748087);var S=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var E=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var I=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var w=function(e){S(RCDataCenter,e);function RCDataCenter(){return e!==null&&e.apply(this,arguments)||this}RCDataCenter.prototype.setAccountInfoService=function(e){this._accountInfoService=e};RCDataCenter.prototype.startSyncData=function(){return E(this,void 0,Promise,(function(){return I(this,(function(e){switch(e.label){case 0:return[4,this._accountInfoService.syncRelativeInfo()];case 1:e.sent();return[2]}}))}))};RCDataCenter.prototype.startLoadData=function(){return E(this,void 0,Promise,(function(){return I(this,(function(e){this._accountInfoService.scheduleRelativeInfo();return[2]}))}))};return RCDataCenter}(s.DataCenter);var R=n(966499);var P=n(980092);var A=n(905968);var T=n(10783);var O=n(439477);var N=n(645947);var x=n(62427);var D=n(295454);var M=n(519025);var k="refresh token failure";var L=function(){function RCAccountEventLogController(){}RCAccountEventLogController.prototype.reportForceLogoutEvent=function(){var e={message:k,level:r.LOG_CONTROL_LEVEL.HIGH};r.dataTracerInstance.traceData(new r.CustomEvent("force logout",e))};return RCAccountEventLogController}();var F=n(456756);var U=new x.DiscoveryConfigSource(F.E,R.rj);s.configStoreManager.addConfigSource(F.E,U);var B=n(78557);var G=n(960782);var j=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var H=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var V=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var W=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var z=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var Y=function(e){j(RCAccount,e);function RCAccount(t,n,r,a,u,s,c,l){var f=e.call(this,t,n,new w,a)||this;f._apiConfig=r;f._code=u;f._tokenUri=s;f._discoveryUri=c;f._authSuccessDelegate=l;f._handleStorageTokenChange=function(e){var t=f.userConfig.getNotificationKey(C.LT.TOKEN);if(e.key===t){f._logger.tags(RCAccount.name).info(t+" is modified by another document, update it to ");f.accountNetworkCenter.updateNetworkToken(f.userConfig.getToken(true))}};f._handleDiscoveryPermissionChanged=function(){if(f.loginStatus!==i.IC.SUCCESS){f._logger.info("_onDiscoveryPermissionChanged, isNotLogin");return}var e=f.endpointsDiscovery.isEnable();f._logger.info("_onDiscoveryPermissionChanged",e);if(e){if(f.endpointsDiscovery.isEndpointsValid()){f.endpointsDiscovery.scheduleNextDiscovery()}else{f.endpointsDiscovery.startDiscovery({discoveryType:x.DISCOVERY_TYPE.INVALIDATE_EVENT})}}else{f.endpointsDiscovery.stopDiscovery()}};f._getRCAccountInfo=function(){var e=f.userConfig.getToken();var t=f.userConfig.getFirstLoginTimestamp();return{firstLoginTimestamp:t,accessTokenRequestTimestamp:e.timestamp,accessTokenExpiredInfo:e.expires_in,refreshTokenExpiredInfo:e.refresh_token_expires_in,loginStatus:f.loginStatus,getInitialDataFetched:f.userConfig.getInitialDataFetched()}};f._logger=o.k.tags(RCAccount.name);f._init();return f}Object.defineProperty(RCAccount.prototype,"userConfig",{get:function(){if(!this._userConfig){this._userConfig=new C.BH}return this._userConfig},enumerable:true,configurable:true});Object.defineProperty(RCAccount.prototype,"accountInfoService",{get:function(){if(!this._accountInfoService){this._accountInfoService=new m.oP({handleAccountData:this._handleAccountData.bind(this),setInitialDataFetched:this.userConfig.setInitialDataFetched.bind(this.userConfig)})}return this._accountInfoService},enumerable:true,configurable:true});RCAccount.prototype.getNetworkHandlerConfig=function(e){if(e===void 0){e=_.vm.RC_SERVER}return this.accountNetworkCenter.getNetworkHandlerConfig(e)};RCAccount.prototype.getApiConfig=function(e){return this._apiConfig[e]};RCAccount.prototype.buildNetworkClient=function(e,t,n){if(e===void 0){e=this._apiConfig.rc}if(t===void 0){t=this.getNetworkHandlerConfig()}if(n===void 0){n=y.responseParser}return this.accountNetworkCenter.buildNetworkClient(e,t,n,new O.v)};RCAccount.prototype.accountName=function(){return D._N.RC};RCAccount.prototype.internalLogin=function(){return W(this,void 0,Promise,(function(){var e;var t=this;return z(this,(function(n){switch(n.label){case 0:return[4,this._prepareLogin()];case 1:n.sent();return[4,this._startLogin().catch((function(e){t._logger.info("login failed,",e);return{success:false,error:e}}))];case 2:e=n.sent();this._preHandleLogin(e);h.rF.emitKVChange(_.FY.LOGIN,e);return[2]}}))}))};RCAccount.prototype.doRefreshToken=function(){return W(this,void 0,Promise,(function(){var e,t;return z(this,(function(n){switch(n.label){case 0:e=this.userConfig.getToken();return[4,R.Vi.refreshToken(e)];case 1:t=n.sent();this.userConfig.setToken(t);return[2,t]}}))}))};RCAccount.prototype.getRCToken=function(){return W(this,void 0,Promise,(function(){return z(this,(function(e){switch(e.label){case 0:return[4,this.accountNetworkCenter.getTokenHandler().getOAuthToken()];case 1:return[2,e.sent()||this.userConfig.getToken()]}}))}))};RCAccount.prototype.generateRCCode=function(e,t){if(t===void 0){t=P.P}return R.Vi.generateRCCode(e,t)};RCAccount.prototype.checkServerStatus=function(e){R.Vi.requestServerStatus(e)};RCAccount.prototype.onRefreshTokenFailure=function(e){var t;this._logger.tags(RCAccount.name).info("onRefreshTokenFailure, force logout:",e);if(e){this._logger.tags(RCAccount.name).custom(r.LOG_CUSTOM_TYPE.TYPE_PERSISTENT,"onRefreshTokenFailure, force logout");(t=this.rcAccountEventLogController)===null||t===void 0?void 0:t.reportForceLogoutEvent();this.delegate.onForceLogout()}};RCAccount.prototype.logout=function(){var e;return W(this,void 0,Promise,(function(){var t;return z(this,(function(n){switch(n.label){case 0:this._logger.info("logout");if(this.loginStatus===i.IC.LOGOUT_IN_PROGRESS){return[2,Promise.resolve()]}this.setLoginStatus(i.IC.LOGOUT_IN_PROGRESS);(e=this._revokeTokenListener)===null||e===void 0?void 0:e.call(this);n.label=1;case 1:n.trys.push([1,3,,4]);return[4,R.Vi.revoke({token:this.userConfig.getToken().access_token})];case 2:n.sent();return[3,4];case 3:t=n.sent();this._logger.warn("RCApi.revoke error: ",t);return[3,4];case 4:h.rF.emitKVChange(_.FY.LOGOUT);this.accountNetworkCenter.removeNetworkToken();this.delegate.onLogout();x.AbstractEndpointsDiscovery.unobserveCDNMultiInstanceFlagChanged(this._handleDiscoveryPermissionChanged);this.userConfig.clear();this._unsubscribeNotification();this._disposeHealthyModule();this.setLoginStatus(i.IC.ALREADY_LOGOUT);this._socketClient&&this._socketClient.offSocketEvent();return[2]}}))}))};RCAccount.prototype.forceLogout=function(){this._logger.info("forceLogout");this.delegate.onForceLogout()};Object.defineProperty(RCAccount.prototype,"endpointsDiscovery",{get:function(){return R.rj},enumerable:true,configurable:true});RCAccount.prototype.createTokenHandler=function(){var e=this;var t=new r.OAuthTokenHandler({token:this.userConfig.getToken(),name:this.accountName(),tokenRefreshable:true,tokenExpirable:true,doRefreshTokenFunc:function(){return e.doRefreshToken()}});var n={onRefreshTokenFailure:function(t){return e.onRefreshTokenFailure(t)},onRefreshTokenSuccess:function(){},onStartRefreshToken:function(){},onSurvivalModeDetected:function(){}};t.addListener(n);this._revokeTokenListener=function(){return t.deleteListener(n)};return t};RCAccount.prototype.createSocketClient=function(){this._initSocketClient();return undefined};RCAccount.prototype.setAuthSuccessDelegate=function(e){this._authSuccessDelegate=e};RCAccount.prototype.removeAuthSuccessDelegate=function(){this._authSuccessDelegate=undefined};RCAccount.prototype.createSurvivalModeHandler=function(){var e=this;return new r.NetworkRequestSurvivalMode((function(t){return e.checkServerStatus(t)}))};RCAccount.prototype.onAuthSuccess=function(t,n){return W(this,void 0,void 0,(function(){var r,o;return z(this,(function(i){switch(i.label){case 0:r=this._authSuccessDelegate;if(!r)return[3,2];return[4,this._authSuccessDelegate.handle(t,n)];case 1:r=i.sent();i.label=2;case 2:r;o=this.delegate.onAuth;if(!o)return[3,4];return[4,this.delegate.onAuth(true)];case 3:o=i.sent();i.label=4;case 4:o;return[4,e.prototype.onAuthSuccess.call(this,t,n)];case 5:i.sent();return[2]}}))}))};RCAccount.prototype._init=function(){this._initEndpointsDiscovery();this.accountNetworkCenter.buildNetworkRequestHandler({handlerConfig:R.GJ,requireTokenHandler:true,requireSurvivalModeHandler:true});this.accountNetworkCenter.buildNetworkRequestHandler({handlerConfig:R.LM});this.accountNetworkCenter.buildNetworkRequestHandler({handlerConfig:R.FE,requireTokenHandler:true,requireSurvivalModeHandler:true});this.accountNetworkCenter.buildNetworkRequestHandler({handlerConfig:R.pu,requireTokenHandler:true,requireSurvivalModeHandler:true});this.accountNetworkCenter.buildNetworkRequestHandler({handlerConfig:R.Xc,requireTokenHandler:true,requireSurvivalModeHandler:true});this.accountNetworkCenter.buildNetworkRequestHandler({handlerConfig:new R.My(this.endpointsDiscovery),requireTokenHandler:true,requireSurvivalModeHandler:true});this.getDataCenter().setAccountInfoService(this.accountInfoService);this._subscribeNotification();this._initHealthyModule();this._initCommonKeyAction()};RCAccount.prototype._initEndpointsDiscovery=function(){M.x0.initRCEndpointDiscovery(this.context,this._tokenUri,this._discoveryUri);U.init()};RCAccount.prototype._subscribeNotification=function(){window.addEventListener("storage",this._handleStorageTokenChange)};RCAccount.prototype._unsubscribeNotification=function(){window.removeEventListener("storage",this._handleStorageTokenChange)};RCAccount.prototype._preHandleLogin=function(e){this._logger.info("_preHandleLogin");e.success?this.setLoginStatus(i.IC.SUCCESS):this.setLoginStatus(i.IC.FAILURE,e.error);if(e.success){if(e.firstLogin){var t=Date.now();this.userConfig.setFirstLoginTimestamp(t);this._logger.custom(r.LOG_CUSTOM_TYPE.TYPE_PERSISTENT,"rc:"+this.userConfig.getExtensionId()+" first login time:"+t)}}this.delegate.onLogin(e)};RCAccount.prototype._prepareLogin=function(){return W(this,void 0,Promise,(function(){return z(this,(function(e){switch(e.label){case 0:this._logger.info("_prepareLogin");this._setupNetworkClient();return[4,x.AbstractEndpointsDiscovery.fetchCDNMultiInstanceFlagAndScheduleJob()];case 1:e.sent();x.AbstractEndpointsDiscovery.observeCDNMultiInstanceFlagChanged(this._handleDiscoveryPermissionChanged);return[2]}}))}))};RCAccount.prototype._setupNetworkClient=function(){var e=this.getNetworkHandlerConfig(_.vm.RC_SERVER);var t=this.getApiConfig(a.HttpConfigType.RC);if(e){R.Vi.rcNetworkClient=this.buildNetworkClient(t,e,y.responseParser)}var n=this.getNetworkHandlerConfig(_.vm.RC_AUTH);if(n){R.Vi.rcAuthNetworkClient=this.buildNetworkClient(t,n,y.responseParser)}};RCAccount.prototype._startLogin=function(){return W(this,void 0,Promise,(function(){var e,t,n;return z(this,(function(r){switch(r.label){case 0:e={success:false};t=this.userConfig.getToken();if(!t)return[3,2];return[4,this._loginWithToken()];case 1:n=r.sent();return[3,4];case 2:return[4,this._loginWithoutToken()];case 3:n=r.sent();r.label=4;case 4:e=n;this.firstLogin=e.firstLogin;return[2,e]}}))}))};RCAccount.prototype._initSocketClient=function(){if(!this._socketClient){this._socketClient=new B.$(R.Vi.requestWSToken)}return this._socketClient};RCAccount.prototype._loginWithToken=function(){return W(this,void 0,Promise,(function(){var e,t,n;return z(this,(function(r){switch(r.label){case 0:this._logger.info("_loginWithToken, already exist token");e=this.userConfig.getToken();t={success:false,firstLogin:false};this.accountNetworkCenter.updateNetworkToken(e);return[4,this._doDiscovery(e.access_token)];case 1:r.sent();n=this.userConfig.getInitialDataFetched();this._logger.info("_loginWithToken, initialDataFetched: ",n);t.firstLogin=!n;return[4,this.onAuthSuccess(this.userConfig.getToken(),t.firstLogin)];case 2:r.sent();t.success=true;return[2,t]}}))}))};RCAccount.prototype._loginWithoutToken=function(){var e,t;return W(this,void 0,Promise,(function(){var n,r,o,i;var a=this;return z(this,(function(u){switch(u.label){case 0:this._logger.info("_loginWithoutToken");n={success:false,firstLogin:true};r=function(){return a.authenticator.login((function(e){return W(a,void 0,void 0,(function(){return z(this,(function(t){this._logger.info("_loginWithoutToken, get token success");this.userConfig.setToken(e.token);this.accountNetworkCenter.updateNetworkToken(e.token);return[2]}))}))}))};o=this.endpointsDiscovery.getEndpoints();i=((t=(e=o===null||o===void 0?void 0:o.endpoints)===null||e===void 0?void 0:e[N.RC_ENDPOINT_TYPE.AUTH_TOKEN])===null||t===void 0?void 0:t.host)||(o===null||o===void 0?void 0:o.authTokenUri);this._logger.info("_loginWithoutToken,hasTokenUri:",!!i);if(!i)return[3,3];return[4,r()];case 1:u.sent();return[4,this._doDiscovery()];case 2:u.sent();return[3,6];case 3:return[4,this._doDiscovery(this._code)];case 4:u.sent();return[4,r()];case 5:u.sent();u.label=6;case 6:return[4,this.onAuthSuccess(this.userConfig.getToken(),!!n.firstLogin)];case 7:u.sent();n.success=true;return[2,n]}}))}))};RCAccount.prototype._doDiscovery=function(e){return W(this,void 0,Promise,(function(){var t;return z(this,(function(n){switch(n.label){case 0:t=this.endpointsDiscovery.isEnable();this._logger.info("isDiscoveryEnable:",t);if(!t){return[2,Promise.resolve(true)]}if(this.endpointsDiscovery.isEndpointsValid()){this._logger.info("loginDiscovery, endpointIsValid");this.endpointsDiscovery.scheduleNextDiscovery();return[2,Promise.resolve(true)]}this._logger.info("loginDiscovery, start");return[4,this.endpointsDiscovery.startDiscovery({tokenOrCode:e})];case 1:return[2,n.sent().success]}}))}))};RCAccount.prototype._handleAccountData=function(e,t){return W(this,void 0,Promise,(function(){return z(this,(function(n){switch(n.label){case 0:this._logger.info("start handle data");switch(t){case A.V.EXTENSION_INFO:{this._handleExtensionInfo(e);break}case A.V.ACCOUNT_INFO:{this._handleAccountInfo(e);break}default:break}return[4,this.getDataCenter().onDataChanged(e,t)];case 1:n.sent();return[2]}}))}))};RCAccount.prototype._handleExtensionInfo=function(e){this.userConfig.setExtensionId(e.id)};RCAccount.prototype._handleAccountInfo=function(e){this.userConfig.setAccountId(e.id);var t=g().get(e,"serviceInfo.brand.id","");t&&this.userConfig.setBrandId(t)};RCAccount.prototype._initHealthyModule=function(){this._healthModuleController=new u.HealthModuleController(Symbol(this.accountName()),this.accountName(),{RCAccountInfo:this._getRCAccountInfo});this._healthModuleController.init()};RCAccount.prototype._disposeHealthyModule=function(){this._healthModuleController&&this._healthModuleController.dispose()};RCAccount.prototype.addBrandNamePrefix=function(e){var t=this.userConfig.getBrandId();var n=T.DEFAULT_UNIQUE_ID_PREFIX;if(t){n=T.uniqueIdPrefixConfig.getConfig().uniqueIdPrefix||T.DEFAULT_UNIQUE_ID_PREFIX_OTHER}return n+"-"+e};RCAccount.prototype.getUniqueId=function(){return this.addBrandNamePrefix(this.getExtensionId())};RCAccount.prototype.getUniqueOrganizationId=function(){return this.addBrandNamePrefix(this.userConfig.getAccountId())};RCAccount.prototype.getExtensionId=function(){return this.userConfig.getExtensionId()};RCAccount.prototype.getOrganizationId=function(){return this.userConfig.getAccountId()};Object.defineProperty(RCAccount.prototype,"rcAccountEventLogController",{get:function(){if(!this._rcAccountEventLogController){this._rcAccountEventLogController=new L}return this._rcAccountEventLogController},enumerable:true,configurable:true});RCAccount.prototype._initCommonKeyAction=function(){var e=(0,u.getModule)(G.COMMON_KEY_ACTION_MODULE).getKeyActionService();e===null||e===void 0?void 0:e.register(G.ACTION_KEY.GENERATE_RC_CODE,new p)};var t;H([r.SingleRequest,V("design:type",Function),V("design:paramtypes",[]),V("design:returntype",typeof(t=typeof Promise!=="undefined"&&Promise)==="function"?t:Object)],RCAccount.prototype,"doRefreshToken",null);return RCAccount}(b.y)},672102:(e,t,n)=>{"use strict";n.d(t,{V:()=>l});var r=n(862926);var o=n.n(r);var i=n(424843);var a=n(980092);var u=n(608139);var s=n.n(u);var c=undefined&&undefined.__assign||function(){c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return c.apply(this,arguments)};var l=function(){function RCApi(){}RCApi.oauthTokenViaAuthCode=function(e,t){var n=c(c({},e),{grant_type:"authorization_code",client_id:i.apiConfiguration.getConfig().rc.clientId});var o={headers:t,path:r.RequestPath.buildRequestPath(a.v.API_OAUTH_TOKEN),method:r.NETWORK_METHOD.POST,via:r.NETWORK_VIA.HTTP,HAPriority:r.HA_PRIORITY.HIGH,data:n,authFree:true};return RCApi.rcAuthNetworkClient.http(o).then((function(e){if(!e.timestamp){e.timestamp=Date.now()}return e}))};RCApi.refreshToken=function(e){var t={refresh_token:e.refresh_token,endpoint_id:e.endpoint_id,grant_type:"refresh_token",client_id:i.apiConfiguration.getConfig().rc.clientId};var n={path:r.RequestPath.buildRequestPath(a.v.API_OAUTH_TOKEN),method:r.NETWORK_METHOD.POST,data:t,authFree:true,via:r.NETWORK_VIA.HTTP,priority:r.REQUEST_PRIORITY.IMMEDIATE,HAPriority:r.HA_PRIORITY.HIGH};return new Promise((function(e,t){var callbackFunc=function(n){if(n.status>=200&&n.status<300){var o=n.data;if(!o.timestamp){o.timestamp=Date.now()}e(o);return}t(new r.JNetworkError(n.status.toString(),""))};var o=RCApi.rcAuthNetworkClient.getRequestByVia(n,r.NETWORK_VIA.HTTP);o.callback=callbackFunc;o.data=(0,u.stringify)(o.data);var i=RCApi.rcAuthNetworkClient.networkManager.httpClient;var a=new r.NetworkRequestExecutor(o,i);a.responseListener={onAccessTokenInvalid:function(){t(new r.JNetworkError(r.RESPONSE_STATUS_CODE.UNAUTHORIZED.toString(),""))},onSurvivalModeDetected:function(){}};a.execute()}))};RCApi.requestServerStatus=function(e){var t={path:r.RequestPath.buildRequestPath(a.v.API_STATUS),method:r.NETWORK_METHOD.GET,via:r.NETWORK_VIA.HTTP,priority:r.REQUEST_PRIORITY.IMMEDIATE,HAPriority:r.HA_PRIORITY.HIGH};return RCApi.rcNetworkClient.rawRequest(t).then((function(t){if(t.status>=200&&t.status<300){e(true,0);return true}var n=0;t.retryAfter&&(n=t.retryAfter);e(false,n);return false}))};RCApi.generateRCCode=function(e,t){if(t===void 0){t=a.P}var n={clientId:e,ttl:t};return RCApi.rcNetworkClient.http({path:r.RequestPath.buildRequestPath(a.v.API_GENERATE_CODE),method:r.NETWORK_METHOD.POST,via:r.NETWORK_VIA.HTTP,HAPriority:r.HA_PRIORITY.HIGH,data:n})};RCApi._getInfoRequestParams=function(e){return{method:r.NETWORK_METHOD.GET,authFree:false,via:r.NETWORK_VIA.HTTP,HAPriority:r.HA_PRIORITY.HIGH,path:r.RequestPath.buildRequestPath(e)}};RCApi.requestRCApiVersion=function(){var e=RCApi._getInfoRequestParams(a.v.API_VERSION);return RCApi.rcNetworkClient.http(e)};RCApi.requestRCClientInfo=function(){var e=RCApi._getInfoRequestParams(a.v.API_CLIENT_INFO);return RCApi.rcNetworkClient.http(e)};RCApi.requestRCAccountInfo=function(){var e=RCApi._getInfoRequestParams(a.v.API_ACCOUNT_INFO);return RCApi.rcNetworkClient.http(e)};RCApi.requestRCExtensionInfo=function(){var e=RCApi._getInfoRequestParams(a.v.API_EXTENSION_INFO);return RCApi.rcNetworkClient.http(e)};RCApi.requestRCExtensionInstances=function(){var e=RCApi._getInfoRequestParams(a.v.API_EXTENSION_INSTANCES);return RCApi.rcNetworkClient.http(c(c({},e),{HAPriority:r.HA_PRIORITY.BASIC}))};RCApi.requestRCExtensionFeaturesInfo=function(){var e=RCApi._getInfoRequestParams(a.v.API_EXTENSION_FEATURES_INFO);return RCApi.rcNetworkClient.http(e)};RCApi.requestRCRolePermissions=function(){var e=RCApi._getInfoRequestParams(a.v.API_ROLE_PERMISSIONS);return RCApi.rcNetworkClient.http(e)};RCApi.revoke=function(e){Object.assign(e,{grant_type:"authorization_code",client_id:i.apiConfiguration.getConfig().rc.clientId});var t={method:r.NETWORK_METHOD.POST,path:r.RequestPath.buildRequestPath(a.v.API_OAUTH_REVOKE),data:e,authFree:true,via:r.NETWORK_VIA.HTTP,HAPriority:r.HA_PRIORITY.HIGH,timeout:1e3};return RCApi.rcNetworkClient.http(t)};RCApi.requestWSToken=function(){var e={method:r.NETWORK_METHOD.POST,path:r.RequestPath.buildRequestPath(a.v.API_RC_SOCKET_OAUTH_TOKEN),via:r.NETWORK_VIA.HTTP,HAPriority:r.HA_PRIORITY.HIGH};return RCApi.rcNetworkClient.http(e)};return RCApi}()},980092:(e,t,n)=>{"use strict";n.d(t,{v:()=>o,P:()=>i});var r=n(827027);var o={API_OAUTH_TOKEN:"/oauth/token",API_RC_SOCKET_OAUTH_TOKEN:"/oauth/wstoken",API_OAUTH_REVOKE:"/oauth/revoke",API_GENERATE_CODE:"/"+r.API_VERSION+"/interop/generate-code",API_STATUS:"/"+r.API_VERSION+"/status",API_VERSION:"",API_CLIENT_INFO:"/"+r.API_VERSION+"/client-info",API_ACCOUNT_INFO:"/"+r.API_VERSION+"/account/~",API_EXTENSION_INFO:"/"+r.API_VERSION+"/account/~/extension/~",API_EXTENSION_INSTANCES:"/"+r.API_VERSION+"/account/~/extension/~/instances",API_ROLE_PERMISSIONS:"/"+r.API_VERSION+"/account/~/extension/~/authz-profile",API_EXTENSION_FEATURES_INFO:"/"+r.API_VERSION+"/account/~/extension/~/features"};var i=5*60},941036:(e,t,n)=>{"use strict";n.d(t,{My:()=>p,LM:()=>_,pu:()=>y,rj:()=>h,GJ:()=>v,FE:()=>g,Xc:()=>b});var r=n(62427);var o=n(862926);var i=n(667489);var a=n(190547);var u=n(645947);var s=n(608139);var c=n(302186);var l=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var f=function(e){l(RCAuthHandlerConfig,e);function RCAuthHandlerConfig(){return e!==null&&e.apply(this,arguments)||this}RCAuthHandlerConfig.prototype.getRequestDecorator=function(){return function(e){e.headers[o.X_USER_AGENT]=c.Pal.instance.getPlatformUtils().buildUserAgentForHttp();e.data=(0,s.stringify)(e.data);return{success:true}}};RCAuthHandlerConfig.prototype.replaceHost=function(t){t.path="";return e.prototype.replaceHost.call(this,t)};RCAuthHandlerConfig.prototype.getEndpointHost=function(){var t;var n=((t=this.endpointsDiscovery.getEndpoints())===null||t===void 0?void 0:t.authTokenUri)||e.prototype.getEndpointHost.call(this);return n};return RCAuthHandlerConfig}(u.RCHandlerConfig);var d=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var p=function(e){d(RCCustomEndpointHandlerConfig,e);function RCCustomEndpointHandlerConfig(t){return e.call(this,{name:a.vm.RC_CUSTOM_ENDPOINT,defaultVia:o.NETWORK_VIA.HTTP,endpointType:"",endpointsDiscovery:t})||this}RCCustomEndpointHandlerConfig.prototype.replaceHost=function(e){var t;var n=((t=e.requestConfig)===null||t===void 0?void 0:t["customEndpoint"])&&this.endpointsDiscovery.getEndpointHostByType(e.requestConfig["customEndpoint"]);if(n){e.host=n;return true}return false};return RCCustomEndpointHandlerConfig}(u.RCHandlerConfig);var h=new u.RCEndpointsDiscovery;var v=new u.RCHandlerConfig({name:a.vm.RC_SERVER,defaultVia:o.NETWORK_VIA.HTTP,endpointType:u.RC_ENDPOINT_TYPE.CORE_BASE,endpointsDiscovery:h,fallbackHostGetter:function(){return i.apiConfiguration.getConfig().rc.server}});var g=new u.RCHandlerConfig({name:a.vm.RCV,defaultVia:o.NETWORK_VIA.HTTP,endpointType:u.RC_ENDPOINT_TYPE.RCV_BASE_API,endpointsDiscovery:h,fallbackHostGetter:function(){return i.apiConfiguration.getConfig().rcv.server}});var _=new f({name:a.vm.RC_AUTH,defaultVia:o.NETWORK_VIA.HTTP,endpointType:u.RC_ENDPOINT_TYPE.AUTH_TOKEN,endpointsDiscovery:h,fallbackHostGetter:function(){return i.apiConfiguration.getConfig().rc.server+"/restapi/oauth/token"}});var y=new r.DiscoveryHandlerConfig({name:a.vm.RC_DISCOVERY,defaultVia:o.NETWORK_VIA.HTTP,getAPIUserAgent:function(){var e;return(e=c.Pal.instance.getPlatformUtils())===null||e===void 0?void 0:e.buildUserAgentForHttp()}});var _isMockWebinar=function(){return o.DebugUtils.isFeatureMode("mockWebinar")};var b=new u.RCHandlerConfig({name:a.vm.WEBINAR,defaultVia:o.NETWORK_VIA.HTTP,endpointType:_isMockWebinar()?"TBD":u.RC_ENDPOINT_TYPE.RCW_BASE_API,endpointsDiscovery:h,fallbackHostGetter:function(){return undefined}})},575372:(e,t,n)=>{"use strict";n.d(t,{O:()=>l});var r=n(966499);var o=n(338320);var i=n(185805);var a=n(38942);var u=undefined&&undefined.__assign||function(){u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return u.apply(this,arguments)};var s=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var c=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var l=function(){function RCCodeAuthenticator(e,t,n){if(t===void 0){t=""}if(n===void 0){n=""}this._authCode=e;this._redirectSubPath=t;this._pkceState=n}RCCodeAuthenticator.prototype.login=function(e){return s(this,void 0,Promise,(function(){var t,n,i;return c(this,(function(a){switch(a.label){case 0:t={code:this._authCode,redirect_uri:""+window.location.origin+this._redirectSubPath,endpoint_id:o.Lh.getEndpointId()};return[4,this.getDecoratedParams(t)];case 1:n=a.sent();return[4,r.Vi.oauthTokenViaAuthCode(n)];case 2:i=a.sent();return[4,e({token:i})];case 3:a.sent();return[2]}}))}))};RCCodeAuthenticator.prototype.getDecoratedParams=function(e){return s(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:return[4,i.I.getFeatureFlag(a.G.ENABLE_PKCE_OAUTH,true)];case 1:t=r.sent();n=o.Lh.getPKCEState();if(t&&this._pkceState===n){return[2,u(u({},e),{code_verifier:o.Lh.getPKCECodeVerifier()})]}return[2,e]}}))}))};return RCCodeAuthenticator}()},980551:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var r=n(711719);var o=n.n(r);var i=n(667489);var a=n.n(i);var u=n(418508);var s=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var c=function(e){s(RCAccountGlobalConfig,e);function RCAccountGlobalConfig(){return e!==null&&e.apply(this,arguments)||this}RCAccountGlobalConfig.setEndpointId=function(e){this.put(u.LT.ENDPOINT_ID,e)};RCAccountGlobalConfig.removeEndpointId=function(){this.remove(u.LT.ENDPOINT_ID)};RCAccountGlobalConfig.getEndpointId=function(){var e=this.get(u.LT.ENDPOINT_ID);if(!e){e=(0,r.v4)().substring(0,u.TJ);RCAccountGlobalConfig.setEndpointId(e)}return e};RCAccountGlobalConfig.setPKCECodeVerifier=function(e){this.put(u.LT.PKCE_CODE_VERIFIER,e)};RCAccountGlobalConfig.getPKCECodeVerifier=function(){return this.get(u.LT.PKCE_CODE_VERIFIER)};RCAccountGlobalConfig.removePKCECodeVerifier=function(){this.remove(u.LT.PKCE_CODE_VERIFIER)};RCAccountGlobalConfig.setPKCEState=function(e){this.put(u.LT.PKCE_STATE,e)};RCAccountGlobalConfig.getPKCEState=function(){return this.get(u.LT.PKCE_STATE)};RCAccountGlobalConfig.removePKCEState=function(){this.remove(u.LT.PKCE_STATE)};RCAccountGlobalConfig.moduleName=u.Li;return RCAccountGlobalConfig}(i.GlobalConfig)},418508:(e,t,n)=>{"use strict";n.d(t,{LT:()=>o,Li:()=>i,TJ:()=>a});var r=n(190547);var o={TOKEN:"token",EXTENSION_ID:"extension_id",ACCOUNT_ID:"account_id",BRAND_ID:"brand_id",INITIAL_DATA_FETCHED:"initial_data_fetched",FIRST_LOGIN_TIMESTAMP:"first_login_timestamp",ENDPOINT_ID:"endpoint_id",PKCE_CODE_VERIFIER:"pkce_code_verifier",PKCE_STATE:"pkce_state"};var i=r.oF.toLowerCase();var a=64},338320:(e,t,n)=>{"use strict";n.d(t,{Lh:()=>u.L,BH:()=>a,LT:()=>o.LT});var r=n(469882);var o=n(418508);var i=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var a=function(e){i(RCAccountUserConfig,e);function RCAccountUserConfig(){return e.call(this,o.Li)||this}RCAccountUserConfig.prototype.setToken=function(e){this.put(o.LT.TOKEN,e)};RCAccountUserConfig.prototype.getToken=function(e){if(e===void 0){e=false}return this.get(o.LT.TOKEN,e)};RCAccountUserConfig.prototype.setExtensionId=function(e){this.put(o.LT.EXTENSION_ID,e)};RCAccountUserConfig.prototype.getExtensionId=function(){return this.get(o.LT.EXTENSION_ID)};RCAccountUserConfig.prototype.setAccountId=function(e){this.put(o.LT.ACCOUNT_ID,e)};RCAccountUserConfig.prototype.getAccountId=function(){return this.get(o.LT.ACCOUNT_ID)};RCAccountUserConfig.prototype.setBrandId=function(e){this.put(o.LT.BRAND_ID,e)};RCAccountUserConfig.prototype.getBrandId=function(){return this.get(o.LT.BRAND_ID)};RCAccountUserConfig.prototype.setInitialDataFetched=function(e){this.put(o.LT.INITIAL_DATA_FETCHED,e)};RCAccountUserConfig.prototype.getInitialDataFetched=function(){return this.get(o.LT.INITIAL_DATA_FETCHED)};RCAccountUserConfig.prototype.setFirstLoginTimestamp=function(e){this.put(o.LT.FIRST_LOGIN_TIMESTAMP,e)};RCAccountUserConfig.prototype.getFirstLoginTimestamp=function(){return this.get(o.LT.FIRST_LOGIN_TIMESTAMP)};return RCAccountUserConfig}(r.UserConfig);var u=n(980551)},722751:(e,t,n)=>{"use strict";n.d(t,{C:()=>d});var r=n(862926);var o=n.n(r);var i=n(7828);var a=n(62427);var u=n(456756);var s=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var c=undefined&&undefined.__assign||function(){c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return c.apply(this,arguments)};var l=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var f=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var d=function(e){s(RCEndpointsDiscovery,e);function RCEndpointsDiscovery(){return e.call(this)||this}RCEndpointsDiscovery.isEnabledBeforeLogin=function(e){var t,n;return l(this,void 0,Promise,(function(){var r;return f(this,(function(o){switch(o.label){case 0:r=e;if(!r)return[3,2];return[4,a.AbstractEndpointsDiscovery.fetchCDNMultiInstanceFlag()];case 1:r=(n=(t=o.sent())===null||t===void 0?void 0:t.PLA)===null||n===void 0?void 0:n.discoveryRequired;o.label=2;case 2:return[2,!!r]}}))}))};RCEndpointsDiscovery.prototype.isEnable=function(){var e,t;return!!(i.apiConfiguration.getConfig().rc.discoveryServer&&((t=(e=a.AbstractEndpointsDiscovery.getLocalCDNMultiInstanceFlag())===null||e===void 0?void 0:e.PLA)===null||t===void 0?void 0:t.discoveryRequired))};RCEndpointsDiscovery.prototype.getDiscoveryHost=function(){var e,t,n,r;return l(this,void 0,Promise,(function(){var o,i;return f(this,(function(u){switch(u.label){case 0:o=((e=this.discoveryInternal)===null||e===void 0?void 0:e.discoveryUserConfig.getEndpoints())||{};i=o.discoveryExternal;if(!!i)return[3,2];this.logger.info("discoveryExternal host is empty, do initialDiscovery");return[4,a.AbstractEndpointsDiscovery.initialDiscovery()];case 1:i=(n=(t=u.sent())===null||t===void 0?void 0:t.discoveryApi)===null||n===void 0?void 0:n.defaultExternalUri;if(i){o.discoveryExternal=i;(r=this.discoveryInternal)===null||r===void 0?void 0:r.discoveryUserConfig.setEndpoints(o)}u.label=2;case 2:return[2,i]}}))}))};RCEndpointsDiscovery.prototype.generateDiscoveryAPIQuery=function(e){var t=e.host,n=e.token;var o={host:t,method:r.NETWORK_METHOD.GET,path:r.RequestPath.buildRequestPath("")};n&&(o.headers={Authorization:"Bearer "+n});return Promise.resolve(o)};RCEndpointsDiscovery.prototype.getModuleName=function(){return"rc"};RCEndpointsDiscovery.prototype.preHandleDiscoveryResponse=function(e){var t,n,r;var o=(t=e.headers)===null||t===void 0?void 0:t[u.IF];if(o){var i=((n=this.discoveryInternal)===null||n===void 0?void 0:n.discoveryUserConfig.getEndpoints())||{};i.discoveryTag=o;(r=this.discoveryInternal)===null||r===void 0?void 0:r.discoveryUserConfig.setEndpoints(i)}};RCEndpointsDiscovery.prototype.handleDiscoveryResponse=function(e){var t,n,r,o;var i=((t=this.discoveryInternal)===null||t===void 0?void 0:t.discoveryUserConfig.getEndpoints())||{};this.logger.info("handleDiscoveryResponse",e,i);e.version&&(i.version=e.version);((n=e.discoveryApi)===null||n===void 0?void 0:n.externalUri)&&(i.discoveryExternal=e.discoveryApi.externalUri);((r=e.authApi)===null||r===void 0?void 0:r.tokenUri)&&(i.authTokenUri=e.authApi.tokenUri);i.endpoints=c(c({},i.endpoints),this._transformEndpoints(e));i.expiresIn=e.expiresIn||u.s4;i.retryCount=e.retryCount||u.I7;i.retryInterval=e.retryInterval||u.pm;i.retryCycleDelay=e.retryCycleDelay||u.qk;(o=this.discoveryInternal)===null||o===void 0?void 0:o.discoveryUserConfig.setEndpoints(i)};RCEndpointsDiscovery.prototype._transformEndpoints=function(e){var t,n,r,o,i,a,s,c,l,f,d,p,h;var v={};this._transformEndpoint(v,u.nz.DISCOVERY_INITIAL,(t=e.discoveryApi)===null||t===void 0?void 0:t.initialUri);this._transformEndpoint(v,u.nz.DISCOVERY_EXTERNAL,(n=e.discoveryApi)===null||n===void 0?void 0:n.externalUri);this._transformEndpoint(v,u.nz.AUTH_AUTHORIZATION,(r=e.authApi)===null||r===void 0?void 0:r.authorizationUri);this._transformEndpoint(v,u.nz.AUTH_TOKEN,(o=e.authApi)===null||o===void 0?void 0:o.tokenUri);this._transformEndpoint(v,u.nz.CORE_BASE,(i=e.coreApi)===null||i===void 0?void 0:i.baseUri);this._transformEndpoint(v,u.nz.CORE_PUBNUB,(a=e.coreApi)===null||a===void 0?void 0:a.pubnubOrigin);this._transformEndpoint(v,u.nz.RCV_BASE_WEB,(s=e.rcv)===null||s===void 0?void 0:s.baseWebUri);this._transformEndpoint(v,u.nz.RCV_BASE_API,(c=e.rcv)===null||c===void 0?void 0:c.baseApiUri);this._transformEndpoint(v,u.nz.RCV_PUBNUB,(l=e.rcv)===null||l===void 0?void 0:l.pubnubOrigin);this._transformEndpoint(v,u.nz.RCM_BASE_WEB,(f=e.rcm)===null||f===void 0?void 0:f.baseWebUri);this._transformEndpoint(v,u.nz.RCM_SDK_DOMAIN,(d=e.rcm)===null||d===void 0?void 0:d.sdkDomain);this._transformEndpoint(v,u.nz.EDC,(p=e.edc)===null||p===void 0?void 0:p.baseUri);this._transformEndpoint(v,u.nz.RCW_BASE_API,(h=e.rcw)===null||h===void 0?void 0:h.baseApiUri);return v};RCEndpointsDiscovery.prototype._transformEndpoint=function(e,t,n){n&&(e[t]={host:n,scope:""})};return RCEndpointsDiscovery}(a.AbstractEndpointsDiscovery)},665516:(e,t,n)=>{"use strict";n.d(t,{IF:()=>r.IF,s4:()=>r.s4,I7:()=>r.I7,qk:()=>r.qk,pm:()=>r.pm,nz:()=>r.nz,CG:()=>o.C});var r=n(456756);var o=n(722751);var i=n(404766);var a=n.n(i);if(n.o(i,"RCHandlerConfig"))n.d(t,{RCHandlerConfig:function(){return i.RCHandlerConfig}})},404766:()=>{},526844:(e,t,n)=>{"use strict";n.d(t,{iB:()=>E});var r=n(862926);var o="Discovery-Required";var i=n(667489);var a=n(827027);var u=n(38942);var s=n(190547);var c=n(376639);var l=function(){function RCParserUtils(){}RCParserUtils.parse=function(e){var t=this;var n=e.data;var r=n.errors;if(r){var o={errorCode:"",errorMessage:"",payload:{}};if(Array.isArray(r)){r.some((function(e){return t._extractErrorInfo(o,e)}))}else{this._extractErrorInfo(o,r)}return o}return undefined};RCParserUtils._extractErrorInfo=function(e,t){if(typeof t.errorCode==="string"&&t.errorCode!==""){Object.keys(t).forEach((function(n){if(n==="errorCode"){e.errorCode=t[n].toUpperCase()}else if(n==="message"){e.errorMessage=t[n]||""}else{e.payload[n]=t[n]||""}}));return true}return false};return RCParserUtils}();var f=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var d=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var p=c.k.tags("[SiteAccessController]");var h=function(){function SiteAccessController(){}SiteAccessController.prototype.handleRequestError=function(e){var t;return f(this,void 0,Promise,(function(){var n,o;return d(this,(function(c){switch(c.label){case 0:c.trys.push([0,2,,3]);if(e.status!==r.RESPONSE_STATUS_CODE.FORBIDDEN){return[2]}n=l.parse(e);if((n===null||n===void 0?void 0:n.errorCode)!==a.ERROR_CODES_RC.OAU_167){return[2]}return[4,(t=this._featureFlagModule)===null||t===void 0?void 0:t.hasPermission(u.G.D_USE_SITE_ACCESS_CONTROL)];case 1:if(c.sent()){p.info("access on the site is forbidden");i.notificationCenter.emit(s.FY.SITE_ACCESS_FORBIDDEN)}return[3,3];case 2:o=c.sent();p.info("error found when checking site access",o);return[3,3];case 3:return[2]}}))}))};Object.defineProperty(SiteAccessController.prototype,"_featureFlagModule",{get:function(){return(0,i.getModule)(u.FEATURE_FLAG_MODULE)},enumerable:true,configurable:true});return SiteAccessController}();var v=new h;var g=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var _=function(e){g(RCNetworkRequestExecutor,e);function RCNetworkRequestExecutor(){return e!==null&&e.apply(this,arguments)||this}RCNetworkRequestExecutor.prototype.onSuccess=function(t){this._checkDiscoveryRequired(t);e.prototype.onSuccess.call(this,t)};RCNetworkRequestExecutor.prototype.onFailure=function(t){this._checkDiscoveryRequired(t);e.prototype.onFailure.call(this,t);v.handleRequestError(t)};RCNetworkRequestExecutor.prototype._checkDiscoveryRequired=function(e){var t;if((t=e.headers)===null||t===void 0?void 0:t[o]){this.responseListener.onDiscoveryNeeded()}};return RCNetworkRequestExecutor}(r.NetworkRequestExecutor);var y=n(62427);var b=n(665516);var C=n(608139);var m=n(302186);var getRCRequestDecorator=function(e){return function(t){if(!t.authFree&&e.tokenHandler&&e.tokenHandler.isOAuthAccessTokenExpired()){var n={success:false,error:r.DECORATION_ERROR.TOKEN_EXPIRED};return n}if(!e.tokenHandler){throw new Error("token handler can not be null.")}t.headers[r.X_USER_AGENT]=m.Pal.instance.getPlatformUtils().buildUserAgentForHttp();var o=t.headers;if(!o.Authorization){if(t.needAuth()&&e.tokenHandler.isOAuthTokenAvailable()){o.Authorization="Bearer "+e.tokenHandler.accessToken()}}var i=o.Authorization;if(!i){t.data=(0,C.stringify)(t.data)}return{success:true}}};var S=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var E=function(e){S(RCHandlerConfig,e);function RCHandlerConfig(){var t=e!==null&&e.apply(this,arguments)||this;t.customNetworkRequestHandlerBuilder=function(e){return new y.DiscoveryRequestHandler(e,t.endpointsDiscovery)};t.customNetworkRequestExecutorBuilder=function(e,t,n){return new _(e,t,n)};return t}RCHandlerConfig.prototype.requestDecoration=function(){var t=this;var n=e.prototype.requestDecoration.call(this);return function(e){var r;if(t.endpointsDiscovery.isEnable()){var o=(r=t.endpointsDiscovery.getEndpoints())===null||r===void 0?void 0:r.discoveryTag;o&&(e.headers[b.IF]=o)}return n(e)}};RCHandlerConfig.prototype.getRequestDecorator=function(){return getRCRequestDecorator(this)};return RCHandlerConfig}(y.MultiInstanceNetworkHandlerConfig)},645947:(e,t,n)=>{"use strict";n.d(t,{RCEndpointsDiscovery:()=>r.CG,RC_DISCOVERY_DEFAULT_EXPIRES_IN:()=>r.s4,RC_DISCOVERY_DEFAULT_RETRY_COUNT:()=>r.I7,RC_DISCOVERY_DEFAULT_RETRY_CYCLE_DELAY:()=>r.qk,RC_DISCOVERY_DEFAULT_RETRY_INTERVAL:()=>r.pm,RC_ENDPOINT_TYPE:()=>r.nz,RCHandlerConfig:()=>o.iB});var r=n(665516);if(n.o(r,"RCHandlerConfig"))n.d(t,{RCHandlerConfig:function(){return r.RCHandlerConfig}});var o=n(526844)},376639:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(862926);var o=n.n(r);var i="[RC_ACCOUNT]";var a=r.ModuleLogger.getLogger(i,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.FOUNDATION)},833215:(e,t,n)=>{"use strict";n.d(t,{o:()=>p});var r=n(966499);var o=n(885057);var i=n(190547);var a=n(814678);var u=n(376639);var s=n(905968);var c=n(862926);var l=n.n(c);var f=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var d=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var p=function(){function AccountInfoService(e){var t=this;this._dependency=e;this._shouldIgnoreFirstTime=false;this._isRCInfoJobScheduled=false;this.requestRCClientInfo=function(){return f(t,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,r.Vi.requestRCClientInfo()];case 1:e=t.sent();return[4,this._handleDataAndDoNotification(e,s.V.CLIENT_INFO,i.FY.CLIENT_INFO)];case 2:t.sent();return[2]}}))}))};this.requestRCAccountInfo=function(){return f(t,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,r.Vi.requestRCAccountInfo()];case 1:e=t.sent();return[4,this._handleDataAndDoNotification(e,s.V.ACCOUNT_INFO,i.FY.ACCOUNT_INFO)];case 2:t.sent();return[2]}}))}))};this.requestRCExtensionInfo=function(){return f(t,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,r.Vi.requestRCExtensionInfo()];case 1:e=t.sent();return[4,this._handleDataAndDoNotification(e,s.V.EXTENSION_INFO,i.FY.EXTENSION_INFO)];case 2:t.sent();return[2]}}))}))};this.requestRCRolePermissions=function(){return f(t,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,r.Vi.requestRCRolePermissions()];case 1:e=t.sent();return[4,this._handleDataAndDoNotification(e,s.V.ROLE_PERMISSIONS,i.FY.ROLE_PERMISSIONS)];case 2:t.sent();return[2]}}))}))};this.requestRCExtensionFeaturesInfo=function(){return f(t,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,r.Vi.requestRCExtensionFeaturesInfo()];case 1:e=t.sent();return[4,this._handleDataAndDoNotification(e,s.V.EXTENSION_FEATURES_INFO,i.FY.EXTENSION_FEATURES_INFO)];case 2:t.sent();return[2]}}))}))}}AccountInfoService.prototype.syncRelativeInfo=function(){return f(this,void 0,Promise,(function(){return d(this,(function(e){switch(e.label){case 0:return[4,r.Vi.requestRCApiVersion()];case 1:e.sent();this._shouldIgnoreFirstTime=true;return[4,this.requestRCClientInfo()];case 2:e.sent();return[4,this.requestRCAccountInfo()];case 3:e.sent();return[4,this.requestRCExtensionInfo()];case 4:e.sent();return[4,this.requestRCRolePermissions()];case 5:e.sent();return[4,this.requestRCExtensionFeaturesInfo()];case 6:e.sent();this.scheduleRelativeInfo();this._dependency.setInitialDataFetched(true);return[2]}}))}))};AccountInfoService.prototype.scheduleRelativeInfo=function(){if(!this._isRCInfoJobScheduled){this._scheduleRCInfoJob(i._x.FETCH_CLIENT_INFO,this.requestRCClientInfo.bind(this),this._shouldIgnoreFirstTime);this._scheduleRCInfoJob(i._x.FETCH_ACCOUNT_INFO,this.requestRCAccountInfo.bind(this),this._shouldIgnoreFirstTime);this._scheduleRCInfoJob(i._x.FETCH_EXTENSION_INFO,this.requestRCExtensionInfo.bind(this),this._shouldIgnoreFirstTime);this._scheduleRCInfoJob(i._x.FETCH_ROLE_PERMISSIONS,this.requestRCRolePermissions.bind(this),this._shouldIgnoreFirstTime);this._scheduleRCInfoJob(i._x.FETCH_EXTENSION_FEATURES_INFO,this.requestRCExtensionFeaturesInfo.bind(this),this._shouldIgnoreFirstTime);this._isRCInfoJobScheduled=true}};AccountInfoService.prototype._scheduleRCInfoJob=function(e,t,n){var r=this;o.L7.scheduleDailyPeriodicJob(e,(function(n){return f(r,void 0,void 0,(function(){var r;return d(this,(function(o){switch(o.label){case 0:o.trys.push([0,2,,3]);return[4,t()];case 1:o.sent();n(true);return[3,3];case 2:r=o.sent();if(r instanceof c.NotModifiedError){n(true)}else{u.k.info("RCInfoController, "+e+", "+r);n(false)}return[3,3];case 3:return[2]}}))}))}),true,n?o.dV.IGNORE_FIRST_TIME:o.dV.BASE_ON_LAST_TIME)};AccountInfoService.prototype.refreshRCClientInfo=function(){return f(this,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);u.k.info("refresh client info");return[4,this.requestRCClientInfo()];case 1:t.sent();o.L7.setLastSuccessTime(i._x.FETCH_CLIENT_INFO,Date.now());return[3,3];case 2:e=t.sent();u.k.warn("refresh client failed",e);return[3,3];case 3:return[2]}}))}))};AccountInfoService.prototype._handleDataAndDoNotification=function(e,t,n){return f(this,void 0,Promise,(function(){return d(this,(function(r){switch(r.label){case 0:return[4,this._dependency.handleAccountData(e,t)];case 1:r.sent();a.rF.emit(n);return[2]}}))}))};return AccountInfoService}()},78557:(e,t,n)=>{"use strict";n.d(t,{$:()=>se});var r=n(667489);var o=n(38942);var i=n(228164);var a=n(519025);var u=n(376639);var s=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var c=function(){function AbstractSocketRequestDelegate(){}return AbstractSocketRequestDelegate}();var l=function(e){s(RCSocketRequestDelegate,e);function RCSocketRequestDelegate(){return e!==null&&e.apply(this,arguments)||this}return RCSocketRequestDelegate}(c);var f=n(850343);var d=n(483433);var p=n(862926);var h;(function(e){e["SOCKET_CONNECTED"]="socket_connected";e["SOCKET_DISCONNECT"]="socket_disconnect";e["SOCKET_ERROR"]="socket_error"})(h||(h={}));var v;(function(e){e["CLIENT_REQUEST"]="ClientRequest";e["SERVER_NOTIFICATION"]="ServerNotification";e["ERROR"]="Error";e["CONNECTION_DETAILS"]="ConnectionDetails";e["HEARTBEAT"]="Heartbeat"})(v||(v={}));var g;(function(e){e["RECOVERY_STATE_SUCCESSFUL"]="Successful";e["RECOVERY_STATE_FAILED"]="Failed"})(g||(g={}));var _="[RC_SOCKET]";var y=n(298784);var b=n.n(y);var C=n(969160);var m=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var S=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var E=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var I=function(){function SocketHandlerController(){}SocketHandlerController.handleWSGData=function(e){if(e.includes(",--Boundary")){var t=e.indexOf(",--Boundary");return[JSON.parse(e.substring(1,t)),e.substring(t+1,e.length-1)]}return JSON.parse(e)};SocketHandlerController.websocketLog=function(e){var t=this;var n=e.send.bind(e);e.send=function(e){return m(t,void 0,void 0,(function(){return S(this,(function(t){switch(t.label){case 0:return[4,n(e)];case 1:t.sent();if(e.includes("Heartbeat"))return[2];u.k.tags(_).info("*** WebSocket outgoing message: ***\n"+JSON.stringify(JSON.parse(e),null,2)+"\n******");return[2]}}))}))};e.addEventListener("message",(function(e){u.k.tags(_).info("*** WebSocket incoming message: ***\n"+JSON.stringify(JSON.parse(e.data),null,2)+"\n******")}));e.addEventListener("error",(function(e){u.k.tags(_).info("WebSocket error event:",e)}));e.addEventListener("close",(function(e){u.k.tags(_).info("WebSocket close event:",e)}))};SocketHandlerController.waitForWebSocketMessage=function(e,t){return new Promise((function(n){var r=setInterval((function(){if(e.readyState===e.CLOSED){clearInterval(r)}}),1e3);var handler=function(o){var i=E(SocketHandlerController.handleWSGData(o.data),2),a=i[0],u=i[1];if(t(a)){e.removeEventListener("message",handler);clearInterval(r);n([a,u,o])}};e.addEventListener("message",handler)}))};return SocketHandlerController}();const w=I;var R=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var P=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var A=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var T=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var O=u.k.tags(_);var N=function(){function SocketHttpRequest(e){this._rcSocket=e}SocketHttpRequest.prototype.request=function(e){var t=[{type:v.CLIENT_REQUEST,messageId:e.id,method:e.method,path:e.path,headers:e.headers,query:e.params}];if(e.data&&typeof e.data==="object"){t.push(this._requestBodyStringify(e.data))}return this._sendRequest(JSON.stringify(t),e.id)};SocketHttpRequest.prototype._sendRequest=function(e,t){return R(this,void 0,void 0,(function(){var n,r,o,i;return P(this,(function(a){switch(a.label){case 0:if(!this._rcSocket.ws){O.error("rc socket has not init");return[2]}return[4,this._rcSocket.ws.send(e)];case 1:a.sent();return[4,w.waitForWebSocketMessage(this._rcSocket.ws,(function(e){return e.messageId===t}))];case 2:n=A.apply(void 0,[a.sent(),2]),r=n[0],o=n[1];i={data:o,status:r.status,statusText:(0,C.li)(r.status),headers:r.headers};if(r.type===v.CLIENT_REQUEST&&r.status>=200&&r.status<300){return[2,Promise.resolve(i)]}return[2,Promise.reject(i)]}}))}))};SocketHttpRequest.prototype.internalRequest=function(e){var t=(0,p.uniqueNumberId)();var n=[{type:v.CLIENT_REQUEST,messageId:t,method:e.method,path:e.uri}];if(e.data&&this._isObject(e.data)){n.push(e.data)}return this._sendRequest(JSON.stringify(n),t)};SocketHttpRequest.prototype._requestBodyStringify=function(e){var t,n;var r=this;var o={};try{for(var i=T(Object.entries(e)),a=i.next();!a.done;a=i.next()){var u=A(a.value,2),s=u[0],c=u[1];if(Array.isArray(c)){o[s]=c.map((function(e){return r._isObject(e)?r._requestBodyStringify(e):e.toString()}))}if(this._isObject(c)){o[s]=this._requestBodyStringify(c)}else if(!(c==null||c===undefined)){o[s]=c.toString()}}}catch(e){t={error:e}}finally{try{if(a&&!a.done&&(n=i.return))n.call(i)}finally{if(t)throw t.error}}return o};SocketHttpRequest.prototype._isObject=function(e){return b().isObject(e)&&!b().isArray(e)};return SocketHttpRequest}();var x=n(827027);var D="/restapi/"+x.API_VERSION+"/subscription";var M;(function(e){e["ERROR_P_RC_SOCKET_CONNECT_ERROR"]="ERROR_P_RC_SOCKET_CONNECT_ERROR";e["ERROR_P_RC_SOCKET_SERVER_ERROR"]="ERROR_P_RC_SOCKET_SERVER_ERROR";e["ERROR_P_RC_SOCKET_DISCONNECT"]="ERROR_P_RC_SOCKET_DISCONNECT"})(M||(M={}));var k;(function(e){e["PERFORMANCE_P_RC_SOCKET_CONNECT"]="PERFORMANCE_P_RC_SOCKET_CONNECT"})(k||(k={}));var doSocketErrorTracking=function(e,t){(0,p.doErrorTracking)(p.EVENT_DATA_FEATURE.COMMON,{key:e,message:t,level:p.LOG_CONTROL_LEVEL.HIGH})};var L=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var F=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var U=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var B=function(){function SocketSubscription(e,t,n){var r=this;this._rcSocket=e;this._eventFilters=t;this._logger=u.k.tags(_);this._socketHttpRequest=new N(this._rcSocket);this._eventListener=function(e){var t=U(w.handleWSGData(e.data),2),o=t[0],i=t[1];if(o.type===v.SERVER_NOTIFICATION&&i.subscriptionId===r.subscriptionInfo.id){n(i)}};this.setupWSEventListener()}SocketSubscription.prototype.setupWSEventListener=function(){var e;(e=this._rcSocket.ws)===null||e===void 0?void 0:e.addEventListener("message",this._eventListener)};Object.defineProperty(SocketSubscription.prototype,"subscribeEventFilters",{get:function(){return this._eventFilters},enumerable:true,configurable:true});Object.defineProperty(SocketSubscription.prototype,"requestBody",{get:function(){return{deliveryMode:{transportType:"WebSocket"},eventFilters:this._eventFilters}},enumerable:true,configurable:true});Object.defineProperty(SocketSubscription.prototype,"subscriptionInfo",{get:function(){return this._subscriptionInfo},set:function(e){var t=this;var n;this._subscriptionInfo=e;if(this._refreshTimer){clearTimeout(this._refreshTimer);this._refreshTimer=undefined}if(e){this._refreshTimer=setTimeout((function(){t.refresh()}),(((n=e.expiresIn)!==null&&n!==void 0?n:900)-120)*1e3)}},enumerable:true,configurable:true});SocketSubscription.prototype.subscribe=function(){var e;return L(this,void 0,void 0,(function(){var t;return F(this,(function(n){switch(n.label){case 0:t=this;return[4,this._socketHttpRequest.internalRequest({method:p.NETWORK_METHOD.POST,uri:D,data:this.requestBody})];case 1:t.subscriptionInfo=(e=n.sent())===null||e===void 0?void 0:e.data;return[2]}}))}))};SocketSubscription.prototype.refresh=function(){var e;return L(this,void 0,void 0,(function(){var t,n;return F(this,(function(r){switch(r.label){case 0:if(!this.subscriptionInfo||!this.subscriptionInfo.id)return[2];r.label=1;case 1:r.trys.push([1,3,,6]);t=this;return[4,this._socketHttpRequest.internalRequest({method:p.NETWORK_METHOD.PUT,uri:D+"/"+this.subscriptionInfo.id,data:this.requestBody})];case 2:t.subscriptionInfo=(e=r.sent())===null||e===void 0?void 0:e.data;return[3,6];case 3:n=r.sent();if(!(n&&n.status===404))return[3,5];doSocketErrorTracking(M.ERROR_P_RC_SOCKET_SERVER_ERROR,"subscription expired: "+JSON.stringify(this.subscriptionInfo));return[4,this.subscribe()];case 4:r.sent();r.label=5;case 5:return[3,6];case 6:return[2]}}))}))};SocketSubscription.prototype.revoke=function(){var e;return L(this,void 0,void 0,(function(){var t;return F(this,(function(n){switch(n.label){case 0:if(!this.subscriptionInfo||!this.subscriptionInfo.id)return[2];if(this._refreshTimer){clearTimeout(this._refreshTimer);this._refreshTimer=undefined}(e=this._rcSocket.ws)===null||e===void 0?void 0:e.removeEventListener("message",this._eventListener);n.label=1;case 1:n.trys.push([1,3,,4]);return[4,this._socketHttpRequest.internalRequest({method:p.NETWORK_METHOD.DELETE,uri:D+"/"+this.subscriptionInfo.id})];case 2:n.sent();return[3,4];case 3:t=n.sent();if(t&&t.status===404){doSocketErrorTracking(M.ERROR_P_RC_SOCKET_SERVER_ERROR,"Subscription "+this.subscriptionInfo.id+" doesn't exist on server side: "+JSON.stringify(this.subscriptionInfo));this._logger.error("Subscription "+this.subscriptionInfo.id+" doesn't exist on server side")}else if(t&&t.status===401){doSocketErrorTracking(M.ERROR_P_RC_SOCKET_SERVER_ERROR,"Token expired when trying to revoke subscription: "+JSON.stringify(this.subscriptionInfo));this._logger.error("Token expired when trying to revoke subscription")}else{doSocketErrorTracking(M.ERROR_P_RC_SOCKET_SERVER_ERROR,JSON.stringify(t));this._logger.error(t)}return[3,4];case 4:this.subscriptionInfo=undefined;return[2]}}))}))};return SocketSubscription}();const G=B;var j=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var H=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var V=undefined&&undefined.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof z==="function"?z(e):e[Symbol.iterator](),n={},verb("next"),verb("throw"),verb("return"),n[Symbol.asyncIterator]=function(){return this},n);function verb(t){n[t]=e[t]&&function(n){return new Promise((function(r,o){n=e[t](n),settle(r,o,n.done,n.value)}))}}function settle(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}};var W=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var z=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var Y=1e3;var q=30*Y;var K=.1*Y;var Q=function(){function RCSocket(e){this._options=e;this._logger=u.k.tags(_);this._retriesAttempted=1;this._eventEmitter=new f.EventEmitter;this._subscriptions=[];this._options.autoRecover=this._options.autoRecover||{};var t=this._options,n=t.restOverWebSocket,r=t.getWSToken,o=t.autoRecover,i=o.enabled,a=o.checkInterval,s=o.pingServerInterval;this._options.restOverWebSocket=n||false;this._options.autoRecover.enabled=i||true;this._options.autoRecover.checkInterval=a||function(e){return(0,p.getSpartaRandomTime)(e,true)};this._options.autoRecover.pingServerInterval=s||q;if(!r){this._logger.error("can not find getWSToken function");return}this._initSocket()}RCSocket.prototype._initSocket=function(){return j(this,void 0,void 0,(function(){var e;var t=this;return H(this,(function(n){switch(n.label){case 0:n.trys.push([0,4,,5]);if(!!this._options.autoRecover.enabled)return[3,2];return[4,this._connect()];case 1:n.sent();return[2];case 2:return[4,this._connect()];case 3:n.sent();return[3,5];case 4:e=n.sent();doSocketErrorTracking(M.ERROR_P_RC_SOCKET_CONNECT_ERROR,JSON.stringify(e));this._logger.error("Initial connect failed:",e);return[3,5];case 5:this._intervalHandle=setInterval(this._checkSocketConnect.bind(this),(0,p.getSpartaRandomTime)(p.SPARTA_TIME_RANGE.length,true));r.notificationCenter.on(r.WINDOW_EVENT.ONLINE,(function(e){var n=e.onLine;if(n){t._checkSocketConnect();t._logger.info("network online and try to reconnect")}else{t._clearTimer();t.disconnect();t._logger.info("network offline and disconnect socket")}}));return[2]}}))}))};RCSocket.prototype._clearTimer=function(){this._pingServerHandle&&clearTimeout(this._pingServerHandle);this._intervalHandle&&clearInterval(this._intervalHandle)};RCSocket.prototype._checkSocketConnect=function(){var e,t;return j(this,void 0,void 0,(function(){return H(this,(function(n){switch(n.label){case 0:if(!(((e=this.ws)===null||e===void 0?void 0:e.readyState)!==WebSocket.OPEN&&((t=this.ws)===null||t===void 0?void 0:t.readyState)!==WebSocket.CONNECTING))return[3,2];this._intervalHandle&&clearInterval(this._intervalHandle);return[4,this.recover()];case 1:n.sent();if(this._connectionDetails){this._logger.info("Auto recover done, recoveryState: "+this._connectionDetails.recoveryState);this._retriesAttempted=p.SPARTA_TIME_RANGE.length;if(this._connectionDetails.recoveryState===g.RECOVERY_STATE_SUCCESSFUL){this._eventEmitter.emit(h.SOCKET_CONNECTED,this.ws)}else{this._eventEmitter.emit(h.SOCKET_ERROR,this.ws);this._logger.error("Auto recover failed: "+JSON.stringify(this._connectionDetails))}}else{this._retriesAttempted+=1;this._logger.error("Auto recover error");this._eventEmitter.emit(h.SOCKET_ERROR);doSocketErrorTracking(M.ERROR_P_RC_SOCKET_CONNECT_ERROR,"Auto recover connect error")}this._intervalHandle=setInterval(this._checkSocketConnect.bind(this),this._options.autoRecover.checkInterval(this._retriesAttempted));n.label=2;case 2:return[2]}}))}))};RCSocket.prototype.request=function(e){return this._httpRequest.request(e)};RCSocket.prototype.on=function(e,t){this._eventEmitter.on(e,t)};RCSocket.prototype.off=function(e,t){this._eventEmitter.off(e,t)};RCSocket.prototype.recover=function(){var e,t;return j(this,void 0,void 0,(function(){return H(this,(function(n){switch(n.label){case 0:if(((e=this.ws)===null||e===void 0?void 0:e.readyState)===WebSocket.OPEN||((t=this.ws)===null||t===void 0?void 0:t.readyState)===WebSocket.CONNECTING){return[2]}if(!(!this._websocketMetaData||!this._websocketMetaData.token))return[3,2];return[4,this._connect(false)];case 1:n.sent();return[2];case 2:if(this._recoverTimestamp===undefined){this._recoverTimestamp=Date.now()}if(!(this._connectionDetails&&Date.now()-this._recoverTimestamp>this._connectionDetails.recoveryTimeout*Y))return[3,4];this._logger.info("connect to WSG but do not recover");return[4,this._connect(false)];case 3:n.sent();return[3,6];case 4:this._logger.info("connect to WSG and recover");return[4,this._connect(true)];case 5:n.sent();n.label=6;case 6:this._recoverTimestamp=undefined;return[2]}}))}))};RCSocket.prototype._pingServer=function(e){return j(this,void 0,void 0,(function(){var t;return H(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,e.send(JSON.stringify([{type:"Heartbeat",messageId:(0,p.uniqueNumberId)()}]))];case 1:n.sent();return[3,3];case 2:t=n.sent();this.disconnect();this._logger.info("can not ping server, socket closed");return[3,3];case 3:return[2]}}))}))};RCSocket.prototype._connect=function(e){if(e===void 0){e=false}var t;return j(this,void 0,void 0,(function(){var n,r,o,i,a;var s=this;return H(this,(function(c){switch(c.label){case 0:return[4,this._options.getWSToken()];case 1:n=c.sent();if(!n||!n.ws_access_token)return[2];r=n.uri+"?access_token="+n.ws_access_token;if(e){r=r+"&wsc="+this._websocketMetaData.token}o=u.k.performance();this._logger.info("start init socket",r);this.ws=new WebSocket(r);this._listenSocketErrorEvent(this.ws);this._listenSocketCloseEvent(this.ws);this._httpRequest=new N(this);i=this.ws.send.bind(this.ws);this.ws.send=function(e){return j(s,void 0,void 0,(function(){var t=this;var n;return H(this,(function(r){switch(r.label){case 0:if(!(((n=this.ws)===null||n===void 0?void 0:n.readyState)===WebSocket.CONNECTING))return[3,2];return[4,(0,d.Z)({interval:K,condition:function(){var e;return((e=t.ws)===null||e===void 0?void 0:e.readyState)!==WebSocket.CONNECTING}})];case 1:r.sent();r.label=2;case 2:return[4,i(e)];case 3:r.sent();return[2]}}))}))};if((t=this._options.autoRecover)===null||t===void 0?void 0:t.enabled){this._startHeartbeat(this.ws)}w.websocketLog(this.ws);return[4,this._initFirstConnect(this.ws)];case 2:a=c.sent();if(a){this._connectionDetails=a;this._resubscribe(e)}o.end({key:k.PERFORMANCE_P_RC_SOCKET_CONNECT,level:p.LOG_CONTROL_LEVEL.HIGH,infos:{connectDetail:JSON.stringify(a)}});this._eventEmitter.emit(h.SOCKET_CONNECTED,this.ws);return[2]}}))}))};RCSocket.prototype._listenSocketErrorEvent=function(e){var t=this;e.addEventListener("error",(function(e){t._eventEmitter.emit(h.SOCKET_ERROR,e);doSocketErrorTracking(M.ERROR_P_RC_SOCKET_CONNECT_ERROR,JSON.stringify(e))}))};RCSocket.prototype._listenSocketCloseEvent=function(e){var t=this;e.addEventListener("close",(function(){t._retriesAttempted=1;t._eventEmitter.emit(h.SOCKET_DISCONNECT);t._logger.info("rc socket disconnect")}))};RCSocket.prototype._startHeartbeat=function(e){var t=this;e.addEventListener("message",(function(){if(t._pingServerHandle){clearTimeout(t._pingServerHandle)}t._pingServerHandle=setTimeout((function(){return t._pingServer(e)}),t._options.autoRecover.pingServerInterval)}))};RCSocket.prototype._initFirstConnect=function(e){return j(this,void 0,Promise,(function(){var t,n,r,o;var i=this;return H(this,(function(a){switch(a.label){case 0:e.addEventListener("message",(function(e){var t=W(w.handleWSGData(e.data),2),n=t[0],r=t[1];if(n.wsc&&(!i._websocketMetaData||n.type===v.CONNECTION_DETAILS&&r.recoveryState||i._websocketMetaData.sequence<n.wsc.sequence)){i._websocketMetaData=n.wsc}}));return[4,w.waitForWebSocketMessage(e,(function(e){return e.type===v.CONNECTION_DETAILS||e.type===v.ERROR}))];case 1:t=W.apply(void 0,[a.sent(),3]),n=t[0],r=t[1],o=t[2];if(n.type===v.ERROR){this._eventEmitter.emit(h.SOCKET_ERROR,{meta:n,body:r,event:o});doSocketErrorTracking(M.ERROR_P_RC_SOCKET_SERVER_ERROR,JSON.stringify({meta:n,body:r,event:o}));this._logger.error("Initial connect failed:",{meta:n,body:r,event:o});return[2]}return[2,r]}}))}))};RCSocket.prototype._resubscribe=function(e){var t,n;var r;try{for(var o=z(this._subscriptions),i=o.next();!i.done;i=o.next()){var a=i.value;a.setupWSEventListener();if(!e||((r=this._connectionDetails)===null||r===void 0?void 0:r.recoveryState)===g.RECOVERY_STATE_FAILED){a.subscribe()}}}catch(e){t={error:e}}finally{try{if(i&&!i.done&&(n=o.return))n.call(o)}finally{if(t)throw t.error}}};RCSocket.prototype.revokeSubscribe=function(){var e,t;return j(this,void 0,void 0,(function(){var n,r,o,i;return H(this,(function(a){switch(a.label){case 0:a.trys.push([0,6,7,12]);n=V(this._subscriptions);a.label=1;case 1:return[4,n.next()];case 2:if(!(r=a.sent(),!r.done))return[3,5];o=r.value;return[4,o.revoke()];case 3:a.sent();a.label=4;case 4:return[3,1];case 5:return[3,12];case 6:i=a.sent();e={error:i};return[3,12];case 7:a.trys.push([7,,10,11]);if(!(r&&!r.done&&(t=n.return)))return[3,9];return[4,t.call(n)];case 8:a.sent();a.label=9;case 9:return[3,11];case 10:if(e)throw e.error;return[7];case 11:return[7];case 12:this._subscriptions=[];return[2]}}))}))};RCSocket.prototype.disconnect=function(){var e;if(this._intervalHandle){clearInterval(this._intervalHandle)}if(this._pingServerHandle){clearTimeout(this._pingServerHandle)}(e=this.ws)===null||e===void 0?void 0:e.close()};RCSocket.prototype._getUnsubscribeEvent=function(e){var t,n;var r=[];if(!this._subscriptions.length)return e;var _loop_1=function(e){!o._subscriptions.some((function(t){return t.subscribeEventFilters.includes(e)}))&&r.push(e)};var o=this;try{for(var i=z(e),a=i.next();!a.done;a=i.next()){var u=a.value;_loop_1(u)}}catch(e){t={error:e}}finally{try{if(a&&!a.done&&(n=i.return))n.call(i)}finally{if(t)throw t.error}}return r};RCSocket.prototype.setupSubscribe=function(e,t){return j(this,void 0,void 0,(function(){var n,r;return H(this,(function(o){switch(o.label){case 0:if(!this.ws){this._logger.error("websocket hasn't be initialed");return[2]}n=this._getUnsubscribeEvent(e);if(!n.length)return[2];r=new G(this,n,t);return[4,r.subscribe()];case 1:o.sent();this._subscriptions.push(r);return[2,r]}}))}))};return RCSocket}();var Z=n(118330);var X=n.n(Z);var J=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var $=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ee=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var te=u.k.tags("[RCSocketNotificationProvider]");var ne=function(e){J(RCSocketNotificationProvider,e);function RCSocketNotificationProvider(t){var n=e.call(this)||this;n._rcSocketClient=t;n.addMessageListener=function(e){n._dispatchMessage=e};n.dispatchMessages=function(e){te.log("_dispatchMessages, socket emit message",(0,p.sensitive)(e));n._dispatchMessage(e)};n._socketConnectedEventHandler=function(){return $(n,void 0,void 0,(function(){var e;return ee(this,(function(t){switch(t.label){case 0:this.setAvailable(true);return[4,i.Utils.getWSGFeature()];case 1:e=t.sent();r.notificationCenter.emitKVChange(i.RC_NOTIFICATION.EVENT_KEYS.PROVIDER_READY,e.subscription.supportedEvents);return[2]}}))}))};n.setPriority(i.NotificationPriority.RC_SOCKET);n._rcSocket=n._rcSocketClient.getSocketClient();n._rcSocket.on(h.SOCKET_CONNECTED,n._socketConnectedEventHandler);n._onWSGFlagChange();return n}RCSocketNotificationProvider.prototype.subscribe=function(e,t,n){return $(this,void 0,void 0,(function(){return ee(this,(function(r){switch(r.label){case 0:return[4,this._addSubscription([n],t)];case 1:r.sent();return[2,this._filterUnSubscriptionEvents(e)]}}))}))};RCSocketNotificationProvider.prototype.batchSubscribe=function(e,t,n){return $(this,void 0,void 0,(function(){return ee(this,(function(r){switch(r.label){case 0:return[4,this._addSubscription(n,t)];case 1:r.sent();return[2,this._filterUnSubscriptionEvents(e)]}}))}))};RCSocketNotificationProvider.prototype._onWSGFlagChange=function(){var e=this;i.Utils.getFeatureFlagModule().observeFeatureFlag(o.G.D_USE_RC_WSG,(function(t){return $(e,void 0,void 0,(function(){return ee(this,(function(e){switch(e.label){case 0:te.info("wsg ld control change:",t);if(!!t.enable)return[3,3];this._rcSocketClient.unregisterProviderHandler();return[4,this._rcSocket.revokeSubscribe()];case 1:e.sent();return[4,this._rcSocket.disconnect()];case 2:e.sent();this._launchDarklyChangeHandler();return[3,5];case 3:return[4,this._rcSocket.revokeSubscribe()];case 4:e.sent();this._launchDarklyChangeHandler(this);e.label=5;case 5:return[2]}}))}))}))};RCSocketNotificationProvider.prototype.addAvailableEventsChangeCallback=function(e){this._launchDarklyChangeHandler=e};RCSocketNotificationProvider.prototype._addSubscription=function(e,t){return $(this,void 0,void 0,(function(){var n,r;return ee(this,(function(o){switch(o.label){case 0:return[4,i.Utils.getWSGFeature()];case 1:n=o.sent();if(!n.enable)return[3,5];if(!n.subscription.enableAll)return[3,3];return[4,this._rcSocketClient.setupSubscribe(e)];case 2:o.sent();t(e,this);return[3,5];case 3:r=e.filter((function(e){return n.subscription.supportedEvents.includes(i.Utils.getRawEvent(e))}));if(!r.length)return[3,5];return[4,this._rcSocketClient.setupSubscribe(r)];case 4:o.sent();t(r,this);o.label=5;case 5:return[2]}}))}))};RCSocketNotificationProvider.prototype._filterUnSubscriptionEvents=function(e){return $(this,void 0,void 0,(function(){var t;return ee(this,(function(n){switch(n.label){case 0:return[4,i.Utils.getWSGFeature()];case 1:t=n.sent();if(!t.enable){return[2,e]}if(t.enable&&t.subscription.enableAll){return[2,[]]}return[2,X()(e,t.subscription.supportedEvents,(function(e,t){return t===i.Utils.getRawEvent(e)}))]}}))}))};RCSocketNotificationProvider.prototype.stop=function(){this._rcSocket.off(h.SOCKET_CONNECTED,this._socketConnectedEventHandler)};return RCSocketNotificationProvider}(i.BaseRCNotificationProvider);var re=n(190547);var oe=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var ie=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ae=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var ue=u.k.tags("[SocketClient]");var se=function(e){oe(SocketClient,e);function SocketClient(t){var n=e.call(this)||this;n.getWSToken=t;n.init=function(){return ie(n,void 0,void 0,(function(){var e;return ae(this,(function(t){switch(t.label){case 0:if(!!this.isClientAvailable())return[3,2];return[4,i.Utils.getWSGFeature()];case 1:e=t.sent();if(e.enable){this._setupWebSocket()}t.label=2;case 2:return[2]}}))}))};n._registerProviderHandler=function(){n._rcNotification.registerNotificationProvider(n.rcSocketNotificationProvider)};n.unregisterProviderHandler=function(){n._rcNotification.unregisterNotificationProvider(n.rcSocketNotificationProvider)};n._notifyMessage=function(e){n._rcSocketNotificationProvider.dispatchMessages(e)};n._listenWSGFlagChange();r.notificationCenter.on(re.FY.LOGIN,n.init);return n}SocketClient.prototype.isClientAvailable=function(){return!!(this._rcSocketClient&&this._rcSocketClient.ws&&(this._rcSocketClient.ws.readyState===WebSocket.CONNECTING||this._rcSocketClient.ws.readyState===WebSocket.OPEN))};SocketClient.prototype._setupWebSocket=function(){this._rcSocketClient=new Q({restOverWebSocket:true,getWSToken:this.getWSToken,autoRecover:{enabled:true}});this._rcSocketClient.on(h.SOCKET_CONNECTED,this._registerProviderHandler);this._rcSocketClient.on(h.SOCKET_DISCONNECT,this.unregisterProviderHandler);ue.log("init rc socket")};SocketClient.prototype._listenWSGFlagChange=function(){var e=this;i.Utils.getFeatureFlagModule().observeFeatureFlag(o.G.D_USE_RC_WSG,(function(t){return ie(e,void 0,void 0,(function(){return ae(this,(function(e){switch(e.label){case 0:if(!((0,a.gT)().isLoggedIn()&&t.enable))return[3,2];return[4,this.init()];case 1:e.sent();e.label=2;case 2:return[2]}}))}))}))};SocketClient.prototype.offSocketEvent=function(){this._rcSocketClient&&this._rcSocketClient.off(h.SOCKET_CONNECTED,this._registerProviderHandler);this._rcSocketClient&&this._rcSocketClient.off(h.SOCKET_DISCONNECT,this.unregisterProviderHandler)};SocketClient.prototype.getSocketClient=function(){return this._rcSocketClient};SocketClient.prototype.setupSubscribe=function(e){return this._rcSocketClient.setupSubscribe(e,this._notifyMessage)};SocketClient.prototype.revokeSubscribe=function(){this._rcSocketClient.revokeSubscribe()};SocketClient.prototype.recover=function(){this._rcSocketClient.recover()};Object.defineProperty(SocketClient.prototype,"_rcNotification",{get:function(){return(0,r.getModule)(i.RC_NOTIFICATION_MODULE_NAME)},enumerable:true,configurable:true});Object.defineProperty(SocketClient.prototype,"rcSocketNotificationProvider",{get:function(){if(!this._rcSocketNotificationProvider){this._rcSocketNotificationProvider=new ne(this)}return this._rcSocketNotificationProvider},enumerable:true,configurable:true});return SocketClient}(l)},969153:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var r=n(469882);var o="badge";var i=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var a=function(e){i(BadgeConfig,e);function BadgeConfig(){return e!==null&&e.apply(this,arguments)||this}BadgeConfig.prototype.getBadge=function(){return this.get(o)};BadgeConfig.prototype.setBadge=function(e){this.put(o,e)};return BadgeConfig}(r.UserConfig)},402796:(e,t,n)=>{"use strict";n.d(t,{Gn:()=>r,C6:()=>o,SG:()=>i,oD:()=>a,OB:()=>u});var r="v1.0";var o="v1";var i=1e3;var a=1;var u="conference"},686234:(e,t,n)=>{"use strict";n.d(t,{n:()=>d});var r=n(298784);var o=n.n(r);var i=n(667489);var a=n.n(i);var u=n(305570);var s=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var c=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var l=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var f=1e3;var d=function(e){s(AbstractScheduledPageSyncController,e);function AbstractScheduledPageSyncController(t,n){var r=e.call(this,t)||this;r.pageSize=n;return r}AbstractScheduledPageSyncController.prototype._fetchAllPages=function(e){return c(this,void 0,void 0,(function(){var t,n;var o=this;return l(this,(function(i){switch(i.label){case 0:t=[];return[4,new u.j({fetchHandler:e,transformData:function(e){var n=o._md5Utils.addMD5ToList(e);t.push(n);return[]}}).getAllPage({page:1,perPage:this.pageSize?this.pageSize:f})];case 1:i.sent();n=r.flatten;return[4,Promise.all(t)];case 2:return[2,n.apply(void 0,[i.sent()])]}}))}))};AbstractScheduledPageSyncController.prototype.iSync=function(){return this._fetchAllPages(this.iSyncFetchHandler)};AbstractScheduledPageSyncController.prototype.fSync=function(){return this._fetchAllPages(this.fSyncFetchHandler)};return AbstractScheduledPageSyncController}(i.AbstractScheduledSyncController)},170407:(e,t,n)=>{"use strict";n.d(t,{a:()=>f});var r=n(862926);var o=n.n(r);var i=n(667489);var a=n.n(i);var u=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var s=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var c=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var l=function(){function CommitProcessor(e,t){var n=this;this._provider=e;this._onExecuted=t;this._created=Date.now();this._commits=[];this.mergeWith=function(e){n._commits=n._commits.concat(e._commits);return n}}CommitProcessor.prototype.name=function(){return this.constructor.name+"_"+this._created};Object.defineProperty(CommitProcessor.prototype,"logger",{get:function(){return r.mainLogger.tags(this._provider.name)},enumerable:true,configurable:true});CommitProcessor.prototype.process=function(){this._onExecuted(this);return this._process()};CommitProcessor.prototype._process=function(){return u(this,void 0,void 0,(function(){var e,t,n;return s(this,(function(r){switch(r.label){case 0:this.logger.log("processor pending.");r.label=1;case 1:r.trys.push([1,4,,5]);return[4,this.batchCommitChanges()];case 2:e=r.sent();return[4,this._provider.runToPush(e)];case 3:t=r.sent();this._commits.forEach((function(e){var n=e.resolve;return n(t)}));this.logger.log("processor fulfilled.");return[3,5];case 4:n=r.sent();this._commits.forEach((function(e){var t=e.reject;return t(n)}));this.logger.log("processor rejected:",n);return[3,5];case 5:return[2,true]}}))}))};CommitProcessor.prototype.commit=function(e){this._commits.push(e)};CommitProcessor.prototype.batchCommitChanges=function(e){return u(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:if(!(e!==null&&e!==void 0))return[3,1];t=e;return[3,3];case 1:return[4,this._provider.fetchBase()];case 2:t=n.sent();n.label=3;case 3:e=t;return[2,this._commits.reduce((function(e,t){var n=t.change;return n(e)}),e)]}}))}))};return CommitProcessor}();var f=function(){function CommitController(e){this._provider=e;this._current=null;this._handler=new i.SequenceProcessorHandler({name:this._provider.name,onFinish:this._onProcessorsFinished.bind(this),addProcessorStrategy:this._addProcessorStrategy.bind(this)})}Object.defineProperty(CommitController.prototype,"logger",{get:function(){return r.mainLogger.tags(this._provider.name)},enumerable:true,configurable:true});CommitController.prototype.commit=function(e){var t=this;this.logger.log("commit.");return new Promise((function(n,r){var o=t._onProcessorExecuted.bind(t);var i=new l(t._provider,o);i.commit({change:e,resolve:n,reject:r});t._handler.addProcessor(i)}))};CommitController.prototype.batchCommitChanges=function(){var e;return u(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:this.logger.log("batch commit changes.");return[4,(e=this._current)===null||e===void 0?void 0:e.batchCommitChanges()];case 1:t=r.sent();n=this._handler.getProcessors()[0];return[2,n?n.batchCommitChanges(t):t]}}))}))};CommitController.prototype._addProcessorStrategy=function(e,t){var n=c(e,1),r=n[0];return r?[r.mergeWith(t)]:[t]};CommitController.prototype._onProcessorExecuted=function(e){this._current=e};CommitController.prototype._onProcessorsFinished=function(){this._current=null};return CommitController}()},741587:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(862926);var o=n.n(r);var i="[RC_COMMON]";var a=r.ModuleLogger.getLogger(i,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.FOUNDATION)},854434:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(862926);var o=n.n(r);var i=n(733880);var a=n(741587);var u=function(){function RCResponseParser(e){if(e===void 0){e=[]}this._additionalErrorCode=e;this.name="RCResponseParser"}RCResponseParser.prototype.parse=function(e){var t=this;var n=e.data;var o={errorCode:"",errorMessage:"",payload:{}};if(n){var u=n.errors;if(u){if(Array.isArray(u)){u.some((function(e){return t.extractErrorInfo(o,e)}))}else{this.extractErrorInfo(o,u)}}if((o.errorCode!==""||this.extractErrorInfo(o,n))&&this.isKnownError(o)){return new i.pL(o.errorCode,o.errorMessage,o.payload)}}a.k.tags(this.name).info("can not parse RC response: "+JSON.stringify((0,r.sensitive)(e)));return null};RCResponseParser.prototype.extractErrorInfo=function(e,t){if(typeof t.errorCode==="string"&&t.errorCode!==""){Object.keys(t).forEach((function(n){if(n==="errorCode"){e.errorCode=t[n].toUpperCase()}else if(n==="message"){e.errorMessage=t[n]||""}else{e.payload[n]=t[n]||""}}));return true}return false};RCResponseParser.prototype.isKnownError=function(e){return Object.values(i.cf).some((function(t){return e.errorCode===t}))||this._additionalErrorCode.some((function(t){return e.errorCode===t}))};return RCResponseParser}()},307570:()=>{},689737:()=>{},632432:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r;(function(e){e["UNINITIALIZED"]="UNINITIALIZED";e["OCCUPY"]="OCCUPY";e["IDLE"]="IDLE"})(r||(r={}));var o="BADGE_LAST_READ_TIME"},788813:(e,t,n)=>{"use strict";n.d(t,{pv:()=>i,L$:()=>o});var r;(function(e){e["BUSINESS_HOURS"]="BusinessHours";e["AFTER_HOURS"]="AfterHours";e["CUSTOM"]="Custom"})(r||(r={}));var o;(function(e){e["SEQUENTIALLY"]="Sequentially";e["SIMULTANEOUSLY"]="Simultaneously"})(o||(o={}));var i;(function(e){e["INTRODUCTORY"]="Introductory";e["ANNOUNCEMENT"]="Announcement";e["CONNECTING_MESSAGE"]="ConnectingMessage";e["CONNECTING_AUDIO"]="ConnectingAudio";e["VOICEMAIL"]="Voicemail";e["UNAVAILABLE"]="Unavailable";e["INTERRUPT_PROMPT"]="InterruptPrompt";e["HOLD_MUSIC"]="HoldMusic";e["CUSTOM"]="Custom";e["COMPANY"]="Company";e["BLOCKED_CALLERS_SPECIFIC"]="BlockedCallersSpecific";e["BLOCKED_CALLERS_ALL"]="BlockedCallersAll";e["BLOCKED_NO_CALLER_ID"]="BlockedNoCallerId";e["BLOCKED_PAY_PHONES"]="BlockedPayPhones";e["START_RECORDING"]="StartRecording";e["STOP_RECORDING"]="StopRecording";e["AUTOMATIC_RECORDING"]="AutomaticRecording"})(i||(i={}))},693644:()=>{},677785:()=>{},867190:(e,t,n)=>{"use strict";var r;(function(e){e["Active"]="Active";e["Suspended"]="Suspended";e["Blacklisted"]="Blacklisted"})(r||(r={}));var o;(function(e){e["PubNub"]="PubNub";e["APNS"]="APNS";e["PubNub_APNS_VoIP"]="PubNub/APNS/VoIP"})(o||(o={}))},323670:()=>{},334836:()=>{},521467:()=>{},438272:()=>{},649033:()=>{},489663:(e,t,n)=>{"use strict";n.r(t);n.d(t,{RCInfoModule:()=>Cr});var r=n(298784);var o=n.n(r);var i=n(667489);var a=n(862926);var u=n(587040);var s=n(642107);var c=n(404773);var l=n(960782);var f=n(295454);var d=n(749514);var p=n(187202);var h=n(827027);var v=n(696206);var g="[RC_INFO][CORE]";var _=a.ModuleLogger.getLogger(g,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),a.EVENT_DATA_FEATURE.COMMON);var y=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var b=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var C=_.tags("[RCInfoFetchController]");var m=function(){function RCInfoFetchController(e){this._rcInfoUserConfig=e;this.requestCountryState=function(e){return new h.RCPaginationController({fetchHandler:p.A.getCountryState}).getAllPage(e)};this.requestCountryList=function(e){return new h.RCPaginationController({fetchHandler:p.A.getCountryInfo}).getAllPage(e)}}RCInfoFetchController.prototype.scheduleRCInfoJob=function(e){var t=this;var n=e.key,r=e.executeFunc,o=e.permissionRegister,u=e.ignoreFirstTime,s=u===void 0?false:u;var callback=function(e){if(e){i.jobScheduler.scheduleDailyPeriodicJob(n,(function(e){return y(t,void 0,void 0,(function(){var t;return b(this,(function(o){switch(o.label){case 0:o.trys.push([0,2,,3]);return[4,r()];case 1:o.sent();e(true);return[3,3];case 2:t=o.sent();if(t instanceof a.NotModifiedError){e(true)}else{C.info("RCInfoController, "+n+", "+t);e(false)}return[3,3];case 3:return[2]}}))}))}),true,s?i.INITIAL_OPTION.IGNORE_FIRST_TIME:i.INITIAL_OPTION.BASE_ON_LAST_TIME)}else{i.jobScheduler.cancelJob(n,true)}};if(o){o(callback)}else{callback(true)}};RCInfoFetchController.prototype.getRCClientInfo=function(){return y(this,void 0,Promise,(function(){return b(this,(function(e){switch(e.label){case 0:return[4,this._rcInfoUserConfig.getClientInfo()];case 1:return[2,e.sent()||undefined]}}))}))};RCInfoFetchController.prototype.getRCVideoClientId=function(){return y(this,void 0,Promise,(function(){var e;return b(this,(function(t){switch(t.label){case 0:return[4,this.getRCClientInfo()];case 1:e=t.sent();if(e&&e.provisioning&&e.provisioning.interopClientIds){return[2,e.provisioning.interopClientIds.rcVideo]}return[2,undefined]}}))}))};RCInfoFetchController.prototype.getRCAccountInfo=function(){return y(this,void 0,Promise,(function(){return b(this,(function(e){switch(e.label){case 0:return[4,this._rcInfoUserConfig.getAccountInfo()];case 1:return[2,e.sent()||undefined]}}))}))};RCInfoFetchController.prototype.getRCExtensionInfo=function(){return y(this,void 0,Promise,(function(){return b(this,(function(e){switch(e.label){case 0:return[4,this._rcInfoUserConfig.getExtensionInfo()];case 1:return[2,e.sent()||undefined]}}))}))};RCInfoFetchController.prototype.getUserEmail=function(){return y(this,void 0,Promise,(function(){var e;return b(this,(function(t){switch(t.label){case 0:return[4,this.getRCExtensionInfo()];case 1:e=t.sent();return[2,e&&o().get(e,"contact.email")]}}))}))};RCInfoFetchController.prototype.getRCRolePermissions=function(){return y(this,void 0,Promise,(function(){return b(this,(function(e){switch(e.label){case 0:return[4,this._rcInfoUserConfig.getRolePermissions()];case 1:return[2,e.sent()||undefined]}}))}))};RCInfoFetchController.prototype.getAnsweringBizHoursRuleData=function(){return this._rcInfoUserConfig.getAnsweringBizHoursRuleData()};RCInfoFetchController.prototype.setAnsweringBizHoursRuleData=function(e){return this._rcInfoUserConfig.setAnsweringBizHoursRuleData(e)};return RCInfoFetchController}();var S=n(963786);var E=n(5279);var I=n(586695);var w=n(470033);var R=w.H3.RolePermissionId,P=w.H3.RCExtensionFeaturesId,A=w.H3.RCServiceFeatureName;var T=[[I.D9.VOIP_CALLING,{featureName:P.VoipCalling}],[I.D9.INTERNATIONAL_CALLING,{featureName:P.InternationalCalling,rolePermissionId:R.INTERNATIONAL_CALLS}],[I.D9.ON_DEMAND_CALL_RECORDING,{featureName:A.ON_DEMAND_CALL_RECORDING}],[I.D9.CALL_PARK,{featureName:P.CallPark}],[I.D9.CALL_TRANSFER,{featureName:A.SINGLE_EXTENSION_UI}],[I.D9.CALL_FLIP,{featureName:A.SINGLE_EXTENSION_UI}],[I.D9.CALL_FORWARDING,{featureName:A.CALL_FORWARDING}],[I.D9.INTERNAL_CALLS,{rolePermissionId:R.INTERNAL_CALLS}],[I.D9.DOMESTIC_CALLS,{rolePermissionId:R.DOMESTIC_CALLS}],[I.D9.READ_COMPANY_CALLLOG,{rolePermissionId:R.READ_COMPANY_CALLLOG}],[I.D9.CALL_SWITCH,{featureName:A.CALL_SWITCH}],[I.D9.PAGER_SEND,{featureName:P.PagesSending,rolePermissionId:R.INTERNAL_SMS}],[I.D9.FAX,{featureName:A.FAX}],[I.D9.VIDEO_CONFERENCING,{featureName:P.Meetings,rolePermissionId:R.PERMISSION_MEETINGS}],[I.D9.CONFERENCING,{featureName:P.Conferencing,rolePermissionId:R.ORGANIZE_CONFERENCE}],[I.D9.READ_BLOCKED_PHONE_NUMBER,{rolePermissionId:R.READ_BLOCKED_NUMBER}],[I.D9.EDIT_BLOCKED_PHONE_NUMBER,{rolePermissionId:R.EDIT_BLOCKED_NUMBER}],[I.D9.READ_CALL_LOG,{rolePermissionId:R.READ_CALL_LOG}],[I.D9.EDIT_CALL_LOG,{rolePermissionId:R.EDIT_CALL_LOG}],[I.D9.READ_MESSAGES,{rolePermissionId:R.READ_MESSAGES}],[I.D9.WEB_PHONE,{featureName:P.WebPhone}],[I.D9.ORGANIZE_CONFERENCE,{rolePermissionId:R.ORGANIZE_CONFERENCE}],[I.D9.RC_PRESENCE,{featureName:A.PRESENCE}],[I.D9.SMS_RECEIVE,{featureName:P.SMSReceiving,rolePermissionId:R.INBOUND_SMS}],[I.D9.VOICE_MAIL_TRANSCRIPTION,{featureName:P.VoicemailToText}]];var O=n(831513);var N=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var x=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var D=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var M=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var k="fax";var L=function(){function RCPermissionController(e,t,n,r,o){var i=this;this._rcCallerIdController=e;this._rcDeviceController=t;this._rcWebSettingInfoController=n;this._rcExtensionInfoController=r;this._config=o;this._logger=_.tags(RCPermissionController.name);this._handleAllPhoneFeatures=function(){return D(i,void 0,void 0,(function(){var e,t,n,r;return M(this,(function(o){switch(o.label){case 0:e=S._Z.getCurrent().context.entitlement;t=e.get(w.H3.RCExtensionFeaturesId.HidePhoneIconForVirtualExtensions);r=t;if(!r)return[3,2];return[4,this._rcDeviceController.getDigitalLines()];case 1:r=o.sent().length<1;o.label=2;case 2:n=!r;return[4,e.set(w.H3.RCCustomPermissionList.allPhoneFeatures,n)];case 3:o.sent();return[2]}}))}))};this._handleCloudDirectoryFeature=function(){var e=S._Z.getCurrent().context.entitlement;e.set(w.H3.RCCustomPermissionList.enableCloudDirectory,true)};this._handleAnalyticPortalUriUpdate=function(){i._handleRCWebUriUpdate(I.Lh.ANALYTIC_PORTAL_URI,w.H3.RCCustomPermissionList.hasAnalyticPortalUri)};this._handleSMBCompanySetupUriUpdate=function(){return D(i,void 0,Promise,(function(){var e,t;return M(this,(function(n){switch(n.label){case 0:return[4,this._rcWebSettingInfoController.getRawRCWebUriByType(I.Lh.SMB_COMPANY_SETTING)];case 1:t=!!n.sent();if(t)return[3,3];return[4,this._rcWebSettingInfoController.getRawRCWebUriByType(I.Lh.SMB_COMPANY_SETUP)];case 2:t=!!n.sent();n.label=3;case 3:e=t;this._logger.info("need to show CompanySetup or CompanySetting tab: "+e);return[2,S._Z.getCurrent().context.entitlement.set(w.H3.RCCustomPermissionList.hasSMBCompanySetupUri,e)]}}))}))};this._handleSMSCallerIdsUpdate=function(){i._logger.info("updateHasCallerId, start");i._rcCallerIdController.getSMSCallerIds().then((function(e){i._logger.info("updateHasCallerId, passed:",e===null||e===void 0?void 0:e.length);var t=S._Z.getCurrent().context.entitlement;t.set(w.H3.RCCustomPermissionList.hasSMSCallerIds,(e===null||e===void 0?void 0:e.length)>0)}))};this._initFeaturePermissionMap()}RCPermissionController.prototype.initEntitlement=function(){return D(this,void 0,Promise,(function(){var e,t,n,r;return M(this,(function(o){switch(o.label){case 0:return[4,this._config.getAccountInfo()];case 1:e=o.sent();e&&this.handleAccountInfo(e);return[4,this._config.getExtensionFeaturesInfo()];case 2:t=o.sent();t&&this.handleExtensionFeaturesInfo(t);return[4,this._config.getExtensionInfo()];case 3:n=o.sent();n&&this.handleExtension(n);return[4,this._config.getRolePermissions()];case 4:r=o.sent();r&&this.handleRolePermissions(r);this._handleCustomPermission();return[2]}}))}))};RCPermissionController.prototype.start=function(){var e=(0,u.gT)().accountInfoService;this._rcExtensionInfoController.subscribeExtensionChange(d.J6.Permissions,e.requestRCRolePermissions);this._rcExtensionInfoController.subscribeExtensionChange(d.J6.Features,e.requestRCExtensionFeaturesInfo);i.notificationCenter.on(u.FY.CLIENT_INFO,this._handleAnalyticPortalUriUpdate);i.notificationCenter.on(u.FY.CLIENT_INFO,this._handleSMBCompanySetupUriUpdate);i.notificationCenter.on(d.FY.RC_INFO.EXTENSION_PHONE_NUMBER_LIST,this._handleSMSCallerIdsUpdate);i.notificationCenter.on(d.FY.RC_INFO.DEVICE_INFO,this._handleAllPhoneFeatures);i.notificationCenter.on(O.FY.PHOENIX_ACCOUNT_UPGRADE,this._handleSMBCompanySetupUriUpdate)};RCPermissionController.prototype.dispose=function(){var e=(0,u.gT)().accountInfoService;this._rcExtensionInfoController.unsubscribeExtensionChange(d.J6.Permissions,e.requestRCRolePermissions);this._rcExtensionInfoController.unsubscribeExtensionChange(d.J6.Features,e.requestRCExtensionFeaturesInfo);i.notificationCenter.off(u.FY.CLIENT_INFO,this._handleAnalyticPortalUriUpdate);i.notificationCenter.off(u.FY.CLIENT_INFO,this._handleSMBCompanySetupUriUpdate);i.notificationCenter.off(d.FY.RC_INFO.EXTENSION_PHONE_NUMBER_LIST,this._handleSMSCallerIdsUpdate);i.notificationCenter.off(d.FY.RC_INFO.DEVICE_INFO,this._handleAllPhoneFeatures);i.notificationCenter.off(O.FY.PHOENIX_ACCOUNT_UPGRADE,this._handleSMBCompanySetupUriUpdate)};RCPermissionController.prototype.handleAccountInfo=function(e){var t=this;var updateEntitlement=function(){var n,r,o,i;var a=new Set;var u=(r=(n=e.serviceInfo)===null||n===void 0?void 0:n.servicePlan)===null||r===void 0?void 0:r.freemiumProductType;if(!t._isPhoenixOrFreyjaUser(e)){a.add(w.H3.RCAccountExtendedPermissionId.CanUseRCCloudContact)&&a.add(w.H3.RCAccountExtendedPermissionId.CanUseExternalContact);a.add(w.H3.RCAccountExtendedPermissionId.NotPhoenixOrGlipUser)}u!==h.FREEMIUM_PRODUCT_TYPE.FREYJA&&a.add(w.H3.RCAccountExtendedPermissionId.CanUseGOCloudContact)&&a.add(w.H3.RCAccountExtendedPermissionId.CanUseExternalContact);var s=u===h.FREEMIUM_PRODUCT_TYPE.PHOENIX;var c=(i=(o=e.serviceInfo)===null||o===void 0?void 0:o.billingPlan)===null||i===void 0?void 0:i.type;s&&c===h.BILLING_PLAN_TYPE.FREE&&a.add(w.H3.RCAccountExtendedPermissionId.ACCOUNT_UPGRADE_PROMOTION);t._handlePermissionData(a,Object.values(w.H3.RCAccountExtendedPermissionId))};this._combinedEntitlementUpdateWrapper(updateEntitlement)};RCPermissionController.prototype._handleCustomPermission=function(){this._handleAnalyticPortalUriUpdate();this._handleSMSCallerIdsUpdate();this._handleSMBCompanySetupUriUpdate();this._handleCloudDirectoryFeature()};RCPermissionController.prototype._handleIsSuperAdminUpdate=function(e){var t,n;var r=!!((n=(t=e.permissions)===null||t===void 0?void 0:t.admin)===null||n===void 0?void 0:n.enabled);var o=S._Z.getCurrent().context.entitlement;o.set(w.H3.RCCustomPermissionList.isSuperAdmin,r)};RCPermissionController.prototype._handleRCWebUriUpdate=function(e,t){var n=this;return this._handleUriUpdate(e,t,(function(){return n._rcWebSettingInfoController.getRCWebUriByType(e)}))};RCPermissionController.prototype._handleUriUpdate=function(e,t,n){var r=this;return n().then((function(n){r._logger.info("Get "+e+" uri success: ",{uri:(0,a.sensitiveAllQuery)(n)});var o=S._Z.getCurrent().context.entitlement;o.set(t,!!n);return n})).catch((function(t){r._logger.info("Get "+e+" uri failed: ",{error:t});return""}))};RCPermissionController.prototype.handleExtension=function(e){if(e.serviceFeatures){var t=new Set(e.serviceFeatures.filter((function(e){return!!e.enabled})).map((function(e){return(0,E.u)(w.l2.RCServiceFeatureName,e.featureName)})));this._handlePermissionData(t,Object.values(w.H3.RCServiceFeatureName))}this._handleIsSuperAdminUpdate(e)};RCPermissionController.prototype.handleExtensionFeaturesInfo=function(e){var t=this;var updateEntitlement=function(){var n=!(e===null||e===void 0?void 0:e.records)?new Set:new Set(e.records.filter((function(e){return e.available})).map((function(e){return(0,E.u)(w.l2.RCExtensionFeatures,e.id)})));d.qj.records.forEach((function(t){if(!e.records.some((function(e){return t.id===e.id}))){n.add((0,E.u)(w.l2.RCExtensionFeatures,t.id))}}));t._handlePermissionData(n,Object.values(w.H3.RCExtensionFeaturesId));t._handleExtendedExtensionFeaturesInfo(e)};this._combinedEntitlementUpdateWrapper(updateEntitlement);this._handleAllPhoneFeatures()};RCPermissionController.prototype.handleRolePermissions=function(e){if(!e.permissions){return}var t=new Set(e.permissions.filter((function(e){return o().get(e,"permission.id")})).map((function(e){return(0,E.u)(w.l2.RolePermissionId,o().get(e,"permission.id"))})));this._handlePermissionData(t,Object.values(w.H3.RolePermissionId))};RCPermissionController.prototype.isRCFeaturePermissionEnabled=function(e){return D(this,void 0,Promise,(function(){var t;return M(this,(function(n){switch(n.label){case 0:return[4,this._checkSpecialRCFeaturePermission(e)];case 1:t=n.sent();if(t.found){return[2,t.enabled]}return[4,this._checkGeneralRCFeaturePermission(e)];case 2:t=n.sent();return[2,t.enabled]}}))}))};RCPermissionController.prototype._handlePermissionData=function(e,t){var n=S._Z.getCurrent().context.entitlement;var r=t.map((function(t){return{key:t,value:e.has(t)}}));n.batchSet(r)};RCPermissionController.prototype._handleExtendedExtensionFeaturesInfo=function(e){var t=new Set;e.records.forEach((function(e){if(e.id===w.pl.Glip){var n=S._Z.getCurrent().context.entitlement;n.set(w.pl.Glip,e.available);n.get(w.pl.Glip)&&e.params&&e.params.some((function(e){return e.name===h.RCExtensionFeaturesParam.TabPosition&&e.value===h.TabPositionOption.More}))&&t.add((0,E.u)(w.l2.RCExtendedExtensionFeatures,w.Tg.IsMessageInMore))}if(e.id===w.pl.MigratedFromRcmToRcv){e.available&&e.params&&e.params.some((function(e){return e.name===h.RCExtensionFeaturesParam.MigrationType&&(e.value===h.MigrationType.Soft||e.value===h.MigrationType.Hard)}))&&t.add((0,E.u)(w.l2.RCExtendedExtensionFeatures,w.Tg.MigrationType))}}));this._handlePermissionData(t,Object.values(w.H3.RCExtendedExtensionFeaturesId))};RCPermissionController.prototype._checkSpecialRCFeaturePermission=function(e){return D(this,void 0,void 0,(function(){var t,n,r,o,i,a,u,s;return M(this,(function(c){switch(c.label){case 0:t=true;n=false;r=S._Z.getCurrent().context.entitlement;o=e;switch(o){case I.D9.VOIP_CALLING:return[3,1];case I.D9.SMS_SEND:return[3,2]}return[3,5];case 1:n=!!r.get(w.H3.RCExtensionFeaturesId.VoipCalling);return[3,6];case 2:i=!!r.get(w.H3.RCExtensionFeaturesId.SMSSending);a=!!r.get(w.H3.RolePermissionId.LOCAL_SMS);u=!!r.get(w.H3.RolePermissionId.INTERNATIONAL_SMS);n=i&&(a||u);if(!n)return[3,4];return[4,this._rcCallerIdController.getSMSCallerIds()];case 3:s=c.sent();n=s.length>0;c.label=4;case 4:return[3,6];case 5:t=false;return[3,6];case 6:return[2,{found:t,enabled:n}]}}))}))};RCPermissionController.prototype._checkGeneralRCFeaturePermission=function(e){var t=false;var n=false;var r=S._Z.getCurrent().context.entitlement;var o=this._featurePermissionMap.get(e);if(o){t=true;var i=o.featureName?!!r.get(o.featureName):true;var a=o.rolePermissionId?!!r.get(o.rolePermissionId):true;n=i&&a}return{found:t,enabled:n}};RCPermissionController.prototype._initFeaturePermissionMap=function(){this._featurePermissionMap=new Map(T)};RCPermissionController.prototype._isRCFreeOrFaxOnlyAccount=function(e){var isOnFaxOnlyPlan=function(){var t,n,r,o,i,a;return((r=(n=(t=e.serviceInfo)===null||t===void 0?void 0:t.servicePlan)===null||n===void 0?void 0:n.name)===null||r===void 0?void 0:r.toLowerCase().includes(k))||((a=(i=(o=e.serviceInfo)===null||o===void 0?void 0:o.billingPlan)===null||i===void 0?void 0:i.name)===null||a===void 0?void 0:a.toLowerCase().includes(k))};return this._isPhoenixOrFreyjaUser(e)||isOnFaxOnlyPlan()};RCPermissionController.prototype._isPhoenixOrFreyjaUser=function(e){var t,n;var r=(n=(t=e.serviceInfo)===null||t===void 0?void 0:t.servicePlan)===null||n===void 0?void 0:n.freemiumProductType;var o=r===h.FREEMIUM_PRODUCT_TYPE.FREYJA;var i=r===h.FREEMIUM_PRODUCT_TYPE.PHOENIX;return o||i};RCPermissionController.prototype._handleCombinedEntitlement=function(){var e,t;return D(this,void 0,void 0,(function(){var n,r,o,i,a;return M(this,(function(u){switch(u.label){case 0:return[4,this._config.getAccountInfo()];case 1:n=u.sent();return[4,this._config.getExtensionFeaturesInfo()];case 2:r=u.sent();if(!(n&&r))return[3,4];o=new Set;i=S._Z.getCurrent().context.entitlement;a=(t=(e=r.records)===null||e===void 0?void 0:e.find((function(e){return e.id===w.pl.VoipCalling})))===null||t===void 0?void 0:t.available;return[4,i.set(w.H3.RCExtensionFeaturesId.VoipCalling,a||false)];case 3:u.sent();(i.get(w.H3.RCExtensionFeaturesId.VoipCalling)||!this._isRCFreeOrFaxOnlyAccount(n))&&o.add((0,E.u)(w.l2.RCCombinedExtensionFeaturesId,w.vR.ExtensionNumberAvailable));this._handlePermissionData(o,Object.values(w.H3.RCCombinedExtensionFeaturesId));u.label=4;case 4:return[2]}}))}))};RCPermissionController.prototype._combinedEntitlementUpdateWrapper=function(e){e();this._handleCombinedEntitlement()};N([a.SingleRequest,x("design:type",Function),x("design:paramtypes",[]),x("design:returntype",Promise)],RCPermissionController.prototype,"_handleCombinedEntitlement",null);return RCPermissionController}();var F=n(274251);var U=n(891094);var B=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var G=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var j=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var H=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var V=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var W=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var z=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(W(arguments[t]));return e};var Y=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var q,K;var Q=[d.or.SmsSender,d.or.MmsSender,d.or.InternationalSmsSender,d.or.TollFreeSmsSender];var Z=_.tags("[RCCallerIdController]");var X=(q={},q[F.vX.BusinessMobileNumber]=0,q[F.vX.DirectNumber]=1,q[F.vX.ExternalMobileNumber]=2,q[F.vX.MainCompanyNumber]=3,q[F.vX.Blocked]=4,q[F.vX.ForwardedNumber]=5,q[F.vX.IntegrationNumber]=6,q[F.vX.CompanyNumber]=7,q[F.vX.AdditionalCompanyNumber]=8,q[F.vX.ForwardedCompanyNumber]=9,q[F.vX.ContactCenterNumber]=10,q[F.vX.NickName]=11,q[F.vX.CompanyFaxNumber]=12,q);var J=(K={},K[F.vX.DirectNumber]="Direct Number",K[F.vX.MainCompanyNumber]="Main Company Number",K[F.vX.Blocked]="Blocked",K[F.vX.CompanyNumber]="Company Number",K[F.vX.AdditionalCompanyNumber]="Company Number",K[F.vX.ForwardedNumber]="Forwarded Number",K[F.vX.IntegrationNumber]="Integration Number",K[F.vX.ForwardedCompanyNumber]="Forwarded Company Number",K[F.vX.ContactCenterNumber]="Contact Center Number",K[F.vX.CompanyFaxNumber]="Company Fax Number",K[F.vX.BusinessMobileNumber]="Business Mobile",K[F.vX.ExternalMobileNumber]="ExternalMobileNumber",K);var $=[F.vX.ConferencingNumber];var ee=0;var te=-1;var ne=function(e){B(RCCallerIdController,e);function RCCallerIdController(t,n,r){var o=e.call(this,{jobConfig:{jobKey:U.m.FETCH_EXTENSION_CALLER_ID},dataKey:U.Uz.EXTENSION_CALLER_ID,dbConfig:r,dataFetchConfig:h.DATA_FETCH_CONFIG.EXECUTE_FIRST_TIME_NOT_IN_QUEUE|h.DATA_FETCH_CONFIG.FETCH_WHEN_SCHEDULE,accountUpgradeController:n,entitlementKeys:[[w.H3.RCExtensionFeaturesId.ReadOutboundCallerId]]})||this;o._rcExtensionPhoneNumber=t;o._DBConfig=r;o._recordsSortDelegatorFn=function(e,t){var n,r,a,u;if(((n=e.extension)===null||n===void 0?void 0:n.type)===h.RC_EXTENSION_TYPES.USER&&((r=t.extension)===null||r===void 0?void 0:r.type)===h.RC_EXTENSION_TYPES.USER&&((a=e.extension)===null||a===void 0?void 0:a.name)&&((u=t.extension)===null||u===void 0?void 0:u.name)){return i.SortUtils.compareString(e.extension.name,t.extension.name)}return o._recordsSortFn(e,t)};o._recordsSortFn=function(e,t){return X[e.usageType]-X[t.usageType]};o._initPartialController();return o}Object.defineProperty(RCCallerIdController.prototype,"logger",{get:function(){return Z},enumerable:true,configurable:true});RCCallerIdController.prototype._notHaveExtensionPhoneNumber=function(){return H(this,void 0,void 0,(function(){var e;return V(this,(function(t){switch(t.label){case 0:return[4,this._rcExtensionPhoneNumber.getLocalData()];case 1:e=t.sent();return[2,!(e===null||e===void 0?void 0:e.records.length)]}}))}))};RCCallerIdController.prototype._initPartialController=function(){var e=this;var t={getEntityNotificationKey:function(){return d.FY.RC_INFO.EXTENSION_CALLER_ID},get:function(){return H(e,void 0,void 0,(function(){return V(this,(function(e){switch(e.label){case 0:return[4,this.getLocalData()];case 1:return[2,e.sent()||null]}}))}))},update:function(t){return H(e,void 0,void 0,(function(){return V(this,(function(e){switch(e.label){case 0:return[4,this._DBConfig.setExtensionCallerId(t)];case 1:e.sent();return[2]}}))}))}};this._partialModifyController=new i.PartialModifyController(t)};RCCallerIdController.prototype.getCallerIdList=function(e){if(e===void 0){e=false}return H(this,void 0,void 0,(function(){var t,n;return V(this,(function(r){switch(r.label){case 0:return[4,this._rcExtensionPhoneNumber.getLocalData()];case 1:t=(r.sent()||{}).records,n=t===void 0?[]:t;return[4,this._isCurrentAssignedLineBYOC()];case 2:if(r.sent()){n=this._leavesOnlyBYOC(n)}return[4,this._handleCallerIdList(n,e)];case 3:return[2,r.sent()]}}))}))};RCCallerIdController.prototype._isCurrentAssignedLineBYOC=function(e){var t;return H(this,void 0,void 0,(function(){return V(this,(function(n){switch(n.label){case 0:if(!!e)return[3,2];return[4,(t=this._DBConfig)===null||t===void 0?void 0:t.getAssignedDigitalLine()];case 1:e=n.sent();n.label=2;case 2:return[2,e?e.phoneInfo.paymentType===h.PhoneNumberPaymentType.ExternalNumberProvider:false]}}))}))};RCCallerIdController.prototype._leavesOnlyBYOC=function(e){var t=[];e.forEach((function(e){if(e.paymentType===h.PhoneNumberPaymentType.ExternalNumberProvider){t.push(e)}}));return t};RCCallerIdController.prototype.getSMSCallerIds=function(){return H(this,void 0,void 0,(function(){var e;return V(this,(function(t){switch(t.label){case 0:return[4,this._getCallerListByFeatures(Q,true)];case 1:e=t.sent();return[2,e.sort(this._recordsSortFn.bind(this))]}}))}))};RCCallerIdController.prototype._getCallerListByFeatures=function(e,t){return H(this,void 0,void 0,(function(){var n,r,o;return V(this,(function(i){switch(i.label){case 0:n=new Set(e);return[4,this._rcExtensionPhoneNumber.getLocalData()];case 1:r=(i.sent()||{}).records,o=r===void 0?[]:r;return[2,o.filter((function(e){if(t){var r=e.extension&&e.extension.id;var o=(0,u.gT)().userConfig.getExtensionId().toString();if(r&&r.toString()!==o.toString()){return false}}var i=e.features;return i.some((function(e){return n.has(e)}))}))]}}))}))};RCCallerIdController.prototype._blockingCallerIdAvailable=function(){return!!this._entitlement().get(w.H3.RCExtensionFeaturesId.BlockingCallerId)};RCCallerIdController.prototype._entitlement=function(){return i.accountManager.getCurrent().context.entitlement};RCCallerIdController.prototype._handleCallerIdList=function(e,t){return H(this,void 0,void 0,(function(){var n,r,o;return V(this,(function(i){switch(i.label){case 0:if(!(e.length===0))return[3,2];return[4,this._getCompanyMainNumberAsCallerId()];case 1:e=i.sent();Z.info("has no extension caller id, return fake main company number");i.label=2;case 2:n=[];n=this._blockingCallerIdAvailable()?this._addBlockedNumber(e):z(e);n=n.filter((function(e){var t;return!$.includes(e.usageType)&&((t=e.status)===null||t===void 0?void 0:t.toLowerCase())!==F["if"]}));n=n.map((function(e){var t=e.id,n=e.phoneNumber,r=e.usageType,o=e.label,i=e.extension,a=e.paymentType,u=e.features;i&&(i.id=i===null||i===void 0?void 0:i.id.toString());return{id:t,phoneNumber:n,paymentType:a,usageType:o&&o!==J[F.vX.BusinessMobileNumber]?F.vX.NickName:r,label:o||J[r],extension:i,features:u}}));r=n.filter((function(e){var t;return(t=e.features)===null||t===void 0?void 0:t.includes(d.or.CallerId)})).sort(this._recordsSortFn);return[4,this._reArrangeBYOCNumbers(r)];case 3:r=i.sent();if(t){o=n.filter((function(e){var t;return(t=e.features)===null||t===void 0?void 0:t.includes(d.or.Delegated)})).sort(this._recordsSortDelegatorFn);r.splice.apply(r,z([this._findInsertIndex(r),0],o))}return[2,r]}}))}))};RCCallerIdController.prototype._findInsertIndex=function(e){var t=e.findIndex((function(e){return X[e.usageType]>2}));return t>-1?t:e.length};RCCallerIdController.prototype._reArrangeBYOCNumbers=function(e){return H(this,void 0,void 0,(function(){var t,n,r,o;return V(this,(function(i){switch(i.label){case 0:return[4,this._getUserBYOCNumberId()];case 1:t=i.sent();if(e.length<2||!t){return[2,e]}n=e.findIndex((function(e){return e.paymentType===h.PhoneNumberPaymentType.ExternalNumberProvider}));r=e.findIndex((function(e){return e.id===t}));if(n!==-1&&r!==-1&&n!==r){o=e[n];e[n]=e[r];e[r]=o}return[2,e]}}))}))};RCCallerIdController.prototype._getUserBYOCNumberId=function(){return H(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,u;var s,c,l,f;return V(this,(function(d){switch(d.label){case 0:return[4,this._DBConfig.getDeviceInfo()];case 1:e=d.sent();if(e===null||e===void 0?void 0:e.records){try{for(n=Y(e.records),r=n.next();!r.done;r=n.next()){o=r.value;if(o.phoneLines.length){try{for(i=(l=void 0,Y(o.phoneLines)),a=i.next();!a.done;a=i.next()){u=a.value;if(u.phoneInfo.paymentType===h.PhoneNumberPaymentType.ExternalNumberProvider){t=u.phoneInfo.id;break}}}catch(e){l={error:e}}finally{try{if(a&&!a.done&&(f=i.return))f.call(i)}finally{if(l)throw l.error}}}}}catch(e){s={error:e}}finally{try{if(r&&!r.done&&(c=n.return))c.call(n)}finally{if(s)throw s.error}}}return[2,t]}}))}))};RCCallerIdController.prototype.getCallerById=function(e){return H(this,void 0,void 0,(function(){var t,n;return V(this,(function(r){switch(r.label){case 0:return[4,this.getCallerIdList()];case 1:t=r.sent();n=t.findIndex((function(t){return t.id===e}));return[2,n!==-1?t[n]:undefined]}}))}))};RCCallerIdController.prototype.getFirstDidCaller=function(){return this._getFirstCallerByUsageType(F.vX.DirectNumber)};RCCallerIdController.prototype.getBusinessMobileCaller=function(){return this._getFirstCallerByUsageType(F.vX.BusinessMobileNumber)};RCCallerIdController.prototype.getCompanyMainCaller=function(){return this._getFirstCallerByUsageType(F.vX.MainCompanyNumber)};RCCallerIdController.prototype._getFirstCallerByUsageType=function(e){return H(this,void 0,void 0,(function(){var t,n,r,o;var i,a;return V(this,(function(u){switch(u.label){case 0:return[4,this.getCallerIdList()];case 1:t=u.sent();try{for(n=Y(t),r=n.next();!r.done;r=n.next()){o=r.value;if(o&&o.usageType===e){return[2,o]}}}catch(e){i={error:e}}finally{try{if(r&&!r.done&&(a=n.return))a.call(n)}finally{if(i)throw i.error}}return[2,undefined]}}))}))};RCCallerIdController.prototype._addBlockedNumber=function(e){return z(e,[{id:ee,usageType:F.vX.Blocked,phoneNumber:F.vX.Blocked,features:[d.or.CallerId]}])};RCCallerIdController.prototype._getCompanyMainNumberAsCallerId=function(){var e;return H(this,void 0,void 0,(function(){var t;return V(this,(function(n){switch(n.label){case 0:return[4,(e=(0,i.getModule)(O.Y0))===null||e===void 0?void 0:e.getAccountInfo()];case 1:t=n.sent();return[2,[{id:te,usageType:F.vX.MainCompanyNumber,phoneNumber:t.mainNumber||"",features:[d.or.CallerId]}]]}}))}))};RCCallerIdController.prototype._buildCallerIdRequestPrams=function(e){return H(this,void 0,void 0,(function(){var t,n,r;return V(this,(function(o){switch(o.label){case 0:t={feature:"",callerId:{}};t.callerId=e===ee?{type:F.vX.Blocked}:{phoneInfo:{id:e.toString()}};return[4,this.getLocalAndRemoteData()];case 1:n=o.sent();if(n&&n.byFeature){r=this._findDefaultCallerIdInfo(n.byFeature);if(r){t.feature=r.feature}else{Z.log("can not find appropriate feature in caller id setting.")}}return[2,t]}}))}))};RCCallerIdController.prototype.setDefaultCallerId=function(e){return H(this,void 0,void 0,(function(){var t,n,r,a,s;var c=this;return V(this,(function(l){switch(l.label){case 0:this._temporaryPhoneNumber=undefined;return[4,this._notHaveExtensionPhoneNumber()];case 1:if(l.sent()){return[2]}if(!(e.callerId!==undefined&&!e.extensionId))return[3,7];return[4,this._buildCallerIdRequestPrams(e.callerId)];case 2:t=l.sent();n=function(e,n){var r=o().cloneDeep(n.byFeature);r=r.map((function(e){if(e.feature===t.feature){return t}return e}));e.byFeature=r;return e};l.label=3;case 3:l.trys.push([3,5,,6]);return[4,this._partialModifyController.updatePartially({entityId:d.FY.RC_INFO.EXTENSION_CALLER_ID,preHandlePartialEntity:n,doUpdateEntity:function(){return H(c,void 0,void 0,(function(){return V(this,(function(e){switch(e.label){case 0:return[4,p.A.setExtensionCallerId({byFeature:[t]})];case 1:return[2,e.sent()]}}))}))}})];case 4:l.sent();return[3,6];case 5:r=l.sent();Z.error("set default caller id failed",{error:r});if(r.code===h.ERROR_CODES_RC.CID_113){a=(0,u.gT)().accountInfoService;a.requestRCExtensionFeaturesInfo().catch((function(e){return Z.error("request RCExtensionFeaturesInfo failed",e)}));Z.warn("local features config may differ from remote, do sync manually")}throw r;case 6:Z.log("set default caller id => ",t);return[3,9];case 7:if(!e.extensionId)return[3,9];s=this;return[4,this.getCallerIdList(true)];case 8:s._temporaryPhoneNumber=l.sent().find((function(t){var n;return((n=t.extension)===null||n===void 0?void 0:n.id.toString())===e.extensionId}));i.notificationCenter.emitKVChange(d.FY.RC_INFO.DELEGATOR_CALLER_ID);l.label=9;case 9:return[2]}}))}))};RCCallerIdController.prototype.requestDataFromServer=function(){return p.A.getExtensionCallerId()};RCCallerIdController.prototype.handleRemoteData=function(t){return H(this,void 0,Promise,(function(){var n;return V(this,(function(r){switch(r.label){case 0:return[4,this.getLocalData()];case 1:n=r.sent();if(!!o().isEqual(n,t))return[3,3];return[4,e.prototype.handleRemoteData.call(this,t)];case 2:r.sent();i.notificationCenter.emit(d.FY.RC_INFO.EXTENSION_CALLER_ID,t);r.label=3;case 3:return[2]}}))}))};RCCallerIdController.prototype._getExtensionCallerId=function(){return H(this,void 0,void 0,(function(){var e,t,n;return V(this,(function(r){switch(r.label){case 0:return[4,this.getLocalAndRemoteData()];case 1:e=r.sent();if(e&&e.byFeature){t=this._findDefaultCallerIdInfo(e.byFeature);if(t){if(o().get(t,"callerId.type")===F.vX.Blocked){return[2,ee]}n=o().get(t,"callerId.phoneInfo.id");return[2,n&&o().toNumber(n)]}}return[2,null]}}))}))};RCCallerIdController.prototype._findDefaultCallerIdInfo=function(e){return e.find((function(e){return e.feature===d.IJ.AdditionalSoftPhone}))||e.find((function(e){return e.feature===d.IJ.MobileApp}))};RCCallerIdController.prototype.getDefaultCallerId=function(e){if(e===void 0){e=true}return H(this,void 0,void 0,(function(){var t,n,r,o,i,a;return V(this,(function(u){switch(u.label){case 0:a=this._getTemporaryDefaultExtensionCallerId(e);if(a)return[3,2];return[4,this._getFakeDefaultCallerId()];case 1:a=u.sent();u.label=2;case 2:i=a;if(i)return[3,4];return[4,this._getDefaultExtensionCallerId()];case 3:i=u.sent();u.label=4;case 4:o=i;if(o)return[3,6];return[4,this._getCallerIdFromAssignedBYOCLine()];case 5:o=u.sent();u.label=6;case 6:r=o;if(r)return[3,8];return[4,this.getBusinessMobileCaller()];case 7:r=u.sent();u.label=8;case 8:n=r;if(n)return[3,10];return[4,this.getFirstDidCaller()];case 9:n=u.sent();u.label=10;case 10:t=n;if(t)return[3,12];return[4,this.getCompanyMainCaller()];case 11:t=u.sent();u.label=12;case 12:return[2,t]}}))}))};RCCallerIdController.prototype._getTemporaryDefaultExtensionCallerId=function(e){return this._temporaryPhoneNumber&&e?this._temporaryPhoneNumber:undefined};RCCallerIdController.prototype._getFakeDefaultCallerId=function(){return H(this,void 0,void 0,(function(){var e;return V(this,(function(t){switch(t.label){case 0:return[4,this._notHaveExtensionPhoneNumber()];case 1:if(!t.sent())return[3,3];return[4,this.getCallerById(te)];case 2:e=t.sent();return[3,4];case 3:e=undefined;t.label=4;case 4:return[2,e]}}))}))};RCCallerIdController.prototype._getDefaultExtensionCallerId=function(){return H(this,void 0,void 0,(function(){var e,t;return V(this,(function(n){switch(n.label){case 0:return[4,this._getExtensionCallerId()];case 1:e=n.sent();if(!(e!==null))return[3,3];return[4,this.getCallerById(e)];case 2:t=n.sent();return[3,4];case 3:t=undefined;n.label=4;case 4:return[2,t]}}))}))};RCCallerIdController.prototype._getCallerIdFromAssignedBYOCLine=function(){var e;return H(this,void 0,void 0,(function(){var t,n,r;return V(this,(function(o){switch(o.label){case 0:return[4,(e=this._DBConfig)===null||e===void 0?void 0:e.getAssignedDigitalLine()];case 1:t=o.sent();return[4,this._isCurrentAssignedLineBYOC(t)];case 2:n=o.sent();if(!n)return[3,4];return[4,this.getCallerById(t.phoneInfo.id)];case 3:r=o.sent();return[3,5];case 4:r=undefined;o.label=5;case 5:return[2,r]}}))}))};RCCallerIdController.prototype.getCallerIdByPhoneNumber=function(e){return H(this,void 0,void 0,(function(){var t;return V(this,(function(n){switch(n.label){case 0:return[4,this.getDefaultCallerId()];case 1:t=n.sent();if(e===(t===null||t===void 0?void 0:t.phoneNumber)){return[2,t]}return[4,this.getCallerIdList(true)];case 2:return[2,n.sent().find((function(t){return t.phoneNumber===e}))]}}))}))};RCCallerIdController.prototype.resetDefaultPhoneNumber=function(){this._temporaryPhoneNumber=undefined;i.notificationCenter.emitKVChange(d.FY.RC_INFO.DELEGATOR_CALLER_ID)};G([a.SingleRequest,j("design:type",Function),j("design:paramtypes",[]),j("design:returntype",Promise)],RCCallerIdController.prototype,"_getExtensionCallerId",null);return RCCallerIdController}(h.AbstractBaseRCInfoFetchController);var re=n(302186);var oe=n(10783);var ie=n(487151);var ae=n(154503);var ue=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var se=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var ce="[RegionInfoController]";var le=_.tags(ce);var fe=500;var de=400;var pe=["39","179","1"];var he=2592e6;var ve=function(){function RegionInfoController(e,t,n,r,u,s,c){var l=this;this._specialNumberController=e;this._rcInfoFetchController=t;this._rcAccountInfoController=n;this._rcExtensionInfoController=r;this._accountServiceInfoController=u;this._rcDialingPlanController=s;this._userConfig=c;this._loadRegionInfoQueue=new i.SequenceProcessorHandler({name:ce,addProcessorStrategy:function(e,t,n){return[t].concat(e)}});this._regionInfoLoadBarrier=new a.Barrier;this._updateStationLocationDebounce=o().debounce((function(){le.log("update station location debounce");l.loadRegionInfo()}),f.lo.FIVE_SECOND);this._notificationKeys=[ae.Uz.ACCOUNT_INFO,ae.Uz.ACCOUNT_SERVICE_INFO,ae.Uz.DIALING_PLAN,ae.Uz.EXTENSION_INFO,ae.Uz.ASSIGNED_DIGITAL_LINE,ae.Uz.DEVICE_INFO]}RegionInfoController.prototype.start=function(){var e=this;this._notificationKeys.forEach((function(t){e._userConfig.on(t,e._updateStationLocationDebounce)}));var t=re.Pal.instance.getLifecycle();if(t){t.when(re.AppLifecyclePhase.Restored).then((function(){e.updateCountryStateList().catch((function(e){return le.info("update country/state list failed,",e)}))}))}};RegionInfoController.prototype.dispose=function(){var e=this;this._notificationKeys.forEach((function(t){e._userConfig.off(t,e._updateStationLocationDebounce)}))};RegionInfoController.prototype.getIsRegionInfoReady=function(){return this._regionInfoLoadBarrier.isOpen()};RegionInfoController.prototype.updateCountryStateList=function(){return ue(this,void 0,Promise,(function(){var e,t,n;var r=this;return se(this,(function(o){switch(o.label){case 0:return[4,this._userConfig.getCountryListLastFetchTime()];case 1:e=o.sent();if(Date.now()-e<he){return[2]}return[4,this._rcInfoFetchController.requestCountryList({page:1,perPage:fe})];case 2:t=o.sent();this._userConfig.setCountryList(t);n={};return[4,Promise.all(pe.map((function(e){return r._rcInfoFetchController.requestCountryState({countryId:e,page:1,perPage:de}).then((function(t){return n[e]=t})).catch((function(t){return le.info("fetch state list failed,",e,t)}))})))];case 3:o.sent();this._userConfig.setStateListMap(n);this._userConfig.setCountryListLastFetchTime(Date.now());return[2]}}))}))};RegionInfoController.prototype.loadRegionInfo=function(){var e=this;return new Promise((function(t){var processFn=function(){return ue(e,void 0,void 0,(function(){var e;return se(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,3,4]);return[4,this._loadRegionInfoInternal()];case 1:n.sent();return[3,4];case 2:e=n.sent();le.info("loadRegionInfoInQueue failed",e);return[3,4];case 3:t();return[7];case 4:return[2]}}))}))};var n=new(function(){function class_1(){}class_1.prototype.process=function(){return ue(this,void 0,Promise,(function(){return se(this,(function(e){switch(e.label){case 0:return[4,processFn()];case 1:e.sent();return[2,true]}}))}))};class_1.prototype.name=function(){return Date.now()+"_"+ce+"_"+(0,i.randomInt)()};return class_1}());e._loadRegionInfoQueue.addProcessor(n)}))};RegionInfoController.prototype._loadRegionInfoInternal=function(){return ue(this,void 0,Promise,(function(){var e,t,n,r,o,i,a;return se(this,(function(u){switch(u.label){case 0:return[4,this._rcDialingPlanController.ensureData()];case 1:u.sent();e=this._getStationLocationFromDB();le.log("loadRegionInfo, db region info",e);t=!!(e&&e.countryByManual);n=!!(e&&e.areaCodeByManual);if(!t)return[3,2];o=e.countryInfo;return[3,4];case 2:return[4,this._getDefaultCountryInfoFromDialingPlan()];case 3:o=u.sent()||d.Fc;u.label=4;case 4:r=o;if(!n)return[3,5];a=e.areaCode;return[3,7];case 5:return[4,this.getDefaultAreaCode(r)];case 6:a=u.sent();u.label=7;case 7:i=a;le.log("loadRegionInfo, new region info",{countryInfo:r,areaCode:i});this._updateCurrentCountryInfo(r);return[4,this._setStationLocation({areaCode:i,areaCodeByManual:n,countryByManual:t,newCountryInfo:r,updateSpecialNumber:true})];case 8:u.sent();le.log("release regionInfoLoadBarrier");this._regionInfoLoadBarrier.open();return[2]}}))}))};RegionInfoController.prototype.getCountryList=function(){return ue(this,void 0,Promise,(function(){var e,t;return se(this,(function(n){switch(n.label){case 0:return[4,this._getDialingPlanCountryRecords()];case 1:e=n.sent();if(!(e.length===0))return[3,3];return[4,this._getDefaultCountryInfoFromDialingPlan()];case 2:t=n.sent();if(t){e.push(t)}e=this._addSpecialCountry(e);n.label=3;case 3:return[2,e]}}))}))};RegionInfoController.prototype._addSpecialCountry=function(e){var t=e.some((function(e){return e.callingCode===d.Fc.callingCode}));if(t){ie.B1.forEach((function(t){return t.callingCode===d.Fc.callingCode&&!e.some((function(e){return e.isoCode===t.isoCode}))&&e.push(t)}))}return e};RegionInfoController.prototype.getDefaultCountryInfo=function(){return this._getDefaultCountryInfoFromDialingPlan()};RegionInfoController.prototype.getStateList=function(e){return ue(this,void 0,Promise,(function(){var t,n,r;return se(this,(function(o){switch(o.label){case 0:return[4,this._userConfig.getStateListMap()];case 1:t=o.sent();n=t[e];if(!!n)return[3,3];r={countryId:e,page:1,perPage:de};return[4,this._rcInfoFetchController.requestCountryState(r)];case 2:n=o.sent();if(n.length){t[e]=n;this._userConfig.setStateListMap(t)}o.label=3;case 3:return[2,this._filterAUCountry(e,n)]}}))}))};RegionInfoController.prototype._filterAUCountry=function(e,t){if(e===d.$G.id){return t.filter((function(e){return!(e.name===d.$G.name||e.isoCode===d.$G.isoCode)}))}return t};RegionInfoController.prototype.getAllCountryList=function(){return this._userConfig.getCountryList()};RegionInfoController.prototype.getCurrentCountry=function(){return ue(this,void 0,Promise,(function(){var e,t;return se(this,(function(n){switch(n.label){case 0:!this._regionInfoLoadBarrier.isOpen()&&le.log("wait for regionInfoLoadBarrier to be released");return[4,this._regionInfoLoadBarrier.wait()];case 1:n.sent();return[4,this._getDialingPlanCountryRecordByISOCode(this._currentCountryInfo.isoCode)];case 2:e=n.sent();t=e;if(t)return[3,4];return[4,this._getDefaultCountryInfoFromDialingPlan()];case 3:t=n.sent();n.label=4;case 4:return[2,t]}}))}))};RegionInfoController.prototype._getDefaultCountryInfoFromDialingPlan=function(){return ue(this,void 0,void 0,(function(){var e,t,n,r;return se(this,(function(o){switch(o.label){case 0:return[4,this._rcInfoFetchController.getRCExtensionInfo()];case 1:o.sent();return[4,this._rcExtensionInfoController.getHomeCountryInExtension()];case 2:e=o.sent();if(!(e===null||e===void 0?void 0:e.isoCode))return[3,3];t=this._getDefaultCountryInfoByISOCode(e.isoCode);le.log("get CountryInfo from SW extension info",t);return[3,5];case 3:return[4,this._getCountryFromUserNumber()];case 4:t=o.sent();le.log("get CountryInfo from User main company number",t);o.label=5;case 5:r=t;if(!r)return[3,7];return[4,this._getDialingPlanCountryRecordByISOCode(t.isoCode)];case 6:r=o.sent();o.label=7;case 7:n=r;if(n)return[3,9];return[4,this._getFirstDialingPlan()];case 8:n=o.sent();o.label=9;case 9:return[2,n||t||d.Fc]}}))}))};RegionInfoController.prototype.setDefaultCountry=function(e){var t;return ue(this,void 0,void 0,(function(){var n,r,o,i;return se(this,(function(a){switch(a.label){case 0:return[4,this._getDialingPlanCountryRecordByISOCode(e)];case 1:r=a.sent();if(r)return[3,3];return[4,this._getDefaultCountryInfoFromDialingPlan()];case 2:r=a.sent();a.label=3;case 3:n=r;le.log("setDefaultCountry",e,n);if(!n)return[3,6];i=n===null||n===void 0?void 0:n.isoCode;return[4,this.getCurrentCountry()];case 4:o=i!==((t=a.sent())===null||t===void 0?void 0:t.isoCode);return[4,this._setStationLocation({newCountryInfo:n,areaCode:"",areaCodeByManual:false,isCountryChanged:o})];case 5:a.sent();a.label=6;case 6:return[2]}}))}))};RegionInfoController.prototype.setAreaCode=function(e){return ue(this,void 0,void 0,(function(){var t;return se(this,(function(n){switch(n.label){case 0:return[4,this._getDialingPlanCountryRecordByISOCode(this._currentCountryInfo.isoCode)];case 1:t=n.sent()||d.Fc;le.log("setAreaCode",e,t);return[4,this._setStationLocation({areaCode:e,newCountryInfo:t})];case 2:n.sent();return[2]}}))}))};RegionInfoController.prototype.getAreaCode=function(){return ue(this,void 0,Promise,(function(){return se(this,(function(e){switch(e.label){case 0:return[4,(0,i.getModule)(s.PHONE_PARSER_MODULE).getStationAreaCode()];case 1:return[2,e.sent()||""]}}))}))};RegionInfoController.prototype.hasAreaCode=function(e){return ie.Mj.includes(e)};RegionInfoController.prototype.getDefaultAreaCode=function(e){var t,n,r,o,a;return ue(this,void 0,Promise,(function(){var u,c,l,f;return se(this,(function(d){switch(d.label){case 0:return[4,this._userConfig.getAssignedDigitalLine()];case 1:c=d.sent();if(c)return[3,3];return[4,this._userConfig.getDeviceInfo()];case 2:c=(n=(t=d.sent())===null||t===void 0?void 0:t.records[0])===null||n===void 0?void 0:n.phoneLines[0];d.label=3;case 3:u=c;l="";if(!(((r=u===null||u===void 0?void 0:u.phoneInfo)===null||r===void 0?void 0:r.phoneNumber)&&((a=(o=u===null||u===void 0?void 0:u.phoneInfo)===null||o===void 0?void 0:o.country)===null||a===void 0?void 0:a.name)===e.name))return[3,5];le.log("Parse the area code from the DL");return[4,(0,i.getModule)(s.PHONE_PARSER_MODULE).getPhoneParser(u.phoneInfo.phoneNumber,false)];case 4:f=d.sent();l=(f===null||f===void 0?void 0:f.getAreaCode())||"";le.info("default area code",l);d.label=5;case 5:return[2,l]}}))}))};RegionInfoController.prototype.isAreaCodeValid=function(e,t){return(0,i.getModule)(s.PHONE_PARSER_MODULE).isAreaCodeValid(o().toInteger(e),t)};RegionInfoController.prototype._getDialingPlanCountryRecords=function(){return ue(this,void 0,Promise,(function(){var e;return se(this,(function(t){switch(t.label){case 0:return[4,this._rcDialingPlanController.getLocalData()];case 1:e=t.sent();return[2,e&&e.records&&this._addSpecialCountry(e.records)||[]]}}))}))};RegionInfoController.prototype._getCountryFromUserNumber=function(){return ue(this,void 0,void 0,(function(){var e,t,n;return se(this,(function(r){switch(r.label){case 0:return[4,this._accountMainNumber()];case 1:e=r.sent();t=d.Fc.callingCode;if(!e)return[3,3];return[4,(0,i.getModule)(s.PHONE_PARSER_MODULE).getPhoneParser(e,false)];case 2:n=r.sent();t=n&&n.getCountryCode()||t;r.label=3;case 3:return[2,this._getCountryFromDefaultSellingCountries(t)]}}))}))};RegionInfoController.prototype._getCountryFromDefaultSellingCountries=function(e){return ue(this,void 0,void 0,(function(){var t,n,r;return se(this,(function(o){switch(o.label){case 0:return[4,this._rcAccountInfoController.getHomeCountry()];case 1:t=o.sent();if(t){n=t.callingCode;r=t.isoCode;if(n===e&&r){return[2,this._getDefaultCountryInfoByISOCode(r)]}}return[2,this._getDefaultCountryInfoByCallingCode(e)]}}))}))};RegionInfoController.prototype._getDialingPlanCountryRecordByISOCode=function(e){return ue(this,void 0,Promise,(function(){var t,n;return se(this,(function(r){switch(r.label){case 0:return[4,this._getDialingPlanCountryRecords()];case 1:t=r.sent();n=t.find((function(t){return t.isoCode===e}));le.log("_getDialingPlanCountryRecordByISOCode",{isoCode:e,record:n});return[2,n]}}))}))};RegionInfoController.prototype._getFirstDialingPlan=function(){return ue(this,void 0,void 0,(function(){var e;return se(this,(function(t){switch(t.label){case 0:return[4,this._getDialingPlanCountryRecords()];case 1:e=t.sent();le.info("get default first dialing plan",e);return[2,e[0]]}}))}))};RegionInfoController.prototype._getDefaultCountryInfoByISOCode=function(e){var t=ie.B1.findIndex((function(t){return t.isoCode===e}));return t!==-1?ie.B1[t]:undefined};RegionInfoController.prototype._getDefaultCountryInfoByCallingCode=function(e){var t=ie.B1.findIndex((function(t){return t.callingCode===e}));return t!==-1?ie.B1[t]:undefined};RegionInfoController.prototype._setStationLocation=function(e){return ue(this,void 0,void 0,(function(){var t,n,r,a,u,c,l,f,p,h,v,g,_,y,b,C,m,S,E;return se(this,(function(I){switch(I.label){case 0:t=e.newCountryInfo,n=e.updateSpecialNumber,r=n===void 0?true:n,a=e.areaCodeByManual,u=a===void 0?true:a,c=e.countryByManual,l=c===void 0?true:c,f=e.isCountryChanged,p=f===void 0?false:f;h=e.areaCode;v=this._getStationLocationFromDB();if(v&&!this._shouldUpdateRegion(l,v)){le.log("no need to update region",v);return[2]}g=o().cloneDeep(t);return[4,this._rcAccountInfoController.getAccountBrandId()];case 1:_=I.sent()||(0,oe.getAppBrandId)();return[4,this._getRightAreaCode(g,h,u,v)];case 2:h=I.sent();return[4,this._rcAccountInfoController.getOutboundCallPrefix()];case 3:y=I.sent();return[4,this._accountServiceInfoController.getMaxExtensionNumberLength()];case 4:b=I.sent();return[4,this._accountServiceInfoController.getShortExtensionNumberLength()];case 5:C=I.sent();return[4,this._getSiteCode()];case 6:m=I.sent();this._updateStationLocation({areaCodeByManual:u,areaCode:h,countryByManual:l,countryInfo:t});this._updateCurrentCountryInfo(g);le.tags(ce).info("setStationLocation",{brandId:_,countryInfo:g,areaCode:h,isCountryChanged:p});try{(0,i.getModule)(s.PHONE_PARSER_MODULE).setStationLocation({siteCode:m,outboundCallPrefix:y,brandId:o().toInteger(_),szCountryCode:g.callingCode,szAreaCode:h,maxShortLen:b,shortPinLen:C});i.notificationCenter.emit(d.FY.RC_INFO.RC_REGION_INFO,p)}catch(e){le.log("PhoneParserModule.setStationLocation",e)}S=r;if(!S)return[3,8];return[4,this._updateSpecialNumberIfNeed(o().toInteger(t.id))];case 7:S=I.sent();I.label=8;case 8:S;E={areaCode:h,countryCode:g.callingCode};i.notificationCenter.emit(d.FY.RC_INFO_SERVICE.REGION_UPDATED,E);return[2]}}))}))};RegionInfoController.prototype._getStationLocationFromDB=function(){var e=(0,u.gT)().userConfig.getExtensionId();var t=U.nY.getStationLocation()||{};return e&&t[e]};RegionInfoController.prototype._updateStationLocation=function(e){var t=(0,u.gT)().userConfig.getExtensionId();if(t){var n=U.nY.getStationLocation()||{};n[t]=e;U.nY.setStationLocation(n)}};RegionInfoController.prototype._shouldUpdateRegion=function(e,t){return e||!t.countryByManual};RegionInfoController.prototype._shouldUpdateAreaCode=function(e,t,n){if(e||!t){return{should:true,areaCode:""}}return{should:false,areaCode:n}};RegionInfoController.prototype._getRightAreaCode=function(e,t,n,r){return ue(this,void 0,void 0,(function(){var a,u,c,l;return se(this,(function(f){switch(f.label){case 0:if(!this.hasAreaCode(e.callingCode))return[3,2];a=t;if(r){u=this._shouldUpdateAreaCode(n,r.areaCodeByManual,r.areaCode);a=u.should?a:u.areaCode}if(n&&a.length===0){return[2,a]}c=(0,i.getModule)(s.PHONE_PARSER_MODULE);return[4,c.getRegionalInfo(o().toInteger(e.id),a)];case 1:l=f.sent();return[2,!l||l.hasBan()?"":l.areaCode];case 2:return[2,""]}}))}))};RegionInfoController.prototype._updateSpecialNumberIfNeed=function(e){return ue(this,void 0,void 0,(function(){var t;return se(this,(function(n){switch(n.label){case 0:return[4,this._specialNumberController.getSpecialNumberRuleByCountryId(e)];case 1:t=n.sent();if(!!t)return[3,3];return[4,this._specialNumberController.syncAndSaveData()];case 2:n.sent();n.label=3;case 3:return[2]}}))}))};RegionInfoController.prototype._getSiteCode=function(){return ue(this,void 0,void 0,(function(){var e;return se(this,(function(t){switch(t.label){case 0:return[4,this._rcInfoFetchController.getRCExtensionInfo()];case 1:e=t.sent();return[2,e&&e.site&&e.site.code||""]}}))}))};RegionInfoController.prototype._accountMainNumber=function(){return ue(this,void 0,void 0,(function(){return se(this,(function(e){switch(e.label){case 0:return[4,this._rcAccountInfoController.getAccountMainNumber()];case 1:return[2,e.sent()]}}))}))};RegionInfoController.prototype._updateCurrentCountryInfo=function(e){this._currentCountryInfo=e};return RegionInfoController}();var ge=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var _e=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var ye="[RCAccountInfoController]";var be=_.tags(ye);var Ce=function(){function RCAccountInfoController(e,t){var n=this;this._rcInfoFetchController=e;this._rcExtensionInfoController=t;this._requestRCAccountInfo=function(){return ge(n,void 0,void 0,(function(){var e;return _e(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,(0,u.gT)().accountInfoService.requestRCAccountInfo()];case 1:t.sent();return[3,3];case 2:e=t.sent();be.info("failed to request rcAccountInfo",e);return[3,3];case 3:return[2]}}))}))};this._handlePhoenixAccountUpgrade=function(){n._updateEntitlement({reasonLog:"PHOENIX_ACCOUNT_UPGRADE event"})};this._handleAccountInfo=function(){n._updateEntitlement({reasonLog:"ACCOUNT_INFO event"})}}RCAccountInfoController.prototype.start=function(){this._rcExtensionInfoController.subscribeExtensionChange(d.J6.AccountSettings,this._requestRCAccountInfo);this._updateEntitlement({reasonLog:"init event"});this._observeEntitlementChange()};RCAccountInfoController.prototype.stop=function(){this._rcExtensionInfoController.unsubscribeExtensionChange(d.J6.AccountSettings,this._requestRCAccountInfo);this._unobserveEntitlementChange()};RCAccountInfoController.prototype._updateEntitlement=function(e){var t=e.reasonLog;return ge(this,void 0,Promise,(function(){var e,n,r;return _e(this,(function(o){switch(o.label){case 0:e=be.tags("fetchAccountBillingType");e.info("start fetching due to:",t);return[4,this.getAccountBillingType()];case 1:n=o.sent();r=i.accountManager.getCurrent().context.entitlement;r.set(w.H3.RCCustomPermissionList.isPhoenixPaidBillingType,n===h.ACCOUNT_BILLING_TYPE.PHOENIX_PAID);e.info("finished fetching, new value:",n);return[2]}}))}))};RCAccountInfoController.prototype._observeEntitlementChange=function(){i.notificationCenter.on(O.FY.PHOENIX_ACCOUNT_UPGRADE,this._handlePhoenixAccountUpgrade);i.notificationCenter.on(u.FY.ACCOUNT_INFO,this._handleAccountInfo)};RCAccountInfoController.prototype._unobserveEntitlementChange=function(){i.notificationCenter.off(O.FY.PHOENIX_ACCOUNT_UPGRADE,this._handlePhoenixAccountUpgrade);i.notificationCenter.off(u.FY.ACCOUNT_INFO,this._handleAccountInfo)};RCAccountInfoController.prototype.getAccountBrandId=function(){return ge(this,void 0,Promise,(function(){var e;return _e(this,(function(t){switch(t.label){case 0:return[4,this._getAccountInfo()];case 1:e=t.sent();if(e&&e.serviceInfo&&e.serviceInfo.brand&&e.serviceInfo.brand.id){return[2,e.serviceInfo.brand.id]}return[2,undefined]}}))}))};RCAccountInfoController.prototype.getRCAccountId=function(){return ge(this,void 0,Promise,(function(){var e;return _e(this,(function(t){switch(t.label){case 0:return[4,this._getAccountInfo()];case 1:e=t.sent();return[2,e&&e.id]}}))}))};RCAccountInfoController.prototype.getOutboundCallPrefix=function(){return ge(this,void 0,void 0,(function(){var e,t;return _e(this,(function(n){switch(n.label){case 0:return[4,this._getAccountInfo()];case 1:e=n.sent();t=e&&e.outboundCallPrefix||0;return[2,t>=2&&t<=9?t.toString():"\0"]}}))}))};RCAccountInfoController.prototype.getAccountMainNumber=function(){return ge(this,void 0,void 0,(function(){var e;return _e(this,(function(t){switch(t.label){case 0:return[4,this._getAccountInfo()];case 1:e=t.sent();return[2,e&&e.mainNumber]}}))}))};RCAccountInfoController.prototype.getHomeCountry=function(){return ge(this,void 0,void 0,(function(){var e;return _e(this,(function(t){switch(t.label){case 0:return[4,this._getAccountInfo()];case 1:e=t.sent();return[2,e&&e.serviceInfo&&e.serviceInfo.brand&&e.serviceInfo.brand.homeCountry]}}))}))};RCAccountInfoController.prototype._getAccountInfo=function(){return ge(this,void 0,void 0,(function(){return _e(this,(function(e){return[2,this._rcInfoFetchController.getRCAccountInfo()]}))}))};RCAccountInfoController.prototype.getAccountId=function(){return ge(this,void 0,void 0,(function(){var e;return _e(this,(function(t){switch(t.label){case 0:return[4,this._getAccountInfo()];case 1:e=t.sent();return[2,e&&e.id]}}))}))};RCAccountInfoController.prototype.isPhoenixAccount=function(){return ge(this,void 0,Promise,(function(){var e;return _e(this,(function(t){switch(t.label){case 0:return[4,this._rcInfoFetchController.getRCAccountInfo()];case 1:e=t.sent();return[2,u.x0.isPhoenixAccount(e)]}}))}))};RCAccountInfoController.prototype.isPhoenixFreeAccount=function(){return ge(this,void 0,Promise,(function(){var e;return _e(this,(function(t){switch(t.label){case 0:return[4,this._rcInfoFetchController.getRCAccountInfo()];case 1:e=t.sent();return[2,this._isPhoenixFreeAccount(e)]}}))}))};RCAccountInfoController.prototype.getAccountBillingType=function(){return ge(this,void 0,Promise,(function(){var e;return _e(this,(function(t){switch(t.label){case 0:return[4,this._rcInfoFetchController.getRCAccountInfo()];case 1:e=t.sent();if(this._isRCOfficeAccount(e)){return[2,h.ACCOUNT_BILLING_TYPE.RC_OFFICE]}if(this._isPhoenixFreeAccount(e)){return[2,h.ACCOUNT_BILLING_TYPE.PHOENIX_FREE]}if(this._isPhoenixPaidAccount(e)){return[2,h.ACCOUNT_BILLING_TYPE.PHOENIX_PAID]}return[2,undefined]}}))}))};RCAccountInfoController.prototype._isRCOfficeAccount=function(e){var t,n;return!!(((n=(t=e===null||e===void 0?void 0:e.serviceInfo)===null||t===void 0?void 0:t.servicePlan)===null||n===void 0?void 0:n.edition)&&!e.serviceInfo.servicePlan.freemiumProductType)};RCAccountInfoController.prototype._isPhoenixFreeAccount=function(e){var t,n;return u.x0.isPhoenixAccount(e)&&((n=(t=e===null||e===void 0?void 0:e.serviceInfo)===null||t===void 0?void 0:t.billingPlan)===null||n===void 0?void 0:n.type)===h.BILLING_PLAN_TYPE.FREE};RCAccountInfoController.prototype._isPhoenixPaidAccount=function(e){var t,n;return u.x0.isPhoenixAccount(e)&&((n=(t=e===null||e===void 0?void 0:e.serviceInfo)===null||t===void 0?void 0:t.billingPlan)===null||n===void 0?void 0:n.type)===h.BILLING_PLAN_TYPE.REGULAR};return RCAccountInfoController}();var me=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Se=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Ee=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var Ie=5;var we=0;var Re=function(e){me(AccountServiceInfoController,e);function AccountServiceInfoController(t,n){var r=e.call(this,{jobConfig:{jobKey:U.m.FETCH_RC_ACCOUNT_SERVICE_INFO},dataFetchConfig:h.DATA_FETCH_CONFIG.EXECUTE_FIRST_TIME_NOT_IN_QUEUE,accountUpgradeController:n,entitlementKeys:[[w.H3.RCExtensionFeaturesId.ReadServicePlan]]})||this;r._rcInfoUserConfig=t;n.addRefreshAccountServiceInfoFunc(r.syncAndSaveData.bind(r));return r}AccountServiceInfoController.prototype.requestDataFromServer=function(){return p.A.getAccountServiceInfo()};AccountServiceInfoController.prototype.handleRemoteData=function(e){return Se(this,void 0,void 0,(function(){return Ee(this,(function(t){switch(t.label){case 0:return[4,this._rcInfoUserConfig.setAccountServiceInfo(e)];case 1:t.sent();return[2]}}))}))};Object.defineProperty(AccountServiceInfoController.prototype,"logger",{get:function(){return _.tags("[AccountServiceInfoController]")},enumerable:true,configurable:true});AccountServiceInfoController.prototype.getMaxExtensionNumberLength=function(){return Se(this,void 0,void 0,(function(){var e;return Ee(this,(function(t){switch(t.label){case 0:return[4,this._getLimit()];case 1:e=t.sent();return[2,e&&e.maxExtensionNumberLength||Ie]}}))}))};AccountServiceInfoController.prototype.getShortExtensionNumberLength=function(){return Se(this,void 0,void 0,(function(){var e;return Ee(this,(function(t){switch(t.label){case 0:return[4,this._getLimit()];case 1:e=t.sent();return[2,e&&e.shortExtensionNumberLength||we]}}))}))};AccountServiceInfoController.prototype._getLimit=function(){return Se(this,void 0,void 0,(function(){var e;return Ee(this,(function(t){switch(t.label){case 0:return[4,this._rcInfoUserConfig.getAccountServiceInfo()];case 1:e=t.sent();return[2,e&&e.limits]}}))}))};return AccountServiceInfoController}(h.AbstractBaseRCInfoFetchController);var Pe=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Ae=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var Te="RCWebSettingInfoController";var Oe=5*60;var Ne="{authCode}";var xe="&enc=2";var De=function(){function RCWebSettingInfoController(e){this._rcInfoFetchController=e}RCWebSettingInfoController.prototype.getRCWebUriByType=function(e,t){return Pe(this,void 0,void 0,(function(){var n,r,o,i,s,c;return Ae(this,(function(l){switch(l.label){case 0:l.trys.push([0,11,,12]);n="";l.label=1;case 1:return[4,this._clientInfo()];case 2:r=l.sent();if(!r){return[3,10]}return[4,this._getWebSettingUri(e,r)];case 3:o=l.sent();if(!(!o&&t))return[3,6];return[4,this._refreshClientInfo()];case 4:r=l.sent();if(!r){return[3,10]}return[4,this._getWebSettingUri(e,r)];case 5:o=l.sent();l.label=6;case 6:if(!o){return[3,10]}if(!this._isAuthCodeNeeded(o)){n=o;return[3,10]}return[4,this._getInteropClientId(e,r)];case 7:i=l.sent();if(!i){return[3,10]}return[4,u.Vi.generateRCCode(i,Oe)];case 8:s=l.sent();_.tags(Te).log("success to request RC auth code",(0,a.sensitive)({authInfo:s,srcUri:o,clientId:i},["code"]));n=this._buildRCAuthCodeUri(o,s.code);l.label=9;case 9:if(false){}l.label=10;case 10:return[2,n];case 11:c=l.sent();_.tags(Te).info("failed to getRCWebUriByType",{error:c});throw c;case 12:return[2]}}))}))};RCWebSettingInfoController.prototype.getRawRCWebUriByType=function(e){return Pe(this,void 0,void 0,(function(){var t,n,r;return Ae(this,(function(o){switch(o.label){case 0:_.tags(Te).debug("get raw RCWebUriByType",e);t="";o.label=1;case 1:return[4,this._clientInfo()];case 2:n=o.sent();if(!n){return[3,5]}return[4,this._getWebSettingUri(e,n)];case 3:r=o.sent();if(!r){return[3,5]}t=r;o.label=4;case 4:if(false){}o.label=5;case 5:return[2,t]}}))}))};RCWebSettingInfoController.prototype._refreshClientInfo=function(){return Pe(this,void 0,void 0,(function(){var e;return Ae(this,(function(t){switch(t.label){case 0:e=i.accountManager.getCurrent().getSubAccount(u.oF);return[4,e.accountInfoService.refreshRCClientInfo()];case 1:t.sent();return[2,this._clientInfo()]}}))}))};RCWebSettingInfoController.prototype._isAuthCodeNeeded=function(e){return e.includes(Ne)};RCWebSettingInfoController.prototype._getInteropClientId=function(e,t){return Pe(this,void 0,void 0,(function(){var n,r;return Ae(this,(function(o){if(t&&t.provisioning&&t.provisioning.interopClientIds){r=t.provisioning.interopClientIds;switch(e){case I.Lh.BILLING_URI:case I.Lh.PHONE_SYSTEM_URI:case I.Lh.EXTENSION_URI:case I.Lh.MEETING_RECORDINGS:case I.Lh.SMB_COMPANY_SETUP:case I.Lh.SMB_COMPANY_SETTING:case I.Lh.SMB_END_USER_SETUP:case I.Lh.SMB_CALL_FORWARDING_SETTING:case I.Lh.SMB_VOICEMAIL_SETTING:case I.Lh.SMB_WORK_HOURS_SETTING:case I.Lh.ACCOUNT_UPGRADE_FUNNEL:case I.Lh.SERVICE_WEB_HOME:n=r.serviceWeb;break;case I.Lh.ANALYTIC_PORTAL_URI:n=r.analyticsPortal;break;default:break}}return[2,n]}))}))};RCWebSettingInfoController.prototype._generateRawMeetRecordingUrl=function(e){var t=(0,u.gT)().userConfig.getExtensionId();return e+"/mobile/oauthredirect?code={authCode}&mailbox_id="+t+"&rdr=/recording/detail"};RCWebSettingInfoController.prototype._getWebSettingUri=function(e,t){return Pe(this,void 0,void 0,(function(){var n,r,o;return Ae(this,(function(i){switch(i.label){case 0:if(!(t&&t.provisioning&&t.provisioning.webUris))return[3,3];n=t.provisioning.webUris;if(e===I.Lh.MEETING_RECORDINGS){return[2,this._generateRawMeetRecordingUrl(n[e])]}r=n[e];if(!r)return[3,2];if(e===I.Lh.EXTENSION_URI){r=r.replace(xe,"")}o=[I.Lh.SMB_COMPANY_SETUP,I.Lh.SMB_COMPANY_SETTING,I.Lh.SMB_END_USER_SETUP,I.Lh.SMB_CALL_FORWARDING_SETTING,I.Lh.SMB_VOICEMAIL_SETTING];if(o.includes(e)&&this._needReplaceUriDomain()){d.iU.map((function(e){return r=r.replace(e,d.O7)}))}if(!(e===I.Lh.RESET_PASSWORD))return[3,2];return[4,this._replaceResetPasswordUrl(r)];case 1:r=i.sent();i.label=2;case 2:return[2,r];case 3:return[2,undefined]}}))}))};RCWebSettingInfoController.prototype._replaceResetPasswordUrl=function(e){return Pe(this,void 0,void 0,(function(){var t,n,r;return Ae(this,(function(o){switch(o.label){case 0:t=e.slice(0);n=i.apiConfiguration.getConfig().rc.clientId;return[4,this._rcInfoFetchController.getUserEmail()];case 1:r=o.sent();return[2,n&&r?t.replace(d.$J,n).replace(d.Xw,r):t]}}))}))};RCWebSettingInfoController.prototype._needReplaceUriDomain=function(){var e;var t=(0,u.gT)().userConfig.getBrandId();var n=((e=oe.internationalBrandFeatureConfig.getConfig()[t])===null||e===void 0?void 0:e.needReplaceSMBUriDomain)||false;_.tags(Te).debug("Determine whether the domain needs to be replaced",{brandId:t,needReplace:n});return n};RCWebSettingInfoController.prototype._clientInfo=function(){return this._rcInfoFetchController.getRCClientInfo()};RCWebSettingInfoController.prototype._buildRCAuthCodeUri=function(e,t){return e.replace(Ne,t)};return RCWebSettingInfoController}();var Me=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var ke=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Le=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var Fe=_.tags("[BlockNumberController]");var Ue=1e3;var Be=function(e){Me(BlockNumberController,e);function BlockNumberController(t,n){var r=e.call(this,{jobConfig:{jobKey:U.m.FETCH_BLOCK_NUMBER},dataKey:U.Uz.BLOCK_NUMBER,dbConfig:t,accountUpgradeController:n,entitlementKeys:[[w.H3.RCExtensionFeaturesId.ReadBlockedNumbers]]})||this;r._DBConfig=t;r._blockNumberMap=undefined;r._updateBlockNumberMap=function(e,t){return ke(r,void 0,Promise,(function(){return Le(this,(function(n){if(e===i.CONFIG_EVENT_TYPE.UPDATE){this._blockNumberMap=new Map;this._setBlockNumberMap(t)}return[2]}))}))};return r}BlockNumberController.prototype.start=function(){e.prototype.start.call(this);this._DBConfig.on(U.Uz.BLOCK_NUMBER,this._updateBlockNumberMap)};BlockNumberController.prototype.stop=function(){this._DBConfig.off(U.Uz.BLOCK_NUMBER,this._updateBlockNumberMap);e.prototype.stop.call(this)};BlockNumberController.prototype.requestDataFromServer=function(){var e={page:1,perPage:Ue,status:h.BLOCK_STATUS.BLOCKED};return new h.RCPaginationController({fetchHandler:p.A.getBlockNumberList,transformData:function(e){return e&&e.filter((function(e){return e.status===h.BLOCK_STATUS.BLOCKED}))}}).getAllPage(e)};Object.defineProperty(BlockNumberController.prototype,"logger",{get:function(){return Fe},enumerable:true,configurable:true});BlockNumberController.prototype.isNumberBlocked=function(e){return ke(this,void 0,Promise,(function(){var t;return Le(this,(function(n){switch(n.label){case 0:return[4,this._getBlockNumberMap()];case 1:t=n.sent();return[2,!!(t&&t.has(e))]}}))}))};BlockNumberController.prototype.deleteBlockedNumbers=function(e){return ke(this,void 0,Promise,(function(){var t,n,r;var o=this;return Le(this,(function(i){switch(i.label){case 0:return[4,this._DBConfig.getBlockNumbers()];case 1:t=i.sent();n=new Set(e);r=[];if(!t){Fe.info("can not get blockList for delete:",e);return[2]}t=t.filter((function(e){if(o._isValidBlockNumber(e)&&n.has(e.phoneNumber)){r.push(e.id);return false}return true}));if(!r.length)return[3,4];return[4,p.A.deleteBlockNumbers(r)];case 2:i.sent();return[4,this._DBConfig.setBlockNumbers(t)];case 3:i.sent();e.forEach((function(e){o._blockNumberMap&&o._blockNumberMap.delete(e)}));i.label=4;case 4:return[2]}}))}))};BlockNumberController.prototype.addBlockedNumber=function(e){return ke(this,void 0,Promise,(function(){var t,n,r;var o=this;return Le(this,(function(i){switch(i.label){case 0:return[4,this._DBConfig.getBlockNumbers()];case 1:t=i.sent()||[];n=t.some((function(t){return o._isValidBlockNumber(t)&&t.phoneNumber===e}));if(n){Fe.info("already exist blocked number:",e);return[2]}return[4,p.A.addBlockNumbers({phoneNumber:e,status:h.BLOCK_STATUS.BLOCKED})];case 2:r=i.sent();t.push(r);return[4,this._DBConfig.setBlockNumbers(t)];case 3:i.sent();this._blockNumberMap&&r.id&&this._blockNumberMap.set(r.phoneNumber,r.id);return[2]}}))}))};BlockNumberController.prototype._getBlockNumberMap=function(){return ke(this,void 0,Promise,(function(){var e;return Le(this,(function(t){switch(t.label){case 0:if(!!this._blockNumberMap)return[3,2];return[4,this._DBConfig.getBlockNumbers()];case 1:e=t.sent();if(e){this._blockNumberMap=new Map;this._setBlockNumberMap(e)}t.label=2;case 2:return[2,this._blockNumberMap]}}))}))};BlockNumberController.prototype._setBlockNumberMap=function(e){var t=this;e.forEach((function(e){t._blockNumberMap&&t._isValidBlockNumber(e)&&t._blockNumberMap.set(e.phoneNumber,e.id)}))};BlockNumberController.prototype._isValidBlockNumber=function(e){return!!(e.id&&e.phoneNumber)};return BlockNumberController}(h.AbstractBaseRCInfoFetchController);var Ge=n(228164);var je=undefined&&undefined.__assign||function(){je=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return je.apply(this,arguments)};var He=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Ve=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var We="RCPresenceController";var ze=function(){function RCPresenceController(e){var t=this;this._rcPermissionController=e;this._handleIncomingPresence=function(e){return He(t,void 0,void 0,(function(){return Ve(this,(function(t){switch(t.label){case 0:_.info("receive incoming presence",e);if(e.extensionId.toString()!==this._currentUserExtensionId){return[2]}e=je(je({},this._lastRCPresence),e);return[4,this._onPresenceUpdated(je(je({},e),{extension:{id:e.extensionId}}))];case 1:t.sent();return[2]}}))}))}}RCPresenceController.prototype.setHandler=function(e){this._telephonyPresenceHandler=e};RCPresenceController.prototype.start=function(){var e=this;i.notificationCenter.on(u.FY.LOGIN,(function(t){if(t.success){_.info("RCPresenceController subscribe pubnub");e._rcNotificationModule.subscribe(Ge.RCSubscriptionKeys.TelephonyDetail,e._handleIncomingPresence)}}));var t=re.Pal.instance.getLifecycle();if(t){t.when(re.AppLifecyclePhase.Restored).then((function(){e.requestLatestPresence().catch((function(e){return _.info("request latest presence failed,",e)}))}))}};RCPresenceController.prototype.requestLatestPresence=function(){return He(this,void 0,void 0,(function(){var e,t;return Ve(this,(function(n){switch(n.label){case 0:return[4,this._canSyncRCPresence()];case 1:e=n.sent();if(!e){_.tags(We).info("no permission to sync presence");return[2,undefined]}return[4,p.A.getRCPresence()];case 2:t=n.sent();return[4,this._onPresenceUpdated(t)];case 3:n.sent();return[2,t]}}))}))};RCPresenceController.prototype.getLastRCPresence=function(){return this._lastRCPresence};RCPresenceController.prototype._canSyncRCPresence=function(){return this._rcPermissionController.isRCFeaturePermissionEnabled(I.D9.RC_PRESENCE)};RCPresenceController.prototype.updateRCPresence=function(e){return He(this,void 0,void 0,(function(){var t,n,r;return Ve(this,(function(o){switch(o.label){case 0:if(!(e.userStatus&&!e.dndStatus))return[3,3];n=this._telephonyPresenceHandler;if(!n)return[3,2];return[4,this._telephonyPresenceHandler.calculateTelephonePresence(e.userStatus)];case 1:n=o.sent();o.label=2;case 2:t=n;if(t){e.dndStatus=t}o.label=3;case 3:return[4,p.A.setRCPresence(e)];case 4:r=o.sent();return[4,this._onPresenceUpdated(r)];case 5:o.sent();return[2]}}))}))};RCPresenceController.prototype._onPresenceUpdated=function(e){return He(this,void 0,void 0,(function(){var t,n;return Ve(this,(function(r){switch(r.label){case 0:this._lastRCPresence=e;t=e.dndStatus;n=this._telephonyPresenceHandler;if(!n)return[3,2];return[4,this._telephonyPresenceHandler.handleSelfPresenceChange(t)];case 1:n=r.sent();r.label=2;case 2:n;i.notificationCenter.emitKVChange(d.FY.RC_INFO.RC_PRESENCE,e);return[2]}}))}))};Object.defineProperty(RCPresenceController.prototype,"_currentUserExtensionId",{get:function(){return(0,u.gT)().userConfig.getExtensionId().toString()},enumerable:true,configurable:true});RCPresenceController.prototype.dispose=function(){this._rcNotificationModule.unsubscribe(Ge.RCSubscriptionKeys.TelephonyDetail,this._handleIncomingPresence)};Object.defineProperty(RCPresenceController.prototype,"_rcNotificationModule",{get:function(){return(0,i.getModule)(Ge.MODULE_NAME)},enumerable:true,configurable:true});return RCPresenceController}();var Ye=n(375577);var qe=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Ke=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Qe=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var Ze=_.tags("[RCDeviceController]");var Xe=function(e){qe(RCDeviceController,e);function RCDeviceController(t,n){var r=e.call(this,{jobConfig:{jobKey:ae.m.FETCH_DEVICE_INFO},dataKey:U.Uz.DEVICE_INFO,dbConfig:t,dataFetchConfig:Ye.DATA_FETCH_CONFIG.EXECUTE_FIRST_TIME_NOT_IN_QUEUE|Ye.DATA_FETCH_CONFIG.FETCH_WHEN_SCHEDULE,accountUpgradeController:n})||this;r._rcInfoUserConfig=t;r._enabledDeviceTypesForDigitalLine=[h.DEVICE_TYPE.HARD_PHONE,h.DEVICE_TYPE.SOFT_PHONE,h.DEVICE_TYPE.OTHER_PHONE];r.requestDataFromServer=function(){return Ke(r,void 0,void 0,(function(){var e,t;return Qe(this,(function(n){switch(n.label){case 0:return[4,this._rcInfoUserConfig.getAccountInfo()];case 1:e=n.sent();if(u.x0.isPhoenixAccount(e)){return[2]}t={linePooling:d.M5};return[4,p.A.getDeviceInfo(t)];case 2:return[2,n.sent()]}}))}))};r._updateEntitlement=function(){return Ke(r,void 0,Promise,(function(){var e;return Qe(this,(function(t){switch(t.label){case 0:return[4,this.getDigitalLines()];case 1:e=t.sent().length>0;Ze.info("hasDl",e);(0,i.getCurrentAccount)().context.entitlement.set(w.H3.RCCustomPermissionList.hasDigitalLines,e);return[2]}}))}))};r._handleUserPhoneNumberUpdated=function(){Ze.info("user phone number changed, try sync user devices");r.reScheduleFetchJob()};r._handleAssignNewDigitalLine=function(e){r._isDigitalLineAssigned(e)&&i.notificationCenter.emit(d.FY.RC_INFO_SERVICE.DIGITAL_LINE_ASSIGNED)};return r}RCDeviceController.prototype.start=function(){e.prototype.start.call(this);i.notificationCenter.on(d.FY.RC_INFO_SERVICE.DEVICE_INFO_UPDATE,this._handleAssignNewDigitalLine);i.notificationCenter.on(d.FY.RC_INFO_SERVICE.USER_PHONE_NUMBER_UPDATED,this._handleUserPhoneNumberUpdated);this._updateEntitlement();i.notificationCenter.on(d.FY.RC_INFO.DEVICE_INFO,this._updateEntitlement)};RCDeviceController.prototype.handleRemoteData=function(t){return Ke(this,void 0,void 0,(function(){var n;return Qe(this,(function(r){switch(r.label){case 0:return[4,this._rcInfoUserConfig.getDeviceInfo()];case 1:n=r.sent();return[4,e.prototype.handleRemoteData.call(this,t)];case 2:r.sent();n&&i.notificationCenter.emit(d.FY.RC_INFO_SERVICE.DEVICE_INFO_UPDATE,{from:n,to:t});i.notificationCenter.emit(d.FY.RC_INFO.DEVICE_INFO,t);return[2]}}))}))};Object.defineProperty(RCDeviceController.prototype,"logger",{get:function(){return Ze},enumerable:true,configurable:true});RCDeviceController.prototype.getDigitalLines=function(){return Ke(this,void 0,Promise,(function(){var e;return Qe(this,(function(t){switch(t.label){case 0:return[4,this._rcInfoUserConfig.getDeviceInfo()];case 1:e=t.sent();return[2,e&&e.records?e.records:[]]}}))}))};RCDeviceController.prototype.stop=function(){i.notificationCenter.off(d.FY.RC_INFO_SERVICE.DEVICE_INFO_UPDATE,this._handleAssignNewDigitalLine);i.notificationCenter.off(d.FY.RC_INFO_SERVICE.USER_PHONE_NUMBER_UPDATED,this._handleUserPhoneNumberUpdated);i.notificationCenter.off(d.FY.RC_INFO.DEVICE_INFO,this._updateEntitlement);e.prototype.stop.call(this)};RCDeviceController.prototype._isDigitalLineAssigned=function(e){var t=this._getDigitalLineIdsFromDeviceInfo(e.from);var n=this._getDigitalLineIdsFromDeviceInfo(e.to);return n.some((function(e){return!t.includes(e)}))};RCDeviceController.prototype._getDigitalLineIdsFromDeviceInfo=function(e){var t=this;var n=[];e.records.forEach((function(e){t._enabledDeviceTypesForDigitalLine.includes(e.type)&&e.phoneLines.forEach((function(e){return n.push(e.id)}))}));return n};return RCDeviceController}(h.AbstractBaseRCInfoFetchController);var Je=undefined&&undefined.__assign||function(){Je=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return Je.apply(this,arguments)};var $e=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var et=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var tt=_.tags("[QueueCallController");var nt=function(){function QueueCallController(e,t,n){var r=this;this._DBConfig=e;this._rcPresenceController=t;this._rcInfoFetchController=n;this._handleExtensionInfoChange=function(){return $e(r,void 0,void 0,(function(){var e,t;return et(this,(function(n){switch(n.label){case 0:return[4,this.hasDepartments()];case 1:e=n.sent();if(!(this._hasDepartments!==e))return[3,3];this._hasDepartments=e;t=this._updateQueueCallStatus;return[4,this.getQueueCallStatus()];case 2:t.apply(this,[n.sent(),true]);n.label=3;case 3:return[2]}}))}))};this._onQueueCallPermissionChanged=function(){return $e(r,void 0,void 0,(function(){return et(this,(function(e){switch(e.label){case 0:return[4,this._getQueueCallPermission()];case 1:if(e.sent()){this._rcInfoFetchController.scheduleRCInfoJob({key:U.m.FETCH_QUEUE_CALL,executeFunc:this.getQueueCalls})}else{i.jobScheduler.cancelJob(U.m.FETCH_QUEUE_CALL,true)}return[2]}}))}))};this.getQueueCalls=function(){return $e(r,void 0,Promise,(function(){var e,t,n,r,o;return et(this,(function(a){switch(a.label){case 0:return[4,this._getQueueCallPermission()];case 1:if(!a.sent())return[3,6];a.label=2;case 2:a.trys.push([2,5,,6]);return[4,p.A.getQueueCalls()];case 3:e=a.sent();tt.log("RCInfoController.requestQueueCalls",{queueCalls:e});t=this._transformQueueCallEntity(e),n=t.queueCallEntity,r=t.ids;return[4,this._setQueueCallMap(n)];case 4:a.sent();i.notificationCenter.emitEntityUpdate(d.FY.ENTITY.QUEUE_CALL,n);return[2,r];case 5:o=a.sent();tt.log("getQueueCalls error",{error:o});return[3,6];case 6:return[2,[]]}}))}))}}QueueCallController.prototype.start=function(){return $e(this,void 0,void 0,(function(){var e;return et(this,(function(t){switch(t.label){case 0:this._DBConfig.on(U.Uz.EXTENSION_INFO,this._handleExtensionInfoChange);this._observeQueueCallPermission();e=this;return[4,this.hasDepartments()];case 1:e._hasDepartments=t.sent();return[2]}}))}))};QueueCallController.prototype.dispose=function(){this._DBConfig.off(U.Uz.EXTENSION_INFO,this._handleExtensionInfoChange);this._unObserveQueueCallPermission()};QueueCallController.prototype._getQueueCallPermission=function(){return $e(this,void 0,void 0,(function(){var e;return et(this,(function(t){switch(t.label){case 0:e=i.accountManager.getCurrent().context;return[4,this.hasDepartments()];case 1:return[2,!!(t.sent()&&e.entitlement.isAllEnable([w.H3.RCExtensionFeaturesId.CallQueuePresence,w.H3.RCExtensionFeaturesId.EditCallQueuePresence,w.H3.RCExtensionFeaturesId.ReadPresenceStatus]))]}}))}))};QueueCallController.prototype._observeQueueCallPermission=function(){var e=i.accountManager.getCurrent().context;e.entitlement.on(w.H3.RCExtensionFeaturesId.CallQueuePresence,this._onQueueCallPermissionChanged);e.entitlement.on(w.H3.RCExtensionFeaturesId.EditCallQueuePresence,this._onQueueCallPermissionChanged);e.entitlement.on(w.H3.RCExtensionFeaturesId.ReadPresenceStatus,this._onQueueCallPermissionChanged)};QueueCallController.prototype._unObserveQueueCallPermission=function(){var e=i.accountManager.getCurrent().context;e.entitlement.off(w.H3.RCExtensionFeaturesId.CallQueuePresence,this._onQueueCallPermissionChanged);e.entitlement.off(w.H3.RCExtensionFeaturesId.EditCallQueuePresence,this._onQueueCallPermissionChanged);e.entitlement.off(w.H3.RCExtensionFeaturesId.ReadPresenceStatus,this._onQueueCallPermissionChanged)};QueueCallController.prototype._updateQueueCallStatus=function(e,t){if(t===void 0){t=false}return $e(this,void 0,Promise,(function(){var n,r,o;return et(this,(function(a){switch(a.label){case 0:r=e;return[4,this.getQueueCallStatus()];case 1:n=r!==a.sent();tt.log("updateQueueCallStatus",{newStatus:e,isStatusChanged:n,force:t});if(!(n||t))return[3,4];o=e;if(!o)return[3,3];return[4,this._DBConfig.setQueueCallStatus(e)];case 2:o=a.sent();a.label=3;case 3:o;i.notificationCenter.emit(d.FY.RC_INFO.QUEUE_CALL);a.label=4;case 4:return[2,n]}}))}))};QueueCallController.prototype.hasDepartments=function(){return $e(this,void 0,void 0,(function(){var e;return et(this,(function(t){switch(t.label){case 0:return[4,this._DBConfig.getExtensionInfo()];case 1:e=t.sent();return[2,!!(e&&e.departments&&e.departments.length)]}}))}))};QueueCallController.prototype.getQueueCallStatus=function(){return $e(this,void 0,void 0,(function(){var e;return et(this,(function(t){switch(t.label){case 0:return[4,this.hasDepartments()];case 1:if(!t.sent())return[3,3];return[4,this._DBConfig.getQueueCallStatus()];case 2:e=t.sent();return[3,4];case 3:e=Promise.resolve(undefined);t.label=4;case 4:return[2,e]}}))}))};QueueCallController.prototype.updateAcceptQueueCallToggleStatus=function(e,t){if(t===void 0){t=false}return $e(this,void 0,void 0,(function(){var n,r;var o=this;return et(this,(function(a){switch(a.label){case 0:tt.log("updateAcceptQueueCallToggleStatus called by",{queueCallStatus:e,locally:t});return[4,this._updateQueueCallStatus(e)];case 1:n=a.sent();if(!n||t){return[2]}if(e===I.BM.OFF){r=h.DND_STATUS.DoNotAcceptDepartmentCalls}if(e===I.BM.ON){r=h.DND_STATUS.TakeAllCalls}tt.log("updateAcceptQueueCallToggleStatus toDNDStatus",{toDNDStatus:r});if(r){if(!this._toggleRequestController){this._toggleRequestController=new i.ToggleRequestController({request:function(e){return o._rcPresenceController.updateRCPresence({dndStatus:e})},requestFailCallback:function(e){return $e(o,void 0,void 0,(function(){return et(this,(function(t){switch(t.label){case 0:return[4,this._updateAcceptQueueCallRequestFail(e)];case 1:return[2,t.sent()]}}))}))},debounceTime:200})}this._toggleRequestController.request(r)}return[2]}}))}))};QueueCallController.prototype._updateAcceptQueueCallRequestFail=function(e){return $e(this,void 0,void 0,(function(){var t;return et(this,(function(n){switch(n.label){case 0:if(e===h.DND_STATUS.DoNotAcceptDepartmentCalls){t=I.BM.OFF}else if(e===h.DND_STATUS.TakeAllCalls){t=I.BM.ON}if(!t)return[3,2];return[4,this._updateQueueCallStatus(t)];case 1:n.sent();n.label=2;case 2:return[2]}}))}))};QueueCallController.prototype._transformQueueCallEntity=function(e){var t=[];var n=[];e.records.forEach((function(e){if(e.callQueue.editableMemberStatus){t.push(e.callQueue.id);n.push(Je({acceptCalls:e.acceptCalls},e.callQueue))}}));return{queueCallEntity:n,ids:t}};QueueCallController.prototype._setQueueCallMap=function(e){return $e(this,void 0,void 0,(function(){var t;return et(this,(function(n){switch(n.label){case 0:t=new Map;e.forEach((function(e){t.set(e.id,e)}));return[4,this._DBConfig.setQueueCalls(t)];case 1:n.sent();return[2]}}))}))};QueueCallController.prototype._requestUpdateQueueCalls=function(e){return p.A.updateQueueCalls(e)};QueueCallController.prototype._transformRequestParams=function(e){var t={records:[]};t.records.push({callQueue:{id:e.id},acceptCalls:e.acceptCalls});return t};QueueCallController.prototype.updateQueueCalls=function(e){return $e(this,void 0,void 0,(function(){var t,n,r,o,a,u;return et(this,(function(s){switch(s.label){case 0:return[4,this.getQueueCallById(e.id)];case 1:t=s.sent();n=Object.assign(t,{acceptCalls:e.acceptCalls});r=this._transformRequestParams(n);s.label=2;case 2:s.trys.push([2,4,,5]);return[4,this._requestUpdateQueueCalls(r)];case 3:o=s.sent();tt.log("updateQueueCalls success",{queueCalls:o});a=this._transformQueueCallEntity(o).queueCallEntity;this._setQueueCallMap(a);i.notificationCenter.emitEntityUpdate(d.FY.ENTITY.QUEUE_CALL,a);return[3,5];case 4:u=s.sent();tt.log("updateQueueCalls error",{error:u});throw u;case 5:return[2]}}))}))};QueueCallController.prototype.getQueueCallById=function(e){return $e(this,void 0,void 0,(function(){var t;return et(this,(function(n){switch(n.label){case 0:return[4,this._DBConfig.getQueueCalls()];case 1:t=n.sent();return[2,t.get(e)||null]}}))}))};return QueueCallController}();var rt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ot=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var it=_.tags("[TelePresence]");var at=function(){function TelephonyPresenceHandler(e){var t=this;this.queueCallController=e;this.subscribePresenceChanged=function(){return rt(t,void 0,void 0,(function(){var e,t,n,r;var a=this;var u;return ot(this,(function(s){switch(s.label){case 0:e=(u=(0,i.getModule)(l.COMMON_KEY_ACTION_MODULE))===null||u===void 0?void 0:u.getKeyActionService();t=e===null||e===void 0?void 0:e.get(l.ACTION_KEY.SET_GLIP_PRESENCE_HANDLER);if(!t){e.on(l.ACTION_KEY.SET_GLIP_PRESENCE_HANDLER,this.subscribePresenceChanged);return[2]}e.off(l.ACTION_KEY.SET_GLIP_PRESENCE_HANDLER,this.subscribePresenceChanged);n={adaptPresence:function(e){var t;return(t={},t[h.GLIP_PRESENCE.AVAILABLE]=h.PRESENCE_STATUS.Available,t[h.GLIP_PRESENCE.UNAVAILABLE]=h.PRESENCE_STATUS.Offline,t[h.GLIP_PRESENCE.DND]="DND",t)[e]},adaptDNDStatus:function(e){var t;return(t={},t[h.DND_STATUS.DoNotAcceptAnyCalls]="DoNotAcceptAnyCalls",t[h.DND_STATUS.DoNotAcceptDepartmentCalls]="DoNotAcceptQueueCalls",t[h.DND_STATUS.TakeAllCalls]="TakeAllCalls",t)[e]}};return[4,t.getAction()];case 1:r=s.sent();r((function(e,t){return rt(a,void 0,void 0,(function(){var r,i;return ot(this,(function(a){switch(a.label){case 0:return[4,this.calculateTelephonePresence(n.adaptPresence(e))];case 1:r=a.sent();if(r){i=n.adaptDNDStatus(r);i&&o().set(t,"telephony.availability",i)}return[2]}}))}))}));return[2]}}))}))};this.permissions={hasDepartments:function(){return rt(t,void 0,void 0,(function(){return ot(this,(function(e){switch(e.label){case 0:return[4,this.queueCallController.hasDepartments()];case 1:return[2,!!e.sent()]}}))}))},hasDNDPermission:function(){return!!S._Z.getCurrent().context.entitlement.get(w.H3.RCExtensionFeaturesId.DND)}};this.callQueueStatus={getCallQueueStatus:function(){return t.queueCallController.getQueueCallStatus()},setCallQueueStatus:function(e){return t.queueCallController.updateAcceptQueueCallToggleStatus(e,true)}}}TelephonyPresenceHandler.prototype.handleSelfPresenceChange=function(e){return rt(this,void 0,void 0,(function(){var t;return ot(this,(function(n){switch(n.label){case 0:return[4,this.permissions.hasDepartments()];case 1:if(!n.sent())return[3,7];t=e;switch(t){case h.DND_STATUS.TakeAllCalls:return[3,2];case h.DND_STATUS.DoNotAcceptDepartmentCalls:return[3,4]}return[3,6];case 2:it.info("[incoming] handleSelfPresenceChange set callQueueStatus to on: ",{presence:e});return[4,this.callQueueStatus.setCallQueueStatus(I.BM.ON)];case 3:n.sent();return[3,7];case 4:it.info("[incoming] handleSelfPresenceChange set callQueueStatus to off: ",{presence:e});return[4,this.callQueueStatus.setCallQueueStatus(I.BM.OFF)];case 5:n.sent();return[3,7];case 6:it.info("[incoming] handleSelfPresenceChange ignore: ",{presence:e});return[3,7];case 7:return[2]}}))}))};TelephonyPresenceHandler.prototype.calculateTelephonePresence=function(e){return rt(this,void 0,Promise,(function(){var t;var n,r;return ot(this,(function(o){switch(o.label){case 0:return[4,this.permissions.hasDNDPermission()];case 1:if(!o.sent())return[3,4];if(e==="DND"){it.info("[setPresence] calculateTelephonePresence set to DND");return[2,h.DND_STATUS.DoNotAcceptAnyCalls]}return[4,this.permissions.hasDepartments()];case 2:if(!o.sent()){return[2,(n={},n[h.USER_STATUS.Available]=h.DND_STATUS.TakeAllCalls,n[h.USER_STATUS.Offline]=h.DND_STATUS.TakeAllCalls,n[h.USER_STATUS.Busy]=h.DND_STATUS.TakeAllCalls,n)[e]]}return[4,this.callQueueStatus.getCallQueueStatus()];case 3:t=o.sent();it.info("[setPresence] calculateTelephonePresence with callQueue impact: ",{presence:e,callQueueStatus:t});return[2,(r={},r[h.USER_STATUS.Available]=t===I.BM.OFF?h.DND_STATUS.DoNotAcceptDepartmentCalls:h.DND_STATUS.TakeAllCalls,r[h.USER_STATUS.Offline]=t===I.BM.OFF?h.DND_STATUS.DoNotAcceptDepartmentCalls:h.DND_STATUS.TakeAllCalls,r[h.USER_STATUS.Busy]=t===I.BM.OFF?h.DND_STATUS.DoNotAcceptDepartmentCalls:h.DND_STATUS.TakeAllCalls,r)[e]];case 4:return[2,undefined]}}))}))};return TelephonyPresenceHandler}();var ut=n(850922);var st=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var ct=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var lt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var ft=_.tags("[SpecialNumberController]");var dt=1;var pt=function(e){st(SpecialNumberController,e);function SpecialNumberController(t,n){var r=e.call(this,{jobConfig:{jobKey:U.m.FETCH_SPECIAL_NUMBER_RULE},dataKey:U.Uz.SPECIAL_NUMBER_RULE,dbConfig:t,accountUpgradeController:n})||this;r._rcInfoUserConfig=t;r.requestDataFromServer=function(){return ct(r,void 0,void 0,(function(){var e,t,n,r;return lt(this,(function(o){switch(o.label){case 0:return[4,this._rcInfoUserConfig.getAccountInfo()];case 1:e=o.sent();if(u.x0.isPhoenixAccount(e)){return[2]}t=ut.N.getCurrentCountryId();return[4,p.A.getSpecialNumbers({countryId:t})];case 2:n=o.sent();return[4,this.getLocalData()];case 3:r=o.sent()||{};r[t]=n;return[2,r]}}))}))};return r}SpecialNumberController.prototype.isN11AllowedNumber=function(e,t){return ct(this,void 0,Promise,(function(){var n,r,o,i,a;return lt(this,(function(u){switch(u.label){case 0:return[4,this._getCurrentSpecialNumberRule()];case 1:n=u.sent();if(!n||!n.records){return[2,true]}o=0;u.label=2;case 2:if(!(o<n.records.length))return[3,6];i=n.records[o];a=i.features[e].enabled===false;if(!a)return[3,4];return[4,this._isPhoneNumberMatchedN11Number(t,i.phoneNumber)];case 3:a=u.sent();u.label=4;case 4:if(a){r=i;return[3,6]}u.label=5;case 5:o++;return[3,2];case 6:return[2,!r]}}))}))};SpecialNumberController.prototype._isPhoneNumberMatchedN11Number=function(e,t){return ct(this,void 0,void 0,(function(){var n,r,o,i,a,u,s;return lt(this,(function(c){switch(c.label){case 0:if(e.length<1){return[2,false]}if(e===t){return[2,true]}return[4,this._phoneParserModule.getPhoneParser(e)];case 1:n=c.sent();r=n===null||n===void 0?void 0:n.getSpecialPrefixMask();if((r===null||r===void 0?void 0:r.length)&&n&&!n.isEmpty()){r=r.toLowerCase()+"%"}else{o=n===null||n===void 0?void 0:n.getSpecialNumberTemplate();if(!o||o.length<1){r=""}else{r=o.toLowerCase()}}if(t.toLowerCase()===r){return[2,true]}if(!(r===null||r===void 0?void 0:r.length))return[3,4];return[4,this._phoneNumberModule.getE164PhoneNumber(r)];case 2:i=c.sent();return[4,this._phoneParserModule.getPhoneParser(t)];case 3:a=c.sent();u=a===null||a===void 0?void 0:a.getE164().toLowerCase();if(i.length>1&&i===u){return[2,true]}c.label=4;case 4:return[4,n===null||n===void 0?void 0:n.getE164()];case 5:s=c.sent();return[4,this._phoneNumberModule.getE164PhoneNumber(t)];case 6:return[2,s===c.sent()]}}))}))};Object.defineProperty(SpecialNumberController.prototype,"_phoneParserModule",{get:function(){return(0,i.getModule)(s.PHONE_PARSER_MODULE)},enumerable:true,configurable:true});SpecialNumberController.prototype._getCurrentSpecialNumberRule=function(){var e=ut.N.getCurrentCountryId();return this.getSpecialNumberRuleByCountryId(e)};SpecialNumberController.prototype.getSpecialNumberRuleByCountryId=function(e){return ct(this,void 0,void 0,(function(){var t;return lt(this,(function(n){switch(n.label){case 0:return[4,this.getLocalData()];case 1:t=n.sent();if(this._isSpecialServiceNumber(t)&&e===dt){return[2,t]}return[2,t&&t[e]||undefined]}}))}))};SpecialNumberController.prototype._isSpecialServiceNumber=function(e){return e&&e.uri&&e.records&&e.paging&&e.navigation};Object.defineProperty(SpecialNumberController.prototype,"_phoneNumberModule",{get:function(){return(0,i.getModule)(F.iJ)},enumerable:true,configurable:true});SpecialNumberController.prototype.handleRemoteData=function(t){return ct(this,void 0,void 0,(function(){return lt(this,(function(n){switch(n.label){case 0:return[4,e.prototype.handleRemoteData.call(this,t)];case 1:n.sent();i.notificationCenter.emit(d.FY.RC_INFO.SPECIAL_NUMBER_RULE,t);return[2]}}))}))};Object.defineProperty(SpecialNumberController.prototype,"logger",{get:function(){return ft},enumerable:true,configurable:true});return SpecialNumberController}(h.AbstractBaseRCInfoFetchController);var ht=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var vt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var gt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var _t=_.tags("[RCConferenceController]");var yt="US";var bt=function(e){ht(RCConferenceController,e);function RCConferenceController(t,n){var r=e.call(this,{jobConfig:{jobKey:U.m.FETCH_CONFERENCE},dataKey:U.Uz.RC_CONFERENCE,dbConfig:t,dataFetchConfig:h.DATA_FETCH_CONFIG.EXECUTE_FIRST_TIME_NOT_IN_QUEUE,accountUpgradeController:n,entitlementKeys:[[w.H3.RCExtensionFeaturesId.Conferencing]]})||this;r._DBConfig=t;r._handleRegionChanged=function(){return vt(r,void 0,void 0,(function(){var e,t,n;return gt(this,(function(r){switch(r.label){case 0:_t.info("Handle region changed.");if(!this._hasConferencePermission())return[3,6];return[4,this.getLocalData()];case 1:e=r.sent();t=ut.N.getCurrentCountryId();if(!e)return[3,4];n=e.phoneNumbers.find((function(t){return t.phoneNumber===(e===null||e===void 0?void 0:e.phoneNumber)}));if(!((n===null||n===void 0?void 0:n.country.id)!==t.toString()))return[3,3];return[4,this.syncAndSaveData()];case 2:r.sent();r.label=3;case 3:return[3,6];case 4:return[4,this.syncAndSaveData()];case 5:r.sent();r.label=6;case 6:return[2]}}))}))};return r}RCConferenceController.prototype.start=function(){e.prototype.start.call(this);i.notificationCenter.on(d.FY.RC_INFO.RC_REGION_INFO,this._handleRegionChanged)};Object.defineProperty(RCConferenceController.prototype,"logger",{get:function(){return _t},enumerable:true,configurable:true});RCConferenceController.prototype.getDialInNumbers=function(){return vt(this,void 0,Promise,(function(){var e,t;return gt(this,(function(n){switch(n.label){case 0:return[4,this._getISOCode()];case 1:e=n.sent();_t.info("Get current iso code =>",e);return[4,this._getDialInCountries()];case 2:t=n.sent();return[2,t.get(e)]}}))}))};RCConferenceController.prototype.isRCConferenceNumber=function(e){return vt(this,void 0,void 0,(function(){var t;return gt(this,(function(n){switch(n.label){case 0:return[4,this.getLocalData()];case 1:t=n.sent();return[2,!!(t===null||t===void 0?void 0:t.phoneNumbers.find((function(t){return t.phoneNumber===e})))]}}))}))};RCConferenceController.prototype._getISOCode=function(){return vt(this,void 0,void 0,(function(){var e;return gt(this,(function(t){switch(t.label){case 0:return[4,this._DBConfig.getExtensionInfo()];case 1:e=t.sent();return[2,e&&e.regionalSettings&&e.regionalSettings.homeCountry&&e.regionalSettings.homeCountry.isoCode||yt]}}))}))};RCConferenceController.prototype._getDialInCountries=function(){return vt(this,void 0,void 0,(function(){var e,t,n;return gt(this,(function(r){switch(r.label){case 0:e=new Map;return[4,this.getLocalData()];case 1:t=r.sent();n=t&&t.phoneNumbers;if(n){n.forEach((function(t){if(t.country.isoCode){var n=e.get(t.country.isoCode);if(!n){e.set(t.country.isoCode,[t.phoneNumber])}else if(!n.includes(t.phoneNumber)){n.push(t.phoneNumber)}}}))}return[2,e]}}))}))};RCConferenceController.prototype._hasConferencePermission=function(){var e=i.accountManager.getCurrent().context;return e.entitlement.get(w.H3.RCExtensionFeaturesId.Conferencing)};RCConferenceController.prototype.requestDataFromServer=function(){var e=ut.N.getCurrentCountryId();return p.A.getRCConference(e)};RCConferenceController.prototype.handleRemoteData=function(t){return vt(this,void 0,Promise,(function(){var n;return gt(this,(function(r){switch(r.label){case 0:return[4,this.getLocalData()];case 1:n=r.sent();if(!!o().isEqual(n,t))return[3,3];return[4,e.prototype.handleRemoteData.call(this,t)];case 2:r.sent();i.notificationCenter.emit(d.FY.RC_INFO.RC_CONFERENCE,t);r.label=3;case 3:return[2]}}))}))};RCConferenceController.prototype.stop=function(){i.notificationCenter.off(d.FY.RC_INFO.RC_REGION_INFO,this._handleRegionChanged);e.prototype.stop.call(this)};return RCConferenceController}(h.AbstractBaseRCInfoFetchController);var Ct=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var mt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var St=_.tags("[AccountUpgradeController]");var Et=function(){function AccountUpgradeController(e,t){var n=this;this._rcAccountInfoController=e;this._rcVideoConfigurationController=t;this._phoenixFreeToRCOffice={from:{freemiumProductType:h.FREEMIUM_PRODUCT_TYPE.PHOENIX,billingPlanType:h.BILLING_PLAN_TYPE.FREE},to:{freemiumProductType:undefined,billingPlanType:undefined}};this._phoenixFreeToPaid={from:{freemiumProductType:h.FREEMIUM_PRODUCT_TYPE.PHOENIX,billingPlanType:h.BILLING_PLAN_TYPE.FREE},to:{freemiumProductType:h.FREEMIUM_PRODUCT_TYPE.PHOENIX,billingPlanType:h.BILLING_PLAN_TYPE.REGULAR}};this._upgradeRoads=[this._phoenixFreeToRCOffice,this._phoenixFreeToPaid];this._isSyncingAccountBlockingInfos=false;this._listeners=[];this._onNetworkChanged=function(e){return Ct(n,void 0,void 0,(function(){var t;return mt(this,(function(n){switch(n.label){case 0:t=e.onLine;if(!t)return[3,2];return[4,this.refreshAccountData()];case 1:t=n.sent();n.label=2;case 2:t;return[2]}}))}))};this._handlePhoenixAccountUpgraded=function(e){return Ct(n,void 0,void 0,(function(){var t,n,r,o;return mt(this,(function(i){switch(i.label){case 0:St.info("handleAccountUpgraded,",(t=e.from)===null||t===void 0?void 0:t.billingPlan,(n=e.from)===null||n===void 0?void 0:n.servicePlan,(r=e.to)===null||r===void 0?void 0:r.billingPlan,(o=e.to)===null||o===void 0?void 0:o.servicePlan);if(!this._isPhoenixAccountUpgraded(e))return[3,2];return[4,this.refreshDataForPhoenixAccountUpgraded()];case 1:i.sent();i.label=2;case 2:return[2]}}))}))};this._handlePhoenixUserUpgraded=function(e){return Ct(n,void 0,void 0,(function(){var t;return mt(this,(function(n){switch(n.label){case 0:St.info("handlePhoenixUserUpgraded,",e.from,e.to);if(e.from===h.USER_LICENSE_TYPE.UNKNOWN&&e.to===h.USER_LICENSE_TYPE.FREE){return[2]}return[4,this._addEventKey(d.FY.RC_INFO_SERVICE.USER_LICENSE_TYPE_UPDATED)];case 1:n.sent();return[4,this._rcAccountInfoController.isPhoenixFreeAccount()];case 2:if(!n.sent())return[3,5];St.info("phoenix user upgrading but account is free, requestAccountServiceInfo");t=this._refreshAccountServiceInfoFunc;if(!t)return[3,4];return[4,this._refreshAccountServiceInfoFunc().catch((function(e){return St.info("requestAccountServiceInfo meet unexpected error",e)}))];case 3:t=n.sent();n.label=4;case 4:t;return[2];case 5:return[4,this._syncAccountBlockingInfos()];case 6:n.sent();return[2]}}))}))};this._handleBillingPlanChange=function(){return Ct(n,void 0,void 0,(function(){var e;return mt(this,(function(t){switch(t.label){case 0:St.info("receive billing change event, requesting account service info");e=this._refreshAccountServiceInfoFunc;if(!e)return[3,2];return[4,this._refreshAccountServiceInfoFunc().catch((function(e){St.info("requestAccountServiceInfo meet unexpected error",e)}))];case 1:e=t.sent();t.label=2;case 2:e;return[2]}}))}))};this._successRequestSet=new Set}AccountUpgradeController.prototype.onAccountUpgraded=function(e){if(!this._listeners.includes(e)){this._listeners.push(e)}else{St.info("listener already exist")}};AccountUpgradeController.prototype.offAccountUpgraded=function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))};AccountUpgradeController.prototype.addRefreshAccountServiceInfoFunc=function(e){if(!this._refreshAccountServiceInfoFunc){this._refreshAccountServiceInfoFunc=e}};AccountUpgradeController.prototype.start=function(){i.notificationCenter.on(O.FY.ACCOUNT_INFO.SERVICE_INFO_UPDATED,this._handlePhoenixAccountUpgraded);i.notificationCenter.on(d.FY.RC_INFO.USER_LICENSE_TYPE,this._handlePhoenixUserUpgraded);i.notificationCenter.on(O.FY.ACCOUNT_INFO.BILLING_PLAN_UPDATED,this._handleBillingPlanChange);this.refreshAccountData()};AccountUpgradeController.prototype.dispose=function(){i.notificationCenter.off(O.FY.ACCOUNT_INFO.SERVICE_INFO_UPDATED,this._handlePhoenixAccountUpgraded);i.notificationCenter.off(d.FY.RC_INFO.USER_LICENSE_TYPE,this._handlePhoenixUserUpgraded);i.notificationCenter.off(O.FY.ACCOUNT_INFO.BILLING_PLAN_UPDATED,this._handleBillingPlanChange)};AccountUpgradeController.prototype._stopListenAccountUpgrade=function(){i.notificationCenter.off(O.FY.ACCOUNT_INFO.SERVICE_INFO_UPDATED,this._handlePhoenixAccountUpgraded)};AccountUpgradeController.prototype._startRetrySync=function(){i.notificationCenter.on(i.WINDOW_EVENT.ONLINE,this._onNetworkChanged);if(!this._visibleEventDisposer){this._visibleEventDisposer=re.Pal.instance.getPlatformUtils().visibilityChangeEvent((function(){}),this.refreshAccountData)}};AccountUpgradeController.prototype._stopRetrySync=function(){i.notificationCenter.off(i.WINDOW_EVENT.ONLINE,this._onNetworkChanged);this._visibleEventDisposer&&this._visibleEventDisposer();delete this._visibleEventDisposer};AccountUpgradeController.prototype.refreshDataForPhoenixAccountUpgraded=function(e){return Ct(this,void 0,Promise,(function(){return mt(this,(function(t){switch(t.label){case 0:return[4,this._rcAccountInfoController.isPhoenixFreeAccount()];case 1:if(!t.sent())return[3,7];St.info("refresh data for phoenix account upgraded",{smbAccountType:e!==null&&e!==void 0?e:"upgraded by schedule job"});return[4,this._rcVideoConfigurationController.getUserLicenseType()];case 2:if(!(t.sent()!==h.USER_LICENSE_TYPE.PAID))return[3,4];return[4,this._rcVideoConfigurationController.requestVideoConfiguration()];case 3:t.sent();t.label=4;case 4:return[4,this._addEventKey(O.FY.PHOENIX_ACCOUNT_UPGRADE)];case 5:t.sent();return[4,this._syncAccountBlockingInfos()];case 6:t.sent();t.label=7;case 7:return[2]}}))}))};AccountUpgradeController.prototype._addEventKey=function(e){var t,n;return Ct(this,void 0,void 0,(function(){var r;return mt(this,(function(o){switch(o.label){case 0:return[4,(t=this._accountInfoModule)===null||t===void 0?void 0:t.DBConfig.getAccountUpgradingEvents()];case 1:r=o.sent();if(!r){r=[e]}else{!r.includes(e)&&r.push(e)}return[4,(n=this._accountInfoModule)===null||n===void 0?void 0:n.DBConfig.setAccountUpgradingEvents(r)];case 2:o.sent();return[2]}}))}))};AccountUpgradeController.prototype._syncAccountBlockingInfos=function(){return Ct(this,void 0,void 0,(function(){var e,t,n,r,o,a,s,c,l,f,d,p;return mt(this,(function(h){switch(h.label){case 0:if(this._isSyncingAccountBlockingInfos){return[2]}e=i.accountManager.getCurrent().getSubAccount(u.oF);if(!e){return[2]}this._isSyncingAccountBlockingInfos=true;h.label=1;case 1:h.trys.push([1,16,,17]);t=(0,i.getModule)(O.Y0);return[4,t.DBConfig.setIsAccountUpgrading()];case 2:h.sent();n=e.accountInfoService.requestRCClientInfo;r=e.accountInfoService.requestRCAccountInfo;o=e.accountInfoService.requestRCExtensionInfo;a=e.accountInfoService.requestRCRolePermissions;s=e.accountInfoService.requestRCExtensionFeaturesInfo;return[4,this._executeBlockingRequest(n)];case 3:d=h.sent();if(!d)return[3,5];return[4,this._executeBlockingRequest(r)];case 4:d=h.sent();h.label=5;case 5:f=d;if(!f)return[3,7];return[4,this._executeBlockingRequest(o)];case 6:f=h.sent();h.label=7;case 7:l=f;if(!l)return[3,9];return[4,this._executeBlockingRequest(a)];case 8:l=h.sent();h.label=9;case 9:c=l;if(!c)return[3,11];return[4,this._executeBlockingRequest(s)];case 10:c=h.sent();h.label=11;case 11:if(!c)return[3,14];return[4,t.DBConfig.removeIsAccountUpgrading()];case 12:h.sent();return[4,this._emitUpgradeEvent()];case 13:h.sent();this._successRequestSet.clear();this._stopListenAccountUpgrade();this._stopRetrySync();this._listeners.forEach((function(e){return e()}));this._isSyncingAccountBlockingInfos=false;return[3,15];case 14:this._stopRetrySync();this._startRetrySync();this._isSyncingAccountBlockingInfos=false;h.label=15;case 15:return[3,17];case 16:p=h.sent();St.log("_syncAccountBlockingInfos meet unexpected error",p);this._isSyncingAccountBlockingInfos=false;return[3,17];case 17:return[2]}}))}))};AccountUpgradeController.prototype._emitUpgradeEvent=function(){var e;return Ct(this,void 0,void 0,(function(){var t;return mt(this,(function(n){switch(n.label){case 0:return[4,(e=this._accountInfoModule)===null||e===void 0?void 0:e.DBConfig.getAccountUpgradingEvents()];case 1:t=n.sent();if(!(t&&t.length))return[3,3];t.forEach((function(e){i.notificationCenter.emit(e)}));return[4,this._accountInfoModule.DBConfig.removeAccountUpgradingEvents()];case 2:n.sent();n.label=3;case 3:return[2]}}))}))};AccountUpgradeController.prototype._executeBlockingRequest=function(e){return Ct(this,void 0,Promise,(function(){var t;return mt(this,(function(n){switch(n.label){case 0:if(this._successRequestSet.has(e)){return[2,true]}n.label=1;case 1:n.trys.push([1,3,,4]);return[4,e()];case 2:n.sent();this._successRequestSet.add(e);return[2,true];case 3:t=n.sent();St.info("execute request failed",t);if(t instanceof a.NotModifiedError){this._successRequestSet.add(e);return[2,true]}return[2,false];case 4:return[2]}}))}))};AccountUpgradeController.prototype.refreshAccountData=function(){var e;return Ct(this,void 0,void 0,(function(){return mt(this,(function(t){switch(t.label){case 0:return[4,(e=this._accountInfoModule)===null||e===void 0?void 0:e.DBConfig.getIsAccountUpgrading()];case 1:if(t.sent()){this._syncAccountBlockingInfos()}return[2]}}))}))};AccountUpgradeController.prototype._isPhoenixAccountUpgraded=function(e){var t=this;return!!this._upgradeRoads.find((function(n){return o().isEqual(n,t._buildUpgradeRoad(e))}))};AccountUpgradeController.prototype._buildUpgradeRoad=function(e){var t,n,r,o,i,a,u,s,c,l,f,d;return{from:{freemiumProductType:(n=(t=e.from)===null||t===void 0?void 0:t.servicePlan)===null||n===void 0?void 0:n.freemiumProductType,billingPlanType:((o=(r=e.from)===null||r===void 0?void 0:r.servicePlan)===null||o===void 0?void 0:o.freemiumProductType)?(a=(i=e.from)===null||i===void 0?void 0:i.billingPlan)===null||a===void 0?void 0:a.type:undefined},to:{freemiumProductType:(s=(u=e.to)===null||u===void 0?void 0:u.servicePlan)===null||s===void 0?void 0:s.freemiumProductType,billingPlanType:((l=(c=e.to)===null||c===void 0?void 0:c.servicePlan)===null||l===void 0?void 0:l.freemiumProductType)?(d=(f=e.to)===null||f===void 0?void 0:f.billingPlan)===null||d===void 0?void 0:d.type:undefined}}};AccountUpgradeController.prototype.requestUpgrade=function(){var e={subjectCode:h.NOTIFY_ADMIN_SUBJECT_CODE.RC_VIDEO_UPGRADE_REQUEST};return p.A.notifyAdmin(e)};Object.defineProperty(AccountUpgradeController.prototype,"_accountInfoModule",{get:function(){return(0,i.getModule)(O.Y0)},enumerable:true,configurable:true});return AccountUpgradeController}();var It=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var wt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var Rt=_.tags("[RCExtensionInfoController]");var Pt=function(){function RCExtensionInfoController(){var e=this;this._extensionChangeCallbacks=new Map;this._handleExtensionChange=function(t){var n=(0,u.gT)().userConfig.getExtensionId().toString();if(t.extensionId===n){Rt.info("Receive extension change ",t);if(t&&t.eventType===d.un.Update&&t.hints){t.hints.forEach((function(t){var n=e._extensionChangeCallbacks.get(t);if(n===null||n===void 0?void 0:n.size){n.forEach((function(e,n){try{e()}catch(e){Rt.info("_handleExtensionChange: run callback failed",t,n)}}))}}))}}}}RCExtensionInfoController.prototype.start=function(){(0,i.getModule)(Ge.MODULE_NAME).subscribe(Ge.RCSubscriptionKeys.ExtensionChange,this._handleExtensionChange)};RCExtensionInfoController.prototype.dispose=function(){(0,i.getModule)(Ge.MODULE_NAME).unsubscribe(Ge.RCSubscriptionKeys.ExtensionChange,this._handleExtensionChange)};RCExtensionInfoController.prototype.isSuperAdmin=function(){var e,t,n;return It(this,void 0,Promise,(function(){var r;return wt(this,(function(o){switch(o.label){case 0:return[4,this._getExtensionInfo()];case 1:r=!!((n=(t=(e=o.sent())===null||e===void 0?void 0:e.permissions)===null||t===void 0?void 0:t.admin)===null||n===void 0?void 0:n.enabled);Rt.info("current account extension info permission admin",r);return[2,r]}}))}))};RCExtensionInfoController.prototype.getHomeCountryInExtension=function(){var e,t;return It(this,void 0,void 0,(function(){return wt(this,(function(n){switch(n.label){case 0:return[4,this._getExtensionInfo()];case 1:return[2,(t=(e=n.sent())===null||e===void 0?void 0:e.regionalSettings)===null||t===void 0?void 0:t.homeCountry]}}))}))};RCExtensionInfoController.prototype.subscribeExtensionChange=function(e,t){var n=this._extensionChangeCallbacks.get(e)||new Set;if(n.has(t)){Rt.info("trying to add a existing callback for hint",e)}else{n.add(t);this._extensionChangeCallbacks.set(e,n)}};RCExtensionInfoController.prototype.unsubscribeExtensionChange=function(e,t){var n=this._extensionChangeCallbacks.get(e);if(n===null||n===void 0?void 0:n.has(t)){n.delete(t)}else{Rt.info("trying to remove a non-existing callback for hint",e)}};RCExtensionInfoController.prototype._getExtensionInfo=function(){var e=(0,i.getModule)(O.Y0);return e===null||e===void 0?void 0:e.getExtensionInfo()};return RCExtensionInfoController}();var At=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var Tt=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var Ot=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Nt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var xt=_.tags("[RCVideoConfigurationController]");var Dt=function(){function RCVideoConfigurationController(e,t,n,r){var o=this;this._rcInfoUserConfig=e;this._rcInfoFetchController=t;this._rcAccountInfoController=n;this._rcExtensionInfoController=r;this._handleUserLicenseTypeUpdated=function(){o._updateEntitlement({reasonLog:"USER_LICENSE_TYPE_UPDATED event"})};this._handleVideoConfiguration=function(){o._updateEntitlement({reasonLog:"VIDEO_CONFIGURATION event"})};this._requestVideoConfigurationWithPermissionCheck=function(){return Ot(o,void 0,void 0,(function(){var e,t;return Nt(this,(function(n){e=i.accountManager.getCurrent().context.entitlement;t=!!e.get(w.H3.RCExtensionFeaturesId.Meetings);if(t){return[2,this.requestVideoConfiguration()]}return[2]}))}))}}RCVideoConfigurationController.prototype.start=function(){var e=this;this._scheduleJob();i.accountManager.getCurrent().context.entitlement.once(w.H3.RCExtensionFeaturesId.Meetings,(function(t){return t&&e.requestVideoConfiguration()}));this._rcExtensionInfoController.subscribeExtensionChange(d.J6.VideoConfiguration,this._requestVideoConfigurationWithPermissionCheck);this._updateEntitlement({reasonLog:"init event"});this._observeEntitlementChange()};RCVideoConfigurationController.prototype.dispose=function(){this._rcExtensionInfoController.subscribeExtensionChange(d.J6.VideoConfiguration,this._requestVideoConfigurationWithPermissionCheck);this._unobserveEntitlementChange()};RCVideoConfigurationController.prototype._updateEntitlement=function(e){var t=e.reasonLog;return Ot(this,void 0,Promise,(function(){var e,n,r;return Nt(this,(function(o){switch(o.label){case 0:e=xt.tags("fetchUserLicense");e.info("start fetching due to:",t);return[4,this.getUserLicenseType()];case 1:n=o.sent();r=i.accountManager.getCurrent().context.entitlement;r.set(w.H3.RCCustomPermissionList.isFreeUserLicense,n===h.USER_LICENSE_TYPE.FREE);e.info("finished fetching, new value:",n);return[2]}}))}))};RCVideoConfigurationController.prototype._observeEntitlementChange=function(){i.notificationCenter.on(d.FY.RC_INFO_SERVICE.USER_LICENSE_TYPE_UPDATED,this._handleUserLicenseTypeUpdated);i.notificationCenter.on(d.FY.RC_INFO.VIDEO_CONFIGURATION,this._handleVideoConfiguration)};RCVideoConfigurationController.prototype._unobserveEntitlementChange=function(){i.notificationCenter.off(d.FY.RC_INFO_SERVICE.USER_LICENSE_TYPE_UPDATED,this._handleUserLicenseTypeUpdated);i.notificationCenter.off(d.FY.RC_INFO.VIDEO_CONFIGURATION,this._handleVideoConfiguration)};RCVideoConfigurationController.prototype._scheduleJob=function(){this._rcInfoFetchController.scheduleRCInfoJob({key:ae.m.FETCH_VIDEO_CONFIGURATION,executeFunc:this.requestVideoConfiguration.bind(this),permissionRegister:(0,i.generatePermissionRegister)([[w.H3.RCExtensionFeaturesId.Meetings]]),ignoreFirstTime:true})};RCVideoConfigurationController.prototype.requestVideoConfiguration=function(){return Ot(this,void 0,void 0,(function(){var e,t,n,r;return Nt(this,(function(o){switch(o.label){case 0:o.trys.push([0,6,,7]);return[4,p.A.getVideoProvider()];case 1:e=o.sent();if(!e.provider)return[3,3];return[4,this._rcInfoUserConfig.setVideoProvider(e.provider)];case 2:o.sent();o.label=3;case 3:return[4,this._rcInfoUserConfig.getUserLicenseType()];case 4:t=o.sent()||h.USER_LICENSE_TYPE.UNKNOWN;n=e.userLicenseType||h.USER_LICENSE_TYPE.UNKNOWN;return[4,this._rcInfoUserConfig.setUserLicenseType(n)];case 5:o.sent();t!==n&&i.notificationCenter.emit(d.FY.RC_INFO.USER_LICENSE_TYPE,{from:t,to:n});i.notificationCenter.emit(d.FY.RC_INFO.VIDEO_CONFIGURATION);return[3,7];case 6:r=o.sent();xt.info("request video-configuration error, "+r);return[3,7];case 7:return[2]}}))}))};RCVideoConfigurationController.prototype.getRCVideoProvider=function(){return Ot(this,void 0,void 0,(function(){var e;return Nt(this,(function(t){switch(t.label){case 0:return[4,this._rcInfoUserConfig.getVideoProvider()];case 1:e=t.sent();if(e){return[2,e]}return[4,this.requestVideoConfiguration()];case 2:t.sent();return[2,this._rcInfoUserConfig.getVideoProvider()]}}))}))};RCVideoConfigurationController.prototype.updateVideoProvider=function(e){return Ot(this,void 0,Promise,(function(){var t;return Nt(this,(function(n){switch(n.label){case 0:t={provider:e};return[4,p.A.updateVideoProvider(t)];case 1:n.sent();return[4,this._rcInfoUserConfig.setVideoProvider(e)];case 2:n.sent();return[2]}}))}))};RCVideoConfigurationController.prototype.getUserLicenseType=function(){return Ot(this,void 0,Promise,(function(){var e,t;return Nt(this,(function(n){switch(n.label){case 0:return[4,this._rcInfoUserConfig.getUserLicenseType()];case 1:e=n.sent();return[4,this._rcAccountInfoController.getAccountBillingType()];case 2:t=n.sent()===h.ACCOUNT_BILLING_TYPE.PHOENIX_PAID;if(!(!e&&t))return[3,5];return[4,this.requestVideoConfiguration()];case 3:n.sent();return[4,this._rcInfoUserConfig.getUserLicenseType()];case 4:e=n.sent();n.label=5;case 5:return[2,e||h.USER_LICENSE_TYPE.UNKNOWN]}}))}))};At([a.SingleRequest,Tt("design:type",Function),Tt("design:paramtypes",[]),Tt("design:returntype",Promise)],RCVideoConfigurationController.prototype,"requestVideoConfiguration",null);return RCVideoConfigurationController}();var Mt=n(245699);var kt=undefined&&undefined.__assign||function(){kt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return kt.apply(this,arguments)};var Lt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Ft=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var Ut=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var Bt=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ut(arguments[t]));return e};var Gt=_.tags("[RCContactUserProfileController]");var jt=function(){function RCContactUserProfileController(e,t){var n=this;this._rcInfoFetchController=e;this._rcInfoUserConfig=t;this._requestSelfContactData=function(){return Lt(n,void 0,Promise,(function(){var e;return Ft(this,(function(t){switch(t.label){case 0:return[4,p.A.getRCContactById(this._userExtensionId.toString())];case 1:e=t.sent();return[4,this._handleUserSelfContact(e)];case 2:t.sent();return[2]}}))}))};this._handleRCContactUpdate=function(e){return Lt(n,void 0,void 0,(function(){var t,n,r;var i=this;return Ft(this,(function(a){switch(a.label){case 0:t=e.contacts;n=t.find((function(e){return e.id===i._userExtensionId}));if(!n)return[3,2];r=o().omit(o().cloneDeep(n),["eventType","newEtag","oldEtag"]);return[4,this._handleUserSelfContact(r)];case 1:a.sent();a.label=2;case 2:return[2]}}))}))}}RCContactUserProfileController.prototype.start=function(){(0,i.getModule)(Mt.oF).registerProfileSource(this);this._rcNotificationModule.subscribe(Ge.RCSubscriptionKeys.RCContact,this._handleRCContactUpdate);this._rcInfoFetchController.scheduleRCInfoJob({key:U.m.FETCH_SELF_CONTACT,executeFunc:this._requestSelfContactData})};RCContactUserProfileController.prototype.dispose=function(){(0,i.getModule)(Mt.oF).unregisterProfileSource(this.getType());this._rcNotificationModule.unsubscribe(Ge.RCSubscriptionKeys.RCContact,this._handleRCContactUpdate)};RCContactUserProfileController.prototype._transformToRCContactProfileExtension=function(e){var t=o().pick(e,Bt(this.getEditableProfileFields()));var n={firstName:"",lastName:""};Object.keys(t).forEach((function(e){return ie.u0[e]&&(n[ie.u0[e]]=t[e])}));return{contact:n}};RCContactUserProfileController.prototype.getType=function(){return"phone.contact"};RCContactUserProfileController.prototype.getPriority=function(){return Mt.tw.RC_CONTACT};RCContactUserProfileController.prototype.updateProfile=function(e){return Lt(this,void 0,Promise,(function(){var t,n;return Ft(this,(function(r){switch(r.label){case 0:t=this._transformToRCContactProfileExtension(e);Gt.info("update RCContact profile:",t);return[4,p.A.updateProfile(t)];case 1:n=r.sent();i.notificationCenter.emit(d.FY.RC_INFO_SERVICE.USER_PROFILE_UPDATED,n);return[2]}}))}))};RCContactUserProfileController.prototype.updateCompanyName=function(e,t){return Lt(this,void 0,Promise,(function(){var n,r,i,a,u,s;return Ft(this,(function(c){switch(c.label){case 0:n={contact:{company:e}};return[4,p.A.updateProfile(n)];case 1:r=c.sent();Gt.info("update RCContact profile:",r);i=o().get(t,"businessAddress.city",d.$F.CITY);a=o().get(t,"businessAddress.state",d.$F.STATE);u={businessAddress:{city:i,state:a},company:e};return[4,p.A.updateBusinessAddress(u)];case 2:s=c.sent();Gt.info("update Business Address:",s);return[2]}}))}))};RCContactUserProfileController.prototype.getEditableProfileFields=function(){return new Set(ie.tR)};RCContactUserProfileController.prototype._handleUserSelfContact=function(e){return Lt(this,void 0,void 0,(function(){var t,n,r,a;return Ft(this,(function(u){switch(u.label){case 0:return[4,this._rcInfoUserConfig.getSelfContactData()];case 1:t=u.sent();if(t){n=this._extractImportantNumberAndSortFromContact(t);r=this._extractImportantNumberAndSortFromContact(e);!o().isEqual(n,r)&&i.notificationCenter.emit(d.FY.RC_INFO_SERVICE.USER_PHONE_NUMBER_UPDATED)}a=this._buildNewContact(e,t);return[4,this._rcInfoUserConfig.setSelfContactData(a)];case 2:u.sent();i.notificationCenter.emit(d.FY.RC_INFO.SELF_CONTACT_DATA,a);return[2]}}))}))};RCContactUserProfileController.prototype._buildNewContact=function(e,t){var n=kt({},e);var r=new Set(Object.keys(e));var o=Object.keys(t||{}).filter((function(e){return!r.has(e)}));o.forEach((function(e){return n[e]=undefined}));return n};RCContactUserProfileController.prototype._extractImportantNumberAndSortFromContact=function(e){var t;return(t=e===null||e===void 0?void 0:e.phoneNumbers)===null||t===void 0?void 0:t.filter((function(e){return e.usageType===h.PhoneNumberUsageType.DirectNumber||e.usageType===h.PhoneNumberUsageType.BusinessMobileNumber})).map((function(e){return e.phoneNumber})).sort()};Object.defineProperty(RCContactUserProfileController.prototype,"_userExtensionId",{get:function(){var e;return(e=(0,u.gT)().userConfig.getExtensionId())===null||e===void 0?void 0:e.toString()},enumerable:true,configurable:true});Object.defineProperty(RCContactUserProfileController.prototype,"_rcNotificationModule",{get:function(){return(0,i.getModule)(Ge.RC_NOTIFICATION_MODULE_NAME)},enumerable:true,configurable:true});return RCContactUserProfileController}();var Ht=n(305570);var Vt=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var Wt=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var zt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Yt=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var qt=_.tags("[RCTimeZoneInfoController]");var Kt=function(){function RCTimeZoneInfoController(e,t){this._rcInfoUserConfig=e;this._rcInfoFetchController=t}RCTimeZoneInfoController.prototype.start=function(){this._scheduleJob()};RCTimeZoneInfoController.prototype._scheduleJob=function(){this._rcInfoFetchController.scheduleRCInfoJob({key:ae.m.FETCH_TIMEZONE_LIST,executeFunc:this.requestTimeZoneList.bind(this)})};RCTimeZoneInfoController.prototype._calculateDisplayName=function(e){var t=parseInt(e.bias||"0",10);var n=t<0?"-":"+";t=Math.abs(t);var r=Math.floor(t/60);var o=r<10?"0"+r:""+r;var i=t%60;var a=i<10?"0"+i:""+i;return"(UTC"+n+o+":"+a+") "+e.name};RCTimeZoneInfoController.prototype.requestTimeZoneList=function(){return zt(this,void 0,void 0,(function(){var e,t;var n=this;return Yt(this,(function(r){switch(r.label){case 0:r.trys.push([0,3,,4]);return[4,new Ht.j({fetchHandler:p.A.getTimeZoneList}).getAllPage({page:h.FIRST_PAGE_INDEX,perPage:h.MAX_PER_PAGE})];case 1:e=r.sent();e.forEach((function(e){return e.displayName=n._calculateDisplayName(e)}));return[4,this._rcInfoUserConfig.setTimeZoneInfoList(e)];case 2:r.sent();return[3,4];case 3:t=r.sent();qt.info("request TimeZoneInfo list error, "+t);return[3,4];case 4:return[2]}}))}))};RCTimeZoneInfoController.prototype.getTimeZoneList=function(){return zt(this,void 0,void 0,(function(){var e;return Yt(this,(function(t){switch(t.label){case 0:if(this._timezoneList)return[2,this._timezoneList];return[4,this._rcInfoUserConfig.getTimeZoneInfoList()];case 1:e=t.sent();if(!!e)return[3,4];return[4,this.requestTimeZoneList()];case 2:t.sent();return[4,this._rcInfoUserConfig.getTimeZoneInfoList()];case 3:e=t.sent();t.label=4;case 4:this._timezoneList=e.sort((function(e,t){return parseInt(e.bias,10)-parseInt(t.bias,10)}));return[2,this._timezoneList]}}))}))};Vt([a.SingleRequest,Wt("design:type",Function),Wt("design:paramtypes",[]),Wt("design:returntype",Promise)],RCTimeZoneInfoController.prototype,"requestTimeZoneList",null);return RCTimeZoneInfoController}();var Qt=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Zt=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var Xt=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var Jt=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var $t=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var en=(0,f.Fd)();var tn=function(e){Qt(RCAnsweringRuleController,e);function RCAnsweringRuleController(t,n,r){var o=e.call(this,{jobConfig:{jobKey:U.m.FETCH_ANSWERING_BUSINESS_HOURS_RULE},dataKey:U.Uz.ANSWERING_RULE_BUSINESS_HOURS_RULE,dbConfig:t,accountUpgradeController:n,entitlementKeys:[[w.H3.RCExtensionFeaturesId.ReadExtensionAnsweringRules]]})||this;o._userConfig=t;o._rcExtensionInfoController=r;o._handleExtensionChange=function(){o._debouncedRefreshAnsweringBizHoursRule()};return o}RCAnsweringRuleController.prototype.start=function(){this.logger.info("start ANSWERING_BUSINESS_HOURS_RULE schedule job");e.prototype.start.call(this);this._rcExtensionInfoController.subscribeExtensionChange(d.J6.AnsweringRules,this._handleExtensionChange)};RCAnsweringRuleController.prototype.stop=function(){this._rcExtensionInfoController.unsubscribeExtensionChange(d.J6.AnsweringRules,this._handleExtensionChange);e.prototype.stop.call(this)};Object.defineProperty(RCAnsweringRuleController.prototype,"logger",{get:function(){return _.tags("[RCAnsweringRuleController]")},enumerable:true,configurable:true});RCAnsweringRuleController.prototype.requestDataFromServer=function(){return p.A.getAnsweringRuleBusinessHoursRule()};RCAnsweringRuleController.prototype.handleRemoteData=function(t){return Jt(this,void 0,Promise,(function(){return $t(this,(function(n){e.prototype.handleRemoteData.call(this,t);this._handleBizHoursRuleForwarding(t.forwarding);return[2]}))}))};RCAnsweringRuleController.prototype._debouncedRefreshAnsweringBizHoursRule=function(){this.logger.info("debounce refreshAnsweringBizHoursRule");e.prototype.syncAndSaveData.call(this)};RCAnsweringRuleController.prototype._handleBizHoursRuleForwarding=function(e){return Jt(this,void 0,Promise,(function(){var t,n,r;return $t(this,(function(o){switch(o.label){case 0:if(!e){this.logger.info("No BizHoursRule configuration to check.");return[2]}if(!this._hasPermissionToEditAnsweringRule()){this.logger.info("Account has not permission to edit answeringRule!");return[2]}t=U.nY.isAnsweringRuleMobileTimeoutChecked();if(t){this.logger.info("AnsweringRuleMobileTimeout has been checked.");return[2]}this.logger.info("Start to check BizHoursRule mobileTimeout, notifyMySoftPhones:",e.notifyMySoftPhones," softPhoneRingCount:",e.softPhoneRingCount,"mobileTimeout:",e.mobileTimeout);if(!!e.mobileTimeout)return[3,5];this.logger.info("Need to set MobileTimeout true.");o.label=1;case 1:o.trys.push([1,4,,5]);return[4,p.A.updateAnsweringRuleBusinessHoursRule({forwarding:{mobileTimeout:true}})];case 2:n=o.sent();return[4,this._userConfig.setAnsweringBizHoursRuleData(n)];case 3:o.sent();return[3,5];case 4:r=o.sent();this.logger.info("Update AnsweringRuleBusinessHoursRule fail!",r);return[2];case 5:this.logger.info("Finish mobileTimeoutChecked, set checked flag.");U.nY.setAnsweringRuleMobileTimeoutChecked();return[2]}}))}))};Object.defineProperty(RCAnsweringRuleController.prototype,"_currentEntitlement",{get:function(){return(0,i.getCurrentAccount)().context.entitlement},enumerable:true,configurable:true});RCAnsweringRuleController.prototype._hasPermissionToEditAnsweringRule=function(){return this._currentEntitlement&&this._currentEntitlement.get(w.H3.RCExtensionFeaturesId.EditExtensionAnsweringRules)};Zt([en(),Xt("design:type",Function),Xt("design:paramtypes",[]),Xt("design:returntype",void 0)],RCAnsweringRuleController.prototype,"_debouncedRefreshAnsweringBizHoursRule",null);return RCAnsweringRuleController}(h.AbstractBaseRCInfoFetchController);var nn=n(623335);var rn=n(166418);var on=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var an=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var un=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var sn=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var cn=function(e){on(AccountFederationInfoController,e);function AccountFederationInfoController(t){var n=e.call(this,{jobConfig:{jobKey:ae.m.FETCH_ACCOUNT_FEDERATION},dataKey:U.Uz.FEDERATION,dbConfig:t,entitlementKeys:[[w.H3.RCCustomPermissionList.isFederatedAccount]]})||this;n._logTag="["+AccountFederationInfoController.name+"]";n._accountsInfo=new Map;n._initStatus=false;n.getFederationAccountInfo=function(e){return an(n,void 0,void 0,(function(){var t;return un(this,(function(n){switch(n.label){case 0:return[4,this._getFederatedFlag()];case 1:t=n.sent();if(!t){_.tags(this._logTag).info("should not get federation account info when the federated flag is false.");return[2,undefined]}return[4,this._ensureInit()];case 2:n.sent();return[2,this._accountsInfo.get(e)]}}))}))};n._handleAccountInfoChanged=function(e){if(e===i.CONFIG_EVENT_TYPE.REMOVE){_.tags(n._logTag).info("_handleAccountInfoChanged, get removing account info event.")}else{n._setFederatedFlagByRCAccountInfo()}};n._handleFederatedFlagChanged=function(e){return an(n,void 0,void 0,(function(){return un(this,(function(t){switch(t.label){case 0:_.tags(this._logTag).info("_handleFederatedFlagChanged, federated=",e);if(!!e)return[3,3];_.tags(this._logTag).info("_handleFederatedFlagChange, remove federation info from db and cache");return[4,this._rcInfoUserConfig.removeFederationFromDB()];case 1:t.sent();this._accountsInfo=new Map;return[4,this._setSelfContactGroupMainNumber()];case 2:t.sent();t.label=3;case 3:this._setFlag2Entitlement(e);return[2]}}))}))};n.requestDataFromServer=function(){return an(n,void 0,void 0,(function(){var e;return un(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,p.A.getAccountFederationInfo()];case 1:return[2,t.sent()];case 2:e=t.sent();_.tags(this._logTag).info("get federation info from remote failed, err =",e);return[2,undefined];case 3:return[2]}}))}))};return n}AccountFederationInfoController.prototype.start=function(){e.prototype.start.call(this);this._subscribeFederatedFlagChanged();this._subscribeAccountInfoChanged();this._setFederatedFlagByRCAccountInfo();this._getAndSetContactGroupMainNumbers();this._getAndSetFlag2Entitlement();this._accountInfoModule.registerFederationInfoProvider({getFederationAccountInfo:this.getFederationAccountInfo})};AccountFederationInfoController.prototype.stop=function(){e.prototype.stop.call(this);this._clearCache();this._unsubscribeFederatedFlagChanged();this._unsubscribeAccountInfoChanged()};AccountFederationInfoController.prototype._getAndSetContactGroupMainNumbers=function(){return an(this,void 0,void 0,(function(){var e;return un(this,(function(t){switch(t.label){case 0:return[4,this.getFederationAccountList()];case 1:e=t.sent();return[4,this._setContactGroupMainNumbers(e)];case 2:t.sent();return[2]}}))}))};AccountFederationInfoController.prototype._setContactGroupMainNumbers=function(e){return an(this,void 0,void 0,(function(){var t;return un(this,(function(n){switch(n.label){case 0:if(!(e===null||e===void 0?void 0:e.length))return[3,1];t=e.map((function(e){var t;return{contactGroupId:e.id,mainNumber:(t=e.mainNumber)===null||t===void 0?void 0:t.phoneNumber}}));this._phoneContactModule.setContactGroupMainNumbers(t);return[3,3];case 1:return[4,this._setSelfContactGroupMainNumber()];case 2:n.sent();n.label=3;case 3:return[2]}}))}))};AccountFederationInfoController.prototype._setSelfContactGroupMainNumber=function(){return an(this,void 0,void 0,(function(){var e;return un(this,(function(t){switch(t.label){case 0:return[4,this._rcInfoUserConfig.getAccountInfo()];case 1:e=t.sent();if(e){this._phoneContactModule.setContactGroupMainNumbers([{contactGroupId:e.id.toString(),mainNumber:e.mainNumber}])}return[2]}}))}))};AccountFederationInfoController.prototype._clearCache=function(){this._accountsInfo.clear();this._initStatus=false};AccountFederationInfoController.prototype._setFederatedFlagByRCAccountInfo=function(){return an(this,void 0,void 0,(function(){var e,t,n,r;return un(this,(function(o){switch(o.label){case 0:e=(0,S.x6)().context;t=e.entitlement.get(w.H3.RCExtensionFeaturesId.Glip);if(t){_.tags(this._logTag).debug("setFederatedFlagByRCAccountInfo, do nothing when glip is on");return[2]}return[4,this._rcInfoUserConfig.getAccountInfo()];case 1:n=o.sent();_.tags(this._logTag).info("_setFederatedFlagByRCAccountInfo federated=",n===null||n===void 0?void 0:n.federated);r=(0,i.getModule)(O.Y0);return[4,r.setFederatedFlag(!!(n===null||n===void 0?void 0:n.federated))];case 2:o.sent();return[2]}}))}))};AccountFederationInfoController.prototype.getFederationAccountList=function(){return an(this,void 0,void 0,(function(){var e;return un(this,(function(t){switch(t.label){case 0:return[4,this._getFederatedFlag()];case 1:e=t.sent();if(!e){_.tags(this._logTag).info("should not get federation account list when the federated flag is false.");return[2,[]]}return[4,this._ensureInit()];case 2:t.sent();return[2,Array.from(this._accountsInfo.values())||[]]}}))}))};AccountFederationInfoController.prototype._ensureInit=function(){var e;return an(this,void 0,void 0,(function(){var t;return un(this,(function(n){switch(n.label){case 0:if(!!this._initStatus)return[3,2];return[4,this._rcInfoUserConfig.getAccountFederationData()];case 1:t=n.sent();t&&this._saveFederationAccountInfo2Cache(t);this._initStatus=true;_.tags(this._logTag).info("_ensureInit, get account length=",(e=t===null||t===void 0?void 0:t.accounts)===null||e===void 0?void 0:e.length);n.label=2;case 2:return[2]}}))}))};AccountFederationInfoController.prototype._subscribeAccountInfoChanged=function(){var e=(0,i.getModule)(O.Y0);e.DBConfig.on(nn.xb.ACCOUNT_INFO,this._handleAccountInfoChanged)};AccountFederationInfoController.prototype._unsubscribeAccountInfoChanged=function(){var e=(0,i.getModule)(O.Y0);e.DBConfig.off(nn.xb.ACCOUNT_INFO,this._handleAccountInfoChanged)};AccountFederationInfoController.prototype._subscribeFederatedFlagChanged=function(){i.notificationCenter.on(O.FY.ACCOUNT_INFO.FEDERATED_UPDATED,this._handleFederatedFlagChanged)};AccountFederationInfoController.prototype._unsubscribeFederatedFlagChanged=function(){i.notificationCenter.off(O.FY.ACCOUNT_INFO.FEDERATED_UPDATED,this._handleFederatedFlagChanged)};AccountFederationInfoController.prototype._isAccountListChanged=function(e){var t,n;var r;if(this._accountsInfo.size===0&&(!e.accounts||e.accounts.length===0)){return false}if(this._accountsInfo.size!==((r=e.accounts)===null||r===void 0?void 0:r.length)){return true}if(e.accounts){for(var i=0;i<e.accounts.length;i++){var a=e.accounts[i];var u=this._accountsInfo.get(a.id);if(!o().isEqual(a,u)){return true}}var s=new Set(e.accounts.map((function(e){return e.id})));try{for(var c=sn(this._accountsInfo.values()),l=c.next();!l.done;l=c.next()){var u=l.value;if(!s.has(u.id)){return true}}}catch(e){t={error:e}}finally{try{if(l&&!l.done&&(n=c.return))n.call(c)}finally{if(t)throw t.error}}}return false};AccountFederationInfoController.prototype._getAndSetFlag2Entitlement=function(){return an(this,void 0,void 0,(function(){var e;return un(this,(function(t){switch(t.label){case 0:return[4,this._accountInfoModule.getFederatedFlag()];case 1:e=t.sent();this._setFlag2Entitlement(e);return[2]}}))}))};AccountFederationInfoController.prototype._setFlag2Entitlement=function(e){var t=(0,S.x6)().context.entitlement;t.set(w.H3.RCCustomPermissionList.isFederatedAccount,e)};AccountFederationInfoController.prototype._saveFederationAccountInfo2Cache=function(e){var t,n;_.tags(this._logTag).info("_saveFederationAccountInfo2Cache id = ",e.id,"accounts count = ",(t=e.accounts)===null||t===void 0?void 0:t.length);var r=new Map;(n=e.accounts)===null||n===void 0?void 0:n.forEach((function(e){if(e){r.set(e.id,e)}}));this._accountsInfo=r;this._initStatus=true};Object.defineProperty(AccountFederationInfoController.prototype,"_rcInfoUserConfig",{get:function(){return this._dbConfig},enumerable:true,configurable:true});AccountFederationInfoController.prototype._getFederatedFlag=function(){var e=(0,i.getModule)(O.Y0);return e===null||e===void 0?void 0:e.getFederatedFlag()};AccountFederationInfoController.prototype.handleRemoteData=function(t){return an(this,void 0,void 0,(function(){return un(this,(function(n){switch(n.label){case 0:return[4,e.prototype.handleRemoteData.call(this,t)];case 1:n.sent();if(!this._isAccountListChanged(t))return[3,3];_.tags(this._logTag).info("handleRemoteData, federation accounts changed");this._saveFederationAccountInfo2Cache(t);i.notificationCenter.emit(O.FY.ACCOUNT_INFO.FEDERATION_ACCOUNTS_UPDATE,t.accounts||[]);return[4,this._setContactGroupMainNumbers(t.accounts)];case 2:n.sent();n.label=3;case 3:return[2]}}))}))};Object.defineProperty(AccountFederationInfoController.prototype,"logger",{get:function(){return _.tags(this._logTag)},enumerable:true,configurable:true});Object.defineProperty(AccountFederationInfoController.prototype,"_phoneContactModule",{get:function(){return(0,i.getModule)(rn.Po)},enumerable:true,configurable:true});Object.defineProperty(AccountFederationInfoController.prototype,"_accountInfoModule",{get:function(){return(0,i.getModule)(O.Y0)},enumerable:true,configurable:true});return AccountFederationInfoController}(h.AbstractBaseRCInfoFetchController);var ln=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var fn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var dn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var pn=_.tags("[RCDialingPlanController]");var hn=function(e){ln(RCDialingPlanController,e);function RCDialingPlanController(t,n){var r=e.call(this,{jobConfig:{jobKey:ae.m.FETCH_DIALING_PLAN},dataKey:U.Uz.DIALING_PLAN,dbConfig:t,dataFetchConfig:h.DATA_FETCH_CONFIG.EXECUTE_FIRST_TIME_NOT_IN_QUEUE|h.DATA_FETCH_CONFIG.FETCH_WHEN_SCHEDULE,accountUpgradeController:n})||this;r._rcInfoUserConfig=t;r.requestDataFromServer=function(){return fn(r,void 0,void 0,(function(){var e;return dn(this,(function(t){switch(t.label){case 0:return[4,this._rcInfoUserConfig.getAccountInfo()];case 1:e=t.sent();if(u.x0.isPhoenixAccount(e)){return[2]}return[2,p.A.getDialingPlan()]}}))}))};return r}RCDialingPlanController.prototype.handleRemoteData=function(t){return fn(this,void 0,void 0,(function(){return dn(this,(function(n){switch(n.label){case 0:return[4,e.prototype.handleRemoteData.call(this,t)];case 1:n.sent();i.notificationCenter.emit(d.FY.RC_INFO.DIALING_PLAN,t);return[2]}}))}))};Object.defineProperty(RCDialingPlanController.prototype,"logger",{get:function(){return pn},enumerable:true,configurable:true});return RCDialingPlanController}(h.AbstractBaseRCInfoFetchController);var vn=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var gn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var _n=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var yn=1e3;var bn={Home:I.i$.HOME,Work:I.i$.WORK,Mobile:I.i$.MOBILE,PhoneLine:I.i$.PHONE_LINE,Outage:I.i$.OUTAGE,Other:I.i$.OTHER};var Cn=function(e){vn(RCInfoForwardingNumberController,e);function RCInfoForwardingNumberController(t,n){var r=e.call(this,{jobConfig:{jobKey:U.m.FETCH_FORWARDING_NUMBER},dataKey:U.Uz.FORWARDING_NUMBERS,dbConfig:t,dataFetchConfig:h.DATA_FETCH_CONFIG.FETCH_WHEN_SCHEDULE,accountUpgradeController:n,entitlementKeys:[[w.H3.RCExtensionFeaturesId.ReadExtensionAnsweringRules]]})||this;r._userConfig=t;r.requestDataFromServer=function(){return p.A.getForwardingNumbers({page:h.FIRST_PAGE_INDEX,perPage:yn})};return r}RCInfoForwardingNumberController.prototype.getForwardingFlipNumbers=function(e,t){if(t===void 0){t=false}return gn(this,void 0,Promise,(function(){var n;var r=this;return _n(this,(function(o){switch(o.label){case 0:!t&&this.syncAndSaveData().catch((function(e){return r.logger.info("RCInfoForwardingNumberController, ",{error:e})}));return[4,this._userConfig.getForwardingNumbers()];case 1:n=o.sent();return[2,this._extractForwardingFlipNumbers(e,n)]}}))}))};RCInfoForwardingNumberController.prototype.handleRemoteData=function(t){return gn(this,void 0,void 0,(function(){return _n(this,(function(n){switch(n.label){case 0:return[4,e.prototype.handleRemoteData.call(this,t)];case 1:n.sent();i.notificationCenter.emit(d.FY.RC_INFO.RC_FORWARDING_NUMBERS,t);return[2]}}))}))};Object.defineProperty(RCInfoForwardingNumberController.prototype,"logger",{get:function(){return _.tags("[RCInfoForwardingNumberController]")},enumerable:true,configurable:true});RCInfoForwardingNumberController.prototype._extractForwardingFlipNumbers=function(e,t){var n=this;var r=[];if(t&&t.records){t.records.forEach((function(t){if(t.features&&t.features.includes(e)&&t.phoneNumber){var o={id:t.id,phoneNumber:t.phoneNumber,flipNumber:Number(t.flipNumber)||0,label:t.label,type:n._convertForwardingNumberTypeToEnum(t.type)};r.push(o)}}))}return r};RCInfoForwardingNumberController.prototype._convertForwardingNumberTypeToEnum=function(e){return bn.hasOwnProperty(e)?bn[e]:I.i$.OTHER};return RCInfoForwardingNumberController}(h.AbstractBaseRCInfoFetchController);var mn=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Sn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var En=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var In=_.tags("[RCPhoneDataController]");var wn=function(e){mn(RCPhoneDataController,e);function RCPhoneDataController(t,n){var r=e.call(this,{jobConfig:{jobKey:U.m.FETCH_PHONE_DATA},accountUpgradeController:n})||this;r._rcInfoUserConfig=t;return r}RCPhoneDataController.prototype.requestDataFromServer=function(){return Sn(this,void 0,void 0,(function(){var e;return En(this,(function(t){switch(t.label){case 0:return[4,this._rcInfoUserConfig.getPhoneDataVersion()];case 1:e=t.sent()||"";return[2,p.A.getPhoneParserData(e)]}}))}))};RCPhoneDataController.prototype.handleRemoteData=function(e){return Sn(this,void 0,void 0,(function(){return En(this,(function(t){switch(t.label){case 0:return[4,(0,i.getModule)(s.PHONE_PARSER_MODULE).userConfig.setPhoneData(e)];case 1:t.sent();i.notificationCenter.emit(d.FY.RC_INFO.PHONE_DATA,e);return[2]}}))}))};Object.defineProperty(RCPhoneDataController.prototype,"logger",{get:function(){return In},enumerable:true,configurable:true});return RCPhoneDataController}(h.AbstractBaseRCInfoFetchController);var Rn=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Pn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var An=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var Tn=_.tags("[AccountBusinessAddressController]");var On=function(e){Rn(AccountBusinessAddressController,e);function AccountBusinessAddressController(t,n){var r=e.call(this,{jobConfig:{jobKey:U.m.FETCH_BUSINESS_ADDRESS},dataKey:U.Uz.BUSINESS_ADDRESS,entitlementKeys:[[w.H3.RCExtensionFeaturesId.ReadCompanyInfo]],dbConfig:t,accountUpgradeController:n})||this;r._rcInfoUserConfig=t;return r}AccountBusinessAddressController.prototype.requestDataFromServer=function(){return p.A.getBusinessAddress()};AccountBusinessAddressController.prototype.getCompanyName=function(){return Pn(this,void 0,void 0,(function(){var e,t;return An(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,this.getLocalAndRemoteData()];case 1:e=n.sent();return[2,e?e.company:""];case 2:t=n.sent();Tn.warn("fail to get business address",t);return[2,""];case 3:return[2]}}))}))};AccountBusinessAddressController.prototype.observe=function(e){var t=this;var n=this._rcInfoUserConfig.getNotificationKey(U.Uz.BUSINESS_ADDRESS);var onUpdate=function(){return Pn(t,void 0,void 0,(function(){var t;return An(this,(function(n){switch(n.label){case 0:return[4,this._rcInfoUserConfig.getBusinessAddress()];case 1:t=n.sent();e({id:c.COMPANY_INFO_ID,companyName:t&&t.company});return[2]}}))}))};i.notificationCenter.on(n,onUpdate);return function(){i.notificationCenter.off(n,onUpdate)}};Object.defineProperty(AccountBusinessAddressController.prototype,"logger",{get:function(){return Tn},enumerable:true,configurable:true});return AccountBusinessAddressController}(h.AbstractBaseRCInfoFetchController);var Nn=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var xn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Dn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var Mn=1e3;var kn=_.tags("[RCExtensionPhoneNumberController]");var Ln=function(e){Nn(RCExtensionPhoneNumberController,e);function RCExtensionPhoneNumberController(t,n){var r=e.call(this,{jobConfig:{jobKey:ae.m.FETCH_EXTENSION_PHONE_NUMBER_LIST},dataKey:U.Uz.EXTENSION_PHONE_NUMBER_LIST,dbConfig:t,dataFetchConfig:h.DATA_FETCH_CONFIG.EXECUTE_FIRST_TIME_NOT_IN_QUEUE|h.DATA_FETCH_CONFIG.FETCH_WHEN_SCHEDULE,accountUpgradeController:n,entitlementKeys:[[w.H3.RCExtensionFeaturesId.ReadExtensionPhoneNumbers]]})||this;r._rcInfoUserConfig=t;r._handleUserPhoneNumberUpdated=function(){kn.info("user phone number changed, try sync extension phone numbers");r.syncAndSaveData()};r.requestDataFromServer=function(){return xn(r,void 0,void 0,(function(){var e,t;return Dn(this,(function(n){switch(n.label){case 0:return[4,this._rcInfoUserConfig.getAccountInfo()];case 1:e=n.sent();if(u.x0.isPhoenixAccount(e)){return[2]}return[4,new h.RCPaginationController({fetchHandler:p.A.getExtensionPhoneNumberList}).getAllPage({page:h.FIRST_PAGE_INDEX,perPage:Mn})];case 2:t=n.sent();return[2,{records:t}]}}))}))};return r}RCExtensionPhoneNumberController.prototype.start=function(){e.prototype.start.call(this);i.notificationCenter.on(d.FY.RC_INFO_SERVICE.USER_PHONE_NUMBER_UPDATED,this._handleUserPhoneNumberUpdated)};RCExtensionPhoneNumberController.prototype.stop=function(){i.notificationCenter.off(d.FY.RC_INFO_SERVICE.USER_PHONE_NUMBER_UPDATED,this._handleUserPhoneNumberUpdated);e.prototype.stop.call(this)};RCExtensionPhoneNumberController.prototype.refreshCallerIdList=function(){return xn(this,void 0,void 0,(function(){var e;return Dn(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,this.syncAndSaveData()];case 1:t.sent();i.notificationCenter.emitKVChange(d.FY.RC_INFO.DELEGATOR_CALLER_ID);return[3,3];case 2:e=t.sent();kn.info("failed to fetch rc extension phone number list, error:",e);return[3,3];case 3:return[2]}}))}))};RCExtensionPhoneNumberController.prototype.handleRemoteData=function(t){return xn(this,void 0,void 0,(function(){return Dn(this,(function(n){switch(n.label){case 0:return[4,e.prototype.handleRemoteData.call(this,t)];case 1:n.sent();i.notificationCenter.emit(d.FY.RC_INFO.EXTENSION_PHONE_NUMBER_LIST,t);return[2]}}))}))};Object.defineProperty(RCExtensionPhoneNumberController.prototype,"logger",{get:function(){return kn},enumerable:true,configurable:true});return RCExtensionPhoneNumberController}(h.AbstractBaseRCInfoFetchController);var Fn=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Un=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Bn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var Gn=_.tags("[CrossLaunchIntegrationController]");var jn=function(e){Fn(CrossLaunchIntegrationController,e);function CrossLaunchIntegrationController(t,n){var r=e.call(this,{jobConfig:{jobKey:ae.m.FETCH_CROSS_LAUNCH_INTEGRATION},dataKey:U.Uz.CROSS_LAUNCH_INTEGRATION,dbConfig:t,accountUpgradeController:n,entitlementKeys:[[w.H3.RCExtensionFeaturesId.CrossLaunch]]})||this;r.requestDataFromServer=function(){return Un(r,void 0,void 0,(function(){return Bn(this,(function(e){switch(e.label){case 0:return[4,p.A.getCrossLaunchIntegrations()];case 1:return[2,e.sent().records]}}))}))};return r}CrossLaunchIntegrationController.prototype.handleRemoteData=function(t){return Un(this,void 0,void 0,(function(){var n;return Bn(this,(function(r){switch(r.label){case 0:return[4,this.getLocalData()];case 1:n=r.sent();if(!!o().isEqual(n,t))return[3,3];this.logger.info("cross launch data changed",n,t);return[4,e.prototype.handleRemoteData.call(this,t)];case 2:r.sent();i.notificationCenter.emit(d.FY.RC_INFO.CROSS_LAUNCH_INTEGRATION,t);r.label=3;case 3:return[2]}}))}))};Object.defineProperty(CrossLaunchIntegrationController.prototype,"logger",{get:function(){return Gn},enumerable:true,configurable:true});return CrossLaunchIntegrationController}(h.AbstractBaseRCInfoFetchController);var Hn=function(){function RCInfoController(e){var t=this;this._DBConfig=e;this.getTelephonyPresenceHandler=function(){return t.telephonyPresenceHandler};this.rcPresenceController.setHandler(this.telephonyPresenceHandler)}Object.defineProperty(RCInfoController.prototype,"RCInfoFetchController",{get:function(){if(!this._rcInfoFetchController){this._rcInfoFetchController=new m(this._DBConfig)}return this._rcInfoFetchController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"rcDeviceController",{get:function(){if(!this._rcDeviceController){this._rcDeviceController=new Xe(this._DBConfig,this.accountUpgradeController)}return this._rcDeviceController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"RCPermissionController",{get:function(){if(!this._rcPermissionController){this._rcPermissionController=new L(this.rcCallerIdController,this.rcDeviceController,this.RcWebSettingInfoController,this.RCExtensionInfoController,this._DBConfig)}return this._rcPermissionController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"rcCallerIdController",{get:function(){if(!this._rcCallerIdController){this._rcCallerIdController=new ne(this.rcExtensionPhoneNumberController,this.accountUpgradeController,this._DBConfig)}return this._rcCallerIdController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"rcAccountInfoController",{get:function(){if(!this._rcAccountInfoController){this._rcAccountInfoController=new Ce(this.RCInfoFetchController,this.RCExtensionInfoController)}return this._rcAccountInfoController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"accountServiceInfoController",{get:function(){if(!this._accountServiceInfoController){this._accountServiceInfoController=new Re(this._DBConfig,this.accountUpgradeController)}return this._accountServiceInfoController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"RegionInfoController",{get:function(){if(!this._regionInfoController){this._regionInfoController=new ve(this.specialNumberController,this.RCInfoFetchController,this.rcAccountInfoController,this.RCExtensionInfoController,this.accountServiceInfoController,this.rcDialingPlanController,this._DBConfig)}return this._regionInfoController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"RcWebSettingInfoController",{get:function(){if(!this._webSettingInfoController){this._webSettingInfoController=new De(this.RCInfoFetchController)}return this._webSettingInfoController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"RCExtensionInfoController",{get:function(){if(!this._rcExtensionInfoController){this._rcExtensionInfoController=new Pt}return this._rcExtensionInfoController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"rcDialingPlanController",{get:function(){if(!this._rcDialingPlanController){this._rcDialingPlanController=new hn(this._DBConfig,this.accountUpgradeController)}return this._rcDialingPlanController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"rcInfoForwardingNumberController",{get:function(){if(!this._rcInfoForwardingNumberController){this._rcInfoForwardingNumberController=new Cn(this._DBConfig,this.accountUpgradeController)}return this._rcInfoForwardingNumberController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"blockNumberController",{get:function(){if(!this._blockNumberController){this._blockNumberController=new Be(this._DBConfig,this.accountUpgradeController)}return this._blockNumberController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"rcPresenceController",{get:function(){if(!this._rcPresenceController){this._rcPresenceController=new ze(this.RCPermissionController)}return this._rcPresenceController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"queueCallController",{get:function(){if(!this._queueCallController){this._queueCallController=new nt(this._DBConfig,this.rcPresenceController,this.RCInfoFetchController)}return this._queueCallController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"specialNumberController",{get:function(){if(!this._specialNumberController){this._specialNumberController=new pt(this._DBConfig,this.accountUpgradeController)}return this._specialNumberController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"rcConferenceController",{get:function(){if(!this._rcConferenceController){this._rcConferenceController=new bt(this._DBConfig,this.accountUpgradeController)}return this._rcConferenceController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"telephonyPresenceHandler",{get:function(){if(!this._telephonyPresenceHandler){this._telephonyPresenceHandler=new at(this.queueCallController)}return this._telephonyPresenceHandler},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"accountUpgradeController",{get:function(){if(!this._accountUpgradeController){this._accountUpgradeController=new Et(this.rcAccountInfoController,this.rcVideoConfigurationController)}return this._accountUpgradeController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"rcVideoConfigurationController",{get:function(){if(!this._rcVideoConfigurationController){this._rcVideoConfigurationController=new Dt(this._DBConfig,this.RCInfoFetchController,this.rcAccountInfoController,this.RCExtensionInfoController)}return this._rcVideoConfigurationController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"rcContactUserProfileController",{get:function(){if(!this._rcContactUserProfileController){this._rcContactUserProfileController=new jt(this.RCInfoFetchController,this._DBConfig)}return this._rcContactUserProfileController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"rcTimeZoneInfoController",{get:function(){if(!this._rcTimeZoneInfoController){this._rcTimeZoneInfoController=new Kt(this._DBConfig,this.RCInfoFetchController)}return this._rcTimeZoneInfoController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"rcAnsweringRuleController",{get:function(){if(!this._rcAnsweringRuleController){this._rcAnsweringRuleController=new tn(this._DBConfig,this.accountUpgradeController,this.RCExtensionInfoController)}return this._rcAnsweringRuleController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"accountFederationInfoController",{get:function(){if(!this._accountFederationController){this._accountFederationController=new cn(this._DBConfig)}return this._accountFederationController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"rcPhoneDataController",{get:function(){if(!this._rcPhoneDataController){this._rcPhoneDataController=new wn(this._DBConfig,this.accountUpgradeController)}return this._rcPhoneDataController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"accountBusinessAddressController",{get:function(){if(!this._accountBusinessAddressController){this._accountBusinessAddressController=new On(this._DBConfig,this.accountUpgradeController)}return this._accountBusinessAddressController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"rcExtensionPhoneNumberController",{get:function(){if(!this._rcExtensionPhoneNumberController){this._rcExtensionPhoneNumberController=new Ln(this._DBConfig,this.accountUpgradeController)}return this._rcExtensionPhoneNumberController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"crossLaunchIntegrationController",{get:function(){if(!this._crossLaunchIntegrationController){this._crossLaunchIntegrationController=new jn(this._DBConfig,this.accountUpgradeController)}return this._crossLaunchIntegrationController},enumerable:true,configurable:true});Object.defineProperty(RCInfoController.prototype,"phoneParserModule",{get:function(){return(0,i.getModule)(s.PHONE_PARSER_MODULE)},enumerable:true,configurable:true});RCInfoController.prototype.initPhoneParser=function(){if(!this.phoneParserModule.isInit()){this.phoneParserModule.initPhoneParser(false)}};RCInfoController.prototype.dispose=function(){if(this._regionInfoController){this._regionInfoController.dispose();delete this._regionInfoController}if(this._rcPresenceController){this._rcPresenceController.dispose();delete this._rcPresenceController}};return RCInfoController}();var Vn=n(754231);var Wn=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var zn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Yn=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var qn=function(e){Wn(RCInfoService,e);function RCInfoService(t){var n=e.call(this,{isSupportedCache:false})||this;n._daoManager=t;n.getRCSettingInfo=function(){return zn(n,void 0,void 0,(function(){var e,t,n,r,o;return Yn(this,(function(i){switch(i.label){case 0:e={};return[4,this.settingModule.getSettingItem(Vn._.Phone_Region)];case 1:t=i.sent();if(!t)return[2,e];n=t.value,r=t.source,o=t.state;e[Vn._.Phone_Region]={value:n,source:r,state:o};return[2,e]}}))}))};(0,u.gT)().onLoginResult(n.onRCLogin.bind(n));return n}RCInfoService.prototype.getHistoryDetail=function(){return ae.Gu};RCInfoService.prototype.onRCLogin=function(e){if(e.success){this.RCInfoController.crossLaunchIntegrationController.start();this.RCInfoController.rcDeviceController.start();this.RCInfoController.accountFederationInfoController.start();this.RCInfoController.rcDialingPlanController.start();this.RCInfoController.rcInfoForwardingNumberController.start();this.RCInfoController.accountServiceInfoController.start();this.RCInfoController.rcPhoneDataController.start();this.RCInfoController.blockNumberController.start();this.RCInfoController.accountBusinessAddressController.start();this.RCInfoController.specialNumberController.start();this.RCInfoController.rcExtensionPhoneNumberController.start();this.RCInfoController.rcCallerIdController.start()}};RCInfoService.prototype.onStarted=function(){e.prototype.onStarted.call(this);var t=(0,u.gT)().getDataDelegate();t.observeDataChange([u.VB.EXTENSION_INFO,u.VB.ACCOUNT_INFO,u.VB.CLIENT_INFO,u.VB.ROLE_PERMISSIONS,u.VB.EXTENSION_FEATURES_INFO],this._onRCAccountDataChange.bind(this));this.rcInfoSettings.load();this.RCInfoController.queueCallController.start();this.RCInfoController.rcPresenceController.start();this.RCInfoController.rcConferenceController.start();this.RCInfoController.accountUpgradeController.start();this.RCInfoController.rcVideoConfigurationController.start();this.RCInfoController.rcContactUserProfileController.start();this.RCInfoController.rcTimeZoneInfoController.start();this.RCInfoController.RegionInfoController.start();this.RCInfoController.rcAnsweringRuleController.start();this.RCInfoController.RCPermissionController.start();this.RCInfoController.RCExtensionInfoController.start();this.RCInfoController.rcAccountInfoController.start();i.dbMigrator.addHistory({getDBHistoryDetail:function(){return(0,U.M5)()}})};RCInfoService.prototype.onStopped=function(){e.prototype.onStopped.call(this);this.rcInfoSettings.unload();this.RCInfoController.blockNumberController.stop();this.RCInfoController.queueCallController.dispose();this.RCInfoController.rcPresenceController.dispose();this.RCInfoController.rcConferenceController.stop();this.RCInfoController.accountUpgradeController.dispose();this.RCInfoController.rcDeviceController.stop();this.RCInfoController.rcContactUserProfileController.dispose();this.RCInfoController.RCExtensionInfoController.dispose();this.RCInfoController.rcAnsweringRuleController.stop();this.RCInfoController.rcVideoConfigurationController.dispose();this.RCInfoController.RCPermissionController.dispose();this.RCInfoController.accountFederationInfoController.stop();this.RCInfoController.rcDialingPlanController.stop();this.RCInfoController.rcAccountInfoController.stop();this.RCInfoController.rcInfoForwardingNumberController.stop();this.RCInfoController.accountServiceInfoController.stop();this.RCInfoController.rcPhoneDataController.stop();this.RCInfoController.accountBusinessAddressController.stop();this.RCInfoController.specialNumberController.stop();this.RCInfoController.rcExtensionPhoneNumberController.stop();this.RCInfoController.rcCallerIdController.stop();this.RCInfoController.crossLaunchIntegrationController.stop();if(this._rcInfoController){this._rcInfoController.dispose();delete this._rcInfoController}};RCInfoService.prototype.onAppRestored=function(){e.prototype.onAppRestored.call(this);_.debug("onAppRestored => load region info");this.RCInfoController.initPhoneParser()};Object.defineProperty(RCInfoService.prototype,"RCInfoController",{get:function(){if(!this._rcInfoController){this._rcInfoController=new Hn(this.DBConfig)}return this._rcInfoController},enumerable:true,configurable:true});Object.defineProperty(RCInfoService.prototype,"rcContactUserProfileController",{get:function(){return this.RCInfoController.rcContactUserProfileController},enumerable:true,configurable:true});Object.defineProperty(RCInfoService.prototype,"rcInfoSettings",{get:function(){if(!this._rcInfoSettings){this._rcInfoSettings=new Vn.h(this)}return this._rcInfoSettings},enumerable:true,configurable:true});Object.defineProperty(RCInfoService.prototype,"DBConfig",{get:function(){if(!this._DBConfig){this._DBConfig=new U.Xt(this._daoManager.getDBConfigService())}return this._DBConfig},enumerable:true,configurable:true});RCInfoService.prototype.getCurrentCompany=function(){var e,t,n,r;return zn(this,void 0,Promise,(function(){var o;return Yn(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.getCompanyName(),this.getRCAccountInfo()])];case 1:o=i.sent();return[2,{id:c.COMPANY_INFO_ID,companyName:o[0],rcAccountId:(e=o[1])===null||e===void 0?void 0:e.id,brandId:(r=(n=(t=o[1])===null||t===void 0?void 0:t.serviceInfo)===null||n===void 0?void 0:n.brand)===null||r===void 0?void 0:r.id}]}}))}))};RCInfoService.prototype.observe=function(e){return this.RCInfoController.accountBusinessAddressController.observe(e)};RCInfoService.prototype.initEntitlement=function(){return this.RCInfoController.RCPermissionController.initEntitlement()};RCInfoService.prototype.getRCClientInfo=function(){return this.RCInfoController.RCInfoFetchController.getRCClientInfo()};RCInfoService.prototype.getRCVideoClientId=function(){return this.RCInfoController.RCInfoFetchController.getRCVideoClientId()};RCInfoService.prototype.getRCBrandId=function(){return this.RCInfoController.rcAccountInfoController.getAccountBrandId()};RCInfoService.prototype.getRCAccountId=function(){return this.RCInfoController.rcAccountInfoController.getRCAccountId()};RCInfoService.prototype.getRCAccountInfo=function(){return this.RCInfoController.RCInfoFetchController.getRCAccountInfo()};RCInfoService.prototype.getRCExtensionInfo=function(){return this.RCInfoController.RCInfoFetchController.getRCExtensionInfo()};RCInfoService.prototype.getUserEmail=function(){return this.RCInfoController.RCInfoFetchController.getUserEmail()};RCInfoService.prototype.getRCRolePermissions=function(){return this.RCInfoController.RCInfoFetchController.getRCRolePermissions()};RCInfoService.prototype.getCompanyName=function(){return this.RCInfoController.accountBusinessAddressController.getCompanyName()};RCInfoService.prototype.isVoipCallingAvailable=function(){return zn(this,void 0,Promise,(function(){var e,t;return Yn(this,(function(n){switch(n.label){case 0:return[4,this.isRCFeaturePermissionEnabled(I.D9.VOIP_CALLING)];case 1:t=n.sent();if(!t)return[3,3];return[4,this.isRCFeaturePermissionEnabled(I.D9.WEB_PHONE)];case 2:t=n.sent();n.label=3;case 3:e=t;_.debug("isVoipCallingAvailable: "+e);return[2,e]}}))}))};RCInfoService.prototype.isOrganizeConferenceAvailable=function(){return zn(this,void 0,Promise,(function(){var e;return Yn(this,(function(t){switch(t.label){case 0:return[4,this.isRCFeaturePermissionEnabled(I.D9.ORGANIZE_CONFERENCE)];case 1:e=t.sent();_.debug("isWebPhoneAvailable: "+e);return[2,e]}}))}))};RCInfoService.prototype.isWebPhoneAvailable=function(){return zn(this,void 0,Promise,(function(){var e;return Yn(this,(function(t){switch(t.label){case 0:return[4,this.isRCFeaturePermissionEnabled(I.D9.WEB_PHONE)];case 1:e=t.sent();_.debug("isWebPhoneAvailable: "+e);return[2,e]}}))}))};RCInfoService.prototype.getAccountMainNumber=function(){return this.RCInfoController.rcAccountInfoController.getAccountMainNumber()};RCInfoService.prototype.isRCFeaturePermissionEnabled=function(e){return this.RCInfoController.RCPermissionController.isRCFeaturePermissionEnabled(e)};RCInfoService.prototype.isPhoenixUser=function(){return this.RCInfoController.rcAccountInfoController.isPhoenixAccount()};RCInfoService.prototype.isPhoenixFreeAccount=function(){return this.RCInfoController.rcAccountInfoController.isPhoenixFreeAccount()};RCInfoService.prototype.isFreyjaUser=function(){return zn(this,void 0,Promise,(function(){var e;return Yn(this,(function(t){switch(t.label){case 0:return[4,this.getRCAccountInfo()];case 1:e=t.sent();if(e&&e.serviceInfo&&e.serviceInfo.servicePlan&&e.serviceInfo.servicePlan.freemiumProductType===h.FREEMIUM_PRODUCT_TYPE.FREYJA){return[2,true]}return[2,false]}}))}))};RCInfoService.prototype.getCallerIdList=function(e){return this.RCInfoController.rcCallerIdController.getCallerIdList(e)};RCInfoService.prototype.getSMSCallerIds=function(){return this.RCInfoController.rcCallerIdController.getSMSCallerIds()};RCInfoService.prototype.setDefaultCallerId=function(e){return this.RCInfoController.rcCallerIdController.setDefaultCallerId(e)};RCInfoService.prototype.getDefaultCallerId=function(e){return this.RCInfoController.rcCallerIdController.getDefaultCallerId(e)};RCInfoService.prototype.getCallerIdByPhoneNumber=function(e){return this.RCInfoController.rcCallerIdController.getCallerIdByPhoneNumber(e)};RCInfoService.prototype.resetDefaultPhoneNumber=function(){return this.RCInfoController.rcCallerIdController.resetDefaultPhoneNumber()};RCInfoService.prototype.refreshCallerIdList=function(){return this.RCInfoController.rcExtensionPhoneNumberController.refreshCallerIdList()};RCInfoService.prototype.generateWebSettingUri=function(e,t){return this.RCInfoController.RcWebSettingInfoController.getRCWebUriByType(e,t)};RCInfoService.prototype.generateRawWebSettingUri=function(e){return this.RCInfoController.RcWebSettingInfoController.getRawRCWebUriByType(e)};RCInfoService.prototype.getCountryList=function(){return this.regionInfoController.getCountryList()};RCInfoService.prototype.getCurrentCountry=function(){return this.regionInfoController.getCurrentCountry()};RCInfoService.prototype.setDefaultCountry=function(e){return this.regionInfoController.setDefaultCountry(e)};RCInfoService.prototype.getDefaultCountryInfo=function(){return this.regionInfoController.getDefaultCountryInfo()};RCInfoService.prototype.setAreaCode=function(e){return this.regionInfoController.setAreaCode(e)};RCInfoService.prototype.getAreaCode=function(){return this.regionInfoController.getAreaCode()};RCInfoService.prototype.hasAreaCode=function(e){return this.regionInfoController.hasAreaCode(e)};RCInfoService.prototype.isAreaCodeValid=function(e,t){return this.regionInfoController.isAreaCodeValid(e,t)};RCInfoService.prototype.loadRegionInfo=function(){return this.RCInfoController.RegionInfoController.loadRegionInfo()};RCInfoService.prototype.getCallerById=function(e){return this.RCInfoController.rcCallerIdController.getCallerById(e)};RCInfoService.prototype.getFirstDidCaller=function(){return this.RCInfoController.rcCallerIdController.getFirstDidCaller()};RCInfoService.prototype.getCompanyMainCaller=function(){return this.RCInfoController.rcCallerIdController.getCompanyMainCaller()};RCInfoService.prototype.getAccountId=function(){return this.RCInfoController.rcAccountInfoController.getAccountId()};RCInfoService.prototype.getStateList=function(e){return this.regionInfoController.getStateList(e)};RCInfoService.prototype.getAllCountryList=function(){return this.regionInfoController.getAllCountryList()};RCInfoService.prototype.getForwardingNumberList=function(e){return this.RCInfoController.rcInfoForwardingNumberController.getForwardingFlipNumbers(I.S5.FORWARDING,e)};RCInfoService.prototype.getFlipNumberList=function(e){return this.RCInfoController.rcInfoForwardingNumberController.getForwardingFlipNumbers(I.S5.FLIP,e)};RCInfoService.prototype.isNumberBlocked=function(e){return this.RCInfoController.blockNumberController.isNumberBlocked(e)};RCInfoService.prototype.deleteBlockedNumbers=function(e){return this.RCInfoController.blockNumberController.deleteBlockedNumbers(e)};RCInfoService.prototype.addBlockedNumber=function(e){return this.RCInfoController.blockNumberController.addBlockedNumber(e)};RCInfoService.prototype.getDigitalLines=function(){return this.RCInfoController.rcDeviceController.getDigitalLines()};RCInfoService.prototype.syncAndSaveDeviceInfo=function(){return this.RCInfoController.rcDeviceController.syncAndSaveData()};RCInfoService.prototype.getDialInNumbers=function(){return this.RCInfoController.rcConferenceController.getDialInNumbers()};RCInfoService.prototype.getRCConferenceLocally=function(){return this.RCInfoController.rcConferenceController.getLocalData()};RCInfoService.prototype.getRCConferenceRemoteAndLocal=function(){return this.RCInfoController.rcConferenceController.getLocalAndRemoteData()};RCInfoService.prototype.isRCConferenceNumber=function(e){return this.RCInfoController.rcConferenceController.isRCConferenceNumber(e)};RCInfoService.prototype.updateAcceptQueueCallToggleStatus=function(e){return this.RCInfoController.queueCallController.updateAcceptQueueCallToggleStatus(e)};RCInfoService.prototype.getRCVideoProvider=function(){return this.RCInfoController.rcVideoConfigurationController.getRCVideoProvider()};RCInfoService.prototype.updateVideoProvider=function(e){return this.RCInfoController.rcVideoConfigurationController.updateVideoProvider(e)};Object.defineProperty(RCInfoService.prototype,"regionInfoController",{get:function(){return this.RCInfoController.RegionInfoController},enumerable:true,configurable:true});RCInfoService.prototype._onRCAccountDataChange=function(e,t){return zn(this,void 0,Promise,(function(){var n;return Yn(this,(function(r){switch(r.label){case 0:n=t;switch(n){case u.VB.EXTENSION_INFO:return[3,1];case u.VB.ACCOUNT_INFO:return[3,3];case u.VB.CLIENT_INFO:return[3,5];case u.VB.ROLE_PERMISSIONS:return[3,7];case u.VB.EXTENSION_FEATURES_INFO:return[3,9]}return[3,11];case 1:return[4,this.DBConfig.setExtensionInfo(e)];case 2:r.sent();this.RCInfoController.RCPermissionController.handleExtension(e);return[3,12];case 3:return[4,this.DBConfig.setAccountInfo(e)];case 4:r.sent();this.RCInfoController.RCPermissionController.handleAccountInfo(e);return[3,12];case 5:return[4,this.DBConfig.setClientInfo(e)];case 6:r.sent();return[3,12];case 7:return[4,this.DBConfig.setRolePermissions(e)];case 8:r.sent();this.RCInfoController.RCPermissionController.handleRolePermissions(e);return[3,12];case 9:return[4,this.DBConfig.setExtensionFeaturesInfo(e)];case 10:r.sent();this.RCInfoController.RCPermissionController.handleExtensionFeaturesInfo(e);return[3,12];case 11:return[3,12];case 12:return[2]}}))}))};RCInfoService.prototype.getQueueCalls=function(){return this.RCInfoController.queueCallController.getQueueCalls()};RCInfoService.prototype.getQueueCallById=function(e){return this.RCInfoController.queueCallController.getQueueCallById(e)};RCInfoService.prototype.updateQueueCalls=function(e){return this.RCInfoController.queueCallController.updateQueueCalls(e)};RCInfoService.prototype.setUserPresence=function(e){return this.RCInfoController.rcPresenceController.updateRCPresence(e)};RCInfoService.prototype.requestLatestPresence=function(){return this.RCInfoController.rcPresenceController.requestLatestPresence()};RCInfoService.prototype.getQueueCallStatus=function(){return this.RCInfoController.queueCallController.getQueueCallStatus()};RCInfoService.prototype.getTelephonyPresenceHandler=function(){return this.RCInfoController.getTelephonyPresenceHandler()};RCInfoService.prototype.isN11AllowedNumber=function(e,t){return this.RCInfoController.specialNumberController.isN11AllowedNumber(e,t)};RCInfoService.prototype.getAnsweringBizHoursRuleData=function(){return this.RCInfoController.RCInfoFetchController.getAnsweringBizHoursRuleData()};RCInfoService.prototype.setAnsweringBizHoursRuleData=function(e){return this.RCInfoController.RCInfoFetchController.setAnsweringBizHoursRuleData(e)};RCInfoService.prototype.getLastRCPresence=function(){return this.RCInfoController.rcPresenceController.getLastRCPresence()};RCInfoService.prototype.getExtensionPhoneNumberList=function(){return this.RCInfoController.rcExtensionPhoneNumberController.getLocalData()};RCInfoService.prototype.isRCOfficeUser=function(){return zn(this,void 0,Promise,(function(){var e;return Yn(this,(function(t){switch(t.label){case 0:return[4,this.getRCAccountInfo()];case 1:e=t.sent();if(e&&e.serviceInfo&&e.serviceInfo.servicePlan&&e.serviceInfo.servicePlan.edition&&!e.serviceInfo.servicePlan.freemiumProductType){return[2,true]}return[2,false]}}))}))};RCInfoService.prototype.isSuperAdmin=function(){return this.RCInfoController.RCExtensionInfoController.isSuperAdmin()};RCInfoService.prototype.getUserLicenseType=function(){return this.RCInfoController.rcVideoConfigurationController.getUserLicenseType()};RCInfoService.prototype.getAccountBillingType=function(){return this.RCInfoController.rcAccountInfoController.getAccountBillingType()};RCInfoService.prototype.requestUpgrade=function(){return this.RCInfoController.accountUpgradeController.requestUpgrade()};RCInfoService.prototype.updateCompanyName=function(e){return zn(this,void 0,Promise,(function(){var t;return Yn(this,(function(n){switch(n.label){case 0:return[4,this._DBConfig.getBusinessAddress()];case 1:t=n.sent();return[2,this.RCInfoController.rcContactUserProfileController.updateCompanyName(e,t)]}}))}))};RCInfoService.prototype.refreshDataForPhoenixAccountUpgraded=function(e){return this.RCInfoController.accountUpgradeController.refreshDataForPhoenixAccountUpgraded(e)};RCInfoService.prototype.getTimeZoneInfoList=function(){return this.RCInfoController.rcTimeZoneInfoController.getTimeZoneList()};RCInfoService.prototype.getIsRegionInfoReady=function(){return this.regionInfoController.getIsRegionInfoReady()};RCInfoService.prototype.getFederationAccountInfo=function(e){return this.RCInfoController.accountFederationInfoController.getFederationAccountInfo(e)};RCInfoService.prototype.getFederationAccountList=function(){return this.RCInfoController.accountFederationInfoController.getFederationAccountList()};RCInfoService.prototype.onDBRecoverRequire=function(){ae.sC.forEach((function(e){return i.jobScheduler.cancelJob(e,true)}))};RCInfoService.prototype.getAssignedDigitalLine=function(){return this._DBConfig.getAssignedDigitalLine()};RCInfoService.prototype.setAssignedDigitalLine=function(e){return this._DBConfig.setAssignedDigitalLine(e)};RCInfoService.prototype.getCrossLaunchIntegrations=function(){return this.RCInfoController.crossLaunchIntegrationController.getLocalData()};Object.defineProperty(RCInfoService.prototype,"settingModule",{get:function(){return(0,i.getModule)(v.oF)},enumerable:true,configurable:true});return RCInfoService}(i.EntityBaseService);var gen=function(e,t,n){if(e===void 0){e="id"}if(t===void 0){t=[]}return{unique:e,indices:t,onUpgrade:n}};var Kn={name:"RCInfo",version:1,schema:{1:{userConfigs:gen("key")}}};var Qn=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Zn=function(e){Qn(VideoConferencingKeyAction,e);function VideoConferencingKeyAction(t){if(t===void 0){t=i.ActionWeight.NORMAL}return e.call(this,t)||this}Object.defineProperty(VideoConferencingKeyAction.prototype,"infoService",{get:function(){if(!this._infoService){this._infoService=(0,i.getModule)(d.oF)}return this._infoService},enumerable:true,configurable:true});VideoConferencingKeyAction.prototype.getAction=function(){var e=this;return Promise.resolve({get:function(){return e.infoService&&e.infoService.isRCFeaturePermissionEnabled(I.D9.VIDEO_CONFERENCING)},observe:function(e){var t;(t=(0,i.getCurrentAccount)())===null||t===void 0?void 0:t.context.entitlement.on(w.H3.RCExtensionFeaturesId.Meetings,e);return function(){var t;(t=(0,i.getCurrentAccount)())===null||t===void 0?void 0:t.context.entitlement.off(w.H3.RCExtensionFeaturesId.Meetings,e)}}})};return VideoConferencingKeyAction}(i.AbstractKeyAction);var Xn=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Jn=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var $n=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var er=function(e){Xn(VideoProviderKeyAction,e);function VideoProviderKeyAction(t){if(t===void 0){t=i.ActionWeight.NORMAL}return e.call(this,t)||this}Object.defineProperty(VideoProviderKeyAction.prototype,"infoService",{get:function(){if(!this._infoService){this._infoService=(0,i.getModule)(d.oF)}return this._infoService},enumerable:true,configurable:true});VideoProviderKeyAction.prototype.getAction=function(){var e=this;return Promise.resolve({get:function(){return Jn(e,void 0,void 0,(function(){var e;return $n(this,(function(t){switch(t.label){case 0:return[4,(e=this.infoService)===null||e===void 0?void 0:e.DBConfig.getVideoProvider()];case 1:return[2,t.sent()||""]}}))}))},set:function(t){var n;return(n=e.infoService)===null||n===void 0?void 0:n.updateVideoProvider(t)},observe:function(t){var n;var cb=function(e,n){return t(n)};(n=e.infoService)===null||n===void 0?void 0:n.DBConfig.on(U.Uz.VIDEO_PROVIDER,cb);return function(){var t;(t=e.infoService)===null||t===void 0?void 0:t.DBConfig.off(U.Uz.VIDEO_PROVIDER,cb)}}})};return VideoProviderKeyAction}(i.AbstractKeyAction);var tr=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var nr=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var rr=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var or=function(e){tr(GetClientIdKeyAction,e);function GetClientIdKeyAction(t){if(t===void 0){t=i.ActionWeight.NORMAL}return e.call(this,t)||this}Object.defineProperty(GetClientIdKeyAction.prototype,"infoService",{get:function(){if(!this._infoService){this._infoService=(0,i.getModule)(d.oF)}return this._infoService},enumerable:true,configurable:true});GetClientIdKeyAction.prototype.getAction=function(){return nr(this,void 0,void 0,(function(){return rr(this,(function(e){switch(e.label){case 0:return[4,this.infoService.getRCVideoClientId()];case 1:return[2,e.sent()]}}))}))};return GetClientIdKeyAction}(i.AbstractKeyAction);var ir=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var ar=function(e){ir(PermissionMeetingsKeyAction,e);function PermissionMeetingsKeyAction(t){if(t===void 0){t=i.ActionWeight.NORMAL}return e.call(this,t)||this}PermissionMeetingsKeyAction.prototype.getAction=function(){return Promise.resolve({get:function(){var e;return!!((e=(0,i.getCurrentAccount)())===null||e===void 0?void 0:e.context.entitlement.get(w.H3.RolePermissionId.PERMISSION_MEETINGS))},observe:function(e){var t;(t=(0,i.getCurrentAccount)())===null||t===void 0?void 0:t.context.entitlement.on(w.H3.RolePermissionId.PERMISSION_MEETINGS,e);return function(){var t;(t=(0,i.getCurrentAccount)())===null||t===void 0?void 0:t.context.entitlement.off(w.H3.RolePermissionId.PERMISSION_MEETINGS,e)}}})};return PermissionMeetingsKeyAction}(i.AbstractKeyAction);var ur=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var sr=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var cr=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var lr=function(e){ur(RCVideoServiceKeyAction,e);function RCVideoServiceKeyAction(t){if(t===void 0){t=i.ActionWeight.HIGH}var n=e.call(this,t)||this;n._logger=_.tags(RCVideoServiceKeyAction.name);return n}Object.defineProperty(RCVideoServiceKeyAction.prototype,"infoService",{get:function(){if(!this._infoService){this._infoService=(0,i.getModule)(d.oF)}return this._infoService},enumerable:true,configurable:true});RCVideoServiceKeyAction.prototype.getAction=function(){var e=this;return Promise.resolve({set:function(t,n){return sr(e,void 0,Promise,(function(){var e;var t;return cr(this,(function(r){switch(r.label){case 0:_.tags(d.oF).info("Update video provider to ",n);e=l.VIDEO_PROVIDER_OPTIONS.RCMeetings;if(n===l.VIDEO_SERVICE_OPTIONS.RINGCENTRAL_VIDEO_EMBEDDED){e=l.VIDEO_PROVIDER_OPTIONS.RCVideo}return[4,(t=this.infoService)===null||t===void 0?void 0:t.updateVideoProvider(e)];case 1:r.sent();return[2]}}))}))},get:function(){return e._getVideoServiceFromProvider()},observe:function(t){var n;var cb=function(e,n){return t(n)};(n=e.infoService)===null||n===void 0?void 0:n.DBConfig.on(U.Uz.VIDEO_PROVIDER,cb);return function(){var t;(t=e.infoService)===null||t===void 0?void 0:t.DBConfig.off(U.Uz.VIDEO_PROVIDER,cb)}},availableVideoService:function(){return e._getAvailableVideoService()}})};RCVideoServiceKeyAction.prototype._getVideoServiceFromProvider=function(){var e;return sr(this,void 0,void 0,(function(){var t;return cr(this,(function(n){switch(n.label){case 0:return[4,(e=this.infoService)===null||e===void 0?void 0:e.DBConfig.getVideoProvider()];case 1:t=n.sent()||"";this._logger.info("Get video service from videoProvider = ",t);switch(t){case l.VIDEO_PROVIDER_OPTIONS.RCVideo:return[2,l.VIDEO_SERVICE_OPTIONS.RINGCENTRAL_VIDEO_EMBEDDED];case l.VIDEO_PROVIDER_OPTIONS.RCMeetings:return[2,l.VIDEO_SERVICE_OPTIONS.RINGCENTRAL_MEETINGS_EMBEDDED];default:return[2,l.VIDEO_SERVICE_OPTIONS.RINGCENTRAL_NONE]}return[2]}}))}))};RCVideoServiceKeyAction.prototype._getAvailableVideoService=function(){var e;return sr(this,void 0,Promise,(function(){var t,n,r,o;return cr(this,(function(a){switch(a.label){case 0:t=[];n=(e=(0,i.getCurrentAccount)())===null||e===void 0?void 0:e.context.entitlement.get(w.H3.RCExtensionFeaturesId.EditMeetingsProvider);_.tags(d.oF).info("Add video service with EditMeetingProvider",n);if(!n)return[3,1];t.push(l.VIDEO_SERVICE_OPTIONS.RINGCENTRAL_VIDEO_EMBEDDED);t.push(l.VIDEO_SERVICE_OPTIONS.RINGCENTRAL_MEETINGS_EMBEDDED);return[3,3];case 1:o=(r=t).push;return[4,this._getVideoServiceFromProvider()];case 2:o.apply(r,[a.sent()]);a.label=3;case 3:return[2,Promise.resolve(t)]}}))}))};return RCVideoServiceKeyAction}(i.AbstractKeyAction);var fr=n(287382);var dr=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var pr=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var hr=function(e){dr(EntitlementConfigSource,e);function EntitlementConfigSource(t){var n=e.call(this,t)||this;n._handleEntitlementUpdate=function(e){n._ensureInitSource();var t={};e.body.entities.forEach((function(e){Object.entries(e).forEach((function(e){var n=pr(e,2),r=n[0],o=n[1];if(r!=="id"){t[r]=o}}))}));n.updateSource(t)};return n}EntitlementConfigSource.prototype._ensureInitSource=function(){if(!this.getConfigSource()&&(0,S.x6)()){var e=(0,S.x6)().context.entitlement.getAllEntitlements();this.setConfigSource(e);this.setReadyStatus(true)}};EntitlementConfigSource.prototype.init=function(){i.notificationCenter.onEntityUpdate(fr.ENTITLEMENT_EVENT_KEY.ENTITLEMENT_UPDATE,this._handleEntitlementUpdate);this._ensureInitSource()};EntitlementConfigSource.prototype.dispose=function(){i.notificationCenter.off(fr.ENTITLEMENT_EVENT_KEY.ENTITLEMENT_UPDATE,this._handleEntitlementUpdate);this.setReadyStatus(false)};return EntitlementConfigSource}(a.ConfigSource);var vr=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var gr=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var _r=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var yr=_.tags("[RCInfoModule]");var br=1;var Cr=function(e){vr(RCInfoModule,e);function RCInfoModule(t){var n=e.call(this,t)||this;n._entitlementConfigSource=new hr(f.dY.ENTITLEMENT);n._handlePhoneParserInit=function(e){return gr(n,void 0,void 0,(function(){var t;var n=this;return _r(this,(function(r){switch(r.label){case 0:if(!e){yr.warn("phone parser init failed");return[2]}t=(0,i.getModule)(s.PHONE_PARSER_MODULE);return[4,t.getPhoneDataFileVersion().then((function(e){e&&n.DBConfig.setPhoneDataVersion(e)}))];case 1:r.sent();setTimeout((function(){return gr(n,void 0,void 0,(function(){return _r(this,(function(e){switch(e.label){case 0:yr.info("load region info again when phone parser init done");return[4,this.rcInfoService.loadRegionInfo()];case 1:e.sent();return[2]}}))}))}));return[2]}}))}))};return n}RCInfoModule.prototype.onLoad=function(){return gr(this,void 0,Promise,(function(){var e=this;return _r(this,(function(t){switch(t.label){case 0:this._entitlementConfigSource.init();i.configStoreManager.addConfigSource(f.dY.ENTITLEMENT,this._entitlementConfigSource);p.A.networkClient=(0,u.gT)().buildNetworkClient();this.rcInfoService.start();(0,u.gT)().setUserInfoProvider((function(){return gr(e,void 0,void 0,(function(){return _r(this,(function(e){return[2,this.DBConfig.getExtensionInfo().then((function(e){return{id:e.id,uniqueId:(0,u.gT)().getUniqueId(),name:e.name||"",email:o().get(e,"contact.email",""),firstName:o().get(e,"contact.firstName",""),lastName:o().get(e,"contact.lastName",""),organizationId:o().get(e,"account.id",0),uniqueOrganizationId:(0,u.gT)().getUniqueOrganizationId()}}))]}))}))}));this._subscribePhoneParserInit();this._registerCompanySource();return[4,this.rcInfoService.initEntitlement()];case 1:t.sent();this.getHealthController().registerItemMap({callerIdFeatures:function(){return gr(e,void 0,void 0,(function(){var e;var t;return _r(this,(function(n){switch(n.label){case 0:return[4,this.rcInfoService.getExtensionPhoneNumberList()];case 1:e=((t=n.sent())===null||t===void 0?void 0:t.records)||[];return[2,(0,a.uniqueArray)(o().flatten(e.map((function(e){return e.features}))))]}}))}))},SMSCallerIds:function(){return e.getSMSCallerIds()},entitlement:function(){var e=i.accountManager.getCurrent().context.entitlement;return e.getAllEntitlements()},RCSettingInfo:function(){return e.rcInfoService.getRCSettingInfo()},DigitalLines:function(){return e.getDigitalLines()}});this.getTelephonyPresenceHandler().subscribePresenceChanged();this._initCommonKeyAction();return[2]}}))}))};RCInfoModule.prototype._subscribePhoneParserInit=function(){var e=(0,i.getModule)(s.PHONE_PARSER_MODULE);if(e===null||e===void 0?void 0:e.isInit()){yr.info("phone parser already init, start loading region");this._handlePhoneParserInit(true)}i.notificationCenter.on(s.PHONE_PARSER_EVENT.INIT,this._handlePhoneParserInit)};RCInfoModule.prototype._registerCompanySource=function(){yr.info("registCompanySource - RC");(0,i.getModule)(c.COMPANY_INFO_MODULE).registerCompanySource(this.rcInfoService,br)};RCInfoModule.prototype._unregisterCompanySource=function(){yr.info("unregistCompanySource - RC");(0,i.getModule)(c.COMPANY_INFO_MODULE).unregisterCompanySource(this.rcInfoService)};RCInfoModule.prototype.onUnload=function(){this._unregisterCompanySource();this._entitlementConfigSource.dispose()};RCInfoModule.prototype.moduleName=function(){return d.oF};Object.defineProperty(RCInfoModule.prototype,"DBConfig",{get:function(){return this.rcInfoService.DBConfig},enumerable:true,configurable:true});RCInfoModule.prototype.getDBConfigService=function(){return this.daoManager.getDBConfigService()};RCInfoModule.prototype.getSchema=function(){return Kn};RCInfoModule.prototype.getRCClientInfo=function(){return this.rcInfoService.getRCClientInfo()};RCInfoModule.prototype.getRCVideoClientId=function(){return this.rcInfoService.getRCVideoClientId()};RCInfoModule.prototype.getRCVideoProvider=function(){return this.rcInfoService.getRCVideoProvider()};RCInfoModule.prototype.getRCBrandId=function(){return this.rcInfoService.getRCBrandId()};RCInfoModule.prototype.getCompanyName=function(){return this.rcInfoService.getCompanyName()};RCInfoModule.prototype.getRCAccountId=function(){return this.rcInfoService.getRCAccountId()};RCInfoModule.prototype.getRCAccountInfo=function(){return this.rcInfoService.getRCAccountInfo()};RCInfoModule.prototype.getRCExtensionInfo=function(){return this.rcInfoService.getRCExtensionInfo()};RCInfoModule.prototype.getUserEmail=function(){return this.rcInfoService.getUserEmail()};RCInfoModule.prototype.getRCRolePermissions=function(){return this.rcInfoService.getRCRolePermissions()};RCInfoModule.prototype.isVoipCallingAvailable=function(){return this.rcInfoService.isVoipCallingAvailable()};RCInfoModule.prototype.isOrganizeConferenceAvailable=function(){return this.rcInfoService.isOrganizeConferenceAvailable()};RCInfoModule.prototype.isWebPhoneAvailable=function(){return this.rcInfoService.isWebPhoneAvailable()};RCInfoModule.prototype.getAccountMainNumber=function(){return this.rcInfoService.getAccountMainNumber()};RCInfoModule.prototype.isRCFeaturePermissionEnabled=function(e){return this.rcInfoService.isRCFeaturePermissionEnabled(e)};RCInfoModule.prototype.isPhoenixUser=function(){return this.rcInfoService.isPhoenixUser()};RCInfoModule.prototype.isPhoenixFreeUser=function(){return this.rcInfoService.isPhoenixFreeAccount()};RCInfoModule.prototype.isFreyjaUser=function(){return this.rcInfoService.isFreyjaUser()};RCInfoModule.prototype.getCallerIdList=function(e){return this.rcInfoService.getCallerIdList(e)};RCInfoModule.prototype.getSMSCallerIds=function(){return this.rcInfoService.getSMSCallerIds()};RCInfoModule.prototype.setDefaultCallerId=function(e){return this.rcInfoService.setDefaultCallerId(e)};RCInfoModule.prototype.getDefaultCallerId=function(e){return this.rcInfoService.getDefaultCallerId(e)};RCInfoModule.prototype.getCallerIdByPhoneNumber=function(e){return this.rcInfoService.getCallerIdByPhoneNumber(e)};RCInfoModule.prototype.resetDefaultPhoneNumber=function(){return this.rcInfoService.resetDefaultPhoneNumber()};RCInfoModule.prototype.refreshCallerIdList=function(){return this.rcInfoService.refreshCallerIdList()};RCInfoModule.prototype.generateWebSettingUri=function(e,t){return this.rcInfoService.generateWebSettingUri(e,t)};RCInfoModule.prototype.generateRawWebSettingUri=function(e){return this.rcInfoService.generateRawWebSettingUri(e)};RCInfoModule.prototype.getCountryList=function(){return this.rcInfoService.getCountryList()};RCInfoModule.prototype.getCurrentCountry=function(){return this.rcInfoService.getCurrentCountry()};RCInfoModule.prototype.setDefaultCountry=function(e){return this.rcInfoService.setDefaultCountry(e)};RCInfoModule.prototype.getDefaultCountryInfo=function(){return this.rcInfoService.getDefaultCountryInfo()};RCInfoModule.prototype.setAreaCode=function(e){return this.rcInfoService.setAreaCode(e)};RCInfoModule.prototype.getAreaCode=function(){return this.rcInfoService.getAreaCode()};RCInfoModule.prototype.hasAreaCode=function(e){return this.rcInfoService.hasAreaCode(e)};RCInfoModule.prototype.isAreaCodeValid=function(e,t){return this.rcInfoService.isAreaCodeValid(e,t)};RCInfoModule.prototype.getCallerById=function(e){return this.rcInfoService.getCallerById(e)};RCInfoModule.prototype.getFirstDidCaller=function(){return this.rcInfoService.getFirstDidCaller()};RCInfoModule.prototype.getCompanyMainCaller=function(){return this.rcInfoService.getCompanyMainCaller()};RCInfoModule.prototype.getAccountId=function(){return this.rcInfoService.getAccountId()};RCInfoModule.prototype.getStateList=function(e){return this.rcInfoService.getStateList(e)};RCInfoModule.prototype.getAllCountryList=function(){return this.rcInfoService.getAllCountryList()};RCInfoModule.prototype.getForwardingNumberList=function(e){return this.rcInfoService.getForwardingNumberList(e)};RCInfoModule.prototype.getFlipNumberList=function(e){return this.rcInfoService.getFlipNumberList(e)};RCInfoModule.prototype.isNumberBlocked=function(e){return this.rcInfoService.isNumberBlocked(e)};RCInfoModule.prototype.deleteBlockedNumbers=function(e){return this.rcInfoService.deleteBlockedNumbers(e)};RCInfoModule.prototype.addBlockedNumber=function(e){return this.rcInfoService.addBlockedNumber(e)};RCInfoModule.prototype.getDigitalLines=function(){return this.rcInfoService.getDigitalLines()};RCInfoModule.prototype.syncAndSaveDeviceInfo=function(){return this.rcInfoService.syncAndSaveDeviceInfo()};RCInfoModule.prototype.updateAcceptQueueCallToggleStatus=function(e){return this.rcInfoService.updateAcceptQueueCallToggleStatus(e)};RCInfoModule.prototype.getQueueCallById=function(e){return this.rcInfoService.getQueueCallById(e)};RCInfoModule.prototype.getQueueCalls=function(){return this.rcInfoService.getQueueCalls()};RCInfoModule.prototype.updateQueueCalls=function(e){return this.rcInfoService.updateQueueCalls(e)};RCInfoModule.prototype.setUserPresence=function(e){return this.rcInfoService.setUserPresence(e)};RCInfoModule.prototype.updateVideoProvider=function(e){return this.rcInfoService.updateVideoProvider(e)};Object.defineProperty(RCInfoModule.prototype,"rcInfoService",{get:function(){if(!this._rcInfoService){this._rcInfoService=new qn(this.daoManager)}return this._rcInfoService},enumerable:true,configurable:true});RCInfoModule.prototype.getTelephonyPresenceHandler=function(){return this.rcInfoService.getTelephonyPresenceHandler()};RCInfoModule.prototype.getQueueCallStatus=function(){return this.rcInfoService.getQueueCallStatus()};RCInfoModule.prototype.getDialInNumbers=function(){return this.rcInfoService.getDialInNumbers()};RCInfoModule.prototype.getRCConferenceLocally=function(){return this.rcInfoService.getRCConferenceLocally()};RCInfoModule.prototype.getRCConferenceRemoteAndLocal=function(){return this.rcInfoService.getRCConferenceRemoteAndLocal()};RCInfoModule.prototype.isRCConferenceNumber=function(e){return this.rcInfoService.isRCConferenceNumber(e)};RCInfoModule.prototype.requestLatestPresence=function(){return this.rcInfoService.requestLatestPresence()};RCInfoModule.prototype.isN11AllowedNumber=function(e,t){return this.rcInfoService.isN11AllowedNumber(e,t)};RCInfoModule.prototype.getAnsweringBizHoursRuleData=function(){return this.rcInfoService.getAnsweringBizHoursRuleData()};RCInfoModule.prototype.setAnsweringBizHoursRuleData=function(e){return this.rcInfoService.setAnsweringBizHoursRuleData(e)};RCInfoModule.prototype.getLastRCPresence=function(){return this.rcInfoService.getLastRCPresence()};RCInfoModule.prototype.isRCOfficeUser=function(){return this.rcInfoService.isRCOfficeUser()};RCInfoModule.prototype.isSuperAdmin=function(){return this.rcInfoService.isSuperAdmin()};RCInfoModule.prototype.getUserLicenseType=function(){return this.rcInfoService.getUserLicenseType()};RCInfoModule.prototype.getAccountBillingType=function(){return this.rcInfoService.getAccountBillingType()};RCInfoModule.prototype.requestUpgrade=function(){return this.rcInfoService.requestUpgrade()};RCInfoModule.prototype.updateCompanyName=function(e){return this.rcInfoService.updateCompanyName(e)};RCInfoModule.prototype.getTimeZoneInfoList=function(){return this.rcInfoService.getTimeZoneInfoList()};RCInfoModule.prototype.getIsRegionInfoReady=function(){return this.rcInfoService.getIsRegionInfoReady()};RCInfoModule.prototype.getFederationAccountInfo=function(e){return this.rcInfoService.getFederationAccountInfo(e)};RCInfoModule.prototype.getFederationAccountList=function(){return this.rcInfoService.getFederationAccountList()};RCInfoModule.prototype._initCommonKeyAction=function(){var e=(0,i.getModule)(l.COMMON_KEY_ACTION_MODULE).getKeyActionService();e.register(l.ACTION_KEY.VIDEO_CONFERENCING,new Zn);e.register(l.ACTION_KEY.PERMISSION_MEETINGS,new ar);e.register(l.ACTION_KEY.GET_RCV_VIDEO_CLIENT_ID,new or);e.register(l.ACTION_KEY.VIDEO_PROVIDER,new er);e.register(l.ACTION_KEY.VIDEO_SERVICE,new lr)};RCInfoModule.prototype.refreshDataForPhoenixAccountUpgraded=function(e){return this.rcInfoService.refreshDataForPhoenixAccountUpgraded(e)};RCInfoModule.prototype.onDBRecoverRequire=function(){yr.info("RCInfo DB is recovering now");this.rcInfoService.onDBRecoverRequire()};RCInfoModule.prototype.getAssignedDigitalLine=function(){return this.rcInfoService.getAssignedDigitalLine()};RCInfoModule.prototype.setAssignedDigitalLine=function(e){return this.rcInfoService.setAssignedDigitalLine(e)};RCInfoModule.prototype.getCrossLaunchIntegrations=function(){return this.rcInfoService.getCrossLaunchIntegrations()};return RCInfoModule}(i.AbstractModule)},187202:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(862926);var o=n(827027);var i={API_EXTENSION_PHONE_NUMBER:"/"+o.API_VERSION+"/account/~/extension/~/phone-number",API_EXTENSION_CALLER_ID:"/"+o.API_VERSION+"/account/~/extension/~/caller-id",API_SERVICE_INFO:"/"+o.API_VERSION+"/account/~/service-info",API_DIALING_PLAN:"/"+o.API_VERSION+"/account/~/dialing-plan",API_STATE_INFO:"/"+o.API_VERSION+"/dictionary/state",API_COUNTRY_INFO:"/"+o.API_VERSION+"/dictionary/country",API_FORWARDING_NUMBERS:"/"+o.API_VERSION+"/account/~/extension/~/forwarding-number",BLOCKED_NUMBER:"/"+o.API_VERSION+"/account/~/extension/~/caller-blocking/phone-numbers",API_DEVICE_INFO:"/"+o.API_VERSION+"/account/~/extension/~/device",API_SPECIAL_SERVICE_NUMBER:"/"+o.API_VERSION+"/client-info/special-number-rule",API_PHONE_PARSER_DATA:"/"+o.API_VERSION+"/number-parser/phonedata.xml",API_TELEPHONY_PRESENCE:"/"+o.API_VERSION+"/account/~/extension/~/presence",API_UPDATE_PRESENCE:"/"+o.API_VERSION+"/account/~/extension/~/presence",API_VIDEO_PROVIDER:"/"+o.API_VERSION+"/account/~/extension/~/video-configuration",API_CALL_QUEUE_PRESENCE:"/"+o.API_VERSION+"/account/~/extension/~/call-queue-presence",API_BUSINESS_ADDRESS:"/"+o.API_VERSION+"/account/~/business-address",API_CONFERENCING:"/"+o.API_VERSION+"/account/~/extension/~/conferencing",API_ALL_ERL:"/"+o.API_VERSION+"/account/~/extension/~/emergency-locations",API_NOTIFY_ADMIN:"/"+o.API_VERSION+"/notify-admin",API_UPDATE_PROFILE:"/"+o.API_VERSION+"/account/~/extension/~",API_TIME_ZONE:"/"+o.API_VERSION+"/dictionary/timezone",API_USER_CONTACT:"/"+o.API_VERSION+"/account/~/directory/entries",API_ANSWERING_RULE_BUSINESS_HOURS_RULE:"/"+o.API_VERSION+"/account/~/extension/~/answering-rule/business-hours-rule",API_ACCOUNT_FEDERATION:"/"+o.API_VERSION+"/account/~/directory/federation",API_CROSS_LAUNCH_INTEGRATION:"/"+o.API_VERSION+"/account/~/extension/~/cross-launch-integrations"};var a=undefined&&undefined.__assign||function(){a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return a.apply(this,arguments)};var u=function(){function RCInfoApi(){}RCInfoApi._getInfoRequestParams=function(e){return a({method:r.NETWORK_METHOD.GET,authFree:false,via:r.NETWORK_VIA.HTTP,HAPriority:r.HA_PRIORITY.HIGH,retryCount:r.DEFAULT_RETRY_COUNT},e)};RCInfoApi.getSpecialNumbers=function(e){var t=RCInfoApi._getInfoRequestParams({path:r.RequestPath.buildRequestPath(i.API_SPECIAL_SERVICE_NUMBER),params:e});return RCInfoApi.networkClient.http(t)};RCInfoApi.getPhoneParserData=function(e){var t={};var n='"'+e+'"';t[r.REQUEST_HEADER_KEYS.ACCEPT]=r.CONTENT_TYPES.XML;t[r.REQUEST_HEADER_KEYS.IF_NONE_MATCH]=n;var o=RCInfoApi._getInfoRequestParams({path:r.RequestPath.buildRequestPath(i.API_PHONE_PARSER_DATA),headers:t});return RCInfoApi.networkClient.http(o)};RCInfoApi.getDialingPlan=function(e){var t=RCInfoApi._getInfoRequestParams({path:r.RequestPath.buildRequestPath(i.API_DIALING_PLAN),params:e});return RCInfoApi.networkClient.http(t)};RCInfoApi.getCountryState=function(e){var t=RCInfoApi._getInfoRequestParams({path:r.RequestPath.buildRequestPath(i.API_STATE_INFO),params:e});return RCInfoApi.networkClient.http(t)};RCInfoApi.getExtensionPhoneNumberList=function(e){var t=RCInfoApi._getInfoRequestParams({params:e,path:r.RequestPath.buildRequestPath(i.API_EXTENSION_PHONE_NUMBER)});return RCInfoApi.networkClient.http(t)};RCInfoApi.getExtensionCallerId=function(){var e=RCInfoApi._getInfoRequestParams({path:r.RequestPath.buildRequestPath(i.API_EXTENSION_CALLER_ID)});return RCInfoApi.networkClient.http(e)};RCInfoApi.setExtensionCallerId=function(e){var t=RCInfoApi._getInfoRequestParams({path:r.RequestPath.buildRequestPath(i.API_EXTENSION_CALLER_ID),method:r.NETWORK_METHOD.PUT,HAPriority:r.HA_PRIORITY.BASIC,data:e});return RCInfoApi.networkClient.http(t)};RCInfoApi.getAccountServiceInfo=function(){var e=RCInfoApi._getInfoRequestParams({path:r.RequestPath.buildRequestPath(i.API_SERVICE_INFO)});return RCInfoApi.networkClient.http(e)};RCInfoApi.getCountryInfo=function(e){var t=RCInfoApi._getInfoRequestParams({path:r.RequestPath.buildRequestPath(i.API_COUNTRY_INFO),params:e});return RCInfoApi.networkClient.http(t)};RCInfoApi.getDeviceInfo=function(e){var t=RCInfoApi._getInfoRequestParams({path:r.RequestPath.buildRequestPath(i.API_DEVICE_INFO),params:e,priority:r.REQUEST_PRIORITY.HIGH});return RCInfoApi.networkClient.http(t)};RCInfoApi.getForwardingNumbers=function(e){var t=RCInfoApi._getInfoRequestParams({path:r.RequestPath.buildRequestPath(i.API_FORWARDING_NUMBERS),params:e});return RCInfoApi.networkClient.http(t)};RCInfoApi.getBlockNumberList=function(e){var t=RCInfoApi._getInfoRequestParams({params:e,path:r.RequestPath.buildRequestPath(i.BLOCKED_NUMBER)});return RCInfoApi.networkClient.http(t)};RCInfoApi.getRCConference=function(e){var t=RCInfoApi._getInfoRequestParams({path:r.RequestPath.buildRequestPath(i.API_CONFERENCING),params:{countryId:e}});return RCInfoApi.networkClient.http(t)};RCInfoApi.deleteBlockNumbers=function(e){var t={method:r.NETWORK_METHOD.DELETE,authFree:false,via:r.NETWORK_VIA.HTTP,HAPriority:r.HA_PRIORITY.BASIC,path:r.RequestPath.buildRequestPath(i.BLOCKED_NUMBER+"/"+r.FORMAT_MARK,e.join(","))};return RCInfoApi.networkClient.http(t)};RCInfoApi.addBlockNumbers=function(e){var t={data:e,method:r.NETWORK_METHOD.POST,authFree:false,via:r.NETWORK_VIA.HTTP,HAPriority:r.HA_PRIORITY.BASIC,path:r.RequestPath.buildRequestPath(i.BLOCKED_NUMBER)};return RCInfoApi.networkClient.http(t)};RCInfoApi.getRCPresence=function(){var e={method:r.NETWORK_METHOD.GET,authFree:false,via:r.NETWORK_VIA.HTTP,path:r.RequestPath.buildRequestPath(i.API_TELEPHONY_PRESENCE+"?detailedTelephonyState="+r.FORMAT_MARK+"&sipData="+r.FORMAT_MARK,""+true,""+true)};return RCInfoApi.networkClient.http(e)};RCInfoApi.setRCPresence=function(e){var t={path:r.RequestPath.buildRequestPath(i.API_UPDATE_PRESENCE),via:r.NETWORK_VIA.HTTP,data:e};return RCInfoApi.networkClient.put(t)};RCInfoApi.getQueueCalls=function(){var e={method:r.NETWORK_METHOD.GET,authFree:false,via:r.NETWORK_VIA.HTTP,path:r.RequestPath.buildRequestPath(i.API_CALL_QUEUE_PRESENCE+"?editableMemberStatus="+r.FORMAT_MARK,""+true)};return RCInfoApi.networkClient.http(e)};RCInfoApi.updateQueueCalls=function(e){var t={via:r.NETWORK_VIA.HTTP,path:r.RequestPath.buildRequestPath(i.API_CALL_QUEUE_PRESENCE),data:e};return RCInfoApi.networkClient.put(t)};RCInfoApi.getBusinessAddress=function(){var e=RCInfoApi._getInfoRequestParams({path:r.RequestPath.buildRequestPath(i.API_BUSINESS_ADDRESS)});return RCInfoApi.networkClient.http(e)};RCInfoApi.getVideoProvider=function(){var e={method:r.NETWORK_METHOD.GET,authFree:false,via:r.NETWORK_VIA.HTTP,HAPriority:r.HA_PRIORITY.HIGH,path:r.RequestPath.buildRequestPath(i.API_VIDEO_PROVIDER)};return RCInfoApi.networkClient.http(e)};RCInfoApi.updateVideoProvider=function(e){var t={data:e,method:r.NETWORK_METHOD.PUT,authFree:false,via:r.NETWORK_VIA.HTTP,HAPriority:r.HA_PRIORITY.HIGH,path:r.RequestPath.buildRequestPath(i.API_VIDEO_PROVIDER)};return RCInfoApi.networkClient.http(t)};RCInfoApi.notifyAdmin=function(e){var t={data:e,method:r.NETWORK_METHOD.POST,via:r.NETWORK_VIA.HTTP,HAPriority:r.HA_PRIORITY.HIGH,path:r.RequestPath.buildRequestPath(i.API_NOTIFY_ADMIN)};return RCInfoApi.networkClient.http(t)};RCInfoApi.updateProfile=function(e){var t={path:r.RequestPath.buildRequestPath(i.API_UPDATE_PROFILE),method:r.NETWORK_METHOD.PUT,authFree:false,data:e};return RCInfoApi.networkClient.http(t)};RCInfoApi.getRCContactById=function(e){var t={path:r.RequestPath.buildRequestPath(i.API_USER_CONTACT+"/"+r.FORMAT_MARK,e)};return RCInfoApi.networkClient.get(t)};RCInfoApi.updateBusinessAddress=function(e){var t={path:r.RequestPath.buildRequestPath(i.API_BUSINESS_ADDRESS),method:r.NETWORK_METHOD.PUT,data:e};return RCInfoApi.networkClient.http(t)};RCInfoApi.getTimeZoneList=function(e){var t={path:r.RequestPath.buildRequestPath(i.API_TIME_ZONE),method:r.NETWORK_METHOD.GET,authFree:false,params:e};return RCInfoApi.networkClient.http(t)};RCInfoApi.getAnsweringRuleBusinessHoursRule=function(){var e={path:r.RequestPath.buildRequestPath(i.API_ANSWERING_RULE_BUSINESS_HOURS_RULE),method:r.NETWORK_METHOD.GET,authFree:false};return RCInfoApi.networkClient.http(e)};RCInfoApi.updateAnsweringRuleBusinessHoursRule=function(e){var t={path:r.RequestPath.buildRequestPath(i.API_ANSWERING_RULE_BUSINESS_HOURS_RULE),method:r.NETWORK_METHOD.PUT,authFree:false,data:e};return RCInfoApi.networkClient.http(t)};RCInfoApi.getAccountFederationInfo=function(){var e={path:r.RequestPath.buildRequestPath(i.API_ACCOUNT_FEDERATION),method:r.NETWORK_METHOD.GET,authFree:false,HAPriority:r.HA_PRIORITY.HIGH};return RCInfoApi.networkClient.http(e)};RCInfoApi.getCrossLaunchIntegrations=function(){return RCInfoApi.networkClient.get({via:r.NETWORK_VIA.HTTP,path:r.RequestPath.buildRequestPath(i.API_CROSS_LAUNCH_INTEGRATION+"?platformTypes="+r.FORMAT_MARK,o.CROSS_LAUNCH_PLATFORM.MAC+","+o.CROSS_LAUNCH_PLATFORM.WINDOWS)})};return RCInfoApi}()},418061:(e,t,n)=>{"use strict";n.d(t,{M:()=>getRCInfoDBHistory});var r=n(749514);var o=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var i=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var getRCInfoDBHistory=function(){return{version:1,moduleName:r.oF,changes:{1:function(){return o(void 0,void 0,void 0,(function(){return i(this,(function(e){return[2]}))}))}}}}},211879:(e,t,n)=>{"use strict";n.d(t,{n:()=>u});var r=n(469882);var o=n(587040);var i=n(154503);var a=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var u=function(e){a(RCInfoGlobalConfig,e);function RCInfoGlobalConfig(){return e!==null&&e.apply(this,arguments)||this}RCInfoGlobalConfig.setStationLocation=function(e){this.put(i.xP.STATION_LOCATION,e)};RCInfoGlobalConfig.getStationLocation=function(){return this.get(i.xP.STATION_LOCATION)};RCInfoGlobalConfig.setAnsweringRuleMobileTimeoutChecked=function(){this.put(o.x0.generateUniqueStoreKey(i.xP.ANSWERING_RULE_MOBILE_TIMEOUT_CHECKED),true)};RCInfoGlobalConfig.isAnsweringRuleMobileTimeoutChecked=function(){return this.get(o.x0.generateUniqueStoreKey(i.xP.ANSWERING_RULE_MOBILE_TIMEOUT_CHECKED))};RCInfoGlobalConfig.moduleName=i.Li;return RCInfoGlobalConfig}(r.GlobalConfig)},814937:(e,t,n)=>{"use strict";n.d(t,{X:()=>h});var r=n(469882);var o=n(667489);var i=n.n(o);var a=n(827027);var u=n(831513);var s=n(154503);var c=n(749514);var l=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var f=undefined&&undefined.__assign||function(){f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return f.apply(this,arguments)};var d=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var p=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var h=function(e){l(RCInfoUserConfig,e);function RCInfoUserConfig(t){return e.call(this,c.oF,t)||this}RCInfoUserConfig.prototype.get=function(e,t){if(t===void 0){t=false}var n;return d(this,void 0,void 0,(function(){var r;return p(this,(function(o){switch(o.label){case 0:return[4,this._configService.get(c.oF,e,t)];case 1:if(!((n=o.sent())!==null&&n!==void 0))return[3,2];r=n;return[3,4];case 2:return[4,this._configService.get("rc_info",e,t)];case 3:r=o.sent();o.label=4;case 4:return[2,r]}}))}))};RCInfoUserConfig.prototype.on=function(t,n){if(Object.keys(s.Rx).includes(t)){var r=(0,o.getModule)(u.Y0);r.DBConfig.on(s.Rx[t],n)}else{e.prototype.on.call(this,t,n)}};RCInfoUserConfig.prototype.off=function(t,n){if(Object.keys(s.Rx).includes(t)){var r=(0,o.getModule)(u.Y0);r.DBConfig.off(s.Rx[t],n)}else{e.prototype.off.call(this,t,n)}};RCInfoUserConfig.prototype.setExtensionInfo=function(e){var t=(0,o.getModule)(u.Y0);return t===null||t===void 0?void 0:t.setExtensionInfo(e)};RCInfoUserConfig.prototype.getExtensionInfo=function(){var e=(0,o.getModule)(u.Y0);return e===null||e===void 0?void 0:e.getExtensionInfo()};RCInfoUserConfig.prototype.setExtensionFeaturesInfo=function(e){var t=(0,o.getModule)(u.Y0);return t===null||t===void 0?void 0:t.setExtensionFeaturesInfo(e)};RCInfoUserConfig.prototype.getExtensionFeaturesInfo=function(){var e=(0,o.getModule)(u.Y0);return e===null||e===void 0?void 0:e.getExtensionFeaturesInfo()};RCInfoUserConfig.prototype.setRolePermissions=function(e){var t=(0,o.getModule)(u.Y0);return t===null||t===void 0?void 0:t.setRolePermissions(e)};RCInfoUserConfig.prototype.getRolePermissions=function(){var e=(0,o.getModule)(u.Y0);return e===null||e===void 0?void 0:e.getRolePermissions()};RCInfoUserConfig.prototype.setAccountServiceInfo=function(e){var t=(0,o.getModule)(u.Y0);return t===null||t===void 0?void 0:t.setAccountServiceInfo(e)};RCInfoUserConfig.prototype.getAccountServiceInfo=function(){var e=(0,o.getModule)(u.Y0);return e===null||e===void 0?void 0:e.getAccountServiceInfo()};RCInfoUserConfig.prototype.setAccountInfo=function(e){var t=(0,o.getModule)(u.Y0);return t===null||t===void 0?void 0:t.setAccountInfo(e)};RCInfoUserConfig.prototype.getAccountInfo=function(){var e=(0,o.getModule)(u.Y0);return e===null||e===void 0?void 0:e.getAccountInfo()};RCInfoUserConfig.prototype.setClientInfo=function(e){return this.put(s.Uz.CLIENT_INFO,e)};RCInfoUserConfig.prototype.getClientInfo=function(){return this.get(s.Uz.CLIENT_INFO)};RCInfoUserConfig.prototype.setBusinessAddress=function(e){return this.put(s.Uz.BUSINESS_ADDRESS,e)};RCInfoUserConfig.prototype.getBusinessAddress=function(){return this.get(s.Uz.BUSINESS_ADDRESS)};RCInfoUserConfig.prototype.setSpecialNumberRules=function(e){return this.put(s.Uz.SPECIAL_NUMBER_RULE,e)};RCInfoUserConfig.prototype.getSpecialNumberRules=function(){return this.get(s.Uz.SPECIAL_NUMBER_RULE)};RCInfoUserConfig.prototype.setPhoneDataVersion=function(e){return this.put(s.Uz.PHONE_DATA_VERSION,e)};RCInfoUserConfig.prototype.getPhoneDataVersion=function(){return d(this,void 0,void 0,(function(){var e;return p(this,(function(t){switch(t.label){case 0:return[4,this.get(s.Uz.PHONE_DATA_VERSION)];case 1:e=t.sent();return[2,e||s.nO]}}))}))};RCInfoUserConfig.prototype.setExtensionPhoneNumberList=function(e){return this.put(s.Uz.EXTENSION_PHONE_NUMBER_LIST,e)};RCInfoUserConfig.prototype.getExtensionPhoneNumberList=function(){return this.get(s.Uz.EXTENSION_PHONE_NUMBER_LIST)};RCInfoUserConfig.prototype.setExtensionCallerId=function(e){return this.put(s.Uz.EXTENSION_CALLER_ID,e)};RCInfoUserConfig.prototype.getExtensionCallerId=function(){return this.get(s.Uz.EXTENSION_CALLER_ID)};RCInfoUserConfig.prototype.setDialingPlan=function(e){return this.put(s.Uz.DIALING_PLAN,e)};RCInfoUserConfig.prototype.getDialingPlan=function(){return this.get(s.Uz.DIALING_PLAN)};RCInfoUserConfig.prototype.setDeviceInfo=function(e){return this.put(s.Uz.DEVICE_INFO,e)};RCInfoUserConfig.prototype.getDeviceInfo=function(){return this.get(s.Uz.DEVICE_INFO)};RCInfoUserConfig.prototype.setForwardingNumbers=function(e){return this.put(s.Uz.FORWARDING_NUMBERS,e)};RCInfoUserConfig.prototype.getForwardingNumbers=function(){return this.get(s.Uz.FORWARDING_NUMBERS)};RCInfoUserConfig.prototype.setBlockNumbers=function(e){return this.put(s.Uz.BLOCK_NUMBER,e)};RCInfoUserConfig.prototype.getBlockNumbers=function(){return this.get(s.Uz.BLOCK_NUMBER)};RCInfoUserConfig.prototype.setVideoProvider=function(e){return this.put(s.Uz.VIDEO_PROVIDER,e)};RCInfoUserConfig.prototype.getVideoProvider=function(){return this.get(s.Uz.VIDEO_PROVIDER)};RCInfoUserConfig.prototype.setUserLicenseType=function(e){return this.put(s.Uz.USER_LICENSE_TYPE,e)};RCInfoUserConfig.prototype.getUserLicenseType=function(){return this.get(s.Uz.USER_LICENSE_TYPE)};RCInfoUserConfig.prototype.setRCConference=function(e){return this.put(s.Uz.RC_CONFERENCE,e)};RCInfoUserConfig.prototype.getRCConference=function(){return this.get(s.Uz.RC_CONFERENCE)};RCInfoUserConfig.prototype.setCountryListLastFetchTime=function(e){return this.put(s.Uz.COUNTRY_LIST_LAST_FETCH_TIME,e)};RCInfoUserConfig.prototype.getCountryListLastFetchTime=function(){return d(this,void 0,Promise,(function(){var e;return p(this,(function(t){switch(t.label){case 0:return[4,this.get(s.Uz.COUNTRY_LIST_LAST_FETCH_TIME)];case 1:e=t.sent();return[2,e||0]}}))}))};RCInfoUserConfig.prototype.setCountryList=function(e){return this.put(s.Uz.COUNTRY_LIST,e)};RCInfoUserConfig.prototype.getCountryList=function(){return d(this,void 0,Promise,(function(){var e;return p(this,(function(t){switch(t.label){case 0:return[4,this.get(s.Uz.COUNTRY_LIST)];case 1:e=t.sent();return[2,e||a.DEFAULT_COUNTRY_OR_REGION_LIST]}}))}))};RCInfoUserConfig.prototype.setStateListMap=function(e){return this.put(s.Uz.STATE_LIST_MAP,e)};RCInfoUserConfig.prototype.getStateListMap=function(){return d(this,void 0,Promise,(function(){var e,t;return p(this,(function(n){switch(n.label){case 0:return[4,this.get(s.Uz.STATE_LIST_MAP)];case 1:e=n.sent();t=e||{};return[2,f(f({},a.DEFAULT_STATE_LIST_MAP),t)]}}))}))};RCInfoUserConfig.prototype.setQueueCalls=function(e){return this.put(s.Uz.QUEUE_CALL,e)};RCInfoUserConfig.prototype.getQueueCalls=function(){return this.get(s.Uz.QUEUE_CALL)};RCInfoUserConfig.prototype.setQueueCallStatus=function(e){return this.put(s.Uz.QUEUE_CALL_STATUS,e)};RCInfoUserConfig.prototype.getQueueCallStatus=function(){return this.get(s.Uz.QUEUE_CALL_STATUS)};RCInfoUserConfig.prototype.setTimeZoneInfoList=function(e){return this.put(s.Uz.TIMEZONE_LIST,e)};RCInfoUserConfig.prototype.getTimeZoneInfoList=function(){return this.get(s.Uz.TIMEZONE_LIST)};RCInfoUserConfig.prototype.setSelfContactData=function(e){return this.put(s.Uz.SELF_CONTACT_DATA,e)};RCInfoUserConfig.prototype.getSelfContactData=function(){return this.get(s.Uz.SELF_CONTACT_DATA)};RCInfoUserConfig.prototype.getAssignedDigitalLine=function(){return this.get(s.Uz.ASSIGNED_DIGITAL_LINE)};RCInfoUserConfig.prototype.setAssignedDigitalLine=function(e){return this.put(s.Uz.ASSIGNED_DIGITAL_LINE,e)};RCInfoUserConfig.prototype.setAnsweringBizHoursRuleData=function(e){return d(this,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:return[4,this.put(s.Uz.ANSWERING_RULE_BUSINESS_HOURS_RULE,e)];case 1:t.sent();return[2]}}))}))};RCInfoUserConfig.prototype.getAnsweringBizHoursRuleData=function(){return this.get(s.Uz.ANSWERING_RULE_BUSINESS_HOURS_RULE)};RCInfoUserConfig.prototype.removeFederationFromDB=function(){return this.remove(s.Uz.FEDERATION)};RCInfoUserConfig.prototype.setAccountFederationData=function(e){return this.put(s.Uz.FEDERATION,e)};RCInfoUserConfig.prototype.getAccountFederationData=function(){return this.get(s.Uz.FEDERATION)};return RCInfoUserConfig}(r.DBConfig)},749514:(e,t,n)=>{"use strict";n.d(t,{oF:()=>i,gj:()=>i,FY:()=>a,Fc:()=>u,O7:()=>p,iU:()=>d,$F:()=>h,M5:()=>f,Xw:()=>v,$J:()=>g,J6:()=>_,un:()=>y,qj:()=>b,IJ:()=>C,$G:()=>m,or:()=>S});var r=n(295454);var o=n(470033);var i=r.Lb.RC_INFO;var a={ENTITY:{QUEUE_CALL:"ENTITY.QUEUE_CALL"},RC_INFO:{PHONE_DATA:"RC_INFO.PHONE_DATA",SPECIAL_NUMBER_RULE:"RC_INFO.SPECIAL_NUMBER_RULE",EXTENSION_PHONE_NUMBER_LIST:"RC_INFO.EXTENSION_PHONE_NUMBER_LIST",EXTENSION_CALLER_ID:"RC_INFO.EXTENSION_CALLER_ID",DIALING_PLAN:"RC_INFO.DIALING_PLAN",RC_SERVICE_INFO:"RC_INFO.RC_SERVICE_INFO",RC_REGION_INFO:"RC_INFO.RC_REGION_INFO",RC_FORWARDING_NUMBERS:"RC_INFO.RC_FORWARDING_NUMBERS",DEVICE_INFO:"RC_INFO.DEVICE_INFO",RC_PRESENCE:"RC_INFO.RC_PRESENCE",QUEUE_CALL:"RC_INFO.QUEUE_CALL",BUSINESS_ADDRESS:"BUSINESS_ADDRESS",USER_LICENSE_TYPE:"RC_INFO.USER_LICENSE_TYPE",VIDEO_CONFIGURATION:"RC_INFO.VIDEO_CONFIGURATION",RC_CONFERENCE:"RC_INFO.RC_CONFERENCE",DELEGATOR_CALLER_ID:"RC_INFO.DELEGATOR_CALLER_ID",SELF_CONTACT_DATA:"RC_INFO.SELF_CONTACT_DATA",CROSS_LAUNCH_INTEGRATION:"RC_INFO.CROSS_LAUNCH_INTEGRATION"},RC_INFO_SERVICE:{REGION_UPDATED:"SERVICE.RC_INFO_SERVICE.REGION_UPDATED",E911_UPDATED:"SERVICE.RC_INFO_SERVICE.E911_UPDATED",DEVICE_INFO_UPDATE:"SERVICE.RC_INFO_SERVICE.DEVICE_INFO_UPDATE",DIGITAL_LINE_ASSIGNED:"SERVICE.RC_INFO_SERVICE.DIGITAL_LINE_ASSIGNED",USER_LICENSE_TYPE_UPDATED:"SERVICE.RC_INFO_SERVICE.USER_LICENSE_TYPE_UPDATED",USER_PROFILE_UPDATED:"SERVICE.RC_INFO_SERVICE.USER_PROFILE_UPDATED",USER_PHONE_NUMBER_UPDATED:"SERVICE.RC_INFO_SERVICE.USER_PHONE_NUMBER_UPDATED"}};var u={id:"1",name:"United States",isoCode:"US",callingCode:"1"};var s="Call to this service is unavailable";var c="Message to this service is unavailable";var l={1:{uri:"localUri",records:[{phoneNumber:"13033812041",description:"Emergency Check",features:{voip:{enabled:false,reason:{id:"N11-101",message:s}},ringOut:{enabled:false,reason:{id:"N11-101",message:s}},sms:{enabled:false,reason:{id:"N11-103",message:c}},faxOut:{enabled:false,reason:{id:"N11-103",message:c}}}},{phoneNumber:"16505551212",description:"Directory Assistance",features:{voip:{enabled:false,reason:{id:"N11-101",message:s}},ringOut:{enabled:false,reason:{id:"N11-101",message:s}},sms:{enabled:false,reason:{id:"N11-103",message:c}},faxOut:{enabled:false,reason:{id:"N11-103",message:c}}}},{phoneNumber:"211",description:"Public Information/Referral",features:{voip:{enabled:false,reason:{id:"N11-101",message:s}},ringOut:{enabled:false,reason:{id:"N11-101",message:s}},sms:{enabled:false,reason:{id:"N11-103",message:c}},faxOut:{enabled:false,reason:{id:"N11-103",message:c}}}},{phoneNumber:"411",description:"Directory Assistance",features:{voip:{enabled:false,reason:{id:"N11-101",message:s}},ringOut:{enabled:false,reason:{id:"N11-101",message:s}},sms:{enabled:false,reason:{id:"N11-103",message:c}},faxOut:{enabled:false,reason:{id:"N11-103",message:c}}}},{phoneNumber:"511",description:"Weather & Travel Information",features:{voip:{enabled:false,reason:{id:"N11-101",message:s}},ringOut:{enabled:false,reason:{id:"N11-101",message:s}},sms:{enabled:false,reason:{id:"N11-103",message:c}},faxOut:{enabled:false,reason:{id:"N11-103",message:c}}}},{phoneNumber:"611",description:"Customer Service",features:{voip:{enabled:false,reason:{id:"N11-101",message:s}},ringOut:{enabled:false,reason:{id:"N11-101",message:s}},sms:{enabled:false,reason:{id:"N11-103",message:c}},faxOut:{enabled:false,reason:{id:"N11-103",message:c}}}},{phoneNumber:"711",description:"Relay Services",features:{voip:{enabled:true},ringOut:{enabled:false,reason:{id:"N11-101",message:s}},sms:{enabled:false,reason:{id:"N11-103",message:c}},faxOut:{enabled:false,reason:{id:"N11-103",message:c}}}},{phoneNumber:"811",description:"Non-Urgent Health Care",features:{voip:{enabled:false,reason:{id:"N11-101",message:s}},ringOut:{enabled:false,reason:{id:"N11-101",message:s}},sms:{enabled:false,reason:{id:"N11-103",message:c}},faxOut:{enabled:false,reason:{id:"N11-103",message:c}}}},{phoneNumber:"911",description:"Emergency",features:{voip:{enabled:true},ringOut:{enabled:false,reason:{id:"N11-101",message:s}},sms:{enabled:false,reason:{id:"N11-103",message:c}},faxOut:{enabled:false,reason:{id:"N11-103",message:c}}}},{phoneNumber:"933",description:"Emergency Check",features:{voip:{enabled:true},ringOut:{enabled:false,reason:{id:"N11-101",message:s}},sms:{enabled:false,reason:{id:"N11-103",message:c}},faxOut:{enabled:false,reason:{id:"N11-103",message:c}}}},{phoneNumber:"988",description:"National Suicide Prevention Lifeline",features:{voip:{enabled:false,reason:{id:"N11-101",message:s}},ringOut:{enabled:false,reason:{id:"N11-101",message:s}},sms:{enabled:false,reason:{id:"N11-103",message:c}},faxOut:{enabled:false,reason:{id:"N11-103",message:c}}}}],paging:{page:1,totalPages:1,perPage:100,totalElements:11,pageStart:0,pageEnd:10},navigation:{firstPage:{uri:"localUri"},lastPage:{uri:"localUri"}}}};var f="Host";var d=["ringcentral.eu","ringcentral.co.uk","ringcentral.com.au"];var p="ringcentral.com";var h;(function(e){e["CITY"]="Alabama";e["STATE"]="NA"})(h||(h={}));var v="{username}";var g="{clientId}";var _;(function(e){e["VideoConfiguration"]="VideoConfiguration";e["Features"]="Features";e["Permissions"]="Permissions";e["AnsweringRules"]="AnsweringRules";e["AccountSettings"]="AccountSettings"})(_||(_={}));var y;(function(e){e["Update"]="Update"})(y||(y={}));var b={records:[{id:o.pl.BlockingCallerId,available:true}]};var C;(function(e){e["AdditionalSoftPhone"]="AdditionalSoftphone";e["MobileApp"]="MobileApp"})(C||(C={}));var m={id:"15",name:"Australia",isoCode:"AU"};var S={SmsSender:"SmsSender",MmsSender:"MmsSender",InternationalSmsSender:"InternationalSmsSender",TollFreeSmsSender:"TollFreeSmsSender",CallerId:"CallerId",Delegated:"Delegated",A2PSmsSender:"A2PSmsSender"}},487151:(e,t,n)=>{"use strict";n.d(t,{B1:()=>i,Mj:()=>a,u0:()=>s,tR:()=>u});var r=n(245699);var o;var i=[{id:"1",name:"United States",isoCode:"US",callingCode:"1"},{id:"39",name:"Canada",isoCode:"CA",callingCode:"1"},{id:"224",name:"United Kingdom",isoCode:"GB",callingCode:"44"},{id:"83",name:"Germany",isoCode:"DE",callingCode:"49"},{id:"75",name:"France",isoCode:"FR",callingCode:"33"},{id:"157",name:"Netherlands",isoCode:"NL",callingCode:"31"},{id:"195",name:"Spain",isoCode:"ES",callingCode:"34"},{id:"107",name:"Ireland",isoCode:"IE",callingCode:"353"},{id:"206",name:"Switzerland",isoCode:"CH",callingCode:"41"},{id:"188",name:"Singapore",isoCode:"SG",callingCode:"65"},{id:"175",name:"Philippines",isoCode:"PH",callingCode:"63"},{id:"143",name:"Mexico",isoCode:"MX",callingCode:"52"},{id:"16",name:"Austria",isoCode:"AT",callingCode:"43"},{id:"23",name:"Belgium",isoCode:"BE",callingCode:"32"},{id:"58",name:"Denmark",isoCode:"DK",callingCode:"45"},{id:"74",name:"Finland",isoCode:"FI",callingCode:"358"},{id:"100",name:"Hong Kong",isoCode:"HK",callingCode:"852"},{id:"103",name:"India",isoCode:"IN",callingCode:"91"},{id:"109",name:"Italy",isoCode:"IT",callingCode:"39"},{id:"133",name:"Malaysia",isoCode:"MY",callingCode:"60"},{id:"167",name:"Norway",isoCode:"NO",callingCode:"47"},{id:"177",name:"Portugal",isoCode:"PT",callingCode:"351"},{id:"205",name:"Sweden",isoCode:"SE",callingCode:"46"},{id:"208",name:"Taiwan",isoCode:"TW",callingCode:"886"},{id:"15",name:"Australia",isoCode:"AU",callingCode:"61"},{id:"108",name:"Israel",isoCode:"IL",callingCode:"972"},{id:"128",name:"Luxembourg",isoCode:"LU",callingCode:"352"},{id:"182",name:"Romania",isoCode:"RO",callingCode:"40"},{id:"57",name:"Czech Republic",isoCode:"CZ",callingCode:"420"},{id:"31",name:"Brazil",isoCode:"BR",callingCode:"55"},{id:"11",name:"Argentina",isoCode:"AR",callingCode:"54"},{id:"45",name:"Chile",isoCode:"CL",callingCode:"56"},{id:"160",name:"New Zealand",isoCode:"NZ",callingCode:"64"},{id:"176",name:"Poland",isoCode:"PL",callingCode:"48"},{id:"189",name:"Slovakia",isoCode:"SK",callingCode:"421"},{id:"112",name:"Japan",isoCode:"JP",callingCode:"81"},{id:"194",name:"South Korea",isoCode:"KR",callingCode:"82"},{id:"174",name:"Peru",isoCode:"PE",callingCode:"51"},{id:"54",name:"Croatia",isoCode:"HR",callingCode:"385"},{id:"101",name:"Hungary",isoCode:"HU",callingCode:"36"},{id:"193",name:"South Africa",isoCode:"ZA",callingCode:"27"},{id:"46",name:"China",isoCode:"CN",callingCode:"86"},{id:"49",name:"Colombia",isoCode:"CO",callingCode:"57"},{id:"53",name:"Costa Rica",isoCode:"CR",callingCode:"506"},{id:"179",name:"Puerto Rico",isoCode:"PR",callingCode:"1"},{id:"69",name:"Estonia",isoCode:"EE",callingCode:"372"},{id:"86",name:"Greece",isoCode:"GR",callingCode:"30"},{id:"211",name:"Thailand",isoCode:"TH",callingCode:"66"},{id:"190",name:"Slovenia",isoCode:"SI",callingCode:"386"},{id:"231",name:"Vietnam",isoCode:"VN",callingCode:"84"}];var a=["1","262","27","31","32","34","353","358","36","370","383","385","386","40","41","421","43","44","46","49","508","51","54","55","590","593","594","596","60","61","63","64","672","7","81","82","84","86","886","91","972"];var u=[r.ig.FIRST_NAME,r.ig.LAST_NAME,r.ig.JOB_TITLE,r.ig.DEPARTMENT];var s=(o={},o[r.ig.FIRST_NAME]="firstName",o[r.ig.LAST_NAME]="lastName",o[r.ig.JOB_TITLE]="jobTitle",o[r.ig.DEPARTMENT]="department",o)},896498:(e,t,n)=>{"use strict";n.d(t,{h:()=>W});var r=n(696206);var o=n(587040);var i=n(470033);var a=n(749514);var u=n(162564);var s=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var c=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var l=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var f=1;var d=function(e){s(RegionSettingItemProvider,e);function RegionSettingItemProvider(t){var n=e.call(this,{id:u._.Phone_Region,source:{type:r.Pe.CONSTANT}})||this;n._rcInfoService=t;return n}RegionSettingItemProvider.prototype.buildValueProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return c(e,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:return[4,this._rcInfoService.getCurrentCountry()];case 1:e=n.sent();return[4,this._rcInfoService.getAreaCode()];case 2:t=n.sent();return[2,{countryInfo:e,areaCode:t}]}}))}))}})};RegionSettingItemProvider.prototype.buildStateProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return c(e,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return[4,this._rcInfoService.getCurrentCountry()];case 1:e=t.sent();return[2,this._getRegionSettingVisibleState(e.callingCode)]}}))}))}})};RegionSettingItemProvider.prototype._getRegionSettingVisibleState=function(e){return c(this,void 0,Promise,(function(){var t,n;return l(this,(function(a){switch(a.label){case 0:t=(0,o.gT)().context.entitlement.isAllEnable([i.H3.RCExtensionFeaturesId.WebPhone,i.H3.RCExtensionFeaturesId.VoipCalling]);return[4,this._rcInfoService.getCountryList()];case 1:n=a.sent();if(t){if(!n||!n.length){return[2,r.ESettingItemState.DISABLE]}if(n.length===f&&!this._rcInfoService.hasAreaCode(e)){return[2,r.ESettingItemState.DISABLE]}return[2,r.ESettingItemState.ENABLE]}return[2,r.ESettingItemState.INVISIBLE]}}))}))};RegionSettingItemProvider.prototype.onLoad=function(){var e=this;this.on(a.FY.RC_INFO.RC_REGION_INFO,(function(){e.getValueProvider().notifyChange();e.getStateProvider().notifyChange()}))};return RegionSettingItemProvider}(r.BaseSettingItemProvider);var p=n(531616);var h=n(586695);var v=n(707938);var g=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var _=function(e){g(ExtensionSettingItemProvider,e);function ExtensionSettingItemProvider(t){var n=e.call(this,{id:u._.Phone_Extension,source:{type:r.Pe.CONSTANT},state:{type:r.Pe.CONSTANT,defaultValue:p.Ye.ENABLE}})||this;n._rcInfoService=t;return n}ExtensionSettingItemProvider.prototype.buildValueProvider=function(){var e=this;return this.buildBaseItemValueProvider({disableCache:true,getter:function(){return e._rcInfoService.generateWebSettingUri(h.Lh.EXTENSION_URI)}})};return ExtensionSettingItemProvider}(v.t);var y=n(667489);var b=n(831513);var C=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var m=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var S=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var E=function(e){C(AdvancedAdminToolsURLSettingItemProvider,e);function AdvancedAdminToolsURLSettingItemProvider(t){var n=e.call(this,{id:u._.Access_Advanced_Admin_Tools,source:{type:r.Pe.CONSTANT},state:{type:r.Pe.CONSTANT,defaultValue:p.Ye.ENABLE}})||this;n._rcInfoService=t;n._handleAccountServiceUpdate=function(){n.getStateProvider().notifyChange()};return n}AdvancedAdminToolsURLSettingItemProvider.prototype.buildValueProvider=function(){var e=this;return this.buildBaseItemValueProvider({disableCache:true,getter:function(){return e._rcInfoService.generateWebSettingUri(h.Lh.ACCOUNT_UPGRADE_FUNNEL,true)}})};AdvancedAdminToolsURLSettingItemProvider.prototype.buildStateProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return m(e,void 0,void 0,(function(){return S(this,(function(e){switch(e.label){case 0:return[4,this._getAdvancedAdmintoolsURLSettingVisibleState()];case 1:return[2,e.sent()]}}))}))}})};AdvancedAdminToolsURLSettingItemProvider.prototype._getAdvancedAdmintoolsURLSettingVisibleState=function(){return m(this,void 0,Promise,(function(){return S(this,(function(e){switch(e.label){case 0:return[4,this._rcInfoService.isPhoenixFreeAccount()];case 1:return[2,e.sent()?p.Ye.ENABLE:p.Ye.DISABLE]}}))}))};AdvancedAdminToolsURLSettingItemProvider.prototype.onLoad=function(){var e=this;this.addSubscription((function(){var t=(0,y.getModule)(b.Y0);t.DBConfig.on(b.xb.ACCOUNT_SERVICE_INFO,e._handleAccountServiceUpdate);return function(){t.DBConfig.off(b.xb.ACCOUNT_SERVICE_INFO,e._handleAccountServiceUpdate)}}))};return AdvancedAdminToolsURLSettingItemProvider}(v.t);var I=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var w=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var R=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var P=function(e){I(DeleteGlipAccountSettingItemProvider,e);function DeleteGlipAccountSettingItemProvider(t){var n=e.call(this,{id:u._.Delete_Glip_Account,source:{type:r.Pe.CONSTANT},state:{type:r.Pe.CONSTANT,defaultValue:p.Ye.ENABLE}})||this;n._rcInfoService=t;n._deleteAccountSubPath="/application/billing/subscription/overview?CancelSubscription=";return n}DeleteGlipAccountSettingItemProvider.prototype._changeSubPath=function(e){return e.replace(/rdr=(.*)/,"rdr="+this._deleteAccountSubPath)};DeleteGlipAccountSettingItemProvider.prototype.buildValueProvider=function(){var e=this;return this.buildBaseItemValueProvider({disableCache:true,getter:function(){return w(e,void 0,void 0,(function(){var e;return R(this,(function(t){switch(t.label){case 0:return[4,this._rcInfoService.generateWebSettingUri(h.Lh.SERVICE_WEB_HOME)];case 1:e=t.sent();return[2,this._changeSubPath(e)]}}))}))}})};return DeleteGlipAccountSettingItemProvider}(v.t);var A=n(782117);var T=n(891094);var O=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var N=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var x=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var D=i.H3.RCExtensionFeaturesId,M=D.EditOutboundCallerId,k=D.BlockingCallerId;var L=[M,k];var F=function(e){O(BaseCallerIdSettingItemProvider,e);function BaseCallerIdSettingItemProvider(t,n){var r=e.call(this,{id:t})||this;r._notifyChanges=function(){r.getValueProvider().notifyChange();r.getSourceProvider().notifyChange()};r.rcInfoService=n;return r}BaseCallerIdSettingItemProvider.prototype.buildValueProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return e.rcInfoService.getDefaultCallerId()}})};BaseCallerIdSettingItemProvider.prototype.buildStateProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return N(e,void 0,void 0,(function(){var e,t,n,o,i;return x(this,(function(a){switch(a.label){case 0:e=(0,y.getModule)(r.oF);return[4,e.getById(A.O0.Phone_DefaultApp)];case 1:t=a.sent();n=y.accountManager.getCurrent().context;o=n.entitlement.get(M);if(!o){return[2,r.ESettingItemState.DISABLE]}i=t&&t.value;return[2,i===A.hr.RINGCENTRAL?r.ESettingItemState.INVISIBLE:r.ESettingItemState.ENABLE]}}))}))}})};BaseCallerIdSettingItemProvider.prototype.buildSourceProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return e.rcInfoService.getCallerIdList()||[]}})};BaseCallerIdSettingItemProvider.prototype.onLoad=function(){var e=this;(0,y.getModule)(r.oF).observeSettingChange(A.O0.Phone_DefaultApp,(function(){e.getStateProvider().notifyChange()}));this.rcInfoService.DBConfig.on(T.Uz.EXTENSION_CALLER_ID,this._notifyChanges);this.rcInfoService.DBConfig.on(T.Uz.EXTENSION_PHONE_NUMBER_LIST,this._notifyChanges);this.rcInfoService.DBConfig.on(T.Uz.ASSIGNED_DIGITAL_LINE,this._notifyChanges);var t=y.accountManager.getCurrent().context;t.entitlement.observe(L,this._notifyChanges)};BaseCallerIdSettingItemProvider.prototype.onUnload=function(){this.rcInfoService.DBConfig.off(T.Uz.EXTENSION_CALLER_ID,this._notifyChanges);this.rcInfoService.DBConfig.off(T.Uz.EXTENSION_PHONE_NUMBER_LIST,this._notifyChanges);this.rcInfoService.DBConfig.off(T.Uz.ASSIGNED_DIGITAL_LINE,this._notifyChanges);var e=y.accountManager.getCurrent().context;e.entitlement.dispose(L,this._notifyChanges)};return BaseCallerIdSettingItemProvider}(r.BaseSettingItemProvider);var U=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var B=function(e){U(CallerIdSettingItemProvider,e);function CallerIdSettingItemProvider(t){return e.call(this,u._.Phone_CallerId,t)||this}CallerIdSettingItemProvider.prototype.buildValueProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return e.rcInfoService.getDefaultCallerId()},setter:function(t){return e.rcInfoService.setDefaultCallerId({callerId:t.id})}})};return CallerIdSettingItemProvider}(F);var G=n(827027);var j=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var H=function(e){j(CompleteCallerIdSettingItemProvider,e);function CompleteCallerIdSettingItemProvider(t){return e.call(this,u._.Complete_Phone_CallerId,t)||this}CompleteCallerIdSettingItemProvider.prototype.buildValueProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return e.rcInfoService.getDefaultCallerId()},setter:function(t){var n,r;return e.rcInfoService.setDefaultCallerId({callerId:t.id,extensionId:((n=t.extension)===null||n===void 0?void 0:n.type)===G.RC_EXTENSION_TYPES.USER?(r=t.extension)===null||r===void 0?void 0:r.id.toString():undefined})}})};CompleteCallerIdSettingItemProvider.prototype.buildSourceProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return e.rcInfoService.getCallerIdList(true)||[]}})};CompleteCallerIdSettingItemProvider.prototype.onLoad=function(){e.prototype.onLoad.call(this);y.notificationCenter.on(a.FY.RC_INFO.DELEGATOR_CALLER_ID,this._notifyChanges)};CompleteCallerIdSettingItemProvider.prototype.onUnload=function(){e.prototype.onUnload.call(this);y.notificationCenter.off(a.FY.RC_INFO.DELEGATOR_CALLER_ID,this._notifyChanges)};return CompleteCallerIdSettingItemProvider}(F);var V=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var W=function(e){V(RcInfoSettings,e);function RcInfoSettings(t){var n=e.call(this)||this;n._rcInfoService=t;return n}RcInfoSettings.prototype.getProviderMap=function(){var e;if(!this.rcInfoSettingProvider){this.rcInfoSettingProvider=(e={},e[u._.Phone_Region]=new d(this._rcInfoService),e[u._.Phone_Extension]=new _(this._rcInfoService),e[u._.Access_Advanced_Admin_Tools]=new E(this._rcInfoService),e[u._.Delete_Glip_Account]=new P(this._rcInfoService),e[u._.Phone_CallerId]=new B(this._rcInfoService),e[u._.Complete_Phone_CallerId]=new H(this._rcInfoService),e)}return this.rcInfoSettingProvider};return RcInfoSettings}(r.AbstractModuleSettingProviderManager)},850922:(e,t,n)=>{"use strict";n.d(t,{t:()=>r,N:()=>s});var r=function(){function DigitalLineUtils(){}DigitalLineUtils.getEmergency=function(e){return e===null||e===void 0?void 0:e.emergency};DigitalLineUtils.getPhoneLine=function(e){var t;return(t=e===null||e===void 0?void 0:e.phoneLines)===null||t===void 0?void 0:t[0]};DigitalLineUtils.getAddress=function(e){var t;return(t=DigitalLineUtils.getEmergency(e))===null||t===void 0?void 0:t.address};DigitalLineUtils.getEmergencyCountryId=function(e){var t;return(t=DigitalLineUtils.getAddress(e))===null||t===void 0?void 0:t.countryId};DigitalLineUtils.getPhoneInfo=function(e){var t;return(t=DigitalLineUtils.getPhoneLine(e))===null||t===void 0?void 0:t.phoneInfo};DigitalLineUtils.getLineType=function(e){var t;return(t=DigitalLineUtils.getPhoneLine(e))===null||t===void 0?void 0:t.lineType};DigitalLineUtils.getEmergencyAddressStatus=function(e){var t;return(t=DigitalLineUtils.getEmergency(e))===null||t===void 0?void 0:t.addressStatus};DigitalLineUtils.getAddressEditableStatus=function(e){var t;return(t=DigitalLineUtils.getEmergency(e))===null||t===void 0?void 0:t.addressEditableStatus};DigitalLineUtils.getPhoneInfoCountryId=function(e){var t;return(t=DigitalLineUtils.getPhoneInfo(e))===null||t===void 0?void 0:t.country.id};DigitalLineUtils.getPhoneInfoCountryName=function(e){var t;return(t=DigitalLineUtils.getPhoneInfo(e))===null||t===void 0?void 0:t.country.name};DigitalLineUtils.getPhoneNumber=function(e){var t;return(t=DigitalLineUtils.getPhoneInfo(e))===null||t===void 0?void 0:t.phoneNumber};DigitalLineUtils.getAddressRequire=function(e){var t;return(t=DigitalLineUtils.getPhoneLine(e))===null||t===void 0?void 0:t.emergencyAddress.required};DigitalLineUtils.getPhoneLineId=function(e){var t;return(t=DigitalLineUtils.getPhoneLine(e))===null||t===void 0?void 0:t.id};DigitalLineUtils.getLocationId=function(e){var t,n;return(n=(t=DigitalLineUtils.getEmergency(e))===null||t===void 0?void 0:t.location)===null||n===void 0?void 0:n.id};DigitalLineUtils.getLocationName=function(e){var t,n;return(n=(t=DigitalLineUtils.getEmergency(e))===null||t===void 0?void 0:t.location)===null||n===void 0?void 0:n.name};return DigitalLineUtils}();var o=n(298784);var i=n.n(o);var a=n(587040);var u=n(891094);var s=function(){function RCInfoUtils(){}RCInfoUtils.getCurrentCountryId=function(){var e;var t=(0,a.gT)().userConfig.getExtensionId();var n=u.nY.getStationLocation();var r=t&&n&&n[t];var o=(e=r===null||r===void 0?void 0:r.countryInfo)===null||e===void 0?void 0:e.id;return o&&o.length?i().toInteger(o):1};return RCInfoUtils}()},752096:(e,t,n)=>{"use strict";n.r(t);n.d(t,{RCNotificationModule:()=>u});var r=n(461197);var o=n(60443);var i=n(513845);var a=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var u=function(e){a(RCNotificationModule,e);function RCNotificationModule(t){return e.call(this,t)||this}RCNotificationModule.prototype.onLoad=function(){this.rcNotificationService.start()};RCNotificationModule.prototype.onUnload=function(){this.rcNotificationService.stop()};RCNotificationModule.prototype.subscribe=function(e,t){this.rcNotificationService.subscribe(e,t)};RCNotificationModule.prototype.unsubscribe=function(e,t){this.rcNotificationService.unsubscribe(e,t)};RCNotificationModule.prototype.batchSubscribe=function(e,t){this.rcNotificationService.batchSubscribe(e,t)};RCNotificationModule.prototype.batchUnsubscribe=function(e,t){this.rcNotificationService.batchUnsubscribe(e,t)};RCNotificationModule.prototype.getSubscribeEvents=function(){return this.rcNotificationService.getSubscribeEvents()};RCNotificationModule.prototype.registerNotificationProvider=function(e){this.rcNotificationService.registerNotificationProvider(e)};RCNotificationModule.prototype.unregisterNotificationProvider=function(e){this.rcNotificationService.unregisterNotificationProvider(e)};RCNotificationModule.prototype.moduleName=function(){return o.oF};RCNotificationModule.prototype.restart=function(){this.rcNotificationService.restart()};Object.defineProperty(RCNotificationModule.prototype,"rcNotificationService",{get:function(){if(!this._rcNotificationService){this._rcNotificationService=new i.z}return this._rcNotificationService},enumerable:true,configurable:true});return RCNotificationModule}(r.AbstractModule)},367696:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(667489);var o=n.n(r);var i=n(38942);var a=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var u=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var s=function(){function Utils(){}Utils.getRawEvent=function(e){return e.replace(/account\/\d+\//,"account/~/").replace(/extension\/\d+/,"extension/~")};Utils.getWSGFeature=function(){return a(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:e=this.getFeatureFlagModule();return[4,e.getFeatureFlag(i.G.D_USE_RC_WSG)];case 1:return[2,t.sent()]}}))}))};Utils.getFeatureFlagModule=function(){return(0,r.getModule)(i.FEATURE_FLAG_MODULE)};return Utils}()},60443:(e,t,n)=>{"use strict";n.d(t,{V$:()=>a,RX:()=>u,Hk:()=>s,oF:()=>o,do:()=>o});var r=n(295454);var o=r.Lb.RC_NOTIFICATION;var i="/restapi/v1.0/account/~/extension/~/";var a;(function(e){e["TelephonyDetail"]="/restapi/v1.0/account/~/extension/~/presence?detailedTelephonyState=true&sipData=true";e["LineTelephonyDetailPresence"]="/restapi/v1.0/account/~/extension/~/presence/line/presence?detailedTelephonyState=true&sipData=true";e["MissedCall"]="/restapi/v1.0/account/~/extension/~/missed-calls";e["Voicemail"]="/restapi/v1.0/account/~/extension/~/voicemail";e["Fax"]="/restapi/v1.0/account/~/extension/~/fax?direction=Inbound";e["MessageStore"]="/restapi/v1.0/account/~/extension/~/message-store";e["InstantMessageStore"]="/restapi/v1.0/account/~/extension/~/message-store/instant?type=SMS";e["Conference"]="/restapi/v1.0/conference";e["CloudCalendar"]="/restapi/v1.0/account/~/extension/~/cloud-calendars/ucc";e["RCContact"]="/restapi/v1.0/account/~/directory/entries";e["GroupExtension"]="/restapi/v1.0/account/~/directory/contacts?typeGroup=NonUser";e["ExtensionChange"]="/restapi/v1.0/account/~/extension/~";e["RCDevice"]="/restapi/v1.0/account/~/device";e["MonitorExtensionList"]="/restapi/v1.0/account/~/extension/~/presence/line";e["GrantExtensionList"]="/restapi/v1.0/account/~/extension/~/grant";e["DelegateTelephonyDetailPresence"]="/restapi/v1.0/account/~/extension/~/delegates/presence?detailedTelephonyState=true&sipData=true";e["TelephonySessions"]="/restapi/v1.0/account/~/extension/~/telephony/sessions";e["TelephonySessionsWithRecordings"]="/restapi/v1.0/account/~/extension/~/telephony/sessions?withRecordings=true";e["QuickContact"]="/restapi/v1.0/account/~/extension/~/favorite"})(a||(a={}));var u;(function(e){e[e["RC_SOCKET"]=0]="RC_SOCKET";e[e["PUBNUB"]=1]="PUBNUB"})(u||(u={}));var s={EVENT_KEYS:{PROVIDER_READY:"PROVIDER_READY",PROVIDER_ERROR:"PROVIDER_ERROR",RC_NOTIFICATION_READY:"RC_NOTIFICATION_READY"}}},397636:(e,t,n)=>{"use strict";n.d(t,{S:()=>f,r:()=>l});var r=n(862926);var o=n(151461);var i=n(367696);var a=n(60443);var u=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var s=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e};var c=o.k.tags("[EventSubscriptionController]");var l=function(){function EventSubscriptionController(){this._subscriptionEventMap=new Map}EventSubscriptionController.prototype.subscribe=function(e,t){c.log("subscribe",e);this._addEventListener(e,t)};EventSubscriptionController.prototype.batchSubscribe=function(e,t){var n=this;c.log("batchSubscribe",e);e.forEach((function(e){n._addEventListener(e,t)}))};EventSubscriptionController.prototype.unsubscribe=function(e,t){c.log("unsubscribe",e);this._removeEventListener(e,t)};EventSubscriptionController.prototype.batchUnsubscribe=function(e,t){var n=this;c.log("batchUnsubscribe",e);e.forEach((function(e){n._removeEventListener(e,t)}))};EventSubscriptionController.prototype._addEventListener=function(e,t){var n=this._subscriptionEventMap.get(e)||[];n=n.filter((function(e){return e!==t}));n.push(t);this._subscriptionEventMap.set(e,n)};EventSubscriptionController.prototype._removeEventListener=function(e,t){var n=this._subscriptionEventMap.get(e)||[];n=n.filter((function(e){return e!==t}));if(!n.length){this._subscriptionEventMap.delete(e)}else{this._subscriptionEventMap.set(e,n)}};EventSubscriptionController.prototype.dispatchMessages=function(e){var t=this;var n=e||{},o=n.event,a=o===void 0?undefined:o,u=n.body,l=u===void 0?undefined:u;if(!a||!l){return}var f=this._getOriginalEvents(i.c.getRawEvent(a));if(!f.length){return}var d=[];f.forEach((function(e){var n=t._subscriptionEventMap.get(e);n&&d.push.apply(d,s(n))}));c.log("_dispatchMessages, receive message",{event:a,body:(0,r.sensitive)(e),listenersCnt:d&&d.length||0});d&&d.forEach((function(e){return e(l)}))};EventSubscriptionController.prototype._getOriginalEvents=function(e){return e===a.V$.TelephonySessions?Array.from(this._subscriptionEventMap.keys()).filter((function(e){return e.startsWith(a.V$.TelephonySessions)})):[e]};EventSubscriptionController.prototype.getSubscribeEvents=function(){return Array.from(this._subscriptionEventMap.keys())};return EventSubscriptionController}();var f=function(){function BaseRCNotificationProvider(){}BaseRCNotificationProvider.prototype.getAvailable=function(){return this._isAvailable};BaseRCNotificationProvider.prototype.setAvailable=function(e){this._isAvailable=e};BaseRCNotificationProvider.prototype.getPriority=function(){return this._priority};BaseRCNotificationProvider.prototype.setPriority=function(e){this._priority=e};return BaseRCNotificationProvider}()},228164:(e,t,n)=>{"use strict";n.d(t,{MODULE_NAME:()=>i.oF,NotificationPriority:()=>i.RX,RCSubscriptionKeys:()=>i.V$,RC_NOTIFICATION:()=>i.Hk,RC_NOTIFICATION_MODULE_NAME:()=>i["do"],BaseRCNotificationProvider:()=>s.S,Utils:()=>c.c});var r=n(752096);var o=n(513845);var i=n(60443);var a=n(492802);var u=n.n(a);if(n.o(a,"BaseRCNotificationProvider"))n.d(t,{BaseRCNotificationProvider:function(){return a.BaseRCNotificationProvider}});if(n.o(a,"Utils"))n.d(t,{Utils:function(){return a.Utils}});var s=n(397636);var c=n(367696)},151461:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(862926);var o=n.n(r);var i="[RC_NOTIFICATION]";var a=r.ModuleLogger.getLogger(i,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.COMMON)},513845:(e,t,n)=>{"use strict";n.d(t,{z:()=>d});var r=n(667489);var o=n(397636);var i=n(60443);var a=n(151461);var u=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var s=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var c=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var l=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var f=a.k.tags("[RCNotificationService]");var d=function(e){u(RCNotificationService,e);function RCNotificationService(){var t=e.call(this)||this;t._notificationProvider=new Set;t._subscribedEvents=new Map;t._addSubscribedEventCache=function(e,n){var r,o;try{for(var i=l(e),a=i.next();!a.done;a=i.next()){var u=a.value;t._subscribedEvents.set(u,n)}}catch(e){r={error:e}}finally{try{if(a&&!a.done&&(o=i.return))o.call(i)}finally{if(r)throw r.error}}};t._dispatchMessages=function(e){t.eventSubscriptionController.dispatchMessages(e)};t._onAvailableEventsChange=function(e){t._handleReallocationSubscriptionEvents(e)};return t}RCNotificationService.prototype.registerNotificationProvider=function(e){if(!this._notificationProvider.has(e)){this._notificationProvider.add(e);e.addMessageListener(this._dispatchMessages);e.addAvailableEventsChangeCallback&&e.addAvailableEventsChangeCallback(this._onAvailableEventsChange);if(this._notificationProvider.size>1){this._handleReallocationSubscriptionEvents(e)}f.info("register provider",e.constructor.name)}};RCNotificationService.prototype.unregisterNotificationProvider=function(e){if(e){this._notificationProvider.delete(e);f.info("unregister provider",e.constructor.name)}else{this._notificationProvider.clear();f.info("unregister all provider")}};RCNotificationService.prototype._handleReallocationSubscriptionEvents=function(e){var t=this;var n=this._getPriorityProvider();var r=Array.from(this._subscribedEvents.keys()).filter((function(n){if(!e)return true;var r=t._subscribedEvents.get(n);return r?r.getPriority()>=e.getPriority():false}));var o=n.slice(e?n.findIndex((function(t){return t===e})):0);f.info("_handleReallocationSubscriptionEvents: need resubscribe events",r);this._allocationSubscriptionEvents(r,r,o)};RCNotificationService.prototype._allocationSubscriptionEvents=function(e,t,n){return s(this,void 0,void 0,(function(){var r;return c(this,(function(o){switch(o.label){case 0:if(!(t.length&&n.length))return[3,3];r=n.shift();if(!r)return[2];f.info("start to execute "+r.constructor.name+" provider",t,e);return[4,r.batchSubscribe(t,this._addSubscribedEventCache,e)];case 1:t=o.sent();f.info("end to execute "+r.constructor.name+" provider",t,e);return[4,this._allocationSubscriptionEvents(e,t,n)];case 2:o.sent();o.label=3;case 3:return[2]}}))}))};RCNotificationService.prototype.subscribe=function(e,t){var n=this._getPriorityProvider();this.eventSubscriptionController.subscribe(e,t);var r=this.eventSubscriptionController.getSubscribeEvents();this._allocationSubscriptionEvents([e],r,n)};RCNotificationService.prototype.unsubscribe=function(e,t){this.eventSubscriptionController.unsubscribe(e,t)};RCNotificationService.prototype.batchSubscribe=function(e,t){var n=this._getPriorityProvider();this.eventSubscriptionController.batchSubscribe(e,t);var r=this.eventSubscriptionController.getSubscribeEvents();this._allocationSubscriptionEvents(e,r,n)};RCNotificationService.prototype.batchUnsubscribe=function(e,t){this.eventSubscriptionController.batchUnsubscribe(e,t)};RCNotificationService.prototype.getSubscribeEvents=function(){return this._eventSubscriptionController.getSubscribeEvents()};RCNotificationService.prototype.restart=function(){this._iterateProvider((function(e){e.restart&&e.restart()}))};RCNotificationService.prototype._getPriorityProvider=function(){return Array.from(this._notificationProvider).sort((function(e,t){return e.getPriority()-t.getPriority()}))};RCNotificationService.prototype._handleProviderReady=function(e){r.notificationCenter.emitKVChange(i.Hk.EVENT_KEYS.RC_NOTIFICATION_READY,e)};RCNotificationService.prototype.onStarted=function(){r.notificationCenter.on(i.Hk.EVENT_KEYS.PROVIDER_READY,this._handleProviderReady)};RCNotificationService.prototype.onStopped=function(){r.notificationCenter.off(i.Hk.EVENT_KEYS.PROVIDER_READY,this._handleProviderReady);this._iterateProvider((function(e){e.stop&&e.stop()}))};RCNotificationService.prototype._iterateProvider=function(e){var t,n;try{for(var r=l(Array.from(this._notificationProvider)),o=r.next();!o.done;o=r.next()){var i=o.value;e(i)}}catch(e){t={error:e}}finally{try{if(o&&!o.done&&(n=r.return))n.call(r)}finally{if(t)throw t.error}}};Object.defineProperty(RCNotificationService.prototype,"eventSubscriptionController",{get:function(){if(!this._eventSubscriptionController){this._eventSubscriptionController=new o.r}return this._eventSubscriptionController},enumerable:true,configurable:true});return RCNotificationService}(r.MicroService)},492802:()=>{},185805:(e,t,n)=>{"use strict";n.d(t,{I:()=>w});var r=n(667489);var o="S3Permission";var i={S3_PERMISSION_CONFIGURATIONS:"s3PermissionConfigurations"};var a=n(527457);var u=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var s=function(e){u(S3PermissionConfig,e);function S3PermissionConfig(){return e!==null&&e.apply(this,arguments)||this}S3PermissionConfig.setS3PermissionConfiguration=function(e){return this.put(i.S3_PERMISSION_CONFIGURATIONS,e)};S3PermissionConfig.getS3PermissionConfiguration=function(){return this.get(i.S3_PERMISSION_CONFIGURATIONS)};S3PermissionConfig.moduleName=o;return S3PermissionConfig}(a.K);var c={PHOENIX_NEW_WELCOME_RATE:0,ENABLE_PKCE_OAUTH:false,ENABLE_APPLE_SIGNUP:false};var l=n(862926);var f=n(424843);var d=n(302186);var p={S3_PERMISSION_CONFIG:"/desktop/config/feature_flags.json"};var h=function(){function S3PermissionApi(e){this._networkClient=e}S3PermissionApi.prototype.getS3PermissionConfiguration=function(){var e={path:l.RequestPath.buildRequestPath(p.S3_PERMISSION_CONFIG),method:l.NETWORK_METHOD.GET,authFree:true,via:l.NETWORK_VIA.HTTP,retryCount:3};return this._networkClient.http(e)};return S3PermissionApi}();var v="[S3Permission][CORE]";var g=l.ModuleLogger.getLogger(v,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),l.EVENT_DATA_FEATURE.COMMON);var _=n(295454);var y=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var b=function(e){y(S3ConfigSource,e);function S3ConfigSource(t){return e.call(this,t)||this}return S3ConfigSource}(l.ConfigSource);var C=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var m=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var S=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var E=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var I=function(){function S3PermissionController(){this._permissionCache=new Map;this._fetchBarrier=new l.Barrier;this._s3ConfigSource=new b(_.dY.S3)}S3PermissionController.prototype.init=function(){return C(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return[4,this._initCache()];case 1:e.sent();r.configStoreManager.addConfigSource(_.dY.S3,this._s3ConfigSource);this._setupNetworkClient();this._fetchFromRemote();return[2]}}))}))};S3PermissionController.prototype.hasPermission=function(e,t){return C(this,void 0,Promise,(function(){var n;return m(this,(function(r){switch(r.label){case 0:n=t;if(!n)return[3,2];return[4,this._fetchBarrier.wait()];case 1:n=r.sent();r.label=2;case 2:n;return[2,!!this._permissionCache.has(e)]}}))}))};S3PermissionController.prototype.getFeatureFlag=function(e,t){return C(this,void 0,Promise,(function(){var n;return m(this,(function(r){switch(r.label){case 0:n=t;if(!n)return[3,2];return[4,this._fetchBarrier.wait()];case 1:n=r.sent();r.label=2;case 2:n;return[2,this._permissionCache.get(e)||c[e]]}}))}))};S3PermissionController.prototype.isFlagSupported=function(e){return Object.prototype.hasOwnProperty.call(c,e)};S3PermissionController.prototype.setCallback=function(e){this._refreshCallback=e};S3PermissionController.prototype._setupNetworkClient=function(){var e=new l.NetworkManager((function(){return d.Pal.instance.networkStatus().getStatus()}));var t={server:""+f.apiConfiguration.getConfig().assetsServer};e.buildNetworkRequestBaseHandler(f.CustomNetworkHandlerConfig);var n={host:t.server,pathPrefix:t.pathPrefix,handlerName:f.CustomNetworkHandlerConfig.handlerName};var r=new f.ResponseParser;r.register(new f.CommonResponseParser);var o=new f.NetworkClient(n,l.NETWORK_VIA.HTTP,e,r);this._s3PermissionApi=new h(o)};S3PermissionController.prototype._initCache=function(){return C(this,void 0,void 0,(function(){var e;return m(this,(function(t){switch(t.label){case 0:return[4,s.getS3PermissionConfiguration()];case 1:e=t.sent();if(e){this._processS3PermissionConfigurations(e)}else{this._processS3PermissionConfigurations(c)}this._s3ConfigSource.setConfigSource(this._getCachePermissionObject());this._s3ConfigSource.setReadyStatus(true);return[2]}}))}))};S3PermissionController.prototype._fetchFromRemote=function(){return C(this,void 0,void 0,(function(){var e,t;return m(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,3,4]);return[4,this._s3PermissionApi.getS3PermissionConfiguration()];case 1:e=n.sent();s.setS3PermissionConfiguration(e);this._processS3PermissionConfigurations(e);this._refreshCallback&&this._refreshCallback();this._s3ConfigSource.updateSource(this._getCachePermissionObject());g.log("Configurations have been fetched from S3, new configurations have been saved to the local storage.");return[3,4];case 2:t=n.sent();g.info("Unable to fetch permission configurations from S3, will use last fetched permission or default permission.");return[3,4];case 3:this._fetchBarrier.open();return[7];case 4:return[2]}}))}))};S3PermissionController.prototype._processS3PermissionConfigurations=function(e){var t=this;Object.keys(e).forEach((function(n){return t._permissionCache.set(n,e[n])}))};S3PermissionController.prototype._getCachePermissionObject=function(){var e,t;var n={};if(this._permissionCache){var r=this._permissionCache.entries();try{for(var o=S(r),i=o.next();!i.done;i=o.next()){var a=E(i.value,2),u=a[0],s=a[1];n[u]=s}}catch(t){e={error:t}}finally{try{if(i&&!i.done&&(t=o.return))t.call(o)}finally{if(e)throw e.error}}}return n};return S3PermissionController}();var w=new I},313143:(e,t,n)=>{"use strict";n.r(t);n.d(t,{SearchModule:()=>c});var r=n(461197);var o=n(65369);var i=n(390582);var a=n(355617);var u=function(){function SearchService(){this._searchDataProviders=[]}SearchService.prototype.registerSearchDataProvider=function(e){i.BB.appendToArrayUniquely(this._searchDataProviders,e)};SearchService.prototype.unRegisterSearchDataProvider=function(e){this._searchDataProviders=this._searchDataProviders.filter((function(t){return t!==e}))};Object.defineProperty(SearchService.prototype,"recentSearchController",{get:function(){if(!this._recentSearchController){this._recentSearchController=new a.E(this._searchDataProviders)}return this._recentSearchController},enumerable:true,configurable:true});return SearchService}();var s=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var c=function(e){s(SearchModule,e);function SearchModule(t){return e.call(this,t)||this}SearchModule.prototype.onLoad=function(){};SearchModule.prototype.onUnload=function(){};SearchModule.prototype.moduleName=function(){return o.mp};SearchModule.prototype.registerSearchDataProvider=function(e){this.searchService.registerSearchDataProvider(e)};SearchModule.prototype.unRegisterSearchDataProvider=function(e){this.searchService.unRegisterSearchDataProvider(e)};SearchModule.prototype.getRecentSearchRecords=function(){return this.searchService.recentSearchController.getRecentSearchRecords()};SearchModule.prototype.addRecentSearchRecord=function(e){return this.searchService.recentSearchController.addRecentSearchRecord(e)};SearchModule.prototype.clearAllRecentSearchRecord=function(){return this.searchService.recentSearchController.clearAllRecentSearchRecord()};SearchModule.prototype.removeRecentSearchRecords=function(e){return this.searchService.recentSearchController.removeRecentSearchRecords(e)};Object.defineProperty(SearchModule.prototype,"searchService",{get:function(){if(!this._searchService){this._searchService=new u}return this._searchService},enumerable:true,configurable:true});return SearchModule}(r.AbstractModule)},271270:(e,t,n)=>{"use strict";n.d(t,{q:()=>c});var r;(function(e){e["RECENT_SEARCH_RECORDS"]="recent_search_records"})(r||(r={}));var o=n(573905);var i=n(65369);var a=n(390582);var u=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var s=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var c=function(){function RecentSearchUserConfig(e){this._storage=e}RecentSearchUserConfig.prototype.addRecentSearchRecord=function(e){return u(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,this.getRecentSearchRecords()];case 1:t=n.sent();t=t.filter((function(t){return!o.e.isSameSearchRecord(t,e)}));t=[e].concat(t);if(t.length>i.mV){t.pop()}return[4,this._storage.put(r.RECENT_SEARCH_RECORDS,t)];case 2:n.sent();return[2]}}))}))};RecentSearchUserConfig.prototype.updateRecentSearchRecords=function(e){return this._storage.put(r.RECENT_SEARCH_RECORDS,e)};RecentSearchUserConfig.prototype.removeRecentSearchRecords=function(e){return u(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,this.getRecentSearchRecords()];case 1:t=n.sent();t=t.filter((function(t){return!e.has(t.id)}));return[4,this.updateRecentSearchRecords(t)];case 2:n.sent();return[2]}}))}))};RecentSearchUserConfig.prototype.getRecentSearchRecords=function(){var e=this;return a.gb.asyncGetter((function(){return e._storage.get(r.RECENT_SEARCH_RECORDS)}),[])};return RecentSearchUserConfig}()},65369:(e,t,n)=>{"use strict";n.d(t,{mp:()=>o,mV:()=>i,WJ:()=>a});var r=n(295454);var o=r.Lb.SEARCH;var i=10;var a={SEARCH:"search"}},355617:(e,t,n)=>{"use strict";n.d(t,{a:()=>f,E:()=>l});var r=n(298784);var o=n.n(r);var i=n(65369);var a=n(573905);var u=undefined&&undefined.__assign||function(){u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return u.apply(this,arguments)};var s=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var c=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var l=function(){function RecentSearchController(e){this._allProviders=e}RecentSearchController.prototype.getRecentSearchRecords=function(e){if(e===void 0){e=i.mV}return s(this,void 0,Promise,(function(){var t,n,r,i,u;return c(this,(function(s){switch(s.label){case 0:r=(n=o()).flatten;return[4,Promise.all(this._allProviders.map((function(e){return e.getRecentSearchRecords()})))];case 1:t=r.apply(n,[s.sent()]);i=t.sort((function(e,t){return t.time_stamp-e.time_stamp}));u=o().uniqWith(i,(function(e,t){return a.e.isSameSearchRecord(e,t)}));return[2,u.slice(0,e)]}}))}))};RecentSearchController.prototype.addRecentSearchRecord=function(e){return s(this,void 0,Promise,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:t=Date.now();n=u(u({},e),{id:t,time_stamp:t});return[4,this._allProviders.map((function(e){return e.shouldSaveRecord(n)&&e.addRecentSearchRecord(n)}))];case 1:r.sent();return[2]}}))}))};RecentSearchController.prototype.removeRecentSearchRecords=function(e){return s(this,void 0,Promise,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,Promise.all(this._allProviders.map((function(t){return t.removeRecentSearchRecords(e)})))];case 1:t.sent();return[2]}}))}))};RecentSearchController.prototype.clearAllRecentSearchRecord=function(){return s(this,void 0,Promise,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,Promise.all(this._allProviders.map((function(e){return e.clearAllRecentSearchRecord()})))];case 1:e.sent();return[2]}}))}))};return RecentSearchController}();var f=function(){function AbstractSearchDataProvider(e){this._recentSearchConfig=e}AbstractSearchDataProvider.prototype.addRecentSearchRecord=function(e){return this._recentSearchConfig.addRecentSearchRecord(e)};AbstractSearchDataProvider.prototype.shouldSaveRecord=function(e){return Object.values(i.WJ).includes(e.type)};AbstractSearchDataProvider.prototype.getRecentSearchRecords=function(){return this._recentSearchConfig.getRecentSearchRecords()};AbstractSearchDataProvider.prototype.clearAllRecentSearchRecord=function(){return this._recentSearchConfig.updateRecentSearchRecords([])};AbstractSearchDataProvider.prototype.removeRecentSearchRecords=function(e){return this._recentSearchConfig.removeRecentSearchRecords(e)};return AbstractSearchDataProvider}()},982240:()=>{},168755:()=>{},80417:(e,t,n)=>{"use strict";var r=n(982240);var o=n.n(r);if(n.o(r,"RecentSearchUserConfig"))n.d(t,{RecentSearchUserConfig:function(){return r.RecentSearchUserConfig}});if(n.o(r,"SEARCH_MODULE_NAME"))n.d(t,{SEARCH_MODULE_NAME:function(){return r.SEARCH_MODULE_NAME}});var i=n(168755);var a=n.n(i);if(n.o(i,"RecentSearchUserConfig"))n.d(t,{RecentSearchUserConfig:function(){return i.RecentSearchUserConfig}});if(n.o(i,"SEARCH_MODULE_NAME"))n.d(t,{SEARCH_MODULE_NAME:function(){return i.SEARCH_MODULE_NAME}})},152970:()=>{},166921:()=>{},17136:(e,t,n)=>{"use strict";var r=n(152970);var o=n.n(r);if(n.o(r,"RecentSearchUserConfig"))n.d(t,{RecentSearchUserConfig:function(){return r.RecentSearchUserConfig}});if(n.o(r,"SEARCH_MODULE_NAME"))n.d(t,{SEARCH_MODULE_NAME:function(){return r.SEARCH_MODULE_NAME}});var i=n(166921);var a=n.n(i);if(n.o(i,"RecentSearchUserConfig"))n.d(t,{RecentSearchUserConfig:function(){return i.RecentSearchUserConfig}});if(n.o(i,"SEARCH_MODULE_NAME"))n.d(t,{SEARCH_MODULE_NAME:function(){return i.SEARCH_MODULE_NAME}})},573905:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});var r=function(){function RecentSearchUtils(){}RecentSearchUtils.isSameSearchRecord=function(e,t){return e.type===t.type&&e.value===t.value&&JSON.stringify(e.query_params||{})===JSON.stringify(t.query_params||{})};return RecentSearchUtils}()},128609:(e,t,n)=>{"use strict";n.r(t);n.d(t,{SettingModule:()=>b});var r=n(187933);var o=n(461197);var i=n(280523);var a=n(531616);var u=n(677113);var s=n(862926);var c=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var l=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var f=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var d=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var p=30*1e3;var h=function(){function SettingController(){this._barrierMap=new Map;this._settingMap=new Map;this._customProviderMap=new Map}SettingController.prototype.register=function(e){var t=this;u.k.log("register setting id:",e.id);if(this._settingMap.has(e.id)){u.k.info("Duplicate register id: "+e.id+". Will unregister pre provider");this.unregister(e.id)}var n={id:e.id,state:a.Ye.INVISIBLE};n.valueGetter=function(){return t.getSettingItemValue(n.id)};n.valueSetter=function(e){return t.updateSettingValue(n.id,e)};var r=new i.Y(n,e);this._settingMap.set(n.id,{entity:n,provider:r});r.load();if(this._customProviderMap.has(e.id)){this.bindProvider(this._customProviderMap.get(e.id))}if(this._barrierMap.has(e.id)){this._barrierMap.get(e.id).open()}};SettingController.prototype.unregister=function(e){if(this._settingMap.has(e)){u.k.log("Unregister provider id: "+e);this._settingMap.get(e).provider.unload();this._settingMap.delete(e)}};SettingController.prototype.bindProvider=function(e){this._customProviderMap.set(e.id,e);if(this._settingMap.has(e.id)){var t=this._settingMap.get(e.id).provider;return t.bindProvider(e)}return Promise.resolve()};SettingController.prototype.getSettingItemProvider=function(e){return f(this,void 0,void 0,(function(){var t,n;return d(this,(function(r){switch(r.label){case 0:if(!!this._settingMap.has(e))return[3,2];t=this._barrierMap.get(e)||new s.Barrier;!this._barrierMap.has(e)&&this._barrierMap.set(e,t);u.k.debug("await setting register:",e);return[4,t.wait()];case 1:r.sent();u.k.log("setting registered:",e);r.label=2;case 2:n=this._settingMap.get(e).provider;return[2,n]}}))}))};SettingController.prototype.getSettingItem=function(e){return f(this,void 0,Promise,(function(){var t,n;return d(this,(function(r){switch(r.label){case 0:return[4,this._getSettingItemProvider(e)];case 1:t=r.sent();return[4,t.getSettingEntity()];case 2:n=r.sent();return[2,n]}}))}))};SettingController.prototype.getSettingItemValue=function(e){return f(this,void 0,Promise,(function(){var t;return d(this,(function(n){switch(n.label){case 0:return[4,this.getSettingItemProvider(e)];case 1:t=n.sent();return[2,t.getSettingValue()]}}))}))};SettingController.prototype.getSettingItemSource=function(e){return f(this,void 0,Promise,(function(){var t;return d(this,(function(n){switch(n.label){case 0:return[4,this.getSettingItemProvider(e)];case 1:t=n.sent();return[2,t.getSettingSource()]}}))}))};SettingController.prototype.getSettingItemState=function(e){return f(this,void 0,Promise,(function(){var t;return d(this,(function(n){switch(n.label){case 0:return[4,this.getSettingItemProvider(e)];case 1:t=n.sent();return[4,t.getSettingState()];case 2:return[2,n.sent()||a.Ye.INVISIBLE]}}))}))};SettingController.prototype.updateSettingValue=function(e,t){var n=this._settingMap.get(e).provider;return n.valueProvider.setter(t)};SettingController.prototype.hasSetting=function(e){return this._settingMap.has(e)};SettingController.prototype.getAllSettingsEntity=function(){var e=new Map;this._settingMap.forEach((function(t,n){e.set(n,t.entity)}));return e};SettingController.prototype._getSettingItemProvider=function(e){return f(this,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:return[4,this.getSettingItemProvider(e)];case 1:return[2,t.sent()]}}))}))};c([(0,s.WithTimeout)({time:p,timeoutMessage:"Get Setting ItemProvider Timeout."}),l("design:type",Function),l("design:paramtypes",[String]),l("design:returntype",Promise)],SettingController.prototype,"_getSettingItemProvider",null);return SettingController}();var v=n(298784);var g=n.n(v);var _=n(814678);function createSettingObserver(){var e=[];var handleSettingChange=function(t){var n,r;var o=g().get(t,"body.ids.0");var i=(r=(n=t===null||t===void 0?void 0:t.body)===null||n===void 0?void 0:n.entities)===null||r===void 0?void 0:r.get(o);e.forEach((function(e){if(e.id===o){e.onChange(i)}}))};_.rF.on(r.FY.USER_SETTING,handleSettingChange);var dispose=function(){_.rF.off(r.FY.USER_SETTING,handleSettingChange)};var observe=function(t,n){var r={id:t,onChange:n};e.push(r);return function(){e=e.filter((function(e){return e!==r}))}};return{dispose,observe}}var y=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var b=function(e){y(SettingModule,e);function SettingModule(t){var n=e.call(this,t)||this;n._settingController=new h;n._settingObserver=createSettingObserver();return n}SettingModule.prototype.moduleName=function(){return r.oF};SettingModule.prototype.onLoad=function(){};SettingModule.prototype.onUnload=function(){};SettingModule.prototype.getById=function(e){return this.getSettingItem(e)};SettingModule.prototype.unregister=function(e){return this._settingController.unregister(e)};SettingModule.prototype.observeSettingChange=function(e,t){return this._settingObserver.observe(e,t)};SettingModule.prototype.register=function(e){return this._settingController.register(e)};SettingModule.prototype.bindProvider=function(e){return this._settingController.bindProvider(e)};SettingModule.prototype.getSettingItem=function(e){return this._settingController.getSettingItem(e)};SettingModule.prototype.getSettingItemSource=function(e){return this._settingController.getSettingItemSource(e)};SettingModule.prototype.getSettingItemValue=function(e){return this._settingController.getSettingItemValue(e)};SettingModule.prototype.getSettingItemState=function(e){return this._settingController.getSettingItemState(e)};SettingModule.prototype.updateSettingValue=function(e,t){return this._settingController.updateSettingValue(e,t)};SettingModule.prototype.hasSetting=function(e){return this._settingController.hasSetting(e)};SettingModule.prototype.getAllSettingsEntity=function(){return this._settingController.getAllSettingsEntity()};return SettingModule}(o.AbstractModule)},12072:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var r=n(469882);var o=n(187933);var i=n(298784);var a=n.n(i);var u=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var s=function(e){u(SettingUserConfig,e);function SettingUserConfig(){return e.call(this,o.oF)||this}SettingUserConfig.prototype.get=function(e,t){if(t===void 0){t=false}var n;var r=this._configCache.get(e);if(t||r===undefined){r=(n=this._configService.get(o.oF,e))!==null&&n!==void 0?n:this._configService.get("setting",e);this._configCache.set(e,r)}return r};SettingUserConfig.prototype.getValue=function(e,t){var n=this.get(e);return a().get(n,t)};SettingUserConfig.prototype.putValue=function(e,t,n){var r=this.get(e)||{};return this.put(e,a().set(r,t,n))};return SettingUserConfig}(r.UserConfig)},677113:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(862926);var o=n.n(r);var i="[SETTING][CORE]";var a=r.ModuleLogger.getLogger(i,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.COMMON)},850534:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var r=n(667489);var o=n.n(r);var i=function(){function AbstractSettingItemValueProvider(){this._observableController=new r.ObservableController}AbstractSettingItemValueProvider.prototype.subscribe=function(e){var t=this;this._observableController.addObserver(e);return function(){return t._observableController.removeObserver(e)}};AbstractSettingItemValueProvider.prototype.disposeAll=function(){this._observableController.removeAllObserver()};AbstractSettingItemValueProvider.prototype.notifyChange=function(e){if(e===undefined){this._observableController.notifyObserver4Changes((function(e){return e({withValue:false,value:undefined})}))}else{this._observableController.notifyObserver4Changes((function(t){return t({withValue:true,value:e})}))}};return AbstractSettingItemValueProvider}()},329286:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(850534);var o=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var i=function(e){o(BaseSettingItemValueProvider,e);function BaseSettingItemValueProvider(t){var n=e.call(this)||this;n._getter=t.getter;n._setter=t.setter;n.disableCache=t.disableCache;return n}BaseSettingItemValueProvider.prototype.getter=function(){return this._getter()};BaseSettingItemValueProvider.prototype.setter=function(e){this.notifyChange(e);return this._setter(e)};return BaseSettingItemValueProvider}(r.Y)},768482:(e,t,n)=>{"use strict";n.d(t,{p:()=>u});var r=n(850534);var o=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var i=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var a=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var u=function(e){o(ConstantSettingItemValueProvider,e);function ConstantSettingItemValueProvider(t){var n=e.call(this)||this;n._source=t;return n}ConstantSettingItemValueProvider.prototype.getter=function(){return i(this,void 0,Promise,(function(){return a(this,(function(e){return[2,this._source]}))}))};ConstantSettingItemValueProvider.prototype.setter=function(){return i(this,void 0,Promise,(function(){return a(this,(function(e){return[2]}))}))};return ConstantSettingItemValueProvider}(r.Y)},30725:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(850534);var o=n(677113);var i=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var a=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var u=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var s=function(e){i(FallbackSettingItemValueProvider,e);function FallbackSettingItemValueProvider(t,n,r,o){var i=e.call(this)||this;i.id=t;i.getValue=n;i.setValue=r;i._defaultProvider=o;i._lastRequestTime=0;i._bindValueProvider(i._defaultProvider);return i}Object.defineProperty(FallbackSettingItemValueProvider.prototype,"disableCache",{get:function(){return this._getValueProvider().disableCache},enumerable:true,configurable:true});FallbackSettingItemValueProvider.prototype._getAndUpdateValueFromProvider=function(e){return a(this,void 0,void 0,(function(){var t,n;return u(this,(function(r){switch(r.label){case 0:t=performance.now();return[4,e.getter()];case 1:n=r.sent();if(e.disableCache)return[2,n];if(this._lastRequestTime>=t){return[2,this.getValue()]}this._lastRequestTime=t;this._updateValue(n);return[2,n]}}))}))};FallbackSettingItemValueProvider.prototype._getValueProvider=function(){return this.provider||this._defaultProvider};FallbackSettingItemValueProvider.prototype._bindValueProvider=function(e){var t=this;if(this.isInit){this.isInit=false;this._getAndUpdateValueFromProvider(e).catch((function(e){o.k.log("rebind value fail.",t.id,e)}))}!e.disableCache&&e.subscribe((function(n){var r=n.withValue,i=n.value;if(r){t._updateValue(i)}else{t._getAndUpdateValueFromProvider(e).catch((function(e){o.k.log("update value fail.",t.id,e)}))}}))};FallbackSettingItemValueProvider.prototype._updateValue=function(e){if(this.getValue()!==e){this.setValue(e);this.isInit=true;this.notifyChange(e)}};FallbackSettingItemValueProvider.prototype.bindProvider=function(e){return a(this,void 0,Promise,(function(){return u(this,(function(t){if(this._defaultProvider){this._defaultProvider.disposeAll()}if(this.provider){this.provider.disposeAll()}this.provider=e;this._bindValueProvider(e);return[2]}))}))};FallbackSettingItemValueProvider.prototype.getter=function(){return a(this,void 0,Promise,(function(){var e,t;return u(this,(function(n){switch(n.label){case 0:e=this._getValueProvider();if(this.isInit&&!e.disableCache){return[2,this.getValue()]}return[4,this._getAndUpdateValueFromProvider(e)];case 1:t=n.sent();return[2,t]}}))}))};FallbackSettingItemValueProvider.prototype.setter=function(e){return a(this,void 0,Promise,(function(){var t,n;return u(this,(function(r){switch(r.label){case 0:t=this.getValue();r.label=1;case 1:r.trys.push([1,3,,4]);this._updateValue(e);return[4,this._getValueProvider().setter(e)];case 2:r.sent();return[3,4];case 3:n=r.sent();this._updateValue(t);o.k.log("revert value because setValue fail:",{setValue:e,revertValue:t,error:n});throw n;case 4:return[2]}}))}))};FallbackSettingItemValueProvider.prototype.disposeAll=function(){e.prototype.disposeAll.call(this);this._getValueProvider().disposeAll()};return FallbackSettingItemValueProvider}(r.Y)},440153:(e,t,n)=>{"use strict";n.d(t,{h:()=>u});var r=n(850534);var o=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var i=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var a=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var u=function(e){o(MemorySettingItemValueProvider,e);function MemorySettingItemValueProvider(t){var n=e.call(this)||this;n._data=t;return n}MemorySettingItemValueProvider.prototype.getter=function(){return i(this,void 0,Promise,(function(){return a(this,(function(e){return[2,this._data]}))}))};MemorySettingItemValueProvider.prototype.setter=function(e){return i(this,void 0,Promise,(function(){return a(this,(function(t){this._data=e;this.notifyChange(e);return[2]}))}))};return MemorySettingItemValueProvider}(r.Y)},280523:(e,t,n)=>{"use strict";n.d(t,{Y:()=>v});var r=n(298784);var o=n.n(r);var i=n(30725);var a=n(203978);var u=n(187933);var s=n(814678);var c=n(677113);var l=n(862926);var f=n.n(l);var d=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var p=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var h=c.k.tags("[Provider]");var v=function(){function SettingItemProvider(e,t){this.entity=e;this._defaultProvider=t;this._customProviders=[];this.id=this.entity.id}SettingItemProvider.prototype.load=function(){var e=this;this._defaultProvider.load();this.sourceProvider=new i.A(this.id,(function(){return e.entity.source}),(function(t){return e.entity.source=t}),o().get(this._defaultProvider,"sourceProvider")||new a.n(this.id,"source",undefined));this.valueProvider=new i.A(this.id,(function(){return e.entity.value}),(function(t){return e.entity.value=t}),o().get(this._defaultProvider,"valueProvider")||new a.n(this.id,"value",undefined));this.stateProvider=new i.A(this.id,(function(){return e.entity.state}),(function(t){return e.entity.state=t}),o().get(this._defaultProvider,"stateProvider")||new a.n(this.id,"state",undefined));this.sourceProvider.subscribe((function(){e.notifyChange()}));this.valueProvider.subscribe((function(){e.notifyChange()}));this.stateProvider.subscribe((function(){e.notifyChange()}))};SettingItemProvider.prototype.unload=function(){this.sourceProvider.disposeAll();this.valueProvider.disposeAll();this.stateProvider.disposeAll();this._defaultProvider.unload();this._customProviders.forEach((function(e){return e.unload()}));s.rF.emitEntityDelete(u.FY.USER_SETTING,[this.entity.id])};SettingItemProvider.prototype.notifyChange=function(){h.debug("setting: "+this.id+" entity update: ",(0,l.sensitive)(this.entity));s.rF.emitEntityUpdate(u.FY.USER_SETTING,[this.entity])};SettingItemProvider.prototype.bindProvider=function(e){return d(this,void 0,Promise,(function(){var t,n,r;return p(this,(function(o){switch(o.label){case 0:this._customProviders.push(e);e.load();t=e.sourceProvider;if(!t)return[3,2];return[4,this.sourceProvider.bindProvider(e.sourceProvider)];case 1:t=o.sent();o.label=2;case 2:t;n=e.valueProvider;if(!n)return[3,4];return[4,this.valueProvider.bindProvider(e.valueProvider)];case 3:n=o.sent();o.label=4;case 4:n;r=e.stateProvider;if(!r)return[3,6];return[4,this.stateProvider.bindProvider(e.stateProvider)];case 5:r=o.sent();o.label=6;case 6:r;return[2]}}))}))};SettingItemProvider.prototype.getSettingEntity=function(){return d(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,Promise.all([this.sourceProvider,this.valueProvider,this.stateProvider].filter((function(e){return!e.disableCache})).map((function(e){return e.getter()})))];case 1:e.sent();return[2,this.entity]}}))}))};SettingItemProvider.prototype.getSettingSource=function(){return this.sourceProvider.getter()};SettingItemProvider.prototype.getSettingValue=function(){return this.valueProvider.getter()};SettingItemProvider.prototype.getSettingState=function(){return this.stateProvider.getter()};return SettingItemProvider}()},81891:(e,t,n)=>{"use strict";n.r(t);n.d(t,{UserProfileModule:()=>g});var r=n(461197);var o=n(485835);var i=n(862926);var a=n(298784);var u=n.n(a);var s="[UserProfile][CORE]";var c=i.ModuleLogger.getLogger(s,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),i.EVENT_DATA_FEATURE.COMMON);var l=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var f=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var d=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var p=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e};var h=function(){function UserProfileManagerController(){this._sortedProfileSources=[];this._onProfileChangeCallbacks=[]}UserProfileManagerController.prototype._IsDuplicateRegistration=function(e){for(var t=0;t<this._sortedProfileSources.length;t++){var n=this._sortedProfileSources[t];if(e.getType()===n.getType()){return t}}return-1};UserProfileManagerController.prototype.registerProfileSource=function(e){c.info("Profile source ["+e.getType()+"] registered");var t=this._IsDuplicateRegistration(e);if(t!==-1){c.warn("Profile source ["+e.getType()+"] duplicate registration");this._sortedProfileSources[t]=e}else{this._sortedProfileSources.push(e)}this._sortedProfileSources.sort((function(e,t){return e.getPriority()-t.getPriority()}))};UserProfileManagerController.prototype.unregisterProfileSource=function(e){c.info("Profile source ["+e+"] unregistered");u().remove(this._sortedProfileSources,(function(t){return t.getType()===e}))};UserProfileManagerController.prototype.updateProfile=function(e){return l(this,void 0,Promise,(function(){var t;return f(this,(function(n){switch(n.label){case 0:t=[];this._sortedProfileSources.forEach((function(n){return t.push((function(){return n.updateProfile(e)}))}));return[4,(0,i.runInBand)(t)];case 1:n.sent();this._onProfileChangeCallbacks.forEach((function(t){t&&t(e)}));return[2]}}))}))};UserProfileManagerController.prototype.subscribeProfileChange=function(e){this._onProfileChangeCallbacks.push(e)};UserProfileManagerController.prototype.unsubscribeProfileChange=function(e){var t=this._onProfileChangeCallbacks.findIndex((function(t){return t===e}));if(t!==-1){this._onProfileChangeCallbacks.splice(t,1)}};UserProfileManagerController.prototype.getEditableProfileFields=function(){return this._sortedProfileSources.reduce((function(e,t){return e=new Set(p(e,t.getEditableProfileFields()))}),new Set)};return UserProfileManagerController}();var v=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var g=function(e){v(UserProfileModule,e);function UserProfileModule(t){var n=e.call(this,t)||this;n._userProfileController=new h;return n}UserProfileModule.prototype.registerProfileSource=function(e){this.userProfileController.registerProfileSource(e)};UserProfileModule.prototype.unregisterProfileSource=function(e){this.userProfileController.unregisterProfileSource(e)};UserProfileModule.prototype.subscribeProfileChange=function(e){this.userProfileController.subscribeProfileChange(e)};UserProfileModule.prototype.unsubscribeProfileChange=function(e){this.userProfileController.unsubscribeProfileChange(e)};UserProfileModule.prototype.updateProfile=function(e){return this._userProfileController.updateProfile(e)};UserProfileModule.prototype.getEditableProfileFields=function(){return this._userProfileController.getEditableProfileFields()};UserProfileModule.prototype.onLoad=function(){};UserProfileModule.prototype.onUnload=function(){};UserProfileModule.prototype.moduleName=function(){return o.o};Object.defineProperty(UserProfileModule.prototype,"userProfileController",{get:function(){if(!this._userProfileController){this._userProfileController=new h}return this._userProfileController},enumerable:true,configurable:true});return UserProfileModule}(r.AbstractModule)},485835:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var r=n(295454);var o=r.Lb.USER_PROFILE},290453:(e,t,n)=>{"use strict";var r=n(867903)},638457:(e,t,n)=>{"use strict";n.d(t,{USER_SETTING_GLOBAL_KEYS:()=>o.Zc,UserSettingValueCallbackType:()=>o.KL,sharedUserSettingManager:()=>i.lK,UserSettingExternalProviderName:()=>a.h,UserSettingInternalProviderName:()=>a.y,k:()=>u.k});var r=n(985265);if(n.o(r,"USER_SETTING_GLOBAL_KEYS"))n.d(t,{USER_SETTING_GLOBAL_KEYS:function(){return r.USER_SETTING_GLOBAL_KEYS}});if(n.o(r,"UserSettingExternalProviderName"))n.d(t,{UserSettingExternalProviderName:function(){return r.UserSettingExternalProviderName}});if(n.o(r,"UserSettingInternalProviderName"))n.d(t,{UserSettingInternalProviderName:function(){return r.UserSettingInternalProviderName}});if(n.o(r,"UserSettingValueCallbackType"))n.d(t,{UserSettingValueCallbackType:function(){return r.UserSettingValueCallbackType}});if(n.o(r,"sharedUserSettingManager"))n.d(t,{sharedUserSettingManager:function(){return r.sharedUserSettingManager}});var o=n(809538);var i=n(84496);var a=n(512228);var u=n(848284)},430134:()=>{},112163:()=>{},707335:()=>{},985265:(e,t,n)=>{"use strict";var r=n(430134);var o=n.n(r);if(n.o(r,"USER_SETTING_GLOBAL_KEYS"))n.d(t,{USER_SETTING_GLOBAL_KEYS:function(){return r.USER_SETTING_GLOBAL_KEYS}});if(n.o(r,"UserSettingExternalProviderName"))n.d(t,{UserSettingExternalProviderName:function(){return r.UserSettingExternalProviderName}});if(n.o(r,"UserSettingInternalProviderName"))n.d(t,{UserSettingInternalProviderName:function(){return r.UserSettingInternalProviderName}});if(n.o(r,"UserSettingValueCallbackType"))n.d(t,{UserSettingValueCallbackType:function(){return r.UserSettingValueCallbackType}});if(n.o(r,"sharedUserSettingManager"))n.d(t,{sharedUserSettingManager:function(){return r.sharedUserSettingManager}});var i=n(707335);var a=n.n(i);if(n.o(i,"USER_SETTING_GLOBAL_KEYS"))n.d(t,{USER_SETTING_GLOBAL_KEYS:function(){return i.USER_SETTING_GLOBAL_KEYS}});if(n.o(i,"UserSettingExternalProviderName"))n.d(t,{UserSettingExternalProviderName:function(){return i.UserSettingExternalProviderName}});if(n.o(i,"UserSettingInternalProviderName"))n.d(t,{UserSettingInternalProviderName:function(){return i.UserSettingInternalProviderName}});if(n.o(i,"UserSettingValueCallbackType"))n.d(t,{UserSettingValueCallbackType:function(){return i.UserSettingValueCallbackType}});if(n.o(i,"sharedUserSettingManager"))n.d(t,{sharedUserSettingManager:function(){return i.sharedUserSettingManager}});var u=n(112163);var s=n.n(u);if(n.o(u,"USER_SETTING_GLOBAL_KEYS"))n.d(t,{USER_SETTING_GLOBAL_KEYS:function(){return u.USER_SETTING_GLOBAL_KEYS}});if(n.o(u,"UserSettingExternalProviderName"))n.d(t,{UserSettingExternalProviderName:function(){return u.UserSettingExternalProviderName}});if(n.o(u,"UserSettingInternalProviderName"))n.d(t,{UserSettingInternalProviderName:function(){return u.UserSettingInternalProviderName}});if(n.o(u,"UserSettingValueCallbackType"))n.d(t,{UserSettingValueCallbackType:function(){return u.UserSettingValueCallbackType}});if(n.o(u,"sharedUserSettingManager"))n.d(t,{sharedUserSettingManager:function(){return u.sharedUserSettingManager}})},930079:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(862926);var o=n.n(r);var i="[USER_SETTING][CORE]";var a=r.ModuleLogger.getLogger(i,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.FOUNDATION)},848284:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(930079);var o=r.k.tags("[UserSettingBaseProvider]");var i=function(){function UserSettingBaseProvider(){this._valueCallbacks=new Map}UserSettingBaseProvider.prototype.set=function(e,t){o.error("Pls check your provider if the 'set' method has been implemented.");return Promise.resolve()};UserSettingBaseProvider.prototype.get=function(e){o.error("Pls check your provider if the 'get' method has been implemented.");return Promise.resolve(undefined)};UserSettingBaseProvider.prototype.triggerCallback=function(e,t,n){var r=this._valueCallbacks.get(e);var o=r===null||r===void 0?void 0:r.get(t);o===null||o===void 0?void 0:o.forEach((function(e){e(n)}))};UserSettingBaseProvider.prototype.registerValueCallback=function(e,t,n,r){if(n){var o=this._valueCallbacks.get(e)||new Map;var i=o.get(t)||[];i.push(n);o===null||o===void 0?void 0:o.set(t,i);this._valueCallbacks.set(e,o);if(r){this.get(e).then((function(e){n(e)})).catch((function(){}))}}};UserSettingBaseProvider.prototype.unregisterValueCallback=function(e,t,n){var r=this._valueCallbacks.get(e);var o=r===null||r===void 0?void 0:r.get(t);if(o&&o.length>0){var i=o.indexOf(n);if(i>-1){o.splice(i,1)}}};return UserSettingBaseProvider}()},34308:(e,t,n)=>{"use strict";n.d(t,{JC:()=>E,BT:()=>s});var r=n(156141);var o=n.n(r);var i=n(848284);var a=n(809538);var u=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var s=function(e){u(UserSettingMemoryProvider,e);function UserSettingMemoryProvider(){var t=e.call(this)||this;t._memorized=new Map;return t}UserSettingMemoryProvider.prototype.setToMemory=function(e,t){var n=this._memorized.get(e);if(!o()(t,n)){this._memorized.set(e,t);this.triggerCallback(e,a.KL.VALUE_CHANGED,t)}};UserSettingMemoryProvider.prototype.getFromMemory=function(e){var t=this._memorized.get(e);this.triggerCallback(e,a.KL.VALUE_FETCHED,t);return t};UserSettingMemoryProvider.prototype.set=function(e,t){var n=this;return new Promise((function(r){n.setToMemory(e,t);r&&r()}))};UserSettingMemoryProvider.prototype.get=function(e){var t=this;return new Promise((function(n){var r=t.getFromMemory(e);n&&n(r)}))};return UserSettingMemoryProvider}(i.k);var c=n(298784);var l=n.n(c);var f=n(295454);var d=n(7828);var p=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var h=function(e){p(UserSettingDBConfig,e);function UserSettingDBConfig(){return e!==null&&e.apply(this,arguments)||this}return UserSettingDBConfig}(d.DBConfig);var v=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var g=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var _=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var y=function(e){v(UserSettingDBProvider,e);function UserSettingDBProvider(t){var n=e.call(this)||this;n._dbConfig=new h(f.Lb.USER_SETTING,t.getDBConfigService());return n}UserSettingDBProvider.prototype.set=function(e,t){var n,r;return g(this,void 0,Promise,(function(){var o,i,u;var s=this;return _(this,(function(c){switch(c.label){case 0:if(!this._dbConfig){return[2,Promise.resolve()]}i=(o=l()).isEqual;u=[t];return[4,(n=this._dbConfig)===null||n===void 0?void 0:n.get(e)];case 1:if(!i.apply(o,u.concat([c.sent()]))){return[2,(r=this._dbConfig)===null||r===void 0?void 0:r.put(e,t).then((function(){s.triggerCallback(e,a.KL.VALUE_CHANGED,t)}))]}return[2,Promise.resolve()]}}))}))};UserSettingDBProvider.prototype.get=function(e){var t=this;var n;if(!this._dbConfig){return Promise.resolve(undefined)}return(n=this._dbConfig)===null||n===void 0?void 0:n.get(e).then((function(n){t.triggerCallback(e,a.KL.VALUE_FETCHED,n);return n}))};return UserSettingDBProvider}(i.k);var b=n(667489);var C=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var m=function(e){C(UserSettingGlobalConfig,e);function UserSettingGlobalConfig(){return e!==null&&e.apply(this,arguments)||this}UserSettingGlobalConfig.generateStoreKey=function(e){var t=(0,b.getCurrentAccount)().getUniqueId();return t+"."+e};UserSettingGlobalConfig.moduleName=f.Lb.USER_SETTING;return UserSettingGlobalConfig}(b.GlobalConfig);var S=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var E=function(e){S(UserSettingLocalStorageProvider,e);function UserSettingLocalStorageProvider(){return e!==null&&e.apply(this,arguments)||this}UserSettingLocalStorageProvider.prototype.setToLocalStorage=function(e,t){if(!l().isEqual(t,this._getValue(e))){m.put(m.generateStoreKey(e),t);this.triggerCallback(e,a.KL.VALUE_CHANGED,t)}};UserSettingLocalStorageProvider.prototype.getFromLocalStorage=function(e){var t=this._getValue(e);this.triggerCallback(e,a.KL.VALUE_FETCHED,t);return t};UserSettingLocalStorageProvider.prototype._getValue=function(e){var t=m.get(m.generateStoreKey(e));return t!==null?t:undefined};UserSettingLocalStorageProvider.prototype.set=function(e,t){var n=this;return new Promise((function(r){n.setToLocalStorage(e,t);r&&r()}))};UserSettingLocalStorageProvider.prototype.get=function(e){var t=this;return new Promise((function(n){var r=t.getFromLocalStorage(e);n&&n(r)}))};return UserSettingLocalStorageProvider}(i.k)},512228:(e,t,n)=>{"use strict";n.d(t,{h:()=>r,y:()=>o});var r;(function(e){e["GLIP_PROFILE"]="glip_profile";e["RC"]="rc"})(r||(r={}));var o;(function(e){e["DB"]="db";e["MEMORY"]="memory";e["LOCAL_STORAGE"]="localStorage"})(o||(o={}))},626745:(e,t,n)=>{"use strict";n.r(t);n.d(t,{WebAdapterModule:()=>c});var r=n(667489);var o=n.n(r);var i=n(494262);var a=n(447310);var u=n(449188);var s=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var c=function(e){s(WebAdapterModule,e);function WebAdapterModule(t){var n=e.call(this,t)||this;i.k.info("constructor");return n}WebAdapterModule.prototype.onLoad=function(){i.k.info("onLoad");this._webAdapterController=a.z.instance()};WebAdapterModule.prototype.onUnload=function(){i.k.info("onUnload")};WebAdapterModule.prototype.init=function(){this._webAdapterController.init()};WebAdapterModule.prototype.moduleName=function(){return u.oF};WebAdapterModule.prototype.enumerateDevices=function(){return this._webAdapterController.enumerateDevices()};WebAdapterModule.prototype.getUserMedia=function(e){return this._webAdapterController.getUserMedia(e)};WebAdapterModule.prototype.mapAudioElement=function(e){return this._webAdapterController.mapAudioElement(e)};WebAdapterModule.prototype.mapVideoElement=function(e){return this._webAdapterController.mapVideoElement(e)};WebAdapterModule.prototype.sessionDescriptionHandlerFactory=function(e){return this._webAdapterController.sessionDescriptionHandlerFactory(e)};WebAdapterModule.prototype.getWebPhoneOptions=function(){return this._webAdapterController.getWebPhoneOptions()};WebAdapterModule.prototype.isConnected=function(){return this._webAdapterController.isConnected()};WebAdapterModule.prototype.sessionChange=function(e){return this._webAdapterController.sessionChange(e)};WebAdapterModule.prototype.turnOn=function(){return this._webAdapterController.turnOn()};WebAdapterModule.prototype.turnOff=function(){return this._webAdapterController.turnOff()};return WebAdapterModule}(r.AbstractModule)},449188:(e,t,n)=>{"use strict";n.d(t,{FY:()=>a,Gq:()=>i,oF:()=>o,Ex:()=>u});var r=n(295454);var o=r.Lb.WEB_ADAPTER;var i={citrix:"Citrix",vmware:"VMware"};var a={VDI_AVAILABLE:o+".VDI_AVAILABLE",VDI_CONNECTED:o+".VDI_CONNECTED",VDI_DISCONNECTED:o+".VDI_DISCONNECTED",WTS_SESSION_CHANGE:o+".WTS.SESSION_CHANGE",WTS_SESSION_CHANGE_SUBSCRIBE:o+".WTS.SESSION_CHANGE.SUBSCRIBE"};var u=[{min:2,max:6},{min:10,max:20},{min:20,max:40},{min:40,max:80},{min:80,max:120},{min:80,max:120},{min:80,max:120},{min:80,max:120},{min:80,max:120},{min:120,max:240},{min:240,max:480},{min:480,max:960},{min:960,max:1920},{min:1920,max:3840}]},447310:(e,t,n)=>{"use strict";n.d(t,{z:()=>f});var r=n(814678);var o=n(862926);var i=n(472327);var a=n(518996);var u=n(107361);const s={connectionUrl:"ws://127.0.0.1:10120/api",router:a.L9,serverPlugins:[u.Plugins.Server.AuthenticationSkip,u.Plugins.Server.AuthorizeAll,a.D3],clientPlugins:[a.gR]};var c=n(494262);var l=n(449188);var f=function(){function WebAdapterController(){var e=this;this.getWebPhoneOptions=function(){return{enableQos:false,enableMediaReportLogging:false,sessionDescriptionHandlerFactory:e.sessionDescriptionHandlerFactory(),sessionDescriptionHandlerFactoryOptions:{enableCitrixQos:false,enableCitrixMediaReportLogging:false,enableVDIQos:true,enableVDIMediaReportLogging:true}}};this.tracerAvailable=o.launchTracer.traceStart("vdi_available_check");this.mediaRedirectionController=new i.a2({sdkConfig:s,vmware_enabled:true,logger:c.k,available:function(t){c.k.log("MediaRedirection is available for ",t);o.launchTracer.traceEnd(e.tracerAvailable,o.LOG_CONTROL_LEVEL.HIGH);e.tracerConnected=o.launchTracer.traceStart("vdi_connected");if(l.Gq[t]){r.rF.emit(l.FY.VDI_AVAILABLE,t)}},connected:function(){c.k.log("MediaRedirection is connected");o.launchTracer.traceEnd(e.tracerConnected,o.LOG_CONTROL_LEVEL.HIGH);r.rF.emit(l.FY.VDI_CONNECTED,e.getWebPhoneOptions())},disconnected:function(){c.k.log("MediaRedirection is disconnected");r.rF.emit(l.FY.VDI_DISCONNECTED);e.mediaRedirectionController.fsm.transition("check")},mediaRedirectionDetector:window.MediaRedirectionDetector})}WebAdapterController.instance=function(){if(!WebAdapterController._singleton){WebAdapterController._singleton=new WebAdapterController}return WebAdapterController._singleton};WebAdapterController.prototype.sessionChange=function(e){c.k.log("sessionChange",e);this.mediaRedirectionController.sessionChange(e)};WebAdapterController.prototype.turnOn=function(){this.mediaRedirectionController.turnOn()};WebAdapterController.prototype.turnOff=function(){this.mediaRedirectionController.turnOff()};WebAdapterController.prototype.init=function(){var e=new i.T9(this.buildIntervalSequence(l.Ex));this.mediaRedirectionController.setTimeoutGenerator(e);this.mediaRedirectionController.init()};WebAdapterController.prototype.buildIntervalSequence=function(e){var t=[];e.forEach((function(e){t.push(new i.SE(e.min,e.max))}));return t};WebAdapterController.prototype.enumerateDevices=function(){c.k.info("enumerateDevices");return this.mediaRedirectionController.enumerateDevices()};WebAdapterController.prototype.getUserMedia=function(e){c.k.info("getUserMedia",e);return this.mediaRedirectionController.getUserMedia(e)};WebAdapterController.prototype.mapAudioElement=function(e){c.k.info("mapAudioElement",e);return this.mediaRedirectionController.mapAudioElement(e)};WebAdapterController.prototype.mapVideoElement=function(e){c.k.info("mapVideoElement",e);return this.mediaRedirectionController.mapVideoElement(e)};WebAdapterController.prototype.isConnected=function(){return this.mediaRedirectionController.isConnected()};WebAdapterController.prototype.sessionDescriptionHandlerFactory=function(e){return this.mediaRedirectionController.sessionDescriptionHandlerFactory(e)};WebAdapterController._singleton=null;return WebAdapterController}()},494262:(e,t,n)=>{"use strict";n.d(t,{k:()=>u});var r=n(862926);var o=n.n(r);var i=n(449188);var a="["+i.oF+"][CORE]";var u=r.ModuleLogger.getLogger(a,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.COMMON)},761982:(e,t,n)=>{"use strict";var r=n(575296);var setA11yImpFocusable=function(e){e.setAttribute(IDX_KEY,IMP_IDX);return e};var queryA11yExpFocusable=function(e){return e?Array.from(e.querySelectorAll(EXP_SELECTOR)):[]};var getRovingIndex=function(e,t,n){if(n===void 0){n=0}return t?(e+n+t)%t:0};var setRovingEffect=function(e,t){if(t===void 0){t=0}var n=getRovingIndex(t,e.length);e=e.map((function(e,t){return t===n?e:setA11yImpFocusable(e)}));return{from:n,nodes:e}};var initRovingEffect=function(e,t){return setRovingEffect(queryA11yExpFocusable(e),t)}},438884:(e,t,n)=>{"use strict";n.d(t,{X:()=>p});var r=n(325719);var o=n.n(r);var i=n(831270);var a=n(461197);var u=n(652214);var s=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var c=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var l=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var f=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var d=function(){function PresenceManager(){var e=this;this._store=new Map;this.dispose=function(){};this.get=function(t){var n=u.FU.NOTREADY;if(!t)return n;var r=e._contactModule.getTypeById(t);var o=e._contactModule.getRawIdById(t);return e._get(r,o)}}PresenceManager.prototype._get=function(e,t){var n=this._store.get(e);if(n){return n.getPresence(t)}return undefined};Object.defineProperty(PresenceManager.prototype,"_contactModule",{get:function(){return(0,a.getModule)(i.MODULE_NAME)},enumerable:true,configurable:true});PresenceManager.prototype.registerProvider=function(e){var t=e.type,n=e.provider;if(!this._store.has(t)){this._store.set(t,n)}};PresenceManager.prototype.unregisterProvider=function(e){var t=e.type;this._store.delete(t)};PresenceManager.prototype.set=function(e){var t=e.toPresence,n=e.id;return l(this,void 0,void 0,(function(){var e,r;return f(this,(function(o){switch(o.label){case 0:e=this._contactModule.getTypeById(n);r=this._store.get(e);if(!r)return[3,2];return[4,r.setPresence(t)];case 1:o.sent();o.label=2;case 2:return[2]}}))}))};var e;s([r.observable.shallow,c("design:type",typeof(e=typeof Map!=="undefined"&&Map)==="function"?e:Object)],PresenceManager.prototype,"_store",void 0);return PresenceManager}();var p=new d},551085:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var r=n(937807);var o=n.n(r);var i=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var a=function(e){i(CallQueueMemberModel,e);function CallQueueMemberModel(){return e!==null&&e.apply(this,arguments)||this}return CallQueueMemberModel}(r.BaseModel)},260451:(e,t,n)=>{"use strict";n.d(t,{S:()=>l});var r=n(325719);var o=n.n(r);var i=n(937807);var a=n.n(i);var u=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var s=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var c=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var l=function(e){u(ContactDuplicateInfoModel,e);function ContactDuplicateInfoModel(t){var n=e.call(this,t)||this;n.id=t.id;n.duplicateIds=t.duplicateIds;return n}s([r.observable,c("design:type",String)],ContactDuplicateInfoModel.prototype,"id",void 0);s([r.observable,c("design:type",Array)],ContactDuplicateInfoModel.prototype,"duplicateIds",void 0);return ContactDuplicateInfoModel}(i.BaseModel)},17646:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(325719);var o=n.n(r);var i=n(461197);var a=n(166418);var u=n(831270);var s=n(937807);var c=n.n(s);var l=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var f=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var d=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var p=function(e){l(PhoneContactModel,e);function PhoneContactModel(t){var n;var r=e.call(this,t)||this;r.matchedContactId=t.matchedContactId;r.formattedPhoneNumber=t.formattedPhoneNumber||((n=a.PhoneContactUtils.parsePhoneContactId(t.id))===null||n===void 0?void 0:n.phoneNumber)||"";return r}PhoneContactModel.fromJS=function(e){return new PhoneContactModel(e)};Object.defineProperty(PhoneContactModel.prototype,"personId",{get:function(){var e=(0,i.getModule)(u.MODULE_NAME);return this.matchedContactId&&e.getRawIdById(this.matchedContactId)||undefined},enumerable:true,configurable:true});Object.defineProperty(PhoneContactModel.prototype,"contactId",{get:function(){return this.matchedContactId},enumerable:true,configurable:true});Object.defineProperty(PhoneContactModel.prototype,"uniqueId",{get:function(){return this.matchedContactId},enumerable:true,configurable:true});f([r.observable,d("design:type",String)],PhoneContactModel.prototype,"formattedPhoneNumber",void 0);f([r.observable,d("design:type",Number)],PhoneContactModel.prototype,"matchedPersonId",void 0);f([r.observable,d("design:type",String)],PhoneContactModel.prototype,"matchedContactId",void 0);f([r.computed,d("design:type",Object),d("design:paramtypes",[])],PhoneContactModel.prototype,"personId",null);f([r.computed,d("design:type",Object),d("design:paramtypes",[])],PhoneContactModel.prototype,"contactId",null);f([r.computed,d("design:type",Object),d("design:paramtypes",[])],PhoneContactModel.prototype,"uniqueId",null);return PhoneContactModel}(s.BaseModel)},419929:(e,t,n)=>{"use strict";n.r(t);n.d(t,{directCall:()=>directCall,maximize:()=>maximize,getSwitchCall:()=>getSwitchCall,hideSwitchCall:()=>hideSwitchCall,switchCall:()=>switchCall,joinAudioConference:()=>joinAudioConference,watchHasCall:()=>watchHasCall,openDialerOnPhoneTab:()=>openDialerOnPhoneTab,openDialer:()=>openDialer,addCallEventListener:()=>addCallEventListener,removeCallEventListener:()=>removeCallEventListener,makeConference:()=>makeConference,makeConferenceByOptionsLoader:()=>makeConferenceByOptionsLoader,pushCallPage:()=>pushCallPage,parkCurrentCall:()=>parkCurrentCall,watchCanParkCall:()=>watchCanParkCall,transfer:()=>transfer,askFirst:()=>askFirst,watchCallValue:()=>watchCallValue,unWatchCallValue:()=>unWatchCallValue,shouldAutoOpenDialer:()=>shouldAutoOpenDialer,closeDialer:()=>closeDialer,muteCall:()=>muteCall,unmuteCall:()=>unmuteCall,endCall:()=>endCall,answerCall:()=>answerCall,sendCallToVoicemail:()=>sendCallToVoicemail,shouldUseStandaloneWindow:()=>shouldUseStandaloneWindow});var r=n(374686);function parkCurrentCall(e){return{name:r.fi.CALL,type:r.D0.PARK_CURRENT_CALL,params:e}}function watchCanParkCall(e){return{name:r.fi.CALL,type:r.D0.WATCH_CAN_PARK_CALL,params:e}}function watchCallValue(e){return{name:r.fi.CALL,type:r.D0.WATCH_CALL_PROPERTY,params:e}}function unWatchCallValue(e){return{name:r.fi.CALL,type:r.D0.UNWATCH_CALL_PROPERTY,params:e}}function watchHasCall(e){return{name:r.fi.CALL,type:r.D0.WATCH_HAS_CALL,params:e}}function askFirst(e){return{name:r.fi.CALL,type:r.D0.ASK_FIRST,params:e}}function transfer(e){return{name:r.fi.CALL,type:r.D0.TRANSFER,params:e}}function directCall(e){return{name:r.fi.CALL,type:r.D0.DIRECT_CALL,params:e}}function maximize(){return{name:r.fi.CALL,type:r.D0.MAXIMIZE}}function getSwitchCall(){return{name:r.fi.CALL,type:r.D0.GET_SWITCH_CALL}}function hideSwitchCall(){return{name:r.fi.CALL,type:r.D0.HIDE_SWITCH_CALL}}function openDialerOnPhoneTab(){return{name:r.fi.CALL,type:r.D0.OPEN_DIALER_ON_PHONE_TAB}}function shouldAutoOpenDialer(){return{name:r.fi.CALL,type:r.D0.SHOULD_AUTO_OPEN_DIALER}}function openDialer(){return{name:r.fi.CALL,type:r.D0.OPEN_DIALER}}function closeDialer(){return{name:r.fi.CALL,type:r.D0.CLOSE_DIALER}}function addCallEventListener(e){return{name:r.fi.CALL,type:r.D0.ADD_CALL_EVENT_LISTENER,params:e}}function removeCallEventListener(e){return{name:r.fi.CALL,type:r.D0.REMOVE_CALL_EVENT_LISTENER,params:e}}function switchCall(e){return{name:r.fi.CALL,type:r.D0.SWITCH_CALL,params:e}}function joinAudioConference(e){return{name:r.fi.CALL,type:r.D0.JOIN_AUDIO_CONFERENCE,params:e}}function makeConference(e){return{name:r.fi.CALL,type:r.D0.MAKE_CONFERENCE,params:e}}function makeConferenceByOptionsLoader(e){return{name:r.fi.CALL,type:r.D0.MAKE_CONFERENCE_BY_OPTIONS_LOADER,params:e}}function pushCallPage(e){return{name:r.fi.CALL,type:r.D0.PUSH_CALL_PAGE,params:e}}function muteCall(e){return{name:r.fi.CALL,type:r.D0.MUTE,params:e}}function unmuteCall(e){return{name:r.fi.CALL,type:r.D0.UNMUTE,params:e}}function endCall(e){return{name:r.fi.CALL,type:r.D0.END_CALL,params:e}}function answerCall(e){return{name:r.fi.CALL,type:r.D0.ANSWER_CALL,params:e}}function sendCallToVoicemail(e){return{name:r.fi.CALL,type:r.D0.SEND_CALL_TO_VOICEMAIL,params:e}}function shouldUseStandaloneWindow(){return{name:r.fi.CALL,type:r.D0.SHOULD_USE_STANDALONE_WINDOW}}},746420:(e,t,n)=>{"use strict";n.d(t,{Vn:()=>companyShowEditName,br:()=>companyHideEditName,LN:()=>showFileSharing,N4:()=>hideFileSharing,h6:()=>showDataRetentionPolicy,U9:()=>hideDataRetentionPolicy,ph:()=>showGDPRDialog,m7:()=>hideGDPRDialog,Bu:()=>showAccountRemovalDialog,$9:()=>hideAccountRemovalDialog,WN:()=>showAccessToExport,UN:()=>hideAccessToExport,wR:()=>showExportRequestDialog,Ox:()=>hideExportRequestDialog,T9:()=>showGuestControl,Mb:()=>hideGuestControl});var r=n(374686);function companyShowEditName(){return{name:r.fi.COMPANY,type:r.j1.SHOW_EDIT_NAME}}function companyHideEditName(){return{name:r.fi.COMPANY,type:r.j1.HIDE_EDIT_NAME}}function showFileSharing(){return{name:r.fi.COMPANY,type:r.j1.SHOW_FILE_SHARING}}function hideFileSharing(){return{name:r.fi.COMPANY,type:r.j1.HIDE_FILE_SHARING}}function showDataRetentionPolicy(){return{name:r.fi.COMPANY,type:r.j1.SHOW_DATA_RETENTION}}function hideDataRetentionPolicy(){return{name:r.fi.COMPANY,type:r.j1.HIDE_DATA_RETENTION}}function showGDPRDialog(){return{name:r.fi.COMPANY,type:r.j1.SHOW_GDPR_DIALOG}}function hideGDPRDialog(){return{name:r.fi.COMPANY,type:r.j1.HIDE_GDPR_DIALOG}}function showAccountRemovalDialog(){return{name:r.fi.COMPANY,type:r.j1.SHOW_ACCOUNT_REMOVAL}}function hideAccountRemovalDialog(){return{name:r.fi.COMPANY,type:r.j1.HIDE_ACCOUNT_REMOVAL}}function showAccessToExport(){return{name:r.fi.COMPANY,type:r.j1.SHOW_ACCESS_TO_EXPORT}}function hideAccessToExport(){return{name:r.fi.COMPANY,type:r.j1.HIDE_ACCESS_TO_EXPORT}}function showExportRequestDialog(){return{name:r.fi.COMPANY,type:r.j1.SHOW_EXPORT_REQUEST}}function hideExportRequestDialog(){return{name:r.fi.COMPANY,type:r.j1.HIDE_EXPORT_REQUEST}}function showGuestControl(){return{name:r.fi.COMPANY,type:r.j1.SHOW_GUEST_CONTROL}}function hideGuestControl(){return{name:r.fi.COMPANY,type:r.j1.HIDE_GUEST_CONTROL}}},938284:(e,t,n)=>{"use strict";n.d(t,{X6:()=>registerContactSection,MX:()=>unregisterContactSection,Fl:()=>updateContactSection,ze:()=>openConnectContactDialog,Ur:()=>forceUpdateContactTab,_8:()=>onQuickContactChanged,d5:()=>setQuickContact,pg:()=>checkQuickContact});var r=n(374686);function registerContactSection(e){return{name:r.fi.CONTACT,type:r.p5.REGISTER_SECTION,params:e}}function unregisterContactSection(e){return{name:r.fi.CONTACT,type:r.p5.UNREGISTER_SECTION,params:e}}function updateContactSection(e){return{name:r.fi.CONTACT,type:r.p5.UPDATE_SECTION,params:e}}function openConnectContactDialog(){return{name:r.fi.CONTACT,type:r.p5.OPEN_CONNECT_CONTACT_DIALOG}}function forceUpdateContactTab(){return{name:r.fi.CONTACT,type:r.p5.FORCE_UPDATE_CONTACT_TAB}}function onQuickContactChanged(e){return{name:r.fi.CONTACT,type:r.p5.ON_QUICK_CONTACT_CHANGED,params:e}}function setQuickContact(e){return{name:r.fi.CONTACT,type:r.p5.SET_QUICK_CONTACT,params:e}}function checkQuickContact(e){return{name:r.fi.CONTACT,type:r.p5.CHECK_QUICK_CONTACT,params:e}}},120254:(e,t,n)=>{"use strict";n.d(t,{lF:()=>ensureClickDialAndFaxSetting,FL:()=>focusLastRCVWindows,NT:()=>focusRCVWindow,L6:()=>focusRCVWindowById,Vu:()=>getClickDialAndFaxSetting,XE:()=>ipcInitZoomModule,vT:()=>openRCVWindow,v4:()=>setClickDialAndFaxSetting,GT:()=>showRCVWindow,B9:()=>showRCVWindowById,CP:()=>updateRcvMeetStatusByWebContentsId});var r=n(374686);function ensureClickDialAndFaxSetting(){return{name:r.fi.PHONE_ELECTRON,type:r.mS.ENSURE_CLICK_DIAL_AND_FAX_SETTING}}function getClickDialAndFaxSetting(){return{name:r.fi.PHONE_ELECTRON,type:r.mS.GET_CLICK_DIAL_AND_FAX_SETTING}}function setClickDialAndFaxSetting(e){return{name:r.fi.PHONE_ELECTRON,type:r.mS.SET_CLICK_DIAL_AND_FAX_SETTING,params:e}}function showRCVWindowById(e){return{name:r.fi.VIDEO_ELECTRON,type:r.p9.SHOW_RCV_WINDOW_BY_ID,params:e}}function showRCVWindow(e){return{name:r.fi.VIDEO_ELECTRON,type:r.p9.SHOW_RCV_WINDOW,params:e}}function focusRCVWindowById(e){return{name:r.fi.VIDEO_ELECTRON,type:r.p9.FOCUS_RCV_WINDOW_BY_ID,params:e}}function focusLastRCVWindows(e){return{name:r.fi.VIDEO_ELECTRON,type:r.p9.FOCUS_LAST_RCV_WINDOW,params:e}}function focusRCVWindow(e){return{name:r.fi.VIDEO_ELECTRON,type:r.p9.FOCUS_RCV_WINDOW,params:e}}function openRCVWindow(e){return{name:r.fi.VIDEO_ELECTRON,type:r.p9.OPEN_RCV_WINDOW,params:e}}function updateRcvMeetStatusByWebContentsId(e){return{name:r.fi.VIDEO_ELECTRON,type:r.p9.UPDATE_RCV_MEET_STATUS_BY_WEB_CONTENTS_ID,params:e}}function ipcInitZoomModule(){return{name:r.fi.VIDEO_ELECTRON,type:r.p9.INIT_ZOOM_MODULE}}},491835:(e,t,n)=>{"use strict";n.r(t);n.d(t,{createFax:()=>createFax});var r=n(374686);function createFax(e){return{name:r.fi.FAX,type:r.Bx.CREATE_FAX,params:e}}},799034:(e,t,n)=>{"use strict";n.d(t,{gN:()=>registerGlobalSearchExtension,rz:()=>unregisterGlobalSearchExtension,uX:()=>openGlobalSearchDialog,i9:()=>watchGlobalSearchKey,IZ:()=>clearGlobalSearchKey});var r=n(374686);function registerGlobalSearchExtension(e){return{name:r.fi.GLOBAL_SEARCH,type:r.jX.REGISTER_EXTENSION,params:e}}function unregisterGlobalSearchExtension(e){return{name:r.fi.GLOBAL_SEARCH,type:r.jX.UN_REGISTER_EXTENSION,params:e}}function openGlobalSearchDialog(){return{name:r.fi.GLOBAL_SEARCH,type:r.jX.OPEN_GLOBAL_SEARCH_DIALOG}}function watchGlobalSearchKey(e){return{name:r.fi.GLOBAL_SEARCH,type:r.jX.WATCH_SEARCH_KEY,params:e}}function clearGlobalSearchKey(){return{name:r.fi.GLOBAL_SEARCH,type:r.jX.CLEAR_SEARCH_KEY}}},602982:()=>{},707436:(e,t,n)=>{"use strict";n.r(t);n.d(t,{focusMainWindow:()=>focusMainWindow,getHUDWindowId:()=>getHUDWindowId});var r=n(374686);function focusMainWindow(e){return{name:r.fi.HUD,type:r.RL.FOCUS_MAIN_WINDOW,params:e}}function getHUDWindowId(){return{name:r.fi.HUD,type:r.RL.GET_HUD_WINDOW_ID}}},703829:(e,t,n)=>{"use strict";n.d(t,{K:()=>startHuddle,_v:()=>getGroupHuddleBanner,Qo:()=>getHuddleModel,um:()=>getHuddleGroupModel,LG:()=>getHuddleGroupStore,M8:()=>getHuddleStore,Ng:()=>listenGroupHasLiveHuddle});var r=n(374686);function startHuddle(e){return{name:r.fi.HUDDLE,type:r.pX.START_HUDDLE,params:e}}function getGroupHuddleBanner(){return{name:r.fi.HUDDLE,type:r.pX.GET_GROUP_HUDDLE_BANNER}}function getHuddleModel(e){return{name:r.fi.HUDDLE,type:r.pX.GET_HUDDLE_MODEL,params:e}}function getHuddleGroupModel(e){return{name:r.fi.HUDDLE,type:r.pX.GET_HUDDLE_GROUP_MODEL,params:e}}function getHuddleGroupStore(){return{name:r.fi.HUDDLE,type:r.pX.GET_HUDDLE_GROUP_STORE}}function getHuddleStore(){return{name:r.fi.HUDDLE,type:r.pX.GET_HUDDLE_STORE}}function listenGroupHasLiveHuddle(e){return{name:r.fi.HUDDLE,type:r.pX.LISTEN_GROUP_HAS_LIVE_HUDDLE,params:e}}},83589:(e,t,n)=>{"use strict";n.r(t);n.d(t,{ensureClickDialAndFaxSetting:()=>h.lF,focusLastRCVWindows:()=>h.FL,focusRCVWindow:()=>h.NT,focusRCVWindowById:()=>h.L6,getClickDialAndFaxSetting:()=>h.Vu,ipcInitZoomModule:()=>h.XE,openRCVWindow:()=>h.vT,setClickDialAndFaxSetting:()=>h.v4,showRCVWindow:()=>h.GT,showRCVWindowById:()=>h.B9,updateRcvMeetStatusByWebContentsId:()=>h.CP,canScheduleWithAttendee:()=>v.$g,getPMILink:()=>v.Kw,invokeProximityCheck:()=>v.Ce,isSupportRcve:()=>v.Bx,joinMeetingUnified:()=>v.Lb,joinMeetingWithEntity:()=>v.gq,joinMeetingWithEntityExternal:()=>v.J1,joinMeetingWithId:()=>v.fp,joinMeetingWithLink:()=>v.dv,joinMeetingWithLinkExternal:()=>v.Ih,joinMeetingWithRCVWaitingPageUrl:()=>v.Nc,joinMeetingWithRawUri:()=>v.AD,listenRcveMeetingStatus:()=>v.fr,notifyHerculesEnabled:()=>v.l3,openScheduleMeetingDialog:()=>v.km,registerObservableMeetingStatus:()=>v.WH,showJoinMeetingDialog:()=>v.a1,startDirectShare:()=>v.oS,startMeeting:()=>v.K6,startMeetingExternal:()=>v.eA,startMeetingUnified:()=>v.Q8,stopDirectShare:()=>v.os,switchMeeting:()=>v.o5,switchMeetingUnified:()=>v.iE,unListenRcveMeetingStatus:()=>v.Vm,unwatchDirectShareStatus:()=>v.mJ,unwatchRCMDirectShareStatus:()=>v.Y5,unwatchRCVMeetingStatus:()=>v.u2,unwatchRSERoomInfo:()=>v.fM,unwatchRSERoomsList:()=>v.W4,unwatchRSEState:()=>v.Cz,updateCalendarAuthState:()=>v.dZ,watchDirectShareStatus:()=>v.nU,watchRCMDirectShareStatus:()=>v.pb,watchRCMStatus:()=>v.xk,watchRCVMeetingStatus:()=>v.Gp,watchRSERoomInfo:()=>v.ru,watchRSERoomsList:()=>v.aZ,watchRSEState:()=>v.fS,checkQuickContact:()=>g.pg,forceUpdateContactTab:()=>g.Ur,onQuickContactChanged:()=>g._8,openConnectContactDialog:()=>g.ze,registerContactSection:()=>g.X6,setQuickContact:()=>g.d5,unregisterContactSection:()=>g.MX,updateContactSection:()=>g.Fl,getPluginDefaultPath:()=>_.J,setFilterKey:()=>_.k,companyHideEditName:()=>y.br,companyShowEditName:()=>y.Vn,hideAccessToExport:()=>y.UN,hideAccountRemovalDialog:()=>y.$9,hideDataRetentionPolicy:()=>y.U9,hideExportRequestDialog:()=>y.Ox,hideFileSharing:()=>y.N4,hideGDPRDialog:()=>y.m7,hideGuestControl:()=>y.Mb,showAccessToExport:()=>y.WN,showAccountRemovalDialog:()=>y.Bu,showDataRetentionPolicy:()=>y.h6,showExportRequestDialog:()=>y.wR,showFileSharing:()=>y.LN,showGDPRDialog:()=>y.ph,showGuestControl:()=>y.T9,telephony:()=>a,sms:()=>u,smb:()=>f,resourceCenter:()=>d,router:()=>p,clearGlobalSearchKey:()=>b.IZ,openGlobalSearchDialog:()=>b.uX,registerGlobalSearchExtension:()=>b.gN,unregisterGlobalSearchExtension:()=>b.rz,watchGlobalSearchKey:()=>b.i9,message:()=>r,fax:()=>s,joinMeetingWithRCVE:()=>C.l$,startMeetingWithRCVE:()=>C.zB,switchMeetingWithRCVE:()=>C.r3,call:()=>c,hud:()=>l,getGroupHuddleBanner:()=>R._v,getHuddleGroupModel:()=>R.um,getHuddleGroupStore:()=>R.LG,getHuddleModel:()=>R.Qo,getHuddleStore:()=>R.M8,listenGroupHasLiveHuddle:()=>R.Ng,startHuddle:()=>R.K,hasActiveRwcMeeting:()=>P.eJ,isHerculesCompatible:()=>P._g,leaveHerculesMeeting:()=>P.uy,openHerculesMeetingWindow:()=>P.xe,openRwcMeetingSetting:()=>P.a2,prepareRWCMeeting:()=>P.yK,showRwcMeetingWindow:()=>P.gB,watchHerculesStatus:()=>P.mO,getDashboardTitle:()=>A.En,hasActiveWebinarMeeting:()=>A.kR,joinWebinar:()=>A.yg,openScheduleWebinarDialog:()=>A.YR,openWebinarRecording:()=>A.wI,showWebinarMeetingWindow:()=>A.wX,getContactsGalleryPath:()=>T.z,video:()=>o,phone:()=>i});var r=n(732297);var o=n(921947);var i=n(229034);var a=n(972688);var u=n(741563);var s=n(491835);var c=n(419929);var l=n(707436);var f=n(477774);var d=n(859764);var p=n(428599);var h=n(120254);var v=n(797634);var g=n(938284);var _=n(212890);var y=n(746420);var b=n(799034);var C=n(995915);var m=n(602982);var S=n.n(m);var E={};for(const e in m)if(["default","telephony","sms","smb","resourceCenter","router","message","fax","call","hud","video","phone","ensureClickDialAndFaxSetting","focusLastRCVWindows","focusRCVWindow","focusRCVWindowById","getClickDialAndFaxSetting","ipcInitZoomModule","openRCVWindow","setClickDialAndFaxSetting","showRCVWindow","showRCVWindowById","updateRcvMeetStatusByWebContentsId","canScheduleWithAttendee","getPMILink","invokeProximityCheck","isSupportRcve","joinMeetingUnified","joinMeetingWithEntity","joinMeetingWithEntityExternal","joinMeetingWithId","joinMeetingWithLink","joinMeetingWithLinkExternal","joinMeetingWithRCVWaitingPageUrl","joinMeetingWithRawUri","listenRcveMeetingStatus","notifyHerculesEnabled","openScheduleMeetingDialog","registerObservableMeetingStatus","showJoinMeetingDialog","startDirectShare","startMeeting","startMeetingExternal","startMeetingUnified","stopDirectShare","switchMeeting","switchMeetingUnified","unListenRcveMeetingStatus","unwatchDirectShareStatus","unwatchRCMDirectShareStatus","unwatchRCVMeetingStatus","unwatchRSERoomInfo","unwatchRSERoomsList","unwatchRSEState","updateCalendarAuthState","watchDirectShareStatus","watchRCMDirectShareStatus","watchRCMStatus","watchRCVMeetingStatus","watchRSERoomInfo","watchRSERoomsList","watchRSEState","checkQuickContact","forceUpdateContactTab","onQuickContactChanged","openConnectContactDialog","registerContactSection","setQuickContact","unregisterContactSection","updateContactSection","getPluginDefaultPath","setFilterKey","companyHideEditName","companyShowEditName","hideAccessToExport","hideAccountRemovalDialog","hideDataRetentionPolicy","hideExportRequestDialog","hideFileSharing","hideGDPRDialog","hideGuestControl","showAccessToExport","showAccountRemovalDialog","showDataRetentionPolicy","showExportRequestDialog","showFileSharing","showGDPRDialog","showGuestControl","clearGlobalSearchKey","openGlobalSearchDialog","registerGlobalSearchExtension","unregisterGlobalSearchExtension","watchGlobalSearchKey","joinMeetingWithRCVE","startMeetingWithRCVE","switchMeetingWithRCVE"].indexOf(e)<0)E[e]=()=>m[e];n.d(t,E);var I=n(156478);var w=n.n(I);var E={};for(const e in I)if(["default","telephony","sms","smb","resourceCenter","router","message","fax","call","hud","video","phone","ensureClickDialAndFaxSetting","focusLastRCVWindows","focusRCVWindow","focusRCVWindowById","getClickDialAndFaxSetting","ipcInitZoomModule","openRCVWindow","setClickDialAndFaxSetting","showRCVWindow","showRCVWindowById","updateRcvMeetStatusByWebContentsId","canScheduleWithAttendee","getPMILink","invokeProximityCheck","isSupportRcve","joinMeetingUnified","joinMeetingWithEntity","joinMeetingWithEntityExternal","joinMeetingWithId","joinMeetingWithLink","joinMeetingWithLinkExternal","joinMeetingWithRCVWaitingPageUrl","joinMeetingWithRawUri","listenRcveMeetingStatus","notifyHerculesEnabled","openScheduleMeetingDialog","registerObservableMeetingStatus","showJoinMeetingDialog","startDirectShare","startMeeting","startMeetingExternal","startMeetingUnified","stopDirectShare","switchMeeting","switchMeetingUnified","unListenRcveMeetingStatus","unwatchDirectShareStatus","unwatchRCMDirectShareStatus","unwatchRCVMeetingStatus","unwatchRSERoomInfo","unwatchRSERoomsList","unwatchRSEState","updateCalendarAuthState","watchDirectShareStatus","watchRCMDirectShareStatus","watchRCMStatus","watchRCVMeetingStatus","watchRSERoomInfo","watchRSERoomsList","watchRSEState","checkQuickContact","forceUpdateContactTab","onQuickContactChanged","openConnectContactDialog","registerContactSection","setQuickContact","unregisterContactSection","updateContactSection","getPluginDefaultPath","setFilterKey","companyHideEditName","companyShowEditName","hideAccessToExport","hideAccountRemovalDialog","hideDataRetentionPolicy","hideExportRequestDialog","hideFileSharing","hideGDPRDialog","hideGuestControl","showAccessToExport","showAccountRemovalDialog","showDataRetentionPolicy","showExportRequestDialog","showFileSharing","showGDPRDialog","showGuestControl","clearGlobalSearchKey","openGlobalSearchDialog","registerGlobalSearchExtension","unregisterGlobalSearchExtension","watchGlobalSearchKey","joinMeetingWithRCVE","startMeetingWithRCVE","switchMeetingWithRCVE"].indexOf(e)<0)E[e]=()=>I[e];n.d(t,E);var R=n(703829);var P=n(890622);var A=n(415266);var T=n(231874)},797634:(e,t,n)=>{"use strict";n.d(t,{fp:()=>joinMeetingWithId,dv:()=>joinMeetingWithLink,o5:()=>switchMeeting,iE:()=>switchMeetingUnified,km:()=>openScheduleMeetingDialog,K6:()=>startMeeting,dZ:()=>updateCalendarAuthState,gq:()=>joinMeetingWithEntity,xk:()=>watchRCMStatus,Gp:()=>watchRCVMeetingStatus,u2:()=>unwatchRCVMeetingStatus,a1:()=>showJoinMeetingDialog,$g:()=>canScheduleWithAttendee,Q8:()=>startMeetingUnified,eA:()=>startMeetingExternal,J1:()=>joinMeetingWithEntityExternal,os:()=>stopDirectShare,oS:()=>startDirectShare,Ce:()=>invokeProximityCheck,Ih:()=>joinMeetingWithLinkExternal,Lb:()=>joinMeetingUnified,AD:()=>joinMeetingWithRawUri,Bx:()=>isSupportRcve,fr:()=>listenRcveMeetingStatus,Vm:()=>unListenRcveMeetingStatus,nU:()=>watchDirectShareStatus,mJ:()=>unwatchDirectShareStatus,fS:()=>watchRSEState,Cz:()=>unwatchRSEState,aZ:()=>watchRSERoomsList,W4:()=>unwatchRSERoomsList,ru:()=>watchRSERoomInfo,fM:()=>unwatchRSERoomInfo,pb:()=>watchRCMDirectShareStatus,Y5:()=>unwatchRCMDirectShareStatus,Nc:()=>joinMeetingWithRCVWaitingPageUrl,Kw:()=>getPMILink,WH:()=>registerObservableMeetingStatus,l3:()=>notifyHerculesEnabled});var r=n(374686);var o=n(723570);function joinMeetingWithId(e){return joinMeetingUnified(e)}function joinMeetingWithLink(e){return joinMeetingUnified(e)}function joinMeetingWithLinkExternal(e){return{name:r.fi.MEET,type:r.RI.JOIN_MEETING_WITH_LINK,params:e}}function joinMeetingWithRCVWaitingPageUrl(e){return{name:r.fi.MEET,type:r.RI.JOIN_MEETING_WITH_RCV_WAITING_PAGE_URL,params:e}}function switchMeeting(e){return{name:r.fi.MEET,type:r.RI.SWITCH_MEETING,params:e}}function switchMeetingUnified(e){return{name:r.fi.UNIFIED_MEETING_API,type:o.uq.SWITCH_MEETING_UNIFIED,params:e}}function joinMeetingWithEntity(e){return joinMeetingUnified(e)}function joinMeetingWithEntityExternal(e){return{name:r.fi.MEET,type:r.RI.JOIN_MEETING_WITH_ENTITY,params:e}}function joinMeetingUnified(e){return{name:r.fi.UNIFIED_MEETING_API,type:o.uq.JOIN_MEETING_UNIFIED,params:e}}function startMeeting(e){return startMeetingUnified(e)}function startMeetingUnified(e){return{name:r.fi.UNIFIED_MEETING_API,type:o.uq.START_MEETING_UNIFIED,params:e}}function startMeetingExternal(e){return{name:r.fi.MEET,type:r.RI.START_MEETING,params:e}}function updateCalendarAuthState(){return{name:r.fi.MEET,type:r.RI.UPDATE_CALENDAR_AUTH_STATE}}function watchRCMStatus(e){return{name:r.fi.MEET,type:r.RI.WATCH_RCM_STATUS,params:e}}function watchRCMDirectShareStatus(e){return{name:r.fi.MEET,type:r.RI.WATCH_RCM_DS_STATUS,params:e}}function unwatchRCMDirectShareStatus(e){return{name:r.fi.MEET,type:r.RI.UNWATCH_RCM_DS_STATUS,params:e}}function watchDirectShareStatus(e){return{name:r.fi.MEET,type:r.RI.WATCH_DS_STATUS,params:e}}function unwatchDirectShareStatus(e){return{name:r.fi.MEET,type:r.RI.UNWATCH_DS_STATUS,params:e}}function watchRCVMeetingStatus(e){return{name:r.fi.MEET,type:r.RI.WATCH_RCV_MEETING_STATUS,params:e}}function unwatchRCVMeetingStatus(e){return{name:r.fi.MEET,type:r.RI.UNWATCH_RCV_MEETING_STATUS,params:e}}function watchRSEState(e){return{name:r.fi.MEET,type:r.RI.WATCH_RSE_STATE,params:e}}function unwatchRSEState(e){return{name:r.fi.MEET,type:r.RI.UNWATCH_RSE_STATE,params:e}}function watchRSERoomsList(e){return{name:r.fi.MEET,type:r.RI.WATCH_RSE_ROOMS_LIST,params:e}}function unwatchRSERoomsList(e){return{name:r.fi.MEET,type:r.RI.UNWATCH_RSE_ROOMS_LIST,params:e}}function watchRSERoomInfo(e){return{name:r.fi.MEET,type:r.RI.WATCH_RSE_ROOM_INFO,params:e}}function unwatchRSERoomInfo(e){return{name:r.fi.MEET,type:r.RI.UNWATCH_RSE_ROOM_INFO,params:e}}function showJoinMeetingDialog(e){return{name:r.fi.MEET,type:r.RI.SHOW_JOIN_MEETING_DIALOG,params:e}}function openScheduleMeetingDialog(e){return{name:r.fi.MEET,type:r.RI.OPEN_SCHEDULE_MEETING_DIALOG,params:e}}function getPMILink(e){return{name:r.fi.MEET,type:r.RI.GET_PMI_LINK,params:e}}function canScheduleWithAttendee(){return{name:r.fi.MEET,type:r.RI.CAN_SCHEDULE_WITH_ATTENDEE}}function startDirectShare(){return{name:r.fi.MEET,type:r.RI.START_DIRECT_SHARE}}function stopDirectShare(){return{name:r.fi.MEET,type:r.RI.STOP_DIRECT_SHARE}}function invokeProximityCheck(){return{name:r.fi.MEET,type:r.RI.INVOKE_PROXIMITY_CHECK}}function isSupportRcve(){return{name:r.fi.UNIFIED_MEETING_API,type:o.uq.IS_SUPPORT_RCVE}}function listenRcveMeetingStatus(e){return{name:r.fi.RCVE,type:o.V3.LISTEN_RCVE_MEETING_STATUS,params:e}}function unListenRcveMeetingStatus(e){return{name:r.fi.RCVE,type:o.V3.UN_LISTEN_RCVE_MEETING_STATUS,params:e}}function joinMeetingWithRawUri(e){return{name:r.fi.MEET,type:r.RI.JOIN_MEETING_WITH_RAW_URI,params:e}}function registerObservableMeetingStatus(e){return{name:r.fi.MEET,type:r.RI.REGISTER_OBSERVABLE_MEET_STATUS_STORE,params:e}}function notifyHerculesEnabled(){return{name:r.fi.MEET,type:r.RI.NOTIFY_HERCULES_ENABLED}}},732297:(e,t,n)=>{"use strict";n.r(t);n.d(t,{getGroupPresenter:()=>getGroupPresenter,highLightRightRailIntegration:()=>highLightRightRailIntegration,goToConversation:()=>goToConversation,showNewMessage:()=>showNewMessage,showCreateTeam:()=>showCreateTeam,showInviteByEmail:()=>showInviteByEmail,showShareInviteLink:()=>showShareInviteLink,showInviteByText:()=>showInviteByText,makeConferenceByConversationId:()=>makeConferenceByConversationId,setCustomStatus:()=>setCustomStatus,showCustomStatusDialog:()=>showCustomStatusDialog,sendPostById:()=>sendPostById,isIndividualGroup:()=>isIndividualGroup,showConversationPicker:()=>showConversationPicker,createTeam:()=>createTeam,getDefaultPath:()=>getDefaultPath,onTeamArchive:()=>onTeamArchive,goToConversationWithLoading:()=>goToConversationWithLoading,goToConversationByEmail:()=>goToConversationByEmail,getConversationId:()=>getConversationId,watch:()=>watch,toggleFavorite:()=>toggleFavorite,firstSignInJupiter:()=>firstSignInJupiter,cancelVideoCall:()=>cancelVideoCall});var r=n(374686);function getGroupPresenter(e){return{name:r.fi.MESSAGE,type:r.$B.GET_GROUP_PRESENTER,params:e}}function highLightRightRailIntegration(e){return{name:r.fi.MESSAGE,type:r.$B.RIGHT_RAIL_HIGHLIGHT_INTEGRATION,params:e}}function goToConversation(e){return{name:r.fi.MESSAGE,type:r.$B.GO_TO_CONVERSATION,params:e}}function showNewMessage(e){return{name:r.fi.MESSAGE,type:r.$B.SHOW_NEW_MESSAGE,params:e}}function showCreateTeam(e){return{name:r.fi.MESSAGE,type:r.$B.SHOW_CREATE_TEAM,params:e}}function showInviteByEmail(e){return{name:r.fi.MESSAGE,type:r.$B.SHOW_INVITE_BY_EMAIL,params:e}}function showShareInviteLink(e){return{name:r.fi.MESSAGE,type:r.$B.SHOW_SHARE_INVITE_LINK,params:e}}function showInviteByText(e){return{name:r.fi.MESSAGE,type:r.$B.SHOW_INVITE_BY_TEXT,params:e}}function makeConferenceByConversationId(e){return{name:r.fi.MESSAGE,type:r.$B.MAKE_CONFERENCE_BY_CONVERSATION_ID,params:e}}function setCustomStatus(e){return{name:r.fi.MESSAGE,type:r.$B.SET_CUSTOM_STATUS,params:e}}function showCustomStatusDialog(){return{name:r.fi.MESSAGE,type:r.$B.SHOW_CUSTOM_STATUS_DIALOG}}function showConversationPicker(e){return{name:r.fi.MESSAGE,type:r.$B.SHOW_CONVERSATION_PICKER,params:e}}function goToConversationWithLoading(e){return{name:r.fi.MESSAGE,type:r.$B.GO_TO_CONVERSATION_WITH_LOADING,params:e}}function goToConversationByEmail(e){return{name:r.fi.MESSAGE,type:r.$B.GO_TO_CONVERSATION_BY_EMAIL,params:e}}function getConversationId(e){return{name:r.fi.MESSAGE,type:r.$B.GET_CONVERSATION_ID,params:e}}function sendPostById(e){return{name:r.fi.MESSAGE,type:r.$B.SEND_POST_BY_ID,params:e}}function isIndividualGroup(e){return{name:r.fi.MESSAGE,type:r.$B.IS_INDIVIDUAL_GROUP,params:e}}function createTeam(e){return{name:r.fi.MESSAGE,type:r.$B.CREATE_TEAM,params:e}}function getDefaultPath(){return{name:r.fi.MESSAGE,type:r.$B.GET_DEFAULT_PATH}}function onTeamArchive(e){return{name:r.fi.MESSAGE,type:r.$B.ON_TEAM_ARCHIVE,params:e}}function watch(e){return{name:r.fi.MESSAGE,type:r.$B.WATCH,params:e}}function toggleFavorite(e){return{name:r.fi.MESSAGE,type:r.$B.TOGGLE_FAVORITE,params:e}}function firstSignInJupiter(){return{name:r.fi.MESSAGE,type:r.$B.FIRST_SIGN_IN_JUPITER}}function cancelVideoCall(e){return{name:r.fi.MESSAGE,type:r.$B.CANCEL_VIDEO_CALL,params:e}}},156478:()=>{},231874:(e,t,n)=>{"use strict";n.d(t,{z:()=>getContactsGalleryPath});var r=n(374686);function getContactsGalleryPath(){return{name:r.fi.ONBOARDING,type:r.So.GET_CONTACTS_GALLERY_PATH}}},229034:(e,t,n)=>{"use strict";n.r(t);n.d(t,{watch:()=>watch,getCurrentUrl:()=>getCurrentUrl});var r=n(374686);function watch(e){return{name:r.fi.CALL,type:r.Kx.WATCH,params:e}}function getCurrentUrl(){return{name:r.fi.TELEPHONY,type:r.Kx.GET_CURRENT_URL}}},212890:(e,t,n)=>{"use strict";n.d(t,{J:()=>getPluginDefaultPath,k:()=>setFilterKey});var r=n(374686);function getPluginDefaultPath(){return{name:r.fi.PLUGINS,type:r.eE.GET_DEFAULT_PATH}}function setFilterKey(e){return{name:r.fi.PLUGINS,type:r.eE.SET_FILTER_KEY,params:e}}},995915:(e,t,n)=>{"use strict";n.d(t,{l$:()=>joinMeetingWithRCVE,zB:()=>startMeetingWithRCVE,r3:()=>switchMeetingWithRCVE});var r=n(374686);function startMeetingWithRCVE(e){return{name:r.fi.RCVE,type:r.V3.START_MEETING,params:e}}function joinMeetingWithRCVE(e){return{name:r.fi.RCVE,type:r.V3.JOIN_MEETING,params:e}}function switchMeetingWithRCVE(e){return{name:r.fi.RCVE,type:r.V3.SWITCH_MEETING,params:e}}},859764:(e,t,n)=>{"use strict";n.r(t);n.d(t,{openResourceCenter:()=>openResourceCenter,getUrl:()=>getUrl});var r=n(374686);function openResourceCenter(){return{name:r.fi.RESOURCE_CENTER,type:r.F$.OPEN_RESOURCE_CENTER}}function getUrl(){return{name:r.fi.RESOURCE_CENTER,type:r.F$.GET_URL}}},428599:(e,t,n)=>{"use strict";n.r(t);n.d(t,{goForward:()=>goForward,goBack:()=>goBack,goToIndex:()=>goToIndex});var r=n(374686);function goForward(){return{name:r.fi.ROUTER,type:r.Yj.GO_FORWARD}}function goBack(){return{name:r.fi.ROUTER,type:r.Yj.GO_BACK}}function goToIndex(e){return{name:r.fi.ROUTER,type:r.Yj.GO_TO_INDEX,params:e}}},890622:(e,t,n)=>{"use strict";n.d(t,{a2:()=>openRwcMeetingSetting,eJ:()=>hasActiveRwcMeeting,gB:()=>showRwcMeetingWindow,_g:()=>isHerculesCompatible,mO:()=>watchHerculesStatus,yK:()=>prepareRWCMeeting,xe:()=>openHerculesMeetingWindow,uy:()=>leaveHerculesMeeting});var r=n(374686);function openRwcMeetingSetting(e){return{name:r.fi.RWC,type:r.h2.OPEN_SETTING_DIALOG,params:e}}function hasActiveRwcMeeting(e){return{name:r.fi.RWC,type:r.h2.HAS_ACTIVE_MEETING,params:e}}function showRwcMeetingWindow(e){return{name:r.fi.RWC,type:r.h2.SHOW_MEETING_WINDOW,params:e}}function isHerculesCompatible(){return{name:r.fi.RWC,type:r.h2.IS_HERCULES_COMPATIBLE}}function watchHerculesStatus(e){return{name:r.fi.RWC,type:r.h2.WATCH_HERCULES_STATUS,params:e}}function prepareRWCMeeting(){return{name:r.fi.RWC,type:r.h2.PREPARE_HERCULES_MEETING}}function openHerculesMeetingWindow(e){return{name:r.fi.RWC,type:r.h2.OPEN_HERCULES_MEETING_WINDOW,params:e}}function leaveHerculesMeeting(e){return{name:r.fi.RWC,type:r.h2.LEAVE_HERCULES_MEETING,params:e}}},477774:(e,t,n)=>{"use strict";n.r(t);n.d(t,{getCompanySetupCompletion:()=>getCompanySetupCompletion});var r=n(374686);function getCompanySetupCompletion(){return{name:r.fi.SMB,type:r.SV.GET_COMPANY_SETUP_COMPLETION}}},741563:(e,t,n)=>{"use strict";n.r(t);n.d(t,{showNewText:()=>showNewText,goToTextConversation:()=>goToTextConversation,getSMSEntity:()=>getSMSEntity,getSMSGroupEntity:()=>getSMSGroupEntity,goToSMSConversationById:()=>goToSMSConversationById,updateSMSEntityStore:()=>updateSMSEntityStore,getSMSStoreManager:()=>getSMSStoreManager,verifySMSNumber:()=>verifySMSNumber});var r=n(374686);function showNewText(e){return{name:r.fi.SMS,type:r.yW.SHOW_NEW_TEXT,params:e}}function goToTextConversation(e){return{name:r.fi.SMS,type:r.yW.GO_TO_TEXT_CONVERSATION,params:e}}function goToSMSConversationById(e){return{name:r.fi.SMS,type:r.yW.GO_TO_TEXT_CONVERSATION_BY_CONVERSATION_ID,params:e}}function getSMSEntity(e){return{name:r.fi.SMS,type:r.yW.GET_SMS_ENTITY,params:e}}function getSMSStoreManager(){return{name:r.fi.SMS,type:r.yW.GET_SMS_STORE_MANAGER}}function getSMSGroupEntity(e){return{name:r.fi.SMS,type:r.yW.GET_SMS_GROUP_ENTITY,params:e}}function updateSMSEntityStore(e){return{name:r.fi.SMS,type:r.yW.UPDATE_ENTITY_STORE,params:e}}function verifySMSNumber(e){return{name:r.fi.SMS,type:r.yW.VERIFY_SMS_NUMBER,params:e}}},972688:(e,t,n)=>{"use strict";n.r(t);n.d(t,{openCallQueueManageDialog:()=>openCallQueueManageDialog,setAcceptCallQueueStatus:()=>setAcceptCallQueueStatus,watchAcceptCallQueueValue:()=>watchAcceptCallQueueValue,watchQueueItemChange:()=>watchQueueItemChange,openE911:()=>openE911,needConfirmE911:()=>needConfirmE911,needE911Prompt:()=>needE911Prompt,alertE911Dialog:()=>alertE911Dialog,registerPhoneSection:()=>registerPhoneSection,unRegisterPhoneSection:()=>unRegisterPhoneSection,restPhoneTabPathWhenMatch:()=>restPhoneTabPathWhenMatch,openRegion:()=>openRegion,getConferenceInvitation:()=>getConferenceInvitation,getE911InfoForSMB:()=>getE911InfoForSMB,getE911InfoIsReadyForSMB:()=>getE911InfoIsReadyForSMB,addE911InfoListener:()=>addE911InfoListener,removeE911InfoListener:()=>removeE911InfoListener});var r=n(374686);function openE911(e){return{name:r.fi.TELEPHONY,type:r.S_.OPEN_E911,params:e}}function alertE911Dialog(e){return{name:r.fi.TELEPHONY,type:r.S_.ALERT_E911_DIALOG,params:e}}function needE911Prompt(){return{name:r.fi.TELEPHONY,type:r.S_.NEED_E911_PROMPT}}function needConfirmE911(){return{name:r.fi.TELEPHONY,type:r.S_.NEED_CONFIRM_E911}}function openCallQueueManageDialog(){return{name:r.fi.TELEPHONY,type:r.S_.OPEN_CALL_QUEUE_DIALOG}}function setAcceptCallQueueStatus(){return{name:r.fi.TELEPHONY,type:r.S_.SET_ACCEPT_CALL_QUEUE_STATUS}}function watchAcceptCallQueueValue(e){return{name:r.fi.TELEPHONY,type:r.S_.WATCH_ACCEPT_CALL_QUEUE_STATUS,params:e}}function watchQueueItemChange(e){return{name:r.fi.TELEPHONY,type:r.S_.WATCH_QUEUE_ITEMS_CHANGE,params:e}}function registerPhoneSection(e){return{name:r.fi.TELEPHONY,type:r.S_.REGISTER_SECTION,params:e}}function unRegisterPhoneSection(e){return{name:r.fi.TELEPHONY,type:r.S_.UNREGISTER_SECTION,params:e}}function restPhoneTabPathWhenMatch(e){return{name:r.fi.TELEPHONY,type:r.S_.RESET_PHONE_TAB_PATH_WHEN_MATCH,params:e}}function openRegion(e){return{name:r.fi.TELEPHONY,type:r.S_.OPEN_REGION,params:e}}function getConferenceInvitation(e){return{params:e,name:r.fi.TELEPHONY,type:r.S_.GET_CONFERENCE_INVITATION}}function getE911InfoForSMB(){return{name:r.fi.TELEPHONY,type:r.S_.GET_E911_INFO_FOR_SMB}}function getE911InfoIsReadyForSMB(){return{name:r.fi.TELEPHONY,type:r.S_.GET_E911_INFO_IS_READY_FOR_SMB}}function addE911InfoListener(e){return{name:r.fi.TELEPHONY,type:r.S_.ADD_E911_INFO_LISTENER,params:{callback:e}}}function removeE911InfoListener(e){return{name:r.fi.TELEPHONY,type:r.S_.REMOVE_E911_INFO_LISTENER,params:{callback:e}}}},921947:(e,t,n)=>{"use strict";n.r(t);n.d(t,{watch:()=>watch,showMeetingWindows:()=>showMeetingWindows,callToVideo:()=>callToVideo});var r=n(374686);function watch(e){return{name:r.fi.MEET,type:r.RI.WATCH,params:e}}function showMeetingWindows(e){return{name:r.fi.MEET,type:r.RI.SHOW_MEETING_WINDOWS,params:e}}function callToVideo(e){return{name:r.fi.MEET,type:r.RI.CALL_TO_VIDEO,params:e}}},415266:(e,t,n)=>{"use strict";n.d(t,{YR:()=>openScheduleWebinarDialog,yg:()=>joinWebinar,wI:()=>openWebinarRecording,wX:()=>showWebinarMeetingWindow,kR:()=>hasActiveWebinarMeeting,En:()=>getDashboardTitle});var r=n(374686);function openScheduleWebinarDialog(e){return{name:r.fi.WEBINAR,type:r.vt.OPEN_SCHEDULE_WEBINAR_DIALOG,params:e}}function joinWebinar(e){return{name:r.fi.WEBINAR,type:r.vt.JOIN_WEBINAR,params:e}}function openWebinarRecording(e){return{name:r.fi.WEBINAR,type:r.vt.OPEN_WEBINAR_RECORDING,params:e}}function showWebinarMeetingWindow(){return{name:r.fi.WEBINAR,type:r.vt.SHOW_MEETING_WINDOW}}function hasActiveWebinarMeeting(e){return{name:r.fi.WEBINAR,type:r.vt.HAS_ACTIVE_MEETING,params:e}}function getDashboardTitle(e){return{name:r.fi.WEBINAR,type:r.vt.GET_DASHBOARD_TITLE,params:e}}},583230:(e,t,n)=>{"use strict";var r=n(296632);r.ZP.set(r.MG.CURRENT_USER_ID,0);r.ZP.set(r.MG.NETWORK,"online")},915264:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(814678);var o=function(){function BaseNotificationSubscribable(){this._notificationObservers={}}BaseNotificationSubscribable.prototype._setNotificationObservers=function(e,t){var n=this._notificationObservers[e];if(!n){n=[];this._notificationObservers[e]=n}n.push(t)};BaseNotificationSubscribable.prototype.subscribeNotificationOnce=function(e,t){this._setNotificationObservers(e,t);r.rF.once(e,t)};BaseNotificationSubscribable.prototype.subscribeNotification=function(e,t){this._setNotificationObservers(e,t);r.rF.on(e,t)};BaseNotificationSubscribable.prototype.getNotificationObservers=function(){return this._notificationObservers};BaseNotificationSubscribable.prototype.dispose=function(){var e=this;Object.keys(this._notificationObservers).forEach((function(t){e._notificationObservers[t].forEach((function(e){r.rF.removeListener(t,e)}))}));this._notificationObservers={}};return BaseNotificationSubscribable}();const i=o},398526:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var r=n(325719);var o=n.n(r);function isPromiseCancel(e){if(e instanceof Promise&&typeof e.cancel==="function"){return true}return false}function isLambda(e){if(typeof e==="function"){return true}return false}var i=function(){function ObserverClass(){this._reactionDisposers=[]}ObserverClass.prototype.autorun=function(e,t){var n=(0,r.autorun)(e,t);this._reactionDisposers.push(n);return n};ObserverClass.prototype.reaction=function(e,t,n){var o=(0,r.reaction)(e,t,n);this._reactionDisposers.push(o);return o};ObserverClass.prototype.when=function(e,t,n){var o;if(t&&isLambda(t)){o=(0,r.when)(e,t,n)}else{o=(0,r.when)(e,t)}var i=isPromiseCancel(o)?o.cancel:o;this._reactionDisposers.push(i);return o};ObserverClass.prototype.dispose=function(){this._reactionDisposers.forEach((function(e){return e()}))};return ObserverClass}()},258419:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(398526);var o=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var i=function(e){o(StoreViewModel,e);function StoreViewModel(t){var n=e.call(this)||this;n.props=t;return n}return StoreViewModel}(r.l);const a=i},633390:()=>{},256803:()=>{},923710:(e,t,n)=>{"use strict";n.d(t,{StoreViewModel:()=>o.O,buildContainer:()=>buildContainer});var r=n(256803);var o=n(473824);var i=n(633390);var a=n(305406);var u=n.n(a);var s=n(862926);var c=n(962228);var l=n.n(c);var f=n(325719);var d=n(720795);var p=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var h=undefined&&undefined.__assign||function(){h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return h.apply(this,arguments)};var v=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var g=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};function buildContainer(e){var t=e.View,n=e.ViewModel,r=e.plugins,i=e.Context;var c=t.displayName||t.name;var _=function(e){p(Container,e);function Container(r){var o=e.call(this,r)||this;o._createViewModel=function(e){if(e===void 0){e={}}var t=new n(e);l()(o.plugins).forEach((function(e){e.install(t)}));t.getDerivedProps&&t.getDerivedProps(e);t.onReceiveProps&&t.onReceiveProps(e);return t};o.plugins=o._createPlugins();o.View=o._createView(t);o.vm=o._createViewModel(r);return o}i=Container;Container.prototype.componentWillUnmount=function(){this.vm.dispose&&this.vm.dispose()};Object.defineProperty(Container.prototype,"_viewProps",{get:function(){var e=this;var t=Object.getOwnPropertyDescriptors(this.vm);var r={};Object.keys(this.props).forEach((function(t){r[t]=e.props[t]}));Object.keys(t).filter(this._isViewProp).forEach((function(t){if(r[t]&&r[t]!==e.vm[t]){var o="buildContainer Error: '"+i.displayName+".props."+t+": "+r[t]+"' conflict with '"+n.name+"."+t+": "+e.vm[t]+"'";if(false){}else{s.mainLogger.warn(o)}}r[t]=e.vm[t]}));return r},enumerable:true,configurable:true});Container.prototype.calculateDerivedProps=function(){this.vm.getDerivedProps&&this.vm.getDerivedProps(this.props||{});this.vm.onReceiveProps&&this.vm.onReceiveProps(this.props||{})};Container.prototype._createPlugins=function(){return r?r():{}};Container.prototype._createView=function(e){var t=e;l()(this.plugins).forEach((function(e){t=e.wrapView(t)}));return t};Container.prototype._isViewProp=function(e){return!/^\$|_/.test(e)&&e!=="verboseMemoryLeak"&&e!=="props"};Container.prototype.render=function(){this.calculateDerivedProps();var e=this.View;return u().createElement(e,h({},this._viewProps))};var i,a;Container.displayName=c?"Container("+c+")":"Container";v([f.observable,g("design:type",typeof(a=typeof o.O!=="undefined"&&o.O)==="function"?a:Object)],Container.prototype,"vm",void 0);v([f.computed,g("design:type",Object),g("design:paramtypes",[])],Container.prototype,"_viewProps",null);v([f.action,g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",void 0)],Container.prototype,"calculateDerivedProps",null);Container=i=v([d.observer,g("design:paramtypes",[Object])],Container);return Container}(a.Component);if(i){_.contextType=i}return _}},223412:(e,t,n)=>{"use strict";n.d(t,{o:()=>useVM});var r=n(305406);var o=n.n(r);var i=n(325719);var a=n.n(i);var u=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};function useAsObservableSource(e){var t=u((0,r.useState)((function(){return(0,i.observable)(e,{},{deep:false})})),1),n=t[0];(0,r.useEffect)((function(){(0,i.runInAction)((function(){Object.assign(n,e)}))}),[e,n]);return n}function useVM(e,t,n){var o=useAsObservableSource(t);var i=u((0,r.useState)((function(){return new e(o,n)})),1),a=i[0];(0,r.useEffect)((function(){return function(){a.dispose()}}),[a]);return a}},992919:(e,t,n)=>{"use strict";n.d(t,{F:()=>h});var r=n(530425);var o=n(281973);var i=n(305406);var a=n.n(i);var u=n(61536);var s=n(448084);var c=n(744069);var l="LOADING_DIALOG";var f;var d;var p=300;var showLoader=function(e){if(e===void 0){e=true}if(o.ZP.isOpened(l))return;d=setTimeout((function(){var t=u.Vq.simple(a().createElement(r.gb,{loading:true},e?a().createElement(c.FG,null):a().createElement(c.$t,null)),{TransitionComponent:s.wh,disableBackdropClick:true,hideBackdrop:true,fullScreen:true,disableEscapeKeyDown:true},l).dismiss;f=t}),p)};var dismissLoader=function(){d&&clearTimeout(d);d=null;f&&f();f=null};var h={showLoader,dismissLoader}},727002:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var r=function(){function DialogService(){var e=this;this._registerReactions=new Map;this.canGotoTop=function(){return!Array.from(e._registerReactions.values()).some((function(e){return!e}))};this.registerCanGotoTop=function(t){var effect=function(n){e._registerReactions.set(t,n)};var n=t(effect);return function(){e._registerReactions.delete(t);n()}}}return DialogService}();var o=new r},235286:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var r=function(){function Assembler(e){if(e){this.converter=e.converter}}return Assembler}()},699695:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var r;(function(e){e["POST"]="POST";e["DATE_SEPARATOR"]="DATE_SEPARATOR";e["NEW_MSG_SEPARATOR"]="NEW_MSG_SEPARATOR";e["INITIAL_POST"]="INITIAL_POST"})(r||(r={}))},425230:(e,t,n)=>{"use strict";n.d(t,{r:()=>createAPI});var r=undefined&&undefined.__assign||function(){r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return r.apply(this,arguments)};function createAPI(e,t,n){if(n){return e}return t().then((function(t){Object.keys(e).forEach((function(n){if(!t[n]){throw new Error("The key in api is illegal, key: "+n)}e[n]=r(r({},e[n]),t[n])}));return e}))}},823143:(e,t,n)=>{"use strict";n.d(t,{G:()=>createEffect});var r=n(325719);var o=n.n(r);var i=n(168825);var a=n(184376);function createEffect(e,t){function effect(){var n=(0,r.reaction)((function(){if(t){return t()}var e=i.ZP.get(i.MG.RC_LOGIN_INFO);return Boolean(e&&e.success)}),(function(t){t&&(0,a.m)(e,"init")}),{fireImmediately:true});return function(){n();(0,a.m)(e,"dispose")}}return effect}},392331:(e,t,n)=>{"use strict";n.d(t,{e:()=>createLazyBinding});var r=n(957685);var o=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var i=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var a=3;function createLazyBinding(e){var t=this;var binding=function(){return o(t,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,(0,r.retry)(e,a)];case 1:t=n.sent();return[2,Object.keys(t).reduce((function(e,n){e[n]={provider:t[n]};return e}),{})]}}))}))};return binding}},238552:(e,t,n)=>{"use strict";var r=n(957685);var o=n(796036);var i=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var a=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var u="WINDOW_MANAGER";var s={CREATE:u+"_CREATE"};function newWindow(e,t){return i(this,void 0,Promise,(function(){var n,r,o,i,u,c,l;return a(this,(function(a){switch(a.label){case 0:n=t.id||"";r=t.alwaysOpenInBrowser;if(!!r)return[3,2];return[4,electronAPI.isCompatibleForElectronAPI(s.CREATE)];case 1:o=a.sent(),i=o.code,u=o.res;r=i!==ResponseCode.Success||!u;a.label=2;case 2:if(r){c=t.windowFeatures||{};l=Object.keys(c).reduce((function(e,t){return e+", "+t+"="+c[t]}),"");return[2,window.open(e,n,l)]}return[4,electronAPI.ipcInvoke({event:s.CREATE,body:{url:e,options:t}})];case 3:a.sent();return[2,null]}}))}))}},326633:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var r=n(963971);var o=new r.g},750998:(e,t,n)=>{"use strict";n.d(t,{X:()=>r,s:()=>o});var r;(function(e){e["LEFT_RAIL_RENDER"]="left_rail_render";e["RIGHT_RAIL_RENDER"]="right_rail_render";e["CONTENT_RENDER"]="content_render"})(r||(r={}));var o;(function(e){e["SDK_INIT"]="sdk_init";e["PAGE_READY"]="page_ready";e["PAGE_RECOVER"]="page_recover";e["LOGIN"]="login";e["LOGOUT"]="logout"})(o||(o={}))},718483:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(862926);var o=n.n(r);var i="[COMMON]";var a=r.ModuleLogger.getLogger(i,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.COMMON)},307110:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(718483);var o=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var i=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var a=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var u=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};var s=r.k.tags("ThirdPartyAppsManager");var c=500;var l=function(){function ThirdPartyAppsManager(){var e=this;this._apps=new Set;this.registerApp=function(t){e._apps.add(t)};this.logoutApps=function(){return o(e,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:if(!this._apps.size)return[2];t.label=1;case 1:t.trys.push([1,3,4,5]);return[4,Promise.race([Promise.all(u(this._apps).map((function(e){return e&&e()}))),new Promise((function(e){return setTimeout(e,c)}))])];case 2:t.sent();return[3,5];case 3:e=t.sent();s.warn(e);return[3,5];case 4:this._apps.clear();return[7];case 5:return[2]}}))}))}}Object.defineProperty(ThirdPartyAppsManager,"instance",{get:function(){return ThirdPartyAppsManager._singleton||(ThirdPartyAppsManager._singleton=new ThirdPartyAppsManager)},enumerable:true,configurable:true});return ThirdPartyAppsManager}();const f=l},929469:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(325719);var o=n.n(r);var i=n(326633);var a=n(718483);var u=n(429403);var s=n(440838);var c=n(962228);var l=n.n(c);var f=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var d=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var p=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var h=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var v=a.k.tags("[LaunchManager]");var g="embed";var _=function(){function LaunchManager(){var e=this;this.isEmbedded=false;this.needSaveEmbedConfig=false;this.getExcludeApp=function(){return Object.values(s.lw).reduce((function(t,n){var r;if(!((r=e.config.APP)===null||r===void 0?void 0:r.includes(n))){t.push(n)}return t}),[])};this.getConfig=function(e){if(!e)return"";return window.sessionStorage.getItem(e)||""};this.removeConfig=function(e){window.sessionStorage.removeItem(e)};this.initEmbedBrand();this.isEmbedded=!!this.embedBrand;v.info("is embedded mode: ",this.isEmbedded);v.info("embedded brand: ",this.embedBrand)}LaunchManager.prototype.setConfig=function(e){var t;this.configManager=e;if(this.needSaveEmbedConfig){this.saveEmbedConfig()}this.settingWhiteList=(t=this.config.SHELL)===null||t===void 0?void 0:t.SETTING};Object.defineProperty(LaunchManager.prototype,"config",{get:function(){var e;return((e=this.configManager)===null||e===void 0?void 0:e.getConfig())||{}},enumerable:true,configurable:true});Object.defineProperty(LaunchManager.prototype,"unifiedAppName",{get:function(){var e,t;return(t=(e=this.configManager)===null||e===void 0?void 0:e.getUnifiedAppName)===null||t===void 0?void 0:t.call(e)},enumerable:true,configurable:true});Object.defineProperty(LaunchManager.prototype,"APP",{get:function(){return this.config.APP},enumerable:true,configurable:true});Object.defineProperty(LaunchManager.prototype,"SHELL",{get:function(){return this.config.SHELL},enumerable:true,configurable:true});Object.defineProperty(LaunchManager.prototype,"SETTING",{get:function(){return this.settingWhiteList},enumerable:true,configurable:true});Object.defineProperty(LaunchManager.prototype,"LOCAL_PERMISSION",{get:function(){return this.config.LOCAL_PERMISSION},enumerable:true,configurable:true});Object.defineProperty(LaunchManager.prototype,"ONLY_RESPECT_RAW_PERMISSION",{get:function(){return this.config.ONLY_RESPECT_RAW_PERMISSION},enumerable:true,configurable:true});Object.defineProperty(LaunchManager.prototype,"UI_PERMISSION",{get:function(){return this.config.UI_PERMISSION},enumerable:true,configurable:true});LaunchManager.prototype.setSettingWhiteList=function(e,t,n){var r=this.settingWhiteList;if(r){this.settingWhiteList={SCOPES:l().union(r.SCOPES,e),SECTIONS:l().union(r.SECTIONS,t),ITEMS:l().union(r.ITEMS,n)}}};LaunchManager.prototype.getUrlParamsKeyMap=function(){var e;return((e=this.configManager)===null||e===void 0?void 0:e.urlParamsKeyMap)||{}};LaunchManager.prototype.logout=function(){var e,t;return p(this,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:return[4,(t=(e=this.configManager).beforeLogout)===null||t===void 0?void 0:t.call(e)];case 1:n=r.sent();v.info("ConfigManager.beforeLogout return result: ",n);if(!!n)return[3,3];return[4,i.o.invoke(u.F.EMBED_LOGOUT)];case 2:r.sent();r.label=3;case 3:return[2]}}))}))};LaunchManager.prototype.initEmbedBrand=function(){var e=new URLSearchParams(window.location.search);var t=e.get(g);if(t){v.info("save "+g+": "+t+" to sessionStorage");this.needSaveEmbedConfig=true;window.sessionStorage.setItem(g,t)}else{t=window.sessionStorage.getItem(g)}this.embedBrand=t};LaunchManager.prototype.saveEmbedConfig=function(){var e=this.getEmbedConfigUrlKeys(this.configManager.urlParamsKeyMap);var t=new URLSearchParams(window.location.search);e.forEach((function(e){var n=decodeURIComponent(t.get(e)||"");if(n){window.sessionStorage.setItem(e,n);v.info("save "+e+": "+n+" to sessionStorage")}}))};LaunchManager.prototype.getEmbedConfigUrlKeys=function(e){return Object.values(e).filter((function(e){return e!==undefined}))};var e;f([r.observable,d("design:type",Object)],LaunchManager.prototype,"settingWhiteList",void 0);f([r.computed,d("design:type",Object),d("design:paramtypes",[])],LaunchManager.prototype,"SETTING",null);return LaunchManager}();var y=new _;const b=y},933478:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(5628);var o=function(){function ActiveWindowIdManager(){var e=this;this.getActiveWindowID=function(){return e._activeWindowID||r._G};this.setActiveWindowID=function(t){e._activeWindowID=t};this.setActiveWindowIDAsMainWindow=function(){e._activeWindowID=r._G};this.isMainWindowActive=function(){return e.getActiveWindowID()===r._G}}return ActiveWindowIdManager}();var i=new o},443569:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(957685);var o=n(5628);var i=n(305406);var a=n.n(i);var u=n(137726);var s=n(473014);var c=n(718483);var l=n(22463);var f=n(594173);var d=n(714614);var p=n.n(d);var h=n(796036);var v=n(948181);var g=n(933478);var _=undefined&&undefined.__assign||function(){_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return _.apply(this,arguments)};var y=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var b=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var C=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var m=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var S=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e};var E="CAN_CONTROL_UN_DOCKED_WINDOW";var I=c.k.tags("windowManager");var w=500;var R=function(){function WindowManager(){var e=this;this._windowIDs=[];this._browserWindowMap=new Map;this._listenInterval=null;this._electronClosedListenerRegistered=false;this._closeHandlerMap=new Map;this._closeUnDockedWindows=function(){e._windowIDs.forEach((function(t){if(t.includes(o.XR)){e.closeWindow(t);e.destroyWindow(t,true)}}))};this._showWindowBlockedToast=function(t){var n=t.openWindowOptions,r=t.showWindowBlockedOptions;var o=n.url,i=n.id,c=n.windowFeaturesStr;var l=r.msgContent,f=r.showRetry,d=r.blockCallback,h=r.retryCallback,v=r.closeCallback;I.log("Show window blocked toast, url: "+o);return new Promise((function(t){return y(e,void 0,void 0,(function(){var e,n;var r=this;return b(this,(function(g){switch(g.label){case 0:e=d;if(!e)return[3,2];return[4,d()];case 1:e=g.sent();g.label=2;case 2:e;n=u.yg.flagToast({message:l||p().t("windowManager.windowOpenFailed"),action:f?a().createElement(s.U,{onClick:function(){return y(r,void 0,void 0,(function(){var e,r;return b(this,(function(a){switch(a.label){case 0:I.log("Retry open "+o+".");e=window.open(o,i,c);t(e);r=h;if(!r)return[3,2];return[4,h(!!e)];case 1:r=a.sent();a.label=2;case 2:r;n.dismiss&&n.dismiss();return[2]}}))}))},"data-test-automation-id":"window-blocked-toast-action"},p().t("common.dialog.continue")):null,onClose:function(){return y(r,void 0,void 0,(function(){var e;return b(this,(function(n){switch(n.label){case 0:I.log("Close window blocked toast.");t(null);e=v;if(!e)return[3,2];return[4,v()];case 1:e=n.sent();n.label=2;case 2:e;return[2]}}))}))},type:u.pC.INFO});return[2]}}))}))}))};this._buildOpenWindowFunction=function(t,n){var r=t.id||"window-"+e._windowIDs.length+"-"+Date.now();var i=o.yL+"#"+o.XR+"#"+r;var a=t.windowFeatures||{};var openWindow=function(r){return y(e,void 0,void 0,(function(){var e,o,u,s,c,l,d,p,h,_,y;var C=this;var m,S,E;return b(this,(function(b){switch(b.label){case 0:e=f.vU;o=false;u=t.width,s=u===void 0?640:u,c=t.height,l=c===void 0?480:c;d=(m=t.top)!==null&&m!==void 0?m:window.screenTop+window.outerHeight/2-l/2;p=(S=t.left)!==null&&S!==void 0?S:window.screenLeft+window.outerWidth/2-s/2;Object.assign(a,{width:s,height:l,left:Math.round(p),top:Math.round(d),location:"off",focusWindowAfterCreated:(E=t.focusWindowAfterCreated)!==null&&E!==void 0?E:true});return[4,this._newWindow("about:blank",{alwaysOpenInBrowser:false,windowFeatures:t.openBrowserTabInsteadNewWindow?undefined:a,id:i,useBrowserWindowOpen:true},n)];case 1:h=b.sent().window,_=h===void 0?null:h;I.info("open window has been called");y=function(n){var a;n.windowWasNotReloaded=true;I.info("open window has been called success");(a=t.onOpenWindow)===null||a===void 0?void 0:a.call(t,n);if(!e){o=true;I.info("render when not need wait reload",i,!!n.document);r(n)}var u=t.skipUpdateActiveWindowIdAfterCreated;if(!u){g.z.setActiveWindowID(i);I.info("active window id: "+i)}n.addEventListener("click",(function(){I.info("click active window id: "+i);g.z.setActiveWindowID(i)}),true);n.addEventListener("focus",(function(){if(u){I.info("active window id skip");u=false;return}I.info("active window id: "+i);g.z.setActiveWindowID(i)}));n.addEventListener("blur",(function(){if(g.z.getActiveWindowID()===i){I.info("remove active window id: "+i);g.z.setActiveWindowIDAsMainWindow()}}));n.addEventListener("beforeunload",(function(e){if(t.blockReload){e.returnValue=true;return}if(g.z.getActiveWindowID()===i){I.info("remove active window id: "+i);g.z.setActiveWindowIDAsMainWindow()}}));n.addEventListener("unload",(function(){v.yT.forceUpdate();if(e){e=false;o=true;I.info("render when auto reload",i,!!(n===null||n===void 0?void 0:n.document));setTimeout((function(){r(n)}),0);return}var closeWindow=function(){var e;I.info("undocked window unload",i);(e=t.onCloseWindow)===null||e===void 0?void 0:e.call(t);C.closeWindow(i)};if(t.doNotCloseWindowAfterReload){setTimeout((function(){if(!n.windowWasNotReloaded){y(n)}else{closeWindow()}}),0)}else{closeWindow()}}));setTimeout((function(){if(!o){o=true;I.info("render when auto reload time out",i,!!(n===null||n===void 0?void 0:n.document));r(n)}}),500)};if(_){y(_)}return[2,_]}}))}))};return{openWindow,windowId:i}};this.focusMainWindow=function(t){var n;h.M$.bringAppToFront();if(!t)return;var r=e.getWindow(t);if(r){(n=r.open("",o.yL))===null||n===void 0?void 0:n.focus()}};this.checkCanUnDock=function(){return y(e,void 0,void 0,(function(){var e,t,n;return b(this,(function(o){switch(o.label){case 0:return[4,h.M$.isCompatibleForElectronAPI(E)];case 1:e=o.sent(),t=e.code,n=e.res;I.info("CAN_CONTROL_UN_DOCKED_WINDOW",{code:t,res:n});if(t===r.ResponseCode.NotRegistered||n===true){return[2,true]}return[2,false]}}))}))};window.name=o.yL;window.addEventListener("unload",(function(){I.info("close all undocked windows when unload");e._closeUnDockedWindows()}));window.addEventListener("focus",(function(){I.info("remove active window id when main window is focus");g.z.setActiveWindowIDAsMainWindow()}))}WindowManager.prototype._listenOnCloseWindowEvent=function(){var e=this;h.M$.ipcHandle({event:o.Lg.CLOSED,listener:function(t){e._remove(t)}});this._electronClosedListenerRegistered=true};WindowManager.prototype._listenOnCloseBrowserWindowEvent=function(){var e=this;this._listenInterval=setInterval((function(){e._browserWindowMap.forEach((function(t,n){if(t&&t.closed){c.k.log("win closed",t,n);e._remove(n)}}))}),w)};WindowManager.prototype._unListenOnCloseBrowserWindowEvent=function(){this._listenInterval&&clearInterval(this._listenInterval);this._listenInterval=null};WindowManager.prototype.add=function(e,t){this._windowIDs.push(e);I.info("add window to _browserWindowMap",e);if(!this._electronClosedListenerRegistered){this._listenOnCloseWindowEvent()}if(t){this._browserWindowMap.set(e,t);if(!this._listenInterval){this._listenOnCloseBrowserWindowEvent()}}};WindowManager.prototype.registerWindowCloseHandler=function(e){var t=e.windowID,n=C(e,["windowID"]);var r=this._closeHandlerMap.get(t)||[];this._closeHandlerMap.set(t,S(r,[n]))};WindowManager.prototype.registerEventOnWindow=function(e,t){return y(this,void 0,void 0,(function(){var n,i,a,u,s,c,l,f,d;return b(this,(function(p){switch(p.label){case 0:return[4,h.M$.isCompatibleForElectronAPI(o.Lg.REGISTER_EVENT)];case 1:n=p.sent(),i=n.code,a=n.res;if(i!==r.ResponseCode.Success||!a){I.info("not support registerEventOnWindow",i,a);return[2]}u=this._windowIDs.findIndex((function(t){return t===e}))>=0;if(!u){return[2]}s=t.event,c=t.params;l={id:e,event:s,params:c,callBackIpcEvent:""};I.info("register event: "+s+" to window: "+e);if(t===null||t===void 0?void 0:t.callBack){f=e+"_"+t.event;d=this._handleRegisterEventCallBack(e,f,t.callBack);this.registerWindowCloseHandler({windowID:e,handler:d});l.callBackIpcEvent=f}h.M$.ipcInvoke({event:o.Lg.REGISTER_EVENT,body:l});return[2]}}))}))};WindowManager.prototype.unregisterWindowCloseHandler=function(e,t){var n=(this._closeHandlerMap.get(e)||[]).filter((function(e){return e.handler!==t}));if(n.length===0){this._closeHandlerMap.delete(e);return}this._closeHandlerMap.set(e,n)};WindowManager.prototype._remove=function(e){var t=this._windowIDs.indexOf(e);t>-1&&this._windowIDs.splice(t,1);this._browserWindowMap.delete(e);if(this._browserWindowMap.size===0){this._unListenOnCloseBrowserWindowEvent()}var n=this._closeHandlerMap.get(e)||[];var r=n.filter((function(e){e.handler();return!e.once}));if(this._closeHandlerMap.has(e)){this._closeHandlerMap.set(e,r)}};WindowManager.prototype.canManageWindow=function(){return y(this,void 0,void 0,(function(){var e,t,n;return b(this,(function(i){switch(i.label){case 0:if(!window.jupiterElectron)return[2,true];return[4,h.M$.isCompatibleForElectronAPI(o.Lg.CREATE)];case 1:e=i.sent(),t=e.code,n=e.res;return[2,t===r.ResponseCode.Success&&Boolean(n)]}}))}))};WindowManager.prototype.hasWindow=function(e){return Boolean(e&&this._windowIDs.indexOf(e)>-1)};WindowManager.prototype.getWindow=function(e){return this._browserWindowMap.get(e)};WindowManager.prototype.getActiveWindowID=function(){return g.z.getActiveWindowID()};WindowManager.prototype.isMainWindowActive=function(){return g.z.isMainWindowActive()};WindowManager.prototype.getMainWindowId=function(){return o._G};WindowManager.prototype.getActiveWindow=function(){var e;var t=g.z.getActiveWindowID();if(t){e=this.getWindow(t)}return e||window};WindowManager.prototype.wrapUnDockedWindow=function(e,t,n,r){var o=this;if(t===void 0){t={windowTitle:""}}var i=this._buildOpenWindowFunction(t,n),u=i.openWindow,s=i.windowId;var c=u;if(r){c=function(e){return y(o,void 0,void 0,(function(){var t;return b(this,(function(n){switch(n.label){case 0:return[4,u(e)];case 1:t=n.sent();r(t);return[2,t]}}))}))}}var UnDockedWindow=function(n){return a().createElement(l.R,{windowName:t.windowTitle,openWindow:c,logger:I,transferNodeSelectors:t.transferNodeSelectors},a().createElement(e,_({},n)))};I.info("wrapUnDockedWindow. windowId:"+s+", wrapUnDockedWindowOptions: "+t+", windowBlockedOptions:"+n);return{windowId:s,UnDockedWindow}};WindowManager.prototype._newWindow=function(e,t,n){return y(this,void 0,Promise,(function(){var i,a,u,s,c,l,f,d,p,v,g;return b(this,(function(_){switch(_.label){case 0:i=t.id||"window-"+this._windowIDs.length+"-"+Date.now();I.log("newWindow, id: "+i);a=t.alwaysOpenInBrowser;if(!!a)return[3,2];return[4,h.M$.isCompatibleForElectronAPI(o.Lg.CREATE)];case 1:u=_.sent(),s=u.code,c=u.res;a=s!==r.ResponseCode.Success||!c;_.label=2;case 2:if(!(a&&!window.jupiterElectron||t.useBrowserWindowOpen))return[3,5];l=t.windowFeatures||{};f=Object.entries(l).map((function(e){return e[0]+"="+e[1]})).join(",");d=window.open(e,i,f);if(!!d)return[3,4];return[4,this.showBlockingToast(e,i,f,n)];case 3:d=_.sent();_.label=4;case 4:if(d){I.log("Open "+e+" successfully.");d.focus();this.add(i,d)}return[2,{windowId:i,window:d}];case 5:return[4,h.M$.ipcInvoke({event:o.Lg.CREATE,body:{url:e,options:t}})];case 6:p=_.sent(),v=p.res,g=p.error;if(g){I.warn("Create Electron window failed, error: ",g);throw g}I.log("Create Electron window successfully, windowId: "+i);this.add(i);return[2,{windowId:v}]}}))}))};WindowManager.prototype._handleRegisterEventCallBack=function(e,t,n){var r=this;I.info("register event: "+t+" to main");h.M$.ipcRegisterEventOnMain({event:t,listener:n});var closeHandler=function(){I.info("unregister event: "+t+" from main");r.unregisterWindowCloseHandler(e,closeHandler);h.M$.ipcUnRegisterEventOnMain({event:t,listener:n})};return closeHandler};WindowManager.prototype.newWindow=function(e,t,n){return y(this,void 0,Promise,(function(){var r;return b(this,(function(o){switch(o.label){case 0:return[4,this._newWindow(e,t,n)];case 1:r=o.sent().windowId;return[2,r]}}))}))};WindowManager.prototype.showBlockingToast=function(e,t,n,r){return y(this,void 0,void 0,(function(){var o,i;return b(this,(function(a){switch(a.label){case 0:o={url:e,id:t,windowFeaturesStr:n};i=r?r:{showRetry:true};return[4,this._showWindowBlockedToast({openWindowOptions:o,showWindowBlockedOptions:i})];case 1:return[2,a.sent()]}}))}))};WindowManager.prototype.focusWindow=function(e){return y(this,void 0,void 0,(function(){var t,n,i,a;return b(this,(function(u){switch(u.label){case 0:I.log("focus window",e);t=this._browserWindowMap.get(e);if(t&&t.focus){t.focus()}return[4,h.M$.isCompatibleForElectronAPI(o.Lg.FOCUS)];case 1:n=u.sent(),i=n.code,a=n.res;if(i===r.ResponseCode.Success||!!a){h.M$.ipcInvoke({event:o.Lg.FOCUS,body:e})}return[2]}}))}))};WindowManager.prototype.isWindowMinimized=function(e){return h.M$.invokeElectronAPI({body:{moduleName:o.zh,api:o._j.IS_WINDOW_MINIMIZED,params:e}})};WindowManager.prototype.getBrowserWindowIds=function(e){return y(this,void 0,void 0,(function(){var t,n,i,a,u;return b(this,(function(s){switch(s.label){case 0:t=[];s.label=1;case 1:s.trys.push([1,3,,4]);return[4,h.M$.invokeElectronAPI({body:{moduleName:o.zh,api:o._j.GET_BROWSER_WINDOW_IDS,params:{}}})];case 2:n=s.sent(),i=n.res,a=n.code;if(a===r.ResponseCode.Success)t=i;return[3,4];case 3:u=s.sent();I.log("getBrowserWindowIds failed:",u);return[3,4];case 4:if(e){return[2,t.filter(e)]}return[2,t]}}))}))};WindowManager.prototype.resizeWindow=function(e,t){var n=t.width,i=t.height,a=t.useContentSize,u=t.animate;return y(this,void 0,void 0,(function(){var t,s,c,l;return b(this,(function(f){switch(f.label){case 0:I.log("resize window",e);return[4,h.M$.isCompatibleForElectronAPI(o.Lg.RESIZE)];case 1:t=f.sent(),s=t.code,c=t.res;if(!(s===r.ResponseCode.Success||!!c))return[3,3];I.log("resize window with Electron api");return[4,h.M$.ipcInvoke({event:o.Lg.RESIZE,body:{id:e,width:n,height:i,useContentSize:a,animate:u}})];case 2:f.sent();return[3,4];case 3:l=this._browserWindowMap.get(e);if(l&&l.resizeTo){I.log("resize window with browser windows api");l.resizeTo(n,i)}f.label=4;case 4:return[2]}}))}))};WindowManager.prototype.destroyWindow=function(e,t){return y(this,void 0,void 0,(function(){var n,i,a,u;var s=this;return b(this,(function(c){switch(c.label){case 0:I.log("destroy window",e);n=function(){h.M$.ipcInvoke({event:o.Lg.DESTROY,body:e});s._remove(e);if(g.z.getActiveWindowID()===e){g.z.setActiveWindowIDAsMainWindow()}};if(t){n();return[2]}return[4,h.M$.isCompatibleForElectronAPI(o.Lg.DESTROY)];case 1:i=c.sent(),a=i.code,u=i.res;if(a===r.ResponseCode.Success||!!u){I.log("destroy window success",e);n()}return[2]}}))}))};WindowManager.prototype.closeWindow=function(e){return y(this,void 0,void 0,(function(){var t,n,i,a;return b(this,(function(u){switch(u.label){case 0:I.log("close window",e);t=this._browserWindowMap.get(e);if(t&&t.close){t.close();this._remove(e)}return[4,h.M$.isCompatibleForElectronAPI(o.Lg.CLOSE)];case 1:n=u.sent(),i=n.code,a=n.res;if(!(i===r.ResponseCode.Success||!!a))return[3,3];return[4,h.M$.ipcInvoke({event:o.Lg.CLOSE,body:e})];case 2:u.sent();this._remove(e);u.label=3;case 3:if(g.z.getActiveWindowID()===e){g.z.setActiveWindowIDAsMainWindow()}return[2]}}))}))};WindowManager.prototype.setBrowserWindowAlwaysOnTop=function(e,t,n){if(t===void 0){t=true}return h.M$.invokeElectronAPI({body:{moduleName:o.zh,api:o._j.SET_ALWAYS_ON_TOP,params:{id:e,alwaysOnTop:t,level:n}}})};WindowManager.prototype.getBrowserWindowBounds=function(e){return h.M$.invokeElectronAPI({body:{moduleName:o.zh,api:o._j.GET_BOUNDS,params:e}})};WindowManager.prototype.getBrowserWindowContentBounds=function(e){return h.M$.invokeElectronAPI({body:{moduleName:o.zh,api:o._j.GET_CONTENT_BOUNDS,params:e}})};WindowManager.prototype.showBrowserWindowInactive=function(e){return h.M$.invokeElectronAPI({body:{moduleName:o.zh,api:o._j.SHOW_INACTIVE,params:e}})};WindowManager.prototype.getFocusedBrowserWindowId=function(){return h.M$.invokeElectronAPI({body:{moduleName:o.zh,api:o._j.GET_CURRENT_FOCUS_WINDOW_ID,params:undefined}})};WindowManager.prototype.isBrowserWindowFullScreen=function(e){return h.M$.invokeElectronAPI({body:{moduleName:o.zh,api:o._j.IS_FULL_SCREEN,params:e}})};WindowManager.prototype.getDisplayWorkAreaByBrowserWindowId=function(e){return h.M$.invokeElectronAPI({body:{moduleName:o.zh,api:o._j.GET_DISPLAY_WORK_AREA_BY_BROWSER_WINDOW_ID,params:e}})};WindowManager.prototype.getDisplayWorkAreaByMousePointer=function(){return h.M$.invokeElectronAPI({body:{moduleName:o.zh,api:o._j.GET_DISPLAY_WORK_AREA_BY_MOUSE_POINTER,params:undefined}})};WindowManager.prototype.setBrowserWindowPosition=function(e,t){return h.M$.invokeElectronAPI({body:{moduleName:o.zh,api:o._j.SET_POSITION,params:_({id:e},t)}})};WindowManager.prototype.setBrowserWindowBounds=function(e,t){return h.M$.invokeElectronAPI({body:{moduleName:o.zh,api:o._j.SET_BOUNDS,params:_({id:e},t)}})};WindowManager.prototype.moveBrowserWindowTop=function(e){return h.M$.invokeElectronAPI({body:{moduleName:o.zh,api:o._j.MOVE_TOP,params:e}})};WindowManager.prototype.dispose=function(){var e=this;this._unListenOnCloseBrowserWindowEvent();this._windowIDs.forEach((function(t){e.closeWindow(t)}))};return WindowManager}();const P=new R},974860:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(305406);var o=n.n(r);const i=o().createContext((function(){}))},962305:(e,t,n)=>{"use strict";n.d(t,{o:()=>modal});var r=n(305406);var o=n.n(r);var i=n(448084);var a=n(281973);var u=n(571411);var s=n(312297);var c=n(204830);var l=n(113971);var f=n(727002);var d=undefined&&undefined.__assign||function(){d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return d.apply(this,arguments)};var p=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var h=(0,l.y)(i.b6);function modal(e,t,n,r,i){var l=t.onClose,v=t.disableBackdropClick,g=t.disableEscapeKeyDown,_=t.fullScreen,y=p(t,["onClose","disableBackdropClick","disableEscapeKeyDown","fullScreen"]);var b=i||a.ZP;var defaultClose=function(e,t){if(l){l&&l(e)}else{b.dismissLast()}if(t===c.m.ESC){(0,s.W)(u.Vr.ESCAPE)}};var C=e;var Dialog=function(e){var t=e.loading;return o().createElement(h,d({},y,{loading:t,disableEscapeKeyDown:g||t,disableBackdropClick:v||t,onClose:defaultClose,fullScreen:_,canGoTop:f.i.canGotoTop()||!_}),C instanceof Function?o().createElement(C,{loading:t}):C)};var m=b.wrapper(Dialog,r),S=m.dismiss,E=m.show,I=m.startLoading,w=m.stopLoading;if(n){E({key:n})}else{E()}return{dismiss:S,startLoading:I,stopLoading:w}}},204830:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var r;(function(e){e["ESC"]="escapeKeyDown";e["BACK_DROP_CLICK"]="backdropClick"})(r||(r={}))},961632:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(325719);var o=n.n(r);var i=n(156141);var a=n.n(i);var u=n(350344);var s=n.n(u);var c=n(862926);var l=n.n(c);var f=n(429205);var d=n(168825);var p=n(993178);var h=n(929534);var v=n(981218);var g=n(10783);var _=n(302186);var y=n.n(_);var b=n(806734);var C=n(451527);var m=undefined&&undefined.__assign||function(){m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return m.apply(this,arguments)};var S=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var E=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var I=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var w=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var R=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var P={dynamic:true,timedSyncWithServer:true,intervalToRefreshWhenIdle:c.DebugUtils.isFeatureMode("DynamicConfig")?10:5*60,intervalToSyncWithServer:c.DebugUtils.isFeatureMode("DynamicConfig")?(Number(localStorage.getItem("_dynamic_intervalToSyncWithServer"))||60)*1e3:12*60*60*1e3};var reload=function(){return window.location.reload()};var A=function(){function ConfigManager(e){var t=this;this.config={};this.needRefresh=false;this.isReady=new c.Barrier;this.startCheckNeedRefreshTask=function(){var e=(0,r.reaction)((function(){return t.needRefresh}),(function(n){if(n){if(!t.isReady.isOpen()){(0,p.k)();return}C.D.register({key:"RefreshSinceDetectedNewConfig",time:t.options.intervalToRefreshWhenIdle,onIdle:reload,onActive:s()});clearInterval(t.timerID);setTimeout(e,0)}}))};this.startSyncAssetsTask=function(){var e=(0,r.reaction)((function(){var e;return t.brandId||((e=d.ZP.get(d.MG.ACCOUNT_INFO))===null||e===void 0?void 0:e.brandId)}),(function(n){if(n){t.syncAssetsTask(n);setTimeout(e,0)}}),{fireImmediately:true})};this.syncAssetsTask=function(e){var n=f.B.getEnv();var r="envConfigs/production";if(n&&n!=="production"){r="envConfigs/"+n}var o=h.BO+"/"+e+"/"+r+"/"+t.options.name;t.fetchAssetsTask(o);if(t.options.timedSyncWithServer){clearInterval(t.timerID);t.timerID=setInterval((function(){t.fetchAssetsTask(o)}),t.options.intervalToSyncWithServer)}};this.fetchAssetsTask=function(e){return I(t,void 0,void 0,(function(){var t,n;var o=this;return w(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,(0,v.Z)(e)];case 1:t=i.sent();(0,r.runInAction)((function(){if(a()((0,r.toJS)(o.config),t)){if(!o.isReady.isOpen())o.isReady.open();return}if(!o.isReady.isOpen()){o.isReady.open();o.config=m(m({},o.config),t);if(o.options.onConfigUpdate)o.options.onConfigUpdate((0,r.toJS)(o.config))}else{o.needRefresh=true}}));return[3,3];case 2:n=i.sent();this.logger.error(e,n);_.Pal.instance.networkStatus().getStatus()&&(0,g.removeTempBrandId)();if(!this.isReady.isOpen()&&!this._isPageReloading())this.needRefresh=true;return[3,3];case 3:return[2]}}))}))};this.options=m(m({},P),e);this.logger=(0,b.j)("ConfigManager").tags("["+this.options.name+"]");this.config=this.options.defaultConfig;if(this.options.onConfigUpdate)this.options.onConfigUpdate((0,r.toJS)(this.config));if(this.options.dynamic){this.startSyncAssetsTask();this.startCheckNeedRefreshTask()}else{this.isReady.open()}}ConfigManager.prototype.get=function(e,t){var n=this.config[e];try{n=getTranslatedValue(e,n,{lng:t===null||t===void 0?void 0:t.i18nLanguage})}catch(e){this.logger.error("config translation error",e)}return n};ConfigManager.prototype.getConfig=function(){return this.config};ConfigManager.prototype.getName=function(){return this.options.name};ConfigManager.prototype.setBrandId=function(e){this.brandId=e};ConfigManager.prototype._isPageReloading=function(){var e;return Boolean(((e=performance.navigation)===null||e===void 0?void 0:e.type)===1||performance.getEntriesByType("navigation").map((function(e){return e["type"]})).includes("reload"))};S([r.observable.shallow,E("design:type",Object)],ConfigManager.prototype,"config",void 0);S([r.observable,E("design:type",Object)],ConfigManager.prototype,"needRefresh",void 0);S([r.observable,E("design:type",String)],ConfigManager.prototype,"brandId",void 0);S([r.action,E("design:type",Function),E("design:paramtypes",[String]),E("design:returntype",void 0)],ConfigManager.prototype,"setBrandId",null);return ConfigManager}();const T=A;function getTranslatedValue(e,t,n){var r,o;if(t==="NEED_TO_BE_LOCALIZED")return(0,b.t)(e,n);if(Array.isArray(t))return t;if(typeof t==="object"){var i=m({},t);var a=false;try{for(var u=R(Object.getOwnPropertyNames(t)),s=u.next();!s.done;s=u.next()){var c=s.value;i[c]=getTranslatedValue(e+"."+c,t[c],n);if(i[c]!==t[c])a=true}}catch(e){r={error:e}}finally{try{if(s&&!s.done&&(o=u.return))o.call(u)}finally{if(r)throw r.error}}return a?i:t}return t}},694514:(e,t,n)=>{"use strict";n.d(t,{D:()=>g});var r=n(862926);var o=n(758274);var i=n(667489);var a=n(495564);var u=new r.ConfigSource(a.ql.API_CONFIG_SOURCE);var s=new r.ConfigSource(a.ql.THIRD_PARTY_CONFIG_SOURCE);var c=new r.ConfigSource(a.ql.FEATURES_CONFIG_SOURCE);var initLocalConfigSource=function(e){setConfigSourceReady(e.service,u);setConfigSourceReady(e.thirdParty,s);setConfigSourceReady(e.features,c);i.configStoreManager.addConfigSource(a.ql.API_CONFIG_SOURCE,u);i.configStoreManager.addConfigSource(a.ql.THIRD_PARTY_CONFIG_SOURCE,s);i.configStoreManager.addConfigSource(a.ql.FEATURES_CONFIG_SOURCE,c)};var setConfigSourceReady=function(e,t){t.setReadyStatus(true,false);t.setConfigSource(e)};const l=initLocalConfigSource;var f=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var d=function(e){f(CustomAPIConfigSource,e);function CustomAPIConfigSource(t,n){var r=e.call(this,t)||this;r.apiConfig=n;r.init();return r}CustomAPIConfigSource.prototype.init=function(){this.setConfigSource(this.apiConfig);this.setReadyStatus(true)};CustomAPIConfigSource.prototype.dispose=function(){this.setReadyStatus(false)};CustomAPIConfigSource.prototype.setReadyStatus=function(t){e.prototype.setReadyStatus.call(this,t)};return CustomAPIConfigSource}(r.ConfigSource);function initCustomAPIConfigSource(e){var t=new d(a.Gp.API_CONFIG_SOURCE,e);i.configStoreManager.addConfigSource(a.Gp.API_CONFIG_SOURCE,t)}function getConfigContext(){return n(783545)}var p=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var h=".config.json";function parseDirectoryConfig(){var e=getConfigContext();var t={};var n=e.keys();n.reduce((function(t,n){var r=p(n.split("/"),3),o=r[1],i=r[2];if(!i.endsWith(h)){return t}var a=p(i.split(h),1),u=a[0];t[o]=t[o]||{};t[o][u]=e(n);return t}),t);return t}function getEnvArray(){var e=parseDirectoryConfig();return Object.keys(e)}function loadFileConfigs(e){var t=parseDirectoryConfig();return t[e]||{}}function get(e,t){var n=Array.isArray(t)?t:t.split(".");var r=n[0];var o=e[r];if(n.length<=1){return o}if(o===null||typeof o!=="object"){return undefined}return get(o,n.slice(1))}function set(e,t,n){var r=Array.isArray(t)?t:t.split(".");var o=r[0];if(r.length<=1){e[o]=n;return}var i=e[o];if(typeof i!=="object"){e[o]={};i=e[o]}set(i,r.slice(1),n)}function formatEnvName(e){return e.split("-").join("").toLowerCase()}function buildConfig(e,t){var n=JSON.stringify(e);Object.keys(t).forEach((function(e){var r=new RegExp("\\$\\{"+e+"\\}","g");n=n.replace(r,t[e])}));return JSON.parse(n)}var v="production";var g=function(){function Config(){this.env="";this.loadLocalConfig();this.loadCustomEnvConfig()}Config.prototype.envFromUrl=function(){var e="";var t=window.location.href;if(t){var n=new URL(t).searchParams;var r={ENV:"env"};e=formatEnvName(n.get(r.ENV)||"")}return getEnvArray().find((function(t){return e&&formatEnvName(t)===e}))};Config.prototype.getValidEnv=function(){var e=this.envFromUrl()||o.w.getEnv();var t=getEnvArray().find((function(t){return t===e}))||r.BuildUtils.defaultEnv();if(t!==o.w.getEnv()){o.w.setEnv(t)}return t};Config.prototype.loadCustomEnvConfig=function(){var e=o.w.getCustomEnvConfig(this.env);if(e){initCustomAPIConfigSource(e)}};Config.prototype.loadLocalConfig=function(){var e=window.location,t=e.protocol,n=e.hostname,r=e.port;var i=t+"//"+n+(r&&":"+r);this.env=this.getValidEnv();this.config=buildConfig(loadFileConfigs(this.env),{deployHost:i});var a=o.w.getCustomEnvConfig(this.env);if(a){this.config.service=a}l(this.config)};Config.prototype.setCustomEnvConfig=function(e,t){o.w.setCustomEnvConfig(e,t)};Config.prototype.isProductionEnv=function(){return this.env===v};Config.prototype.getEnv=function(){return this.env};Config.prototype.getEnvs=function(){if(r.BuildUtils.isProductionBuild()){return getEnvArray()}return getEnvArray().filter((function(e){return e!==v}))};Config.prototype.get=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return get(this.config,e)};Config.prototype.set=function(e,t){set(this.config,e,t)};Config.prototype.has=function(e){return get(this.config,e)!==undefined};return Config}()},495564:(e,t,n)=>{"use strict";n.d(t,{ql:()=>r,Zh:()=>o,Gp:()=>i});var r={API_CONFIG_SOURCE:"LOCAL_API_CONFIG_SOURCE",THIRD_PARTY_CONFIG_SOURCE:"LOCAL_THIRD_PARTY_CONFIG_SOURCE",FEATURES_CONFIG_SOURCE:"LOCAL_FEATURES_CONFIG_SOURCE"};var o={API_CONFIG_SOURCE:"DYNAMIC_API_CONFIG_SOURCE",THIRD_PARTY_CONFIG_SOURCE:"DYNAMIC_THIRD_PARTY_CONFIG_SOURCE",FEATURES_CONFIG_SOURCE:"DYNAMIC_FEATURES_CONFIG_SOURCE"};var i={API_CONFIG_SOURCE:"CUSTOM_API_CONFIG_SOURCE"}},847903:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(667489);var o=n(862926);var i=n(269511);var a=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var u=function(e){a(DynamicConfigSource,e);function DynamicConfigSource(t,n){var r=e.call(this,t)||this;r._configManager=n;r._isStart=false;r.init();return r}DynamicConfigSource.prototype.setReadyStatus=function(t){e.prototype.setReadyStatus.call(this,t&&!!(0,i.M)())};DynamicConfigSource.prototype.init=function(){var e=this;this._isStart=true;this.setConfigSource(this._configManager.getConfig());this._configManager.isReady.wait().then((function(t){if(!e._isStart){return}e.updateSource(e._configManager.getConfig());e.setReadyStatus(t)}))};DynamicConfigSource.prototype.dispose=function(){this._isStart=false;this.setReadyStatus(false)};return DynamicConfigSource}(o.ConfigSource);var s=n(495564);var c=n(929534);var l;var f=(l={},l[c.Gp.service]=s.Zh.API_CONFIG_SOURCE,l[c.Gp.thirdParty]=s.Zh.THIRD_PARTY_CONFIG_SOURCE,l[c.Gp.features]=s.Zh.FEATURES_CONFIG_SOURCE,l);var initDynamicConfigSource=function(e,t){if(e){t.forEach((function(e){var t=f[e.getName()];if(t){var n=new u(t,e);r.configStoreManager.addConfigSource(t,n)}}))}};const d=initDynamicConfigSource},379285:(e,t,n)=>{"use strict";var r=n(667489);var o=n(587040);var i=n(429555);var a=n(495564);var u=n(456756);var s=n(10783);var c={LOCAL:a.ql,GLOBAL:{BRAND:s.GLOBAL_BRAND_CONFIG_SOURCE},DYNAMIC:a.Zh,DISCOVERY:{GLIP:i.GLIP_DISCOVERY_CONFIG_SOURCE,RC:u.E},CUSTOM:a.Gp};var l="API_CONFIG_STORE";var f=[{storeName:l,source:c.LOCAL.API_CONFIG_SOURCE,priority:1,transform:function(e){return e}},{storeName:l,source:c.GLOBAL.BRAND,priority:2,transform:function(e){return e}},{storeName:l,source:c.DYNAMIC.API_CONFIG_SOURCE,priority:3,transform:function(e){return e}},{storeName:l,source:c.DISCOVERY.GLIP,priority:4,transform:function(e){var t,n,r,o,a,u,s;return{glip:{server:(t=e[i.XW.APP])===null||t===void 0?void 0:t.host,apiServer:(n=e[i.XW.API])===null||n===void 0?void 0:n.host,cacheServer:(r=e[i.XW.CACHE])===null||r===void 0?void 0:r.host,presenceServer:(o=e[i.XW.API])===null||o===void 0?void 0:o.host,galleryDomain:(a=e[i.XW.APP_GALERY])===null||a===void 0?void 0:a.host,webhookBaseUrl:(u=e[i.XW.WEBHOOKS])===null||u===void 0?void 0:u.host,downloadServer:(s=e[i.XW.DOWNLOADS])===null||s===void 0?void 0:s.host}}}},{storeName:l,source:c.DISCOVERY.RC,priority:5,transform:function(e){var t,n,r,i,a,u,s,c;return{rc:{server:(t=e[o.nz.CORE_BASE])===null||t===void 0?void 0:t.host,discoveryServer:(n=e[o.nz.DISCOVERY_INITIAL])===null||n===void 0?void 0:n.host,pubnub:(r=e[o.nz.CORE_PUBNUB])===null||r===void 0?void 0:r.host,edcHost:(i=e[o.nz.EDC])===null||i===void 0?void 0:i.host},rcv:{server:(a=e[o.nz.RCV_BASE_API])===null||a===void 0?void 0:a.host},meetingsConfig:{rcv:{baseUrl:(u=e[o.nz.RCV_BASE_WEB])===null||u===void 0?void 0:u.host},rcw:{api:(s=e[o.nz.RCW_BASE_API])===null||s===void 0?void 0:s.host},zoom:{baseUrl:(c=e[o.nz.RCM_BASE_WEB])===null||c===void 0?void 0:c.host}}}}},{storeName:l,source:c.CUSTOM.API_CONFIG_SOURCE,priority:6,transform:function(e){return e}}];var d="ANDON_CONFIG_STORE";var p=[{storeName:d,source:c.LOCAL.THIRD_PARTY_CONFIG_SOURCE,priority:1,transform:function(e){return e.andon}},{storeName:d,source:c.DYNAMIC.THIRD_PARTY_CONFIG_SOURCE,priority:2,transform:function(e){return e.andon}}];var h="FILESTACK_CONFIG_STORE";var v=[{storeName:h,source:c.LOCAL.THIRD_PARTY_CONFIG_SOURCE,priority:1,transform:function(e){return e.filestack}},{storeName:h,source:c.DYNAMIC.THIRD_PARTY_CONFIG_SOURCE,priority:2,transform:function(e){return e.filestack}}];var g=n(295454);var _=n(862926);var y=undefined&&undefined.__assign||function(){y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return y.apply(this,arguments)};var b=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var C="KIBANA_CONFIG_STORE";var m={high:_.LOG_CONTROL_LEVEL.HIGH,normal:_.LOG_CONTROL_LEVEL.NORMAL,low:_.LOG_CONTROL_LEVEL.LOW};function transformLDItemFilterSetting(e){if(!e){return{}}var t=e.level,n=b(e,["level"]);var r=y({},n);if((e===null||e===void 0?void 0:e.level)&&m[e.level]){r.level=m[e.level]}return r}var S=[{storeName:C,source:c.LOCAL.THIRD_PARTY_CONFIG_SOURCE,priority:1,transform:function(e){return e.kibanaConf}},{storeName:C,source:c.LOCAL.API_CONFIG_SOURCE,priority:2,transform:function(e){var t=(e===null||e===void 0?void 0:e.rc)||{},n=t.edcHost,r=n===void 0?"":n,o=t.edcPath,i=o===void 0?"":o;var a=""+r+i;return a?{host:a}:{}}},{storeName:C,source:c.DYNAMIC.THIRD_PARTY_CONFIG_SOURCE,priority:3,transform:function(e){return e.kibanaConf}},{storeName:C,source:c.DYNAMIC.API_CONFIG_SOURCE,priority:4,transform:function(e){var t=(e===null||e===void 0?void 0:e.rc)||{},n=t.edcHost,r=n===void 0?"":n,o=t.edcPath,i=o===void 0?"":o;var a=""+r+i;return a?{host:a}:{}}},{storeName:C,source:g.dY.LAUNCHDARKLY,priority:5,transform:function(e){var t;var n=e["D_USE_UPLOAD_EVENT_TO_EDC"];var r=n||{},o=r.enabled,i=r.API,a=r.CPU,u=r.Custom,s=r.PerformanceSet,c=r.Error;var l=(t={enable:o},t[_.EVENT_DATA_TYPE.API]={enable:Boolean(i)},t[_.EVENT_DATA_TYPE.Performance]=transformLDItemFilterSetting(s),t[_.EVENT_DATA_TYPE.Health]=transformLDItemFilterSetting(a),t[_.EVENT_DATA_TYPE.Custom]=transformLDItemFilterSetting(u),t[_.EVENT_DATA_TYPE.Error]=transformLDItemFilterSetting(c),t);var f=e["D_USE_LOCAL_EDC"]||{};if(f.enabled&&f.host){l.host=f.host}return l}}];var E="LD_CONFIG_STORE";var I=[{storeName:E,source:c.LOCAL.THIRD_PARTY_CONFIG_SOURCE,priority:1,transform:function(e){return e.launchdarkly}},{storeName:E,source:c.DYNAMIC.THIRD_PARTY_CONFIG_SOURCE,priority:2,transform:function(e){return e.launchdarkly}}];var w="GOOGLE_RECHAPTCHA_CONFIG_STORE";var R=[{storeName:w,source:c.LOCAL.THIRD_PARTY_CONFIG_SOURCE,priority:1,transform:function(e){return e.googleReCaptcha}},{storeName:w,source:c.DYNAMIC.THIRD_PARTY_CONFIG_SOURCE,priority:2,transform:function(e){return e.googleReCaptcha}}];var P="SEGMENT_CONFIG_STORE";var A=[{storeName:P,source:c.LOCAL.THIRD_PARTY_CONFIG_SOURCE,priority:1,transform:function(e){return e.segment}},{storeName:P,source:c.DYNAMIC.THIRD_PARTY_CONFIG_SOURCE,priority:2,transform:function(e){return e.segment}}];var T="SENTRY_CONFIG_STORE";var O=[{storeName:T,source:c.LOCAL.THIRD_PARTY_CONFIG_SOURCE,priority:1,transform:function(e){return e.sentry}},{storeName:T,source:c.DYNAMIC.THIRD_PARTY_CONFIG_SOURCE,priority:2,transform:function(e){return e.sentry}}];var N="SUMOLOGIC_CONFIG_STORE";var x=[{storeName:N,source:c.LOCAL.THIRD_PARTY_CONFIG_SOURCE,priority:1,transform:function(e){return e.sumologic}},{storeName:N,source:c.DYNAMIC.THIRD_PARTY_CONFIG_SOURCE,priority:2,transform:function(e){return e.sumologic}}];var D="PENDOGUIDES_CONFIG_STORE";var M=[{storeName:D,source:c.LOCAL.THIRD_PARTY_CONFIG_SOURCE,priority:1,transform:function(e){return e.pendoGuides}},{storeName:D,source:c.DYNAMIC.THIRD_PARTY_CONFIG_SOURCE,priority:2,transform:function(e){return e.pendoGuides}}];var k="DROPBOX_CONFIG_STORE";var L=[{storeName:k,source:c.LOCAL.THIRD_PARTY_CONFIG_SOURCE,priority:1,transform:function(e){return e.dropbox}},{storeName:k,source:c.DYNAMIC.THIRD_PARTY_CONFIG_SOURCE,priority:2,transform:function(e){return e.dropbox}}];var F="GIPHY_CONFIG_STORE";var U=[{storeName:F,source:c.LOCAL.THIRD_PARTY_CONFIG_SOURCE,priority:1,transform:function(e){return e.giphy}},{storeName:F,source:c.DYNAMIC.THIRD_PARTY_CONFIG_SOURCE,priority:2,transform:function(e){return e.giphy}}];var B="GOOGLEDRIVE_CONFIG_STORE";var G=[{storeName:B,source:c.LOCAL.THIRD_PARTY_CONFIG_SOURCE,priority:1,transform:function(e){return e.googleDrive}},{storeName:B,source:c.DYNAMIC.THIRD_PARTY_CONFIG_SOURCE,priority:2,transform:function(e){return e.googleDrive}}];var j="ONEDRIVE_CONFIG_STORE";var H=[{storeName:j,source:c.LOCAL.THIRD_PARTY_CONFIG_SOURCE,priority:1,transform:function(e){return e.oneDrive}},{storeName:j,source:c.DYNAMIC.THIRD_PARTY_CONFIG_SOURCE,priority:2,transform:function(e){return e.oneDrive}}];var V="MF_APP_GALLERY_CONFIG_STORE";var W=new _.BaseConfig({enable:false});r.configStoreManager.addConfigStore(V,W);var z={name:V,ld:function(e){return{enable:Boolean(e["D_USE_MF_APP_GALLERY"])}},features:function(e){return{enable:Boolean(e.MFAppGallery)}}};var Y=undefined&&undefined.__assign||function(){Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return Y.apply(this,arguments)};var q={compatibility:7,permission:6,ld:5,features_dynamic:4,features_local:3,s3:2};function bindFeatureFlag(e){var t=e.name,n=e.permission,o=e.ld,i=e.features,a=e.s3,u=e.sources;var s=[];if(n){s.push({storeName:t,priority:q.permission,sourceName:g.dY.ENTITLEMENT,transform:n})}if(o){s.push({storeName:t,priority:q.ld,sourceName:g.dY.LAUNCHDARKLY,transform:o})}if(i){s.push({storeName:t,priority:q.features_dynamic,sourceName:c.DYNAMIC.FEATURES_CONFIG_SOURCE,transform:i});s.push({storeName:t,priority:q.features_local,sourceName:c.LOCAL.FEATURES_CONFIG_SOURCE,transform:i})}if(a){s.push({storeName:t,priority:q.s3,sourceName:g.dY.S3,transform:a})}if(u){u.forEach((function(e){s.push(Y({storeName:t},e))}))}s.forEach((function(e){return r.configStoreManager.addDescribe(e)}))}var K=g.L2.RWC_CONFIG_STORE;var Q={name:K,ld:function(e){var t=e["D_USE_RWC_HERCULES"];return{enable:Boolean(t===null||t===void 0?void 0:t.enable),hideSetting:Boolean(t===null||t===void 0?void 0:t.hideSetting),defaultToggleValue:Boolean(t===null||t===void 0?void 0:t.defaultToggleValue)}},sources:[{sourceName:g.dY.HERCULES_APP_CONFIG,priority:q.compatibility,transform:function(e){if(!e)return{};return e}}]};var Z=n(298784);var X=n.n(Z);var J=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var $={name:g.L2.CORE_LOGGER_CONFIG_STORE,ld:function(e){var t;return{browser:{enabled:Boolean((t=e["USE_UPLOAD_LOG"])===null||t===void 0?void 0:t.Consolable)}}},features:function(e){return{browser:{enabled:Boolean(e.ConsoleLog&&!r.EnvConfig.getIsRunningE2E())}}}};var ee={enable:"electronWebLog.enable",maxCount:"electronWebLog.maxCount",maxKB:"electronWebLog.maxKB",interval:"electronWebLog.interval"};var te={"Uploadable.Enable":"upload.enable","Uploadable.AllLog":"upload.matchRule.allLog","Uploadable.LogLevels":"upload.matchRule.logLevels","Uploadable.LogTags":"upload.matchRule.logTags","Uploadable.Modules":"upload.matchRule.modules","Storage.MarkedLog.Enable":"persistent.markedLog.enable","Storage.MarkedLog.AliveHours":"persistent.markedLog.aliveHours","Storage.MarkedLog.MaxSize":"persistent.markedLog.maxSize","Storage.HistoryLog.Enable":"persistent.historyLog.enable","Storage.HistoryLog.AliveHours":"persistent.historyLog.aliveHours","Storage.HistoryLog.MaxSize":"persistent.historyLog.maxSize","Storage.DoubleCheckMaxSize":"persistent.doubleCheckMaxSize","Storage.CleanIntervalHours":"persistent.cleanIntervalHours","TemporaryStorage.Enable":"temporaryStorage.enable","TemporaryStorage.AliveHours":"temporaryStorage.aliveHours","TemporaryStorage.MaxSize":"temporaryStorage.maxSize","Memory.MaxSize":"memory.maxSize","Memory.AliveHours":"memory.aliveHours"};function assignMapValue(e,t,n){if(n===void 0){n={}}Object.entries(e).forEach((function(e){var r=J(e,2),o=r[0],i=r[1];if(X().get(t,o)!==undefined){X().set(n,i,X().get(t,o))}}));return n}var ne={name:g.L2.LOGGER_CONFIG_STORE,ld:function(e){var t={};assignMapValue(ee,e["D_USE_DISPATCH_WEB_LOG_TO_ELECTRON"],t);assignMapValue(te,e["USE_UPLOAD_LOG"],t);return t}};var re=n(374686);var oe={name:re.on.TOP_BAR_CONFIG_STORE,features:function(e){return{showInviteFromContacts:Boolean(e.showInviteFromContacts)}}};var ie={name:g.L2.INTERNATIONAL_BRAND_FEATURES_CONFIG_STORE,features:function(e){return e.internationalBrandFeatures}};var ae={name:g.L2.CALENDAR_PRESENCE_CONFIG_STORE,features:function(e){return{enableCalendarPresence:e.enableCalendarPresence}}};var ue={name:g.L2.UNIQUE_ID_PREFIX_CONFIG_STORE,features:function(e){return{uniqueIdPrefix:e.uniqueIdPrefix}}};var se={name:g.L2.URL_SCHEME_CONFIG_STORE,features:function(e){return{prioritiseRCMUriScheme:e.prioritiseRCMUriScheme,removeDefaultUriSchemeExtra:e.removeDefaultUriSchemeExtra}}};var ce=[z,Q,$,ne,oe,ie,ae,se,ue];var le=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var fe=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(le(arguments[t]));return e};var registerAllConfigSettings=function(){var e=fe(f,p,v,S,I,R,A,O,x,M,L,G,H,U);e.forEach((function(e){r.configStoreManager.addDescribe({storeName:e.storeName,sourceName:e.source,priority:e.priority,transform:e.transform})}));ce.forEach((function(e){return bindFeatureFlag(e)}))};registerAllConfigSettings()},929534:(e,t,n)=>{"use strict";n.d(t,{E$:()=>o,fY:()=>i,ZB:()=>a,BO:()=>u,Lb:()=>s,Gp:()=>c});var r="";var o=r+"/theme";var i="theme.json";var a="mobileTheme.json";var u=r+"/dynamic_brand";var s="app.config.json";var c={service:"service.config.json",thirdParty:"thirdParty.config.json",features:"features.config.json"}},806734:(e,t,n)=>{"use strict";n.d(t,{t:()=>c,j:()=>getLogger});var r=n(862926);var o=n.n(r);var i=n(858036);var a=n(328363);var u=n.n(a);var s="BRAND_I18N";if(Object.keys(u()).length){i.ZP.addResource(u(),s)}var c=i.ZP.getFixedT(null,s);function getLogger(e){return r.ModuleLogger.getLogger("["+e+"][COMMON][UI]",(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.FOUNDATION)}},310287:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var r=n(529087)},269511:(e,t,n)=>{"use strict";n.d(t,{M:()=>getDynamicConfig});var r=n(291260);var o=n(862926);var i=n.n(o);function getDynamicConfig(){if(false||o.DebugUtils.isFeatureMode("noDynamic")){return false}return!!r.dynamic}},981218:(e,t,n)=>{"use strict";n.d(t,{Z:()=>loadDynamicAssets});var r=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var o=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var i=60*1e3;function _fetchResource(e){return r(this,void 0,void 0,(function(){var t,n,r;return o(this,(function(o){switch(o.label){case 0:return[4,fetch(e)];case 1:t=o.sent();if(!!t.ok)return[3,3];n=Error.bind;r="HTTP error "+t.status+"; message: ";return[4,t.text()];case 2:throw new(n.apply(Error,[void 0,r+o.sent()]));case 3:return[2,t.json()]}}))}))}function loadDynamicAssets(e){return Promise.race([_fetchResource(e),new Promise((function(t,n){setTimeout((function(){return n(new Error("Load assets: "+e+" timeout."))}),i)}))])}},467209:(e,t,n)=>{"use strict";n.d(t,{h:()=>f});var r=n(957685);var o=n(862926);var i=n.n(o);var a=n(82552);var u=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var s=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var c=a.Z.logger.tags("[ExecutionEnsurer]");var l=function(){function ExecutionEnsurer(){this.map=new Map;this.barrier=new o.Barrier}ExecutionEnsurer.prototype.open=function(){c.log("open");this.barrier.open()};ExecutionEnsurer.prototype.register=function(e,t){var n=this;t.forEach((function(t){if(n.map.has(t)){c.error("method: ["+t+"] already registered!");return}var r=e[t].bind(e);n.map.set(t,r)}))};ExecutionEnsurer.prototype.execute=function(e,t){return u(this,void 0,void 0,(function(){var n,o,i,a;return s(this,(function(u){switch(u.label){case 0:if(!!this.barrier.isOpen())return[3,2];c.log("wait to execute, method:",e,t);return[4,this.barrier.wait()];case 1:u.sent();u.label=2;case 2:n={code:r.ResponseCode.NotRegistered};if(!this.map.has(e)){c.log("electron api not register, api name:",e,t);return[2,n]}o=this.map.get(e);u.label=3;case 3:u.trys.push([3,6,,7]);i=o(t);if(!(i instanceof Promise))return[3,5];return[4,i];case 4:i=u.sent();u.label=5;case 5:n.res=i;n.code=r.ResponseCode.Success;return[3,7];case 6:a=u.sent();c.error("call electron api fail, api name:",e,t,"error",a);n.code=r.ResponseCode.ExecutionFailed;n.error=a;return[3,7];case 7:return[2,n]}}))}))};return ExecutionEnsurer}();var f=new l},181047:(e,t,n)=>{"use strict";n.r(t);n.d(t,{attractFocus:()=>attractFocus,bringAppToFront:()=>bringAppToFront,changeIdlerTimerInterval:()=>changeIdlerTimerInterval,createOutlook:()=>createOutlook,createOutlookMailMessage:()=>createOutlookMailMessage,getAppLaunchTime:()=>getAppLaunchTime,getElectronInfo:()=>getElectronInfo,getElectronStore:()=>getElectronStore,getLocalTimeFormat:()=>getLocalTimeFormat,getPlatformNetworkInfo:()=>getPlatformNetworkInfo,hasNativeAppUpgrade:()=>hasNativeAppUpgrade,invokeElectronAPI:()=>invokeElectronAPI,ipcCanRegisterEventOnMain:()=>ipcCanRegisterEventOnMain,ipcDidUserLogin:()=>ipcDidUserLogin,ipcDidUserLogout:()=>ipcDidUserLogout,ipcHandle:()=>ipcHandle,ipcInvoke:()=>ipcInvoke,ipcOffHandle:()=>ipcOffHandle,ipcOn:()=>ipcOn,ipcRegisterEventOnMain:()=>ipcRegisterEventOnMain,ipcSend:()=>ipcSend,ipcSendAsync:()=>ipcSendAsync,ipcUnRegisterEventOnMain:()=>ipcUnRegisterEventOnMain,isCompatibleForElectronAPI:()=>isCompatibleForElectronAPI,isDefaultProtocolClient:()=>isDefaultProtocolClient,isLocalUse12Hour:()=>isLocalUse12Hour,isMainWindowMinimized:()=>isMainWindowMinimized,isNewOutlookMac:()=>isNewOutlookMac,isOutlookInstalled:()=>isOutlookInstalled,isOutlookInstalledNew:()=>isOutlookInstalledNew,isSupportAttractFocus:()=>isSupportAttractFocus,isSystemDND:()=>isSystemDND,isURLSchemeBound:()=>isURLSchemeBound,openElectronFileInFolder:()=>openElectronFileInFolder,openOutlookCalendar:()=>openOutlookCalendar,registerIdlerTimerTaskOnElectron:()=>registerIdlerTimerTaskOnElectron,toggleDesktopAppBackgroundNotification:()=>toggleDesktopAppBackgroundNotification,toggleIdlerTimerSyncEvent:()=>toggleIdlerTimerSyncEvent,unregisterIdlerTimerTaskOnElectron:()=>unregisterIdlerTimerTaskOnElectron,updateNavigateWhiteList:()=>updateNavigateWhiteList,updateWindowWhiteList:()=>updateWindowWhiteList,upgradeNativeApp:()=>upgradeNativeApp});var r=n(696898);function isOutlookInstalled(){return{type:r.m6.IS_OUTLOOK_INSTALLED}}function isOutlookInstalledNew(){return{type:r.m6.IS_OUTLOOK_INSTALLED_NEW}}function createOutlook(e){return{type:r.m6.CREATE_OUTLOOK,params:e}}function openOutlookCalendar(e){return{type:r.m6.OPEN_OUTLOOK_CALENDAR,params:e}}function getAppLaunchTime(){return{type:r.m6.GET_APP_LAUNCH_TIME}}function bringAppToFront(){return{type:r.m6.BRING_APP_TO_FRONT}}function isURLSchemeBound(e){return{type:r.m6.IS_URL_SCHEME_BOUND,params:e}}function ipcDidUserLogin(){return{type:r.m6.DID_USER_LOGIN}}function ipcDidUserLogout(){return{type:r.m6.DID_USER_LOGOUT}}function isMainWindowMinimized(){return{type:r.m6.IS_MAIN_WINDOW_MINIMIZED}}function getElectronInfo(){return{type:r.m6.GET_ELECTRON_INFO}}function isNewOutlookMac(){return{type:r.m6.IS_NEW_OUTLOOK_MAC}}function createOutlookMailMessage(e){return{type:r.m6.CREATE_OUTLOOK_MAIL_MESSAGE,params:e}}function isCompatibleForElectronAPI(e){return{type:r.RP.IS_COMPATIBLE,params:e}}function attractFocus(e){return{type:r.i0.ATTRACT_FOCUS,params:e}}function isSupportAttractFocus(){return{type:r.i0.IS_SUPPORT_ATTRACT_FOCUS}}function isSystemDND(){return{type:r.i0.IS_SYSTEM_DND}}function changeIdlerTimerInterval(e){return{type:r.zk.IDLE_TIMER_CHANGE_IDLE_TIMER_INTERVAL,params:e}}function toggleIdlerTimerSyncEvent(e){return{type:r.zk.IDLE_TIMER_TOGGLE_IDLE_TIME_SYNC_EVENT,params:e}}function registerIdlerTimerTaskOnElectron(e){return{type:r.zk.IDLE_TIMER_REGISTER_TASK,params:e}}function unregisterIdlerTimerTaskOnElectron(e){return{type:r.zk.IDLE_TIMER_UNREGISTER_TASK,params:e}}var o=n(957685);function ipcOn(e){return{type:r.t6.IPC_ON,params:e}}function ipcSend(e){return{type:r.t6.IPC_SEND,params:e}}function ipcSendAsync(e){return{type:r.t6.IPC_SEND_ASYNC,params:e}}function ipcInvoke(e){return{type:r.t6.IPC_INVOKE,params:e}}function ipcHandle(e){return{type:r.t6.IPC_HANDLE,params:e}}function ipcOffHandle(e){return{type:r.t6.IPC_OFF_HANDLE,params:e}}function invokeElectronAPI(e){return{type:r.t6.INVOKE_ELECTRON_API,params:e,afterAPIInvoked:function(e){var t=e.code,n=e.error;if(t!==o.ResponseCode.Success){throw new Error(n)}}}}function ipcCanRegisterEventOnMain(){return{type:r.t6.CAN_REGISTER_EVENT_ON_MAIN}}function ipcRegisterEventOnMain(e){return{type:r.t6.REGISTER_EVENT_ON_MAIN,params:e}}function ipcUnRegisterEventOnMain(e){return{type:r.t6.UNREGISTER_EVENT_ON_MAIN,params:e}}function updateNavigateWhiteList(e){return{type:r.pR.UPDATE_NAVIGATE_WHITE_LIST,params:e}}function updateWindowWhiteList(e){return{type:r.pR.UPDATE_NEW_WINDOW_WHITE_LIST,params:e}}function toggleDesktopAppBackgroundNotification(e){return{type:r.uk.TOGGLE_DESKTOP_APP_BACKGROUND_NOTIFICATION,params:e}}function getElectronStore(e){return{type:r.x2.GET_ELECTRON_STORE,params:e}}function getLocalTimeFormat(){return{type:r.jy.GET_LOCAL_TIME_FORMAT}}function isLocalUse12Hour(){return{type:r.jy.IS_LOCAL_USE_TWELVE_HOUR}}function openElectronFileInFolder(e){return{type:r.jy.OPEN_FILE_IN_FOLDER,params:e}}function getPlatformNetworkInfo(){return{type:r.jy.GET_PLATFORM_NETWORK_INFO}}function hasNativeAppUpgrade(){return{type:r.Fc.HAS_NATIVE_APP_UPGRADE}}function upgradeNativeApp(){return{type:r.Fc.UPGRADE_NATIVE_APP}}function isDefaultProtocolClient(e){return{type:r.L2.IS_DEFAULT_PROTOCOL_CLIENT,params:e}}},82552:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(957685);var o=n(779217);var i=n.n(o);var a=n(970336);var u=(0,r.getContext)(a.dj);var s=u.i18n;Object.defineProperty(u,"i18n",{get:function(){(0,r.addResource)(i(),a.dj);return s}});const c=u},854531:(e,t,n)=>{"use strict";n.d(t,{x:()=>x});var r=n(862926);var o=n(667489);var i=n(697397);var a=n(750714);var u=n(118755);var s=n(164394);var c=n(959938);var l=n(758151);var f=n(910647);var d=n(7487);var p=n(908512);var h=n(586905);var v=n(437402);var g=n.n(v);var _="[ErrorReporter]";var y=r.ModuleLogger.getLogger(_,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.COMMON);var b=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var C="testMeta";var m=function(e){b(SentryLocalConfig,e);function SentryLocalConfig(){return e.call(this)||this}SentryLocalConfig.getMeta=function(){return SentryLocalConfig.get(C)};SentryLocalConfig.moduleName="debugger";return SentryLocalConfig}(o.GlobalConfig);var S=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var E=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var I=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var w={development:"https://810a779037204886beeced1c4bd7fbba@sentry.io/1419520",production:"https://684e586feb974bb895d0a98411a92873@sentry.io/1430043",public:"https://189257426b7043da8995ac8d2c217298@sentry.io/1448026",xmn:"https://6d40d21f98cf43eead045ba52be33f9b@aqa01-i01-sny01.lab.nordigy.ru/2",ods:"https://a0cca515e19445afb3bdc58779a69023@sentry.jupiter.dev.glip.net:8081/2"};var R=30*60*1e3;var P=10;var A=10;function getDSN(e){return w[e]||w["xmn"]}function getExceptionFromEvent(e){var t;var n=I(((t=e.exception)===null||t===void 0?void 0:t.values)||[],1),r=n[0];return r}var T=function(){function SentryErrorReporter(){var e=this;this._eventRecords=[];this.init=function(){return S(e,void 0,void 0,(function(){var e,t,n,r,o;return E(this,(function(u){switch(u.label){case 0:return[4,this._getInfo()];case 1:e=u.sent(),t=e.deployedVersion,n=e.electronVersionInfo;r=getDSN(undefined||a.Op);y.log("use dsn:",r);o={dsn:r,debug:false,release:t,beforeSend:this.beforeSend,ignoreErrors:i.C8,integrations:[new s.jK.Breadcrumbs({console:false})],beforeBreadcrumb:function(e,t){var n;try{if((n=e.category)===null||n===void 0?void 0:n.startsWith("ui")){var r=t===null||t===void 0?void 0:t.event.target;if(r){var o=5;var i=0;var a="";var u=r;while(u&&i<o){var s=u.tagName.toLowerCase();if(s==="body"){a="BODY > "+a;break}else{var c=u.dataset.testAutomationId||"";var l=u.id;var f=u.classList.value;a=""+s+(l?"#"+l:"")+(f?"."+f:"")+(c?'[automationId="'+c+'"]':"")+(a?">"+a:"")}u=u.parentElement;i+=1}e.message=a}}}catch(e){y.log("fail to customize sentry breadcrumb message, "+e)}return e}};if(r===w.production){o.integrations.push(new p.jK.BrowserTracing({routingInstrumentation:c.qp(h.m8)}));o.tracesSampleRate=.01}l.S(o);n&&f.e((function(e){e.setTag("desktopRelease",n.electronAppVersionNumber)}));return[2]}}))}))};this.report=function(e){try{f.Tb(e)}catch(t){y.error("report Error fail.",t,"; report error:",e)}};this.setUserContextInfo=function(e){try{f.e((function(t){t.setUser({id:e.uniqueId,username:e.username,email:e.email});t.setTag("env",e.env)}))}catch(e){y.error("setUserContextInfo fail.",e)}};this.beforeSend=function(t){return S(e,void 0,void 0,(function(){var e,n,r,o,i,a,u;return E(this,(function(s){switch(s.label){case 0:return[4,this._getInfo()];case 1:e=s.sent(),n=e.buildCommit,r=e.electronVersionInfo,o=e.deployedVersion;i=(r||{}).xUserAgent;this._setIfNoExist(t,"tags.buildCommit",n);this._setIfNoExist(t,"tags.xUserAgent",i);this._setIfNoExist(t,"tags.desktopRelease",o);a=m.getMeta();if(a){this._setIfNoExist(t,"tags.testMeta",a)}u=this._shouldSendEvent(t);return[2,u?t:null]}}))}))};r.DebugUtils.isDebugMode()&&(window["_sentryReporter"]=this)}SentryErrorReporter.prototype.dispose=function(){return S(this,void 0,void 0,(function(){return E(this,(function(e){switch(e.label){case 0:return[4,d.xv()];case 1:e.sent();y.info("close sentry");return[2]}}))}))};SentryErrorReporter.prototype._shouldSendEvent=function(e){var t=getExceptionFromEvent(e);if(!t)return true;var n=this._eventRecords.find((function(e){return e.eventTitle===(t===null||t===void 0?void 0:t.type)&&e.eventMessage===(t===null||t===void 0?void 0:t.value)}));var r=Date.now();if(!n){this._eventRecords.push({firstTime:r,lastTime:r,windowTime:r,inWindowCount:1,totalCount:1,isBlock:false,eventTitle:t.type,eventMessage:t.value});return true}n.totalCount+=1;n.lastTime=r;if(r-n.windowTime<R){n.inWindowCount+=1}else{n.windowTime=r;n.inWindowCount=1}if(!n.isBlock&&n.inWindowCount>=P){n.isBlock=true;y.warn("Block send event: ",n)}if(n.totalCount%A===0){y.warn("Blocked event report.",n)}return!n.isBlock};SentryErrorReporter.prototype._setIfNoExist=function(e,t,n){if(!n){return}if(!g().has(e,t)){g().set(e,t,n)}};SentryErrorReporter.prototype._getInfo=function(){return S(this,void 0,void 0,(function(){var e,t,n;return E(this,(function(r){switch(r.label){case 0:if(!(!this._buildCommit||!this._deployedVersion))return[3,2];return[4,(0,u.fetchVersionInfo)()];case 1:e=r.sent(),t=e.deployedVersion,n=e.buildCommit;this._buildCommit=n;this._deployedVersion=t;r.label=2;case 2:if(!this._electronVersionInfo&&window.jupiterElectron&&window.jupiterElectron.getElectronVersionInfo){this._electronVersionInfo=window.jupiterElectron.getElectronVersionInfo()}return[2,{buildCommit:this._buildCommit,deployedVersion:this._deployedVersion,electronVersionInfo:this._electronVersionInfo}]}}))}))};return SentryErrorReporter}();var O=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var N=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var x=function(){function ErrorReporterProxy(e){var t=this;this._queue=[];this._isInit=false;this.report=function(e){if(t._isInit){t._reporter.report(e)}else{t._pushToQueue((function(){return t._reporter.report(e)}))}};this.setUserContextInfo=function(e){if(t._isInit){t._reporter.setUserContextInfo(e)}else{t._pushToQueue((function(){return t._reporter.setUserContextInfo(e)}))}};this._pushToQueue=function(e){t._enabled&&t._queue.push(e)};this._executeFromQueue=function(){t._enabled&&t._queue.forEach((function(e){e()}))};this._init=function(){i.X8.addConfigObserver({getter:function(e){return e.enable},callback:function(e){if(!t._reporter){t._reporter=new T}if(e.enable){t._reporter.init().then((function(){t._isInit=true;t._executeFromQueue()}))}else{t._reporter.dispose();t._isInit=true}}});var e=i.X8.getConfig();if(!e.enable){r.mainLogger.info("sentry is disabled");return}if(t._enabled&&!t._isInit&&!t._reporter){t._reporter=new T;t._reporter.init().then((function(){t._isInit=true;t._executeFromQueue()}))}};this._initSegmentConfigStore();this._enabled=e||r.DebugUtils.isFeatureMode("sentry");r.mainLogger.info("ErrorReporter enabled status: "+e);setTimeout((function(){return O(t,void 0,void 0,(function(){return N(this,(function(e){this._init();return[2]}))}))}),3e3)}ErrorReporterProxy.prototype._initSegmentConfigStore=function(){o.configStoreManager.addConfigStore(i.x5,i.X8)};return ErrorReporterProxy}()},697397:(e,t,n)=>{"use strict";n.d(t,{x5:()=>i,X8:()=>a,C8:()=>u});var r=n(862926);var o=n.n(r);var i="SENTRY_CONFIG_STORE";var a=new r.BaseConfig({enable:false});var u=["Non-Error exception captured","Non-Error promise rejection captured"]},229442:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(957685);var o=n(796036);var i=function(){function ClientService(){}ClientService.prototype.focus=function(){if(window.jupiterElectron){o.M$.bringAppToFront()}window.focus()};ClientService.prototype.open=function(e){window.open(e)};ClientService.prototype.invokeApp=function(e,t){var n=document.getElementById("app-portal");if(!n){n=document.createElement("iframe");Object.assign(n,{id:"app-portal",height:"0",width:"0",tabIndex:-1});n.style.display="none";var i=document.body;i.appendChild(n)}if(!window.jupiterElectron){n.setAttribute("src",e);return}n.setAttribute("src",e);o.M$.isURLSchemeBound(e).then((function(e){var n=e.res,o=e.code;if(o!==r.ResponseCode.Success||!n){t.fallback()}}))};return ClientService}();var a=new i},312297:(e,t,n)=>{"use strict";n.d(t,{W:()=>dataAnalysisShortcuts});var r=n(968006);function dataAnalysisShortcuts(e){r.s6.track("Jup_Web/DT_general_kbShortcuts",{shortcut:e})}},174400:(e,t,n)=>{"use strict";n.d(t,{v:()=>l});var r=n(145624);var o=n(279656);var i=n(586905);var a=n(851015);var u=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var s=undefined&&undefined.__assign||function(){s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return s.apply(this,arguments)};var c=function(e){u(DialogManager,e);function DialogManager(){return e!==null&&e.apply(this,arguments)||this}DialogManager.prototype.open=function(t,n){if(n===void 0){n={}}var i=(0,o.withPortalStyles)(t);var a=s(s({},n.props),{externalWindow:r.Z.getActiveWindow()});return e.prototype.open.call(this,i,s(s({},n),{props:a}))};DialogManager.prototype.onConnected=function(){var t=this;e.prototype.onConnected.call(this);this._historyUnregister=i.m8.listen((function(){t.closeByFilter({excludeTags:[a.r.ROUTE_SAFETY]})}))};DialogManager.prototype.onDisconnected=function(){var t;e.prototype.onDisconnected.call(this);(t=this._historyUnregister)===null||t===void 0?void 0:t.call(this)};return DialogManager}(o.BaseDialogManager);var l=new c},851015:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});var r;(function(e){e["ROUTE_SAFETY"]="routeSafety"})(r||(r={}))},775232:(e,t,n)=>{"use strict";var r=n(669211);var o=n.n(r);var i=n(305406);var a=n.n(i);var u=n(772265);var s=undefined&&undefined.__assign||function(){s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return s.apply(this,arguments)};var c=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var withLeaveBlocker=function(e){var t=forwardRef((function(t,n){var r=t.blockLeave,o=r===void 0?true:r,i=t.onCancel,a=c(t,["blockLeave","onCancel"]);var u=usePortalManagerWithID(),l=u.manager,f=u.id;var d=useBlockLeave((function(){l.closeByID(f)}),{block:o});var p=useEventCallback((function(){i===null||i===void 0?void 0:i();d()}));return React.createElement(e,s({ref:n,onCancel:p},a))}));t.displayName=withLeaveBlocker.name+"("+e.displayName+")";return t}},881146:(e,t,n)=>{"use strict";n.d(t,{k:()=>lazyComponent});var r=n(862926);var o=n.n(r);var i=n(305406);var a=n.n(i);var u=undefined&&undefined.__assign||function(){u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return u.apply(this,arguments)};function lazyComponent(e){var t=e.loader,n=e.Loading,o=n===void 0?function(){return a().createElement("div",null)}:n;var s=(0,i.lazy)((function(){return t().then((function(e){if(!e.default){r.mainLogger.tags("[UI][lazyComponent]").error("lazy component resolves to undefined "+JSON.stringify(e))}return e}))}));return function(e){return a().createElement(i.Suspense,{fallback:a().createElement(o,null)},a().createElement(s,u({},e)))}}},428590:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(862926);var o=n.n(r);var i=n(74955);var a=n(973345);var u=n.n(a);var s=n(968006);var c=n(404090);var l=r.mainLogger.tags("[HotKey][Controller]");var f=function(){function HotKeyController(e){var t=this;var n=e.bindElement,r=e.targetElement,o=e.stopCallback;this._pendingKeyMap={};this._iframeBindings=[];this._boundKeys={};this.registerIframeMousetrap=function(e,n){if(t._iframeBindings[n]){return}t._iframeBindings[n]=e;Object.keys(t._boundKeys).forEach((function(n){var r=t._boundKeys[n];i.Q.allKeyMap;var o=i.Q.keyConfig(n);e.bind(o.sequence,t.wrapHandler(r),o.action)}))};this.unregisterIframeMousetrap=function(e){delete t._iframeBindings[e]};this.accessible=function(){if(t.targetElement){return t.targetElement.clientWidth>0&&t.targetElement.clientHeight>0}return true};this.noModalDialog=function(){return!(0,c.Z9)()};this.bindElement=n;this.targetElement=r;this.stopCallback=o;if(!this.bindElement){l.error("Invalid bindElement")}this._mousetrap=new(u())(this.bindElement);this.stopCallback&&(this._mousetrap.stopCallback=this.stopCallback);i.Q.onKeyMapChange(this)}HotKeyController.prototype.onKeysAdd=function(e){var t=this;e.forEach((function(e){var n=t._pendingKeyMap[e];var r=i.Q.keyConfig(e);if(n&&r){t._bindKeySequence(r.sequence,t.wrapHandler(n),r.action);t._removeFromPendingList(e)}}))};HotKeyController.prototype._addToPendingList=function(e,t){if(this._pendingKeyMap[e]){l.warn("Key "+e+" duplicate.")}this._pendingKeyMap[e]=t};HotKeyController.prototype._removeFromPendingList=function(e){delete this._pendingKeyMap[e]};HotKeyController.prototype.wrapHandler=function(e){var t=this;return function(n,r){if(e.dataTracking){s.s6.track("Jup_Web/DT_general_kbShortcuts",{shortcut:e.dataTracking})}if(e.limits&&e.limits.length>0){var o=e.limits.some((function(e){return t[e]&&!t[e]()}));if(o){return e.shouldFallback?e.shouldFallback():true}}var i=e.handler(n,r);return i===undefined?false:i}};HotKeyController.prototype.bindKeys=function(e){var t=this;Object.keys(e).forEach((function(n){var r=i.Q.keyConfig(n);if(!r){l.warn("Not config for key "+n+" to bindKey");t._addToPendingList(n,e[n]);return}if(t._boundKeys[n]){t.unbindKeys([n])}t._boundKeys[n]=e[n];t._bindKeySequence(r.sequence,t.wrapHandler(e[n]),r.action)}))};HotKeyController.prototype.unbindKeys=function(e){var t=this;e.forEach((function(e){var n=i.Q.keyConfig(e);t._removeFromPendingList(e);if(!n){l.error("Not config for key "+e+" to unbindKey");return}delete t._boundKeys[e];t._unbindKeySequence(n.sequence,n.action)}))};HotKeyController.prototype.dispose=function(){i.Q.offKeyMapChange(this);this._iframeBindings=[];this.targetElement=null;this.bindElement=null};HotKeyController.prototype._bindKeySequence=function(e,t,n){this._mousetrap.bind(e,t,n);this._iframeBindings.forEach((function(r){r.bind(e,t,n)}))};HotKeyController.prototype._unbindKeySequence=function(e,t){this._mousetrap.unbind(e,t);this._iframeBindings.forEach((function(n){n.unbind(e,t)}))};return HotKeyController}()},95445:()=>{},404090:(e,t,n)=>{"use strict";n.d(t,{Z9:()=>isDialogOpen,jr:()=>getKeySequenceConfig,WH:()=>getKeyHandlerConfig,OB:()=>withShortcutDebounce});var r=n(266726);var o=n.n(r);function isDialogOpen(){var e=document.querySelector(".MuiDialog-root:not([hidden]):not([data-role=dialer]):not([data-role=meeting])");return!!e}function getKeySequenceConfig(e){var t=e.sequence,n=e.action,r=e.title,o=e.hints,i=e.group,a=e.weight;return{sequence:t,action:n,title:r,hints:o,group:i,weight:a}}function getKeyHandlerConfig(e){var t=e.handler,n=e.limits,r=e.shouldFallback,o=e.dataTracking;return{handler:t,limits:n,shouldFallback:r,dataTracking:o}}function withShortcutDebounce(e){return o()(e,50,{leading:true,trailing:false,maxWait:100})}},335028:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(714614);var o=n.n(r);var i=n(161320);var a=n.n(i);var u=n(96606);var s=n.n(u);var c=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};const l={name:"navigatorVagueDetector",lookup:function(){var e;var t=c(((e=window.navigator)===null||e===void 0?void 0:e.languages)||[],2),n=t[0],r=t[1];if(n&&r&&!n.includes("-")&&r.startsWith(n+"-"))return r;return undefined}};var f=n(14862);var d=n(666317);var p=n.n(d);var h=n(471257);var v=n.n(h);var g=n(919932);var _=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var addResource=function(e,t){function addResourceBundle(){var n,r;try{for(var i=_(Object.keys(e)),a=i.next();!a.done;a=i.next()){var u=a.value;if(o().hasResourceBundle(u,t)){return}var s=!o().options.whitelist;if(o().options.whitelist){s=o().options.whitelist.includes(u)}if(s){o().addResourceBundle(u,t,e[u])}}}catch(e){n={error:e}}finally{try{if(a&&!a.done&&(r=i.return))r.call(i)}finally{if(n)throw n.error}}}if(o().isInitialized){addResourceBundle()}else{o().on("initialized",addResourceBundle)}};var removeResource=function(e,t){var n,r;try{for(var i=_(Object.keys(e)),a=i.next();!a.done;a=i.next()){var u=a.value;o().removeResourceBundle(u,t)}}catch(e){n={error:e}}finally{try{if(a&&!a.done&&(r=i.return))r.call(i)}finally{if(n)throw n.error}}};var y={a:"\u03b1",b:"\u1e05",c:"\u037c",d:"\u1e0d",e:"\u1e1b",f:"\u03dd",g:"\u1e21",h:"\u1e25",i:"\u1e2d",j:"\u0135",k:"\u1e33",l:"\u1e3d",m:"\u1e43",n:"\u1e47",o:"\u1e53",p:"\u1e57",q:"\u02a0",r:"\u1e5b",s:"\u1e61",t:"\u0163",u:"\u1e75",v:"\u1e7d",w:"\u1e81",x:"\u1e8b",y:"\u1e8f",z:"\u1e93",A:"\xc0",B:"\u03b2",C:"\u1e08",D:"\u1e0c",E:"\u1e1a",F:"\u1e1e",G:"\u1e20",H:"\u1e24",I:"\u1e2c",J:"\u0134",K:"\u1e30",L:"\u1e3a",M:"\u1e40",N:"\u1e44",O:"\u1e4e",P:"\u1e54",Q:"\u01ea",R:"\u1e5a",S:"\u1e62",T:"\u1e6a",U:"\u1e72",V:"\u1e7e",W:"\u0174",X:"\u1e8a",Y:"\u0176",Z:"\u017b"};var b=.3;var C="\u1e3d\u1e53\u1e5b\u1e1b\u1e43 \u1e2d\u1e57\u1e61\u1e75\u1e43 \u1e0d\u1e53\u1e3d\u1e53\u1e5b \u1e61\u1e2d\u0163 \u03b1\u1e43\u1e1b\u0163, \u037c\u1e53\u1e47\u1e61\u1e1b\u037c\u0163\u1e1b\u0163\u1e75\u1e5b \u03b1\u1e0d\u1e2d\u1e57\u1e2d\u1e61\u037c\u1e2d\u1e47\u1e21 \u1e1b\u1e3d\u1e2d\u0163. \u1e44\u1e75\u1e47\u037c \u1e1b\u1e21\u1e1b\u0163 \u1e75\u1e5b\u1e47\u03b1 \u1e3d\u03b1\u1e53\u1e5b\u1e1b\u1e1b\u0163, \u03b1\u037c\u037c\u1e75\u1e43\u1e61\u03b1\u1e47 \u03dd\u1e1b\u1e3d\u1e2d\u1e61 \u03b1\u0163, \u1e0d\u03b1\u1e57\u1e2d\u1e05\u1e75\u1e61 \u1e1b\u1e3d\u1e2d\u0163. \u1e2c\u1e47 \u1e75\u0163 \u0163\u1e1b\u1e43\u1e57\u1e75\u1e61 \u1e43\u03b1\u1e75\u1e5b\u1e2d\u1e61. \u1e62\u1e1b\u1e0d \u1e1b\u1e21\u1e1b\u0163 \u1e61\u03b1\u1e21\u1e2d\u0163\u0163\u1e2d\u1e61 \u03b1\u1e5b\u037c\u1e75, \u1e2d\u1e47 \u037c\u1e53\u1e47\u1e0d\u1e2d\u1e43\u1e1b\u1e47\u0163\u1e75\u1e43 \u1e57\u1e75\u1e5b\u1e75\u1e61. \u1e08\u1e75\u1e5b\u03b1\u1e05\u1e2d\u0163\u1e75\u1e5b \u1e7d\u1e2d\u0163\u03b1\u1e1b \u037c\u1e53\u1e47\u1e21\u1e75\u1e1b \u1e1b\u1e3d\u1e2d\u0163.";var m=n(298784);var S=function(){function PseudoTranslator(){}PseudoTranslator.prototype.increaseStringLength=function(){var e=this.pseudoString;var t=Math.ceil(e.length*b);return(e+C.substr(0,t)).trimRight()};PseudoTranslator.prototype.reservePlaceHolders=function(){var e=this;var t=this.pseudoString;var n=0;this.pseudoString=t.replace(/\{\{([^}]*)\}\}/g,(function(t){var r="\u1e75\u037c\u1e5b\u03b1-"+n++;e.holders[r]=t;return r}));return this};PseudoTranslator.prototype.pseudoWithCharMap=function(){this.pseudoString=this.pseudoString.split("").map((function(e){return y[e]||e})).join("");return this};PseudoTranslator.prototype.revertPlaceHolders=function(){var e=this;var t=this.pseudoString;Object.keys(this.holders).forEach((function(n){var r=e.holders[n];t=t.replace(n,r)}));this.pseudoString=t;return this};PseudoTranslator.prototype.translate=function(e){this.holders={};this.pseudoString=e;return this.reservePlaceHolders().pseudoWithCharMap().revertPlaceHolders().increaseStringLength()};PseudoTranslator.prototype.translateBundle=function(e){var t=this;return(0,m.cloneDeepWith)(e,(function(e){return typeof e==="string"?t.translate(e):undefined}))};return PseudoTranslator}();var E=new S;var I=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var w=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var R=function(){function PseudoBackend(e){this.type="backend";this.options=e}PseudoBackend.prototype.init=function(e){this.services=e};PseudoBackend.prototype.read=function(e,t,n){return I(this,void 0,void 0,(function(){var r=this;return w(this,(function(o){switch(o.label){case 0:if(e!==this.options.pseudoLanguage){n(new Error("PseudoBackend only supports to load pseudo language: "+this.options.pseudoLanguage+", yet now trying to load: "+e),null);return[2]}if(!this.options.shouldLoadBundle(t)){n(new Error("PseudoBackend is trying to load a bundle that isn't specified by shouldLoadBundle, namespace: "+t),null);return[2]}return[4,new Promise((function(e){return setTimeout(e,r.options.delay)}))];case 1:o.sent();n(null,this._getPseudoBundle(t));return[2]}}))}))};PseudoBackend.prototype._getPseudoBundle=function(e){var t=this.services.resourceStore.data[this.options.inlineLanguage][e];return E.translateBundle(t)};return PseudoBackend}();const P=R;var A=(0,g.PL)()||(0,g.h$)();var T="i18n.pseudo";var O=!!localStorage.getItem(T)&&!A;var N="pseudo";var x="en";var D=2e3;var M;(function(e){e["INlINE"]="INlINE";e["NETWORK"]="NETWORK"})(M||(M={}));function getBundleLoadType(e){return e==="translations"?M.NETWORK:M.INlINE}var k=new P({pseudoLanguage:N,inlineLanguage:x,delay:D,shouldLoadBundle:function(e){return getBundleLoadType(e)===M.NETWORK}});function initPseudo(){o().store.on("added",(function(e,t){if(e===x&&getBundleLoadType(t)===M.INlINE){o().addResourceBundle(N,t,E.translateBundle(o().getResourceBundle(x,t)))}}))}var L=n(325719);var F=undefined&&undefined.__assign||function(){F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return F.apply(this,arguments)};var U=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var B=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var G=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(B(arguments[t]));return e};var getConfig=function(e,t){var n=t.whitelist||[];if(O){n.push(N)}return F(F({},t),{whitelist:n,interpolation:g.JI,ns:[e],defaultNS:e,fallbackNS:e,debug:false,lng:O?N:undefined,react:{wait:true,useSuspense:false},load:"currentOnly",detection:{order:["querystring","localStorage",l.name,"navigator"],lookupLocalStorage:"i18nextUserLng",caches:[]}})};var initPlugins=function(){var e=new(s());e.addDetector(l);o().use(O?k:p()).use(e).use(f.initReactI18next).use(v())};var onReady=function(e){return function(){Object.keys(e).map((function(t){var r=e[t];if(!r)return;n(558486)("./"+r+".js")}));a().locale(o().language)}};function init(e,t,n,r){var i,a;initPlugins();var u=getConfig(e,n);o().init(u,onReady(r));O&&initPseudo();try{for(var s=U(Object.keys(t)),c=s.next();!c.done;c=s.next()){var l=c.value;if(o().hasResourceBundle(l,e)){return}var f=!o().options.whitelist;if(o().options.whitelist){f=o().options.whitelist.includes(l)}if(f){o().addResourceBundle(l,e,t[l])}}}catch(e){i={error:e}}finally{try{if(c&&!c.done&&(a=s.return))a.call(s)}finally{if(i)throw i.error}}}function getFixedT(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var n=o().getFixedT.apply(o(),G(e));function observableT(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var r=n.apply(void 0,G(e));if(!o().isInitialized){var i=L.observable.box(r);var resetValue_1=function(){i.set(n.apply(void 0,G(e)));o().off("initialized",resetValue_1)};o().on("initialized",resetValue_1);i.get()}else{return r}}return observableT}const j={init,on:o().on.bind(o()),off:o().off.bind(o()),getFixedT,addResource,removeResource}},79279:(e,t,n)=>{"use strict";n.d(t,{D:()=>g});var r=n(594173);var o=n(371729);var i=n.n(o);var a=n(957685);var u=n(283419);var s=n(862926);var c="IDLE";function getLogger(e){return s.ModuleLogger.getLogger("["+e+"][COMMON][UI]",(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),s.EVENT_DATA_FEATURE.COMMON)}var l=getLogger(c);var f=n(796036);var d=undefined&&undefined.__assign||function(){d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return d.apply(this,arguments)};var p=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var h=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var v=function(){function IdleTimerManager(){var e=this;this._list=[];this._time=Date.now();this._electronHasIdleApi=false;this._addElectronListener=function(){return p(e,void 0,void 0,(function(){var e;var t=this;return h(this,(function(n){switch(n.label){case 0:return[4,f.M$.toggleIdlerTimerSyncEvent({enable:false})];case 1:e=n.sent().code;this._electronHasIdleApi=e===a.ResponseCode.Success;if(!this._electronHasIdleApi){l.log("use old compatible SYNC event");f.M$.ipcOn({event:u.yh.SYNC,listener:this.listener});f.M$.ipcHandle({event:u.yh.SYNC,listener:this.listener})}else{l.log("use new task events");f.M$.ipcHandle({event:u.yh.TRIGGER_ACTIVE_TASK,listener:function(e){l.log("trigger active task from IPC, "+JSON.stringify(e));var n=t._list.find((function(t){return t.key===e.task.name}));n&&t._onActive(n)}});f.M$.ipcHandle({event:u.yh.TRIGGER_IDLE_TASK,listener:function(e){l.log("trigger idle task from IPC, "+JSON.stringify(e));var n=t._list.find((function(t){return t.key===e.task.name}));n&&t._onIdle(n)}})}return[2]}}))}))};this._addWebListener=function(){e._bindEvents();e._interval=setInterval((function(){var t=(Date.now()-e._time)/1e3;e.listener(i().ceil(t,2))}),u.qq)};this.listener=function(t){e._list.forEach((function(n){if(t>=n.time&&!n.isIdle){l.info("idle",n.key);e._onIdle(n)}else if(t<n.time&&n.isIdle){l.info("active",n.key);e._onActive(n)}}))};this._handleEvent=(0,o.debounce)((function(){e._time=Date.now()}),100)}IdleTimerManager.prototype.init=function(){var e=this;if(this._initPromise)return this._initPromise;this._initPromise=new Promise((function(t){return p(e,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:l.log("init");if(!r.d)return[3,2];return[4,this._addElectronListener()];case 1:e.sent();return[3,3];case 2:this._addWebListener();e.label=3;case 3:l.log("init done");t();return[2]}}))}))}));return this._initPromise};IdleTimerManager.prototype._onIdle=function(e){l.log("onIdle, task: "+e.key);e.isIdle=true;e.onIdle&&e.onIdle()};IdleTimerManager.prototype._onActive=function(e){l.log("onActive, task: "+e.key);e.isIdle=false;e.onActive&&e.onActive()};IdleTimerManager.prototype._bindEvents=function(){var e=this;u.Fv.forEach((function(t){document.addEventListener(t,e._handleEvent)}))};IdleTimerManager.prototype._unbindEvents=function(){var e=this;u.Fv.forEach((function(t){document.removeEventListener(t,e._handleEvent)}))};IdleTimerManager.prototype.register=function(e){return p(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.init()];case 1:t.sent();l.log("register idleTimer task: "+e.key+", time: "+e.time);this._list.push(d(d({},e),{isIdle:false}));if(this._electronHasIdleApi){l.log("also register on Electron");f.M$.registerIdlerTimerTaskOnElectron({name:e.key,minIdleTime:e.time})}return[2]}}))}))};IdleTimerManager.prototype.unRegister=function(e){l.log("unregister idleTimer task: "+e);i().remove(this._list,(function(t){return t.key===e}));if(this._electronHasIdleApi){l.log("also unregister on Electron");f.M$.unregisterIdlerTimerTaskOnElectron({name:e})}};IdleTimerManager.prototype.dispose=function(){this._unbindEvents();clearInterval(this._interval);if(this._electronHasIdleApi){f.M$.ipcOffHandle(u.yh.TRIGGER_ACTIVE_TASK);f.M$.ipcOffHandle(u.yh.TRIGGER_IDLE_TASK)}else{f.M$.ipcOffHandle(u.yh.SYNC)}};return IdleTimerManager}();var g=new v},989472:(e,t,n)=>{"use strict";n.d(t,{a:()=>p});var r=n(669211);var o=n(944859);var i=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var a=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};var u=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var includeTagsHandler=function(e,t){var n,r;var o;var i=(o=e.portalController.data)===null||o===void 0?void 0:o.tags;if(i===undefined)return false;var s=Array.isArray(i)?a(i):[i];var c=Array.isArray(t)?a(t):[t];try{for(var l=u(s),f=l.next();!f.done;f=l.next()){var d=f.value;if(c.includes(d)){return true}}}catch(e){n={error:e}}finally{try{if(f&&!f.done&&(r=l.return))r.call(l)}finally{if(n)throw n.error}}return false};var s={includeTags:includeTagsHandler,excludeTags:function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return!includeTagsHandler.apply(void 0,a(e))}};var filterDialog=function(e,t){var n=Object.keys(t).reduce((function(e,n){var r=s[n];var o=t[n];if(r===undefined||o===undefined)return e;return a(e,[function(e){return r(e,o)}])}),[]);return e.filter((function(e){var t,r;if(n.length===0)return false;try{for(var o=u(n),i=o.next();!i.done;i=o.next()){var a=i.value;if(!a(e))return false}}catch(e){t={error:e}}finally{try{if(i&&!i.done&&(r=o.return))r.call(o)}finally{if(t)throw t.error}}return true}))};var c=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var l=undefined&&undefined.__assign||function(){l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return l.apply(this,arguments)};var f=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var d=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e};var p=function(e){c(BaseDialogManager,e);function BaseDialogManager(){return e!==null&&e.apply(this,arguments)||this}BaseDialogManager.prototype.confirm=function(e,t){var n=l({props:e},t);return this.open(o.Q,n)};BaseDialogManager.prototype.closeByFilter=function(e){this.portalStore.batch((function(t){filterDialog(d(t.portals),e).forEach((function(e){t.addOrUpdate(l(l({},e),{open:false}))}))}))};return BaseDialogManager}(r.PortalManager)},944859:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var r=n(669211);var o=n.n(r);var i=n(305406);var a=n.n(i);var u=n(24668);var s=undefined&&undefined.__assign||function(){s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return s.apply(this,arguments)};var c=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var alertModeActions=function(e){var t=e.confirm,n=e.alternative,r=e.cancel;return a().createElement(a().Fragment,null,t&&a().cloneElement(t,{variant:"text"}),n,r&&a().cloneElement(r,{variant:"contained"}))};var l=(0,i.forwardRef)((function(e,t){var n=e.onClose,o=e.onConfirm,l=e.onCancel,f=e.onAlternative,d=e.actions,p=e.mode,h=p===void 0?"normal":p,v=c(e,["onClose","onConfirm","onCancel","onAlternative","actions","mode"]);var g=(0,i.useMemo)((function(){return(0,r.combineProps)({onConfirm:function(){return n("confirm")},onAlternative:function(){return n("alternative")},onCancel:function(){return n("cancel")}},{onConfirm:o,onAlternative:f,onCancel:l})}),[f,l,n,o]);var _=function(){if(d!==undefined)return d;if(h==="alert"){return alertModeActions}return undefined}();return a().createElement(u.V,s({},g,{actions:_},v,{ref:t}))}))},225656:()=>{},796252:(e,t,n)=>{"use strict";n.d(t,{$:()=>u});var r=n(669211);var o=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var DialogTitleStyle=function(e){var t=e.theme;return(0,r.css)(i||(i=o(["\n    // size <= xs\n    "," {\n      // TODO: font size responsive: FIJI-38283;\n    }\n  "],["\n    // size <= xs\n    "," {\n      // TODO: font size responsive: FIJI-38283;\n    }\n  "])),t.breakpoints.down("xs"))};var i;var a=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var u=(0,r.styled)(r.RcDialogTitle)(s||(s=a(["\n  ","\n"],["\n  ","\n"])),DialogTitleStyle);var s},561099:(e,t,n)=>{"use strict";n.d(t,{tX:()=>p});var r=n(669211);var o=n(305406);var i=n.n(o);var a=(0,r.RcClasses)(["paperWidthXs"],"DialogWrapper");var useFullScreen=function(e){var t;var n=(0,r.useResponsiveMatch)();if(typeof e==="boolean"){return e}return(t=n[e])!==null&&t!==void 0?t:false};var u=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var DialogStyle=function(){return(0,r.css)(s||(s=u(["\n    ."," {\n      max-width: ",";\n    }\n  "],["\n    ."," {\n      max-width: ",";\n    }\n  "])),a.paperWidthXs,(0,r.px)(400))};var s;var c=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var l=undefined&&undefined.__assign||function(){l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return l.apply(this,arguments)};var f=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var d=(0,o.forwardRef)((function(e,t){var n=e.fullScreen,u=e.classes,s=e.onFullScreenChange,c=f(e,["fullScreen","classes","onFullScreenChange"]);var d=useFullScreen(n);(0,o.useLayoutEffect)((function(){s&&s(d)}),[s,d]);var p=(0,o.useMemo)((function(){return(0,r.combineClasses)(a,u)}),[u]);return i().createElement(r.RcDialog,l({fullScreen:d,classes:p,ref:t},c))}));var p=(0,r.styled)(d)(h||(h=c(["\n  ","\n"],["\n  ","\n"])),DialogStyle);p.defaultProps={fullScreen:"lt-sm"};var h},135628:(e,t,n)=>{"use strict";n.d(t,{M:()=>withPortalStyles});var r=n(669211);var o=n(305406);var i=n.n(o);var a=undefined&&undefined.__assign||function(){a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return a.apply(this,arguments)};var u=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var withPortalStyles=function(e){var t=(0,o.forwardRef)((function(t,n){var s=t.externalWindow,c=t.container,l=u(t,["externalWindow","container"]);var f=(0,o.useRef)(s!==null&&s!==void 0?s:window).current;var d=i().createElement(e,a({ref:n},l));return f!==window?i().createElement(r.RcPortalWindowContext.Provider,{value:{externalWindow:f,document:f.document}},i().createElement(r.RcDetachedWindowStylesProvider,{jssInsertionPoint:"mui-insertion-point",externalWindow:f},d)):d}));t.displayName=withPortalStyles.name+"("+e.displayName+")";return t}},542498:()=>{},892025:(e,t,n)=>{"use strict";n.d(t,{C:()=>u});var r=n(667489);var o=n.n(r);var i=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var a=function(){function LeaveBlockerManager(){var e=this;this.handlers={};this.onbeforeunload=function(t){var n;if(!(0,r.getCurrentAccount)()||((n=(0,r.getCurrentAccount)())===null||n===void 0?void 0:n.isAlreadyLoggedOut())){return undefined}if(e.blockedName){e.preBlock&&e.preBlock();t.preventDefault()}return e.blockedName};window.onbeforeunload=this.onbeforeunload}LeaveBlockerManager.prototype.dispose=function(){window.onbeforeunload=null;this.handlers={}};Object.defineProperty(LeaveBlockerManager.prototype,"blockedName",{get:function(){var e,t;try{for(var n=i(Object.keys(this.handlers)),r=n.next();!r.done;r=n.next()){var o=r.value;var a=this.handlers[o];if(a&&a.shouldBlock&&a.shouldBlock()){return o}}}catch(t){e={error:t}}finally{try{if(r&&!r.done&&(t=n.return))t.call(n)}finally{if(e)throw e.error}}return undefined},enumerable:true,configurable:true});Object.defineProperty(LeaveBlockerManager.prototype,"currentHandler",{get:function(){if(this.blockedName){return this.handlers[this.blockedName].defaultHandler}return undefined},enumerable:true,configurable:true});Object.defineProperty(LeaveBlockerManager.prototype,"preBlock",{get:function(){if(this.blockedName){return this.handlers[this.blockedName].preBlock}return undefined},enumerable:true,configurable:true});LeaveBlockerManager.prototype.on=function(e,t){this.handlers[e]=t};LeaveBlockerManager.prototype.off=function(e){if(e){delete this.handlers[e]}else if(this.blockedName){delete this.handlers[this.blockedName]}};return LeaveBlockerManager}();var u=new a},718156:(e,t,n)=>{"use strict";n.d(t,{p:()=>u});var r=n(829231);var o=n(588455);var i=n(32182);var a=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var u=function(){function Media(e){var t=this;this._src="";this._events=[];this._onResetHandlers=new Map;this._resetMedia=function(){var e,n;var r;t._currentTime=0;if(t._onResetHandlers){try{for(var o=a(t._onResetHandlers),i=o.next();!i.done;i=o.next()){var u=i.value;(r=u[0])===null||r===void 0?void 0:r.call(u)}}catch(t){e={error:t}}finally{try{if(i&&!i.done&&(n=o.return))n.call(o)}finally{if(e)throw e.error}}}if(t._isMediaInTrack()){t._useTrack.dispose()}};this._setup(e)}Media.prototype.play=function(e){var t=this;if(Array.isArray(this._src)&&this._src.length===0||!this._src){throw new Error("please check your media source.")}var n=this._isMediaInTrack();var r=this._useTrack.playing;var o=e&&e.startTime!==undefined;if(n&&o){this._useTrack.setCurrentTime(e&&e.startTime||0,true)}else if(n&&r){return this}else if(n&&!r){this._useTrack.setCurrentTime(this._currentTime,true)}else{var i=this._getCurrentMediaOptions();this._useTrack.setOptions(Object.assign({},i,{currentTime:e&&e.startTime||this._currentTime||0,mediaEvents:this._events,onReset:function(){return t._resetMedia()}}));this._useTrack.play()}return this};Media.prototype.pause=function(){if(this._isMediaInTrack()&&this._useTrack.playing){this._useTrack.pause();this._currentTime=this._useTrack.currentTime}return this};Media.prototype.stop=function(){if(this._isMediaInTrack()){this._useTrack.stop()}this._currentTime=0;return this};Media.prototype.setSrc=function(e){if(this._isMediaInTrack()){this.dispose()}this._src=e;this._resetMedia();return this};Media.prototype.setMute=function(e){if(this._isMediaInTrack()){this._useTrack.setMute(e)}this._muted=e;return this};Media.prototype.setVolume=function(e){if(this._isMediaInTrack()){this._useTrack.setMediaVolume(e)}this._volume=e;return this};Media.prototype.setLoop=function(e){if(this._isMediaInTrack()){this._useTrack.setLoop(e)}this._loop=e;return this};Media.prototype.setOutputDevices=function(e){var t=this._isMediaInTrack();if(Array.isArray(e)){t&&this._useTrack.setOutputDevices(e);this._outputDevices=e}else if(e==="all"){var n=o.g.getAllOutputDevicesId();t&&this._useTrack.setOutputDevices(n);this._outputDevices=n}else if(e===null){t&&this._useTrack.setOutputDevices(null);this._outputDevices=null}return this};Media.prototype.setCurrentTime=function(e,t){if(this._isMediaInTrack()){this._useTrack.setCurrentTime(e,t)}this._currentTime=e;return this};Media.prototype.on=function(e,t){this._events.push({handler:t,name:e,type:r.MediaEventType.ON});if(this._isMediaInTrack()){this._useTrack.bindEvent(e,t)}};Media.prototype.off=function(e,t){this._events=this._events.filter((function(n){return!(n.name===e&&n.handler===t)}));if(this._isMediaInTrack()){this._useTrack.unbindEvent(e,t)}};Media.prototype.dispose=function(){if(this._isMediaInTrack()){this._useTrack.dispose()}this._resetMedia();this._onDisposedHandler&&this._onDisposedHandler()};Media.prototype.onReset=function(e){this._onResetHandlers.set(e,e)};Media.prototype.onDisposed=function(e){this._onDisposedHandler=e};Media.prototype.offReset=function(e){this._onResetHandlers.delete(e)};Media.prototype._setup=function(e){this._trackId=e.trackId;this._mediaId=e.id||"";this._src=e.src||"";this._muted=e.muted||false;this._volume=e.volume&&i.c.isValidVolume(e.volume)?e.volume:1;this._loop=e.loop||false;this._autoplay=e.autoplay||false;this._currentTime=0;this._outputDevices=e.outputDevices&&Array.isArray(e.outputDevices)?e.outputDevices:e.outputDevices===null||e.outputDevices===undefined?null:o.g.getAllOutputDevicesId();var t=this._getUseTrack();if(!t){throw new Error("Media setup error")}this._useTrack=t;this._autoplay&&this.play()};Media.prototype._getUseTrack=function(){return this._trackId&&o.g.getTrack(this._trackId)};Media.prototype._isMediaInTrack=function(){return this._useTrack.currentMediaId===this._mediaId};Media.prototype._getCurrentMediaOptions=function(){return{id:this._trackId||r.DEFAULT_TRACK_ID,mediaId:this._mediaId,src:this._src,muted:this._muted,mediaVolume:this._volume,loop:this._loop,autoplay:this._autoplay,outputDevices:this._outputDevices,currentTime:0}};Object.defineProperty(Media.prototype,"id",{get:function(){return this._mediaId},enumerable:true,configurable:true});Object.defineProperty(Media.prototype,"src",{get:function(){return this._src||""},enumerable:true,configurable:true});Object.defineProperty(Media.prototype,"trackId",{get:function(){return this._trackId},enumerable:true,configurable:true});Object.defineProperty(Media.prototype,"muted",{get:function(){return this._muted},enumerable:true,configurable:true});Object.defineProperty(Media.prototype,"volume",{get:function(){return this._volume},enumerable:true,configurable:true});Object.defineProperty(Media.prototype,"loop",{get:function(){return this._loop},enumerable:true,configurable:true});Object.defineProperty(Media.prototype,"autoplay",{get:function(){return this._autoplay},enumerable:true,configurable:true});Object.defineProperty(Media.prototype,"currentTime",{get:function(){return this._isMediaInTrack()?this._useTrack.currentTime:this._currentTime||0},enumerable:true,configurable:true});Object.defineProperty(Media.prototype,"duration",{get:function(){return this._isMediaInTrack()?this._useTrack.currentMediaDuration:0},enumerable:true,configurable:true});Object.defineProperty(Media.prototype,"outputDevices",{get:function(){return this._outputDevices},enumerable:true,configurable:true});Object.defineProperty(Media.prototype,"events",{get:function(){return this._events},enumerable:true,configurable:true});Object.defineProperty(Media.prototype,"playing",{get:function(){return this._isMediaInTrack()&&this._useTrack.playing||false},enumerable:true,configurable:true});return Media}()},304116:(e,t,n)=>{"use strict";n.d(t,{C:()=>C});var r=n(168825);var o=n(957685);var i=n(325719);var a=n.n(i);var u=n(782117);var s=n(518411);var c=n(983400);var l=n(588455);var f=n(718156);var d=n(32182);var p=n(914013);var h=undefined&&undefined.__assign||function(){h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return h.apply(this,arguments)};var v=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var g=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var _=u.O0.Phone_Volume;var y=u.O0.Phone_SpeakerSource;var b=function(){function MediaManager(){this._canPlayTypes=[];this._globalVolume=1;this._allOutputDevices=[];this._medias=[];this._mediaCounters=1e3}MediaManager.prototype.run=function(){var e=this;d.c.safariAudioPolicyHandler();(0,i.autorun)((function(){if(e.globalVolume!==e._globalVolume){e.setGlobalVolume(e.globalVolume)}if(e.allOutputDevices!==e._allOutputDevices){e.updateAllOutputDevices(e.allOutputDevices)}}));r.Sx.when(o.AppLifecyclePhase.Restored).then((function(){s.Z.watchRCMStatus(e.enableHacking)}))};MediaManager.prototype.createMedia=function(e){var t=l.g.useMediaTrack(e.trackId);var n=d.c.formatMediaId({trackId:t.id,mediaId:e.id||""+this._mediaCounters++});var r=new f.p(h(h({},e),{trackId:t.id,id:n}));if(this._medias.findIndex((function(e){return e.id===n}))===-1){this._medias.push(r)}this._mediaDisposed(r);return r};MediaManager.prototype.getMedia=function(e){var t;var n=e.toString();var r=this._medias.filter((function(e){return e.id===n}));if(!r||r&&r.length===0){t=this._medias.filter((function(e){var t=d.c.dismantleMediaId(e.id);return t.mediaId===n}))[0]}else{t=r[0]}return t||null};MediaManager.prototype.createTrack=function(e,t){var n=l.g.createTrack({id:e,weight:t});return n.id};MediaManager.prototype.setDuckVolume=function(e){l.g.setDuckVolume(e)};MediaManager.prototype.setGlobalVolume=function(e){if(!d.c.isValidVolume(e)){return}this._globalVolume=e;l.g.setAllTrackMasterVolume(e)};MediaManager.prototype.setOutputDevices=function(e){if(Array.isArray(e)&&e.length===0){return}this._allOutputDevices=e;l.g.setAllTrackOutputDevices(e)};MediaManager.prototype.updateAllOutputDevices=function(e){l.g.updateAllOutputDevices(e);this._updateAllDevicesMedia(e);this._allOutputDevices=e};MediaManager.prototype.getAllDevicesMedia=function(){var e=this;return this._medias.filter((function(t){if(Array.isArray(t.outputDevices)){return t.outputDevices.length!==0&&d.c.difference(t.outputDevices,e._allOutputDevices).length===0}return false}))};MediaManager.prototype.canPlayType=function(e){if(this._canPlayTypes.includes(e)){return true}try{var t=new Audio;var n=t.canPlayType(e)!=="";n&&this._canPlayTypes.push(e);return n}catch(e){return false}};MediaManager.prototype.prefetchMedia=function(e,t,n){if(n===void 0){n=1}var r=p.Z.logger.tags("prefetchMedia");r.log("Recreating media of",e);var o=this.createMedia({src:e,trackId:t,volume:n,muted:true,autoplay:true,outputDevices:null});var handler=function(){r.log("Media loaded, stop playing",e);o&&o.stop();o&&o.off("loadeddata",handler)};o&&o.on("loadeddata",handler);return o};MediaManager.prototype.dispose=function(){l.g.dispose();this._globalVolume=1;this._allOutputDevices=[]};MediaManager.prototype.enableHacking=function(e){l.g.enableHacking(!!e)};MediaManager.prototype._updateAllDevicesMedia=function(e){var t=this.getAllDevicesMedia();t.forEach((function(t){t.setOutputDevices(e)}))};MediaManager.prototype._mediaDisposed=function(e){var t=this;e.onDisposed((function(){t._medias.forEach((function(n,r){return n===e&&t._medias.splice(r,1)}))}))};Object.defineProperty(MediaManager.prototype,"volumeEntity",{get:function(){return c.r.getSettingByID(_)},enumerable:true,configurable:true});Object.defineProperty(MediaManager.prototype,"globalVolume",{get:function(){return this.volumeEntity.value},enumerable:true,configurable:true});Object.defineProperty(MediaManager.prototype,"outputDeviceEntity",{get:function(){return c.r.getSettingByID(y)},enumerable:true,configurable:true});Object.defineProperty(MediaManager.prototype,"allOutputDevices",{get:function(){var e=this.outputDeviceEntity.source;var t=[];if(Array.isArray(e)&&e.length!==0){t=e.filter((function(e){return!MediaManager.isDefaultDevice(e)&&!MediaManager.isVirtualDevice(e)})).map((function(e){return e.deviceId}))}return t},enumerable:true,configurable:true});Object.defineProperty(MediaManager.prototype,"canPlayTypes",{get:function(){return this._canPlayTypes},enumerable:true,configurable:true});MediaManager.isDefaultDevice=function(e){return e.deviceId==="default"||/default/gi.test(e.label)};MediaManager.isVirtualDevice=function(e){return/Virtual/gi.test(e.label)};v([i.computed,g("design:type",Object),g("design:paramtypes",[])],MediaManager.prototype,"volumeEntity",null);v([i.computed,g("design:type",Object),g("design:paramtypes",[])],MediaManager.prototype,"globalVolume",null);v([i.computed,g("design:type",Object),g("design:paramtypes",[])],MediaManager.prototype,"outputDeviceEntity",null);v([i.computed,g("design:type",Object),g("design:paramtypes",[])],MediaManager.prototype,"allOutputDevices",null);return MediaManager}();var C=new b},329609:(e,t,n)=>{"use strict";n.d(t,{S:()=>f});var r=n(829231);var o=n(32182);var i=n(862926);var a=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var u=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var s=function(){function Sound(e){this._events=[];this._hasSinkId=false;this._enableHacking=false;this._isHackingEnded=false;this._setup(e)}Sound.prototype.play=function(){this._soundPlay()};Sound.prototype.pause=function(){this._soundPause()};Sound.prototype.stop=function(){this._soundStop()};Sound.prototype.setMute=function(e){this._soundMute(e)};Sound.prototype.setVolume=function(e){this._soundVolume(e)};Sound.prototype.setLoop=function(e){this._soundLoop(e)};Sound.prototype.setSeek=function(e,t){if(e<0||e>this._duration){return}var n=!this._paused;if(!t||t&&!t.continuePlay){this._soundPause()}this._seek=e;if(n){if(t&&!t.continuePlay){return}this._soundPlay(e)}else{t&&t.continuePlay&&this._soundPlay(e)}};Sound.prototype.dispose=function(){return a(this,void 0,void 0,(function(){var e;var t=this;return u(this,(function(n){switch(n.label){case 0:if(!this._node)return[3,3];this._node.pause();this._node.currentTime=0;if(!(this._isDeviceSound&&this._node.setSinkId))return[3,2];return[4,this._node.setSinkId("").catch((function(e){i.mainLogger.warn("[MediaModule] [Sound] audio disposed, but set sinkId empty error",t._id,e.code,e.message)}))];case 1:n.sent();n.label=2;case 2:this._events.filter((function(e){return e.type===r.MediaEventType.ON&&e.name==="error"})).forEach((function(e){t.unbindEvent(e.name,e.handler)}));this._node.src="";this._node=null;if(true){e=document.getElementById(this._id);e&&e.parentNode&&e.parentNode.removeChild(e);i.mainLogger.log("[MediaModule] [Sound] html5 audio"+(this._enableHacking&&"(use audio context)")+" disposed, mediaId: "+this._id+", mediaUrl: "+this._url+".")}n.label=3;case 3:setTimeout((function(){t._unbindAllEvents();t._resetSound()}),0);if(this._ctx){if(!this._enableHacking){i.mainLogger.log("[MediaModule] [Sound] html5 audio not enable hacking but have audioCtx, mediaId: "+this._id+".")}this._ctx.close().then((function(){i.mainLogger.log("[MediaModule] [Sound] html5 audio close the wrap audioCtx success, mediaId: "+t._id+".")})).catch((function(e){i.mainLogger.log("[MediaModule] [Sound] html5 audio close the wrap audioCtx error, mediaId: "+t._id+".","error:",e)}));this._ctx=null}return[2]}}))}))};Sound.prototype.dispatchEvent=function(e){if(!this._node){return}this._node.dispatchEvent(e)};Sound.prototype.bindEvent=function(e,t,n){if(n===void 0){n=true}n&&this._events.push({handler:t,name:e,type:r.MediaEventType.ON});this._on(e,t)};Sound.prototype.unbindEvent=function(e,t){var n=this._events.some((function(t){return t.name===e}));if(n){this._events=this._events.filter((function(n){return!(n.name===e&&n.handler===t)}));this._off(e,t)}};Sound.prototype.reloadSound=function(){this._node&&this._node.load()};Sound.prototype._setup=function(e){this._id=e.id;this._url=e.url;this._muted=e.muted||false;this._volume=o.c.isValidVolume(e.volume)?e.volume:1;this._loop=e.loop||false;this._autoplay=e.autoplay||false;this._seek=e.seek||0;this._outputDevice=e.outputDevice;this._isDeviceSound=e.isDeviceSound||false;this._events=e.events||[];this._paused=true;this._ended=true;this._enableHacking=e.enableHacking||false;this._isHackingEnded=e.isHackingEnded||false;this._createAudio()};Sound.prototype._createAudio=function(){var e=this;this._node=this._createHtml5Audio();if(this._enableHacking){this._wrapByAudioCtx(this._node)}this._soundEventBind();if(this._outputDevice&&this._node.setSinkId){var t=this._node;setTimeout((function(){t.setSinkId(e._outputDevice).then((function(){e._hasSinkId=true;e._holdPlaying&&e._soundPlay()})).catch((function(t){i.mainLogger.warn("[MediaModule] [Sound] audio set sinkId error",e._id,t.code,t.message);e._hasSinkId=false}))}),0)}this._node.src=this._url;this._node.preload="auto";this._node.volume=this._volume;this._node.muted=this._muted;this._node.loop=this._loop;this._node.autoplay=false;this._node.crossOrigin="anonymous";this._node.load()};Sound.prototype._wrapByAudioCtx=function(e){var t=this._createWebAudioContext();if(t){var n=t.createMediaElementSource(e);n.connect(t.destination);e.setAttribute("data-usectx","true");this._ctx=t;i.mainLogger.log("[MediaModule] [Sound] html5 audio use the wrap audioCtx, mediaId: "+this._id+", mediaUrl: "+this._url+".","audio context:",t)}};Sound.prototype._soundPlay=function(e){var t=this;if(e!==undefined&&this._node){this._node.currentTime=e}if(!this._node||!this._paused){return}this._loadError&&this.reloadSound();this._node.currentTime=Math.max(0,this._seek);this._node.muted=this._muted;this._node.volume=this._volume;var html5AudioPlay=function(){if(!t._node){return}try{var e=t._node.play();t._paused=false;t._ended=false;if(e){e.then((function(){t._loadError=false;t._holdPlaying=false;if(t._isDeviceSound&&!t._hasSinkId){t._soundStop();t._holdPlaying=true;return}i.mainLogger.log("[MediaModule] [Sound] html5 audio"+(t._enableHacking&&"(use audio context)")+" play, mediaId: "+t._id+", mediaUrl: "+t._url+".")})).catch((function(e){i.mainLogger.warn("[MediaModule] [Sound] audio play catch error",t._id,e.code,e.message);if(t._autoplay&&e.code===0){o.c.audioPolicyHandler((function(){t.play()}))}t._resetSound()}))}var endedListener_1=function(){if(!t._node){return}t._resetSound();t._node.removeEventListener("ended",endedListener_1,false)};t._node.addEventListener("ended",endedListener_1,false)}catch(e){i.mainLogger.warn("[MediaModule] [Sound] html5AudioPlay catch error",t._id,e.code,e.message)}};if(this._node.readyState>=3){html5AudioPlay()}else{var listener_1=function(){if(!t._node){return}html5AudioPlay();t._node.removeEventListener("canplaythrough",listener_1,false)};this._canplayListener=listener_1;this._node.addEventListener("canplaythrough",listener_1,false)}};Sound.prototype._soundPause=function(){if(!this._node||this._paused){return}var e=this._node.currentTime;if(e!==0){this._seek=e}this._node.pause();this._paused=true};Sound.prototype._soundStop=function(){if(!this._node){return}this._canplayListener&&this._node.removeEventListener("canplaythrough",this._canplayListener,false);this._node.pause();this._node.currentTime=0;this._resetSound()};Sound.prototype._soundMute=function(e){if(!this._node){return}this._muted=e;this._node.muted=e};Sound.prototype._soundVolume=function(e){if(!o.c.isValidVolume(e)||!this._node){return}this._volume=e;this._node.volume=e};Sound.prototype._soundLoop=function(e){if(!this._node){return}this._loop=e;this._node.loop=e};Sound.prototype._soundEventBind=function(){var e=this;if(this._events&&this._events.length!==0){this._events.forEach((function(t){var n=t.name,o=t.type,i=t.handler;if(o===r.MediaEventType.ON){e._on(n,i)}else if(r.MediaEventType.OFF){e._off(n,i)}}))}if(this._node){var soundError_1=function(){if(e._node){e._paused=true;e._ended=true;e._loadError=true;e._node.removeEventListener("error",soundError_1,false)}};var soundCanplay_1=function(){if(e._node){e._duration=Math.ceil(e._node.duration*10)/10;e._loadError=false;if(!e._isHackingEnded&&!e._enableHacking&&e._autoplay){e._soundPlay()}if(e._autoplay){e._node.autoplay=true}e._node.removeEventListener("canplay",soundCanplay_1,false)}};this._node.addEventListener("error",soundError_1,false);this._node.addEventListener("canplay",soundCanplay_1,false)}};Sound.prototype._unbindAllEvents=function(){var e=this;var t=this._events.filter((function(e){return e.type===r.MediaEventType.ON}));t.forEach((function(t){var n=t.name,r=t.handler;e.unbindEvent(n,r)}))};Sound.prototype._on=function(e,t){if(!this._node||this._isDeviceSound){return}this._node.addEventListener(e,t,false)};Sound.prototype._off=function(e,t){if(!this._node||this._isDeviceSound){return}this._node.removeEventListener(e,t,false)};Sound.prototype._resetSound=function(){this._paused=true;this._ended=true;this._seek=0};Sound.prototype._createHtml5Audio=function(){var e=this;var t=(new Audio).play();if(t&&typeof Promise!=="undefined"&&(t instanceof Promise||typeof t.then==="function")){t.catch((function(t){i.mainLogger.warn("[MediaModule] [Sound] test audio can't be play, please check new Audio can be used",e._id,t.code,t.message)}))}var n=document.createElement("audio");if(true){n.id=this._id;document.body.appendChild(n);i.mainLogger.log("[MediaModule] [Sound] html5 audio"+(this._enableHacking&&"(use audio context)")+" created, mediaId: "+this._id+", mediaUrl: "+this._url+".")}return n};Sound.prototype._createWebAudioContext=function(){var e;try{var t=window["AudioContext"]||window["webkitAudioContext"]||window["mozAudioContext"]||window["oAudioContext"]||window["msAudioContext"];e=new t}catch(t){e=null}if(!o.c.canUseAudioContext){e=null}return e};Object.defineProperty(Sound.prototype,"id",{get:function(){return this._id},enumerable:true,configurable:true});Object.defineProperty(Sound.prototype,"node",{get:function(){return this._node},enumerable:true,configurable:true});Object.defineProperty(Sound.prototype,"paused",{get:function(){return this._paused},enumerable:true,configurable:true});Object.defineProperty(Sound.prototype,"ended",{get:function(){return this._ended},enumerable:true,configurable:true});Object.defineProperty(Sound.prototype,"seek",{get:function(){return this._seek},enumerable:true,configurable:true});Object.defineProperty(Sound.prototype,"currentTime",{get:function(){return this._node?this._node.currentTime:this._seek},enumerable:true,configurable:true});Object.defineProperty(Sound.prototype,"duration",{get:function(){return this._node?this._node.duration:this._duration||0},enumerable:true,configurable:true});Object.defineProperty(Sound.prototype,"muted",{get:function(){return this._muted},enumerable:true,configurable:true});Object.defineProperty(Sound.prototype,"volume",{get:function(){return this._volume},enumerable:true,configurable:true});Object.defineProperty(Sound.prototype,"autoplay",{get:function(){return this._autoplay},enumerable:true,configurable:true});Object.defineProperty(Sound.prototype,"loop",{get:function(){return this._loop},enumerable:true,configurable:true});Object.defineProperty(Sound.prototype,"sinkId",{get:function(){return this._outputDevice},enumerable:true,configurable:true});Object.defineProperty(Sound.prototype,"events",{get:function(){return this._events},enumerable:true,configurable:true});Object.defineProperty(Sound.prototype,"enableHacking",{get:function(){return this._enableHacking},enumerable:true,configurable:true});return Sound}();var c=["pause","ended","abort","error"];var l=["play","playing"];var f=function(){function MediaTrack(e){var t=this;this._src=[];this._muted=false;this._loop=false;this._autoplay=false;this._mediaVolume=1;this._trackVolume=1;this._duckVolume=1;this._currentTime=0;this._url="";this._sounds=[];this._masterVolume=1;this._mediaEvents=[];this._enableHacking=false;this._isHackingEnded=false;this._trackPlayingEvent=function(){t._onPlayingEvent(true)};this._trackNoPlayingEvent=function(){t._onPlayingEvent(false)};this._setup(e)}MediaTrack.prototype.play=function(){if(this._url===""){throw new Error("please check media source is valid.")}this._action("play",null);return this};MediaTrack.prototype.pause=function(){this._action("pause",null);return this};MediaTrack.prototype.stop=function(){this._action("stop",null);this._currentTime=0;return this};MediaTrack.prototype.setMute=function(e){this._action("setMute",e);this._muted=e;return this};MediaTrack.prototype.setVolume=function(e){if(!o.c.isValidVolume(e)){return}this._trackVolume=e;this._action("setVolume",this._computedSoundVolume());return this};MediaTrack.prototype.setLoop=function(e){this._action("setLoop",e);this._loop=e;return this};MediaTrack.prototype.setCurrentTime=function(e,t){if(this._url===""&&t){throw new Error("please check media source is valid.")}var n=t!==undefined?t:true;this._action("setSeek",e,{continuePlay:n});this._currentTime=e;return this};MediaTrack.prototype.setOutputDevices=function(e){if(e===this._outputDevices){return}if(this._enableHacking){this._outputDevices=e;return this}var t=this._isSoundPlaying();if(Array.isArray(e)){if(this._outputDevices===null){var n=this._sounds[0]&&this._sounds[0].currentTime||0;this._sounds.forEach((function(e){return e.dispose()}));this._sounds=[];this._initDeviceSounds(e,{currentTime:n})}else{var n=this._originSound&&this._originSound.currentTime||0;this._changeDeviceSounds(e,{currentTime:n})}}else if(e===null){var n=this._originSound&&this._originSound.currentTime||0;this._originSound&&this._originSound.dispose();this._sounds.forEach((function(e){return e.dispose()}));this._sounds=[];this._initNoDeviceSound({currentTime:n})}t&&this.play();this._outputDevices=e;return this};MediaTrack.prototype.setMasterVolume=function(e){if(!o.c.isValidVolume(e)){return}this._masterVolume=e;this._action("setVolume",this._computedSoundVolume())};MediaTrack.prototype.setDuckVolume=function(e){if(!o.c.isValidVolume(e)){return}this._duckVolume=e;this._action("setVolume",this._computedSoundVolume())};MediaTrack.prototype.setMediaVolume=function(e){if(!o.c.isValidVolume(e)){return}this._mediaVolume=e;this._action("setVolume",this._computedSoundVolume())};MediaTrack.prototype.setOptions=function(e){this._preMediaRester&&this._preMediaRester();this._resetTrack();this._setup(e)};MediaTrack.prototype.dispose=function(){this._resetTrack()};MediaTrack.prototype.bindEvent=function(e,t){if(this._originSound){this._originSound.bindEvent(e,t)}else if(this._sounds[0]){this._sounds[0].bindEvent(e,t)}};MediaTrack.prototype.unbindEvent=function(e,t){var n=this._mediaEvents.some((function(t){return t.name===e}));if(n){this._mediaEvents=this._mediaEvents.filter((function(n){return!(n.name===e&&n.handler===t)}));if(this._originSound){this._originSound.unbindEvent(e,t)}else if(this._sounds[0]){this._sounds[0].unbindEvent(e,t)}}};MediaTrack.prototype.onPlaying=function(e){this._onPlayingEvent=e};MediaTrack.prototype.enableHacking=function(e){if(e===this._enableHacking){return}if(this._enableHacking===true){this._isHackingEnded=true}this._enableHacking=e;var t=this._isSoundPlaying();if(Array.isArray(this._outputDevices)){var n=this._originSound&&this._originSound.currentTime||0;var r=!!this._originSound;if(!this._originSound&&this._sounds[0]){n=this._sounds[0].currentTime;r=true}this._originSound&&this._originSound.dispose();this._originSound=null;this._sounds.forEach((function(e){return e.dispose()}));this._sounds=[];if(r&&e){this._initNoDeviceSound({currentTime:n,enableHacking:true})}else if(r&&!e){this._initDeviceSounds(this._outputDevices,{currentTime:n})}}else{var n=this._sounds[0]&&this._sounds[0].currentTime||0;var r=this._sounds.length!==0;this._sounds.forEach((function(e){return e.dispose()}));this._sounds=[];r&&this._initNoDeviceSound({currentTime:n,enableHacking:e})}if(this._isHackingEnded){this._isHackingEnded=false}t&&this.play()};MediaTrack.prototype._setup=function(e){this._id=e.id;this._mediaId=e&&e.mediaId?e.mediaId:"";this._src=typeof e.src!=="string"?e.src||[]:e.src?[e.src]:[];this._trackVolume=e.volume!==undefined&&o.c.isValidVolume(e.volume)?e.volume:this._trackVolume;this._muted=e.muted||false;this._loop=e.loop||false;this._autoplay=e.autoplay||false;this._currentTime=e.currentTime||0;this._outputDevices=e.outputDevices||null;this._masterVolume=e.masterVolume!==undefined?e.masterVolume:this._masterVolume;this._duckVolume=e.duckVolume!==undefined?e.duckVolume:this._duckVolume;this._mediaVolume=e.mediaVolume!==undefined&&o.c.isValidVolume(e.mediaVolume)?e.mediaVolume:this._mediaVolume;this._mediaEvents=e.mediaEvents||[];this._preMediaRester=e.onReset||null;this._weight=e.weight!==undefined?e.weight:this._weight||9999;this._enableHacking=e.enableRCMETracking!==undefined?e.enableRCMETracking:this._enableHacking||false;this._load()};MediaTrack.prototype._load=function(){if(this._src.length!==0){this._url=this._getUrlFromSrcArray(this._src);if(this._url===""){return}var e=void 0;if(this._outputDevices===null){e=this._initNoDeviceSound()}else{e=this._initDeviceSounds(this._outputDevices)}e&&this._bindTrackEvent(e)}};MediaTrack.prototype._bindTrackEvent=function(e){var t=this;c.forEach((function(n){e.bindEvent(n,t._trackNoPlayingEvent,false)}));l.forEach((function(n){e.bindEvent(n,t._trackPlayingEvent,false)}))};MediaTrack.prototype._unBindTrackEvent=function(e){var t=this;c.forEach((function(n){e.unbindEvent(n,t._trackNoPlayingEvent)}));l.forEach((function(n){e.unbindEvent(n,t._trackPlayingEvent)}))};MediaTrack.prototype._getUrlFromSrcArray=function(e){if(!e||e&&e.length===0){return""}var t="";var n=0;var r=e.length;for(;n<r;n++){var o=null;var a=this._src[n];o=/^data:audio\/([^;,]+);/i.exec(a);if(!o){o=/\.([^.]+)$/.exec(a.split("?",1)[0])}if(o){o=o[1].toLowerCase()}if(!o){i.mainLogger.warn("[MediaModule] No file extension was found!")}if(o){t=this._src[n];break}}return t};MediaTrack.prototype._createSound=function(e){return new s({id:e&&e.id||this._mediaId,url:this._url,muted:e&&e.muted!==undefined?e.muted:this._muted,volume:this._computedSoundVolume(),loop:e&&e.loop!==undefined?e.loop:this._loop,autoplay:e&&e.autoplay!==undefined?e.autoplay:this._autoplay,seek:e&&e.seek||this._currentTime,outputDevice:e&&e.outputDevice,isDeviceSound:e&&e.isDeviceSound,events:this._mediaEvents,enableHacking:e&&e.enableHacking||this._enableHacking||false,isHackingEnded:this._isHackingEnded})};MediaTrack.prototype._createOriginSound=function(e){return this._createSound({id:this._mediaId+"-[originSound]",seek:e&&e.currentTime||0,muted:true,volume:0})};MediaTrack.prototype._createDeviceSound=function(e,t){var n=this;return e.map((function(e){return n._createSound({id:n._mediaId+"-["+e+"]",outputDevice:e,seek:t&&t.currentTime||0,isDeviceSound:true})}))};MediaTrack.prototype._initNoDeviceSound=function(e){var t=this._createSound({seek:e&&e.currentTime,enableHacking:e&&e.enableHacking});this._sounds=[t];return t};MediaTrack.prototype._initDeviceSounds=function(e,t){var n=this._createOriginSound();this._originSound=n;var r=this._createDeviceSound(e,t);this._sounds=r;return n};MediaTrack.prototype._changeDeviceSounds=function(e,t){var n=this;var r=this._outputDevices;if(Array.isArray(r)){this._removeDeviceSounds(r)}var o=this._createDeviceSound(e,t);o.forEach((function(e){n._sounds.push(e)}))};MediaTrack.prototype._removeDeviceSounds=function(e){var t=this;e.forEach((function(e){var n=0;var r=t._sounds.length;for(;n<r;n++){var o=t._sounds[n];if(o.id.indexOf(e)!==-1){o.dispose();t._sounds.splice(n,1);break}}}))};MediaTrack.prototype._action=function(e,t,n){if(!e){return}if(this._sounds&&this._sounds.length!==0){this._sounds.forEach((function(r){r&&r[""+e](t,n)}))}if(this._originSound){if(e==="setMute"){this._originSound.dispatchEvent(new Event("volumechange"))}else{this._originSound[""+e](t,n)}}};MediaTrack.prototype._resetTrack=function(){this._disposeSound();this._onPlayingEvent&&this._onPlayingEvent(false);this._mediaId="";this._src=[];this._url="";this._muted=false;this._trackVolume=1;this._currentTime=0;this._outputDevices=[];this._mediaEvents=[]};MediaTrack.prototype._disposeSound=function(){if(this._originSound){this._unBindTrackEvent(this._originSound)}else if(this._sounds[0]){this._unBindTrackEvent(this._sounds[0])}this._sounds.forEach((function(e){e.dispose()}));this._sounds=[];if(this._originSound){this._originSound.dispose()}this._originSound=null};MediaTrack.prototype._isSoundPlaying=function(){return this._originSound&&!this._originSound.paused||this._sounds[0]&&!this._sounds[0].paused||false};MediaTrack.prototype._computedSoundVolume=function(){return this._masterVolume*this._trackVolume*this._mediaVolume*this._duckVolume};Object.defineProperty(MediaTrack.prototype,"masterVolume",{get:function(){return this._masterVolume},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"duckVolume",{get:function(){return this._duckVolume},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"id",{get:function(){return this._id},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"src",{get:function(){return this._src},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"sounds",{get:function(){return this._sounds},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"muted",{get:function(){return this._muted},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"volume",{get:function(){return this._trackVolume},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"loop",{get:function(){return this._loop},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"autoplay",{get:function(){return this._autoplay},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"outputDevices",{get:function(){return this._outputDevices},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"playing",{get:function(){return this._isSoundPlaying()},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"currentTime",{get:function(){return this._originSound&&this._originSound.currentTime||this._sounds[0]&&this._sounds[0].currentTime||this._currentTime||0},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"currentMediaId",{get:function(){return this._mediaId},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"currentMediaVolume",{get:function(){return this._mediaVolume},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"currentMediaEvent",{get:function(){return this._mediaEvents},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"currentMediaUrl",{get:function(){return this._url},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"currentMediaDuration",{get:function(){return this._originSound&&this._originSound.duration||this._sounds[0]&&this._sounds[0].duration||0},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"weight",{get:function(){return this._weight},enumerable:true,configurable:true});Object.defineProperty(MediaTrack.prototype,"currentSoundVolume",{get:function(){return this._computedSoundVolume()},enumerable:true,configurable:true});return MediaTrack}()},32182:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});const r=n.p+"static/media/audio/audio_sin_24Hz_-3dBFS_0.01s-05b24743d9de940feeb789f78fd6a4fc.mp3";var audioPolicyHandler=function(e){var t=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","pointerup","touchend","keydown","keyup"];var policyHandler=function(){e();t.forEach((function(e){document.removeEventListener(e,policyHandler)}))};t.forEach((function(e){document.addEventListener(e,policyHandler)}))};var formatMediaId=function(e){var isValid=function(e){if(e==="")return true;var t=e.toString().match(/[\w-_0-9]+/gi);return t&&t.length===1};if(!isValid(e.trackId)||!isValid(e.mediaId)||e.description&&!isValid(e.description)){throw new Error("[MediaModule] media id or description is inValid")}var t="["+e.trackId+"]-["+e.mediaId+"]";if(e.description){t+="-["+e.description+"]"}return t};var dismantleMediaId=function(e){if(typeof e==="string"&&e){var t=e.match(/\[[\w-_0-9]*\]/gi);var getVal=function(e){return e.replace(/(\[)|(\])/g,"")};var n=t&&t[0]?getVal(t[0]):"";var r=t&&t[1]?getVal(t[1]):"";var o=t&&t[2]?getVal(t[2]):"";return{trackId:n,mediaId:r,description:o}}return{}};var safariAudioPolicyHandler=function(){audioPolicyHandler((function(){var e=document.createElement("audio");e.src=r;e.volume=0;e.muted=true;try{e&&e.play().catch((function(e){return e}))}catch(e){return}}))};var isValidVolume=function(e){return e<=1&&e>=0};var difference=function(e,t){return e.concat(t).filter((function(n){return!e.includes(n)||!t.includes(n)}))};var checkPlatform=function(){var e=typeof window!=="undefined"&&window.navigator?window.navigator:null;if(!e)return false;var t=/iP(hone|od|ad)/.test(e&&e.platform);var n=e&&e.appVersion.match(/OS (\d+)_(\d+)_?(\d+)/);var r=n?parseInt(n[1],10):null;if(t&&r&&r<9){var o=/safari/.test(e&&e.userAgent.toLowerCase());if(e&&e["standalone"]&&!o||e&&!e["standalone"]&&!o){return false}}return true};var o=function(){return checkPlatform()}();var i={formatMediaId,dismantleMediaId,audioPolicyHandler,safariAudioPolicyHandler,isValidVolume,difference,canUseAudioContext:o,checkPlatformCanUseAudioCtx:checkPlatform}},943987:()=>{},619365:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var r="default-track"},108583:()=>{},952386:(e,t,n)=>{"use strict";n.d(t,{O:()=>pe});var r=n(325719);var o=n(70524);var i=n(814678);var a=n(782117);var u=n(667489);var s=n(187933);var c=n(605443);var l=n(862926);var f=n(594173);var d=n(472155);var p=n(229442);var h=n(374686);var v=n(461197);var g=n(429266);var _=n(302186);var y=function(){function NotificationStore(){this._items={}}NotificationStore.prototype.keyMap=function(e,t){return e+"."+t};NotificationStore.prototype.get=function(e,t){var n=this.keyMap(e,t);return this.items[n]};NotificationStore.prototype.add=function(e,t,n){var r=this.keyMap(e,t);this._items[r]=n};NotificationStore.prototype.remove=function(e,t){var n=this.keyMap(e,t);delete this._items[n]};Object.defineProperty(NotificationStore.prototype,"items",{get:function(){return this._items},enumerable:true,configurable:true});return NotificationStore}();var b=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var C=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var delay=function(e){return new Promise((function(t){setTimeout(t,e)}))};var m=function(){function AbstractNotification(e){this._logger=l.mainLogger.tags(e);this._store=new y}AbstractNotification.prototype.handlePriority=function(e){return b(this,void 0,void 0,(function(){var t,n,r,o;var i=this;return C(this,(function(a){switch(a.label){case 0:if(!(f.un||f.d&&f.ED))return[3,4];return[4,this.getNotifications()];case 1:t=a.sent();n=e.data.priority;r=t.filter((function(e){if(e.data){var t=e.data.priority;return t&&t>n}return false}));return[4,Promise.all(r.map((function(e){return b(i,void 0,void 0,(function(){var t,n,r;return C(this,(function(o){switch(o.label){case 0:if(!e.data)return[3,2];t=e.data,n=t.scope,r=t.id;return[4,this.close(n,r)];case 1:o.sent();return[3,3];case 2:e.close();o.label=3;case 3:return[2]}}))}))})))];case 2:a.sent();o=r.length>10?500:r.length*50;return[4,delay(o)];case 3:a.sent();a.label=4;case 4:return[2]}}))}))};AbstractNotification.prototype.create=function(e,t){return b(this,void 0,void 0,(function(){var n,r,o;return C(this,(function(i){switch(i.label){case 0:if(Notification.permission!==_.PERMISSION.GRANTED){this._logger.warn("The permission "+Notification.permission+" is not granted yet");return[2]}return[4,this.checkNotificationValid(t.data.id)];case 1:n=i.sent();this._logger.log("check notification for "+t.tag+" is valid",n);if(!n)return[3,6];return[4,this.handlePriority(t)];case 2:i.sent();this._logger.log("creating notification for "+t.tag);i.label=3;case 3:i.trys.push([3,5,,6]);return[4,this.showNotification(e,t)];case 4:r=i.sent();this._store.add(t.data.scope,t.data.id,r);return[3,6];case 5:o=i.sent();this._logger.warn("showNotification failed for: "+o);this._logger.log("current permission of Notification is "+Notification.permission);return[3,6];case 6:return[2]}}))}))};return AbstractNotification}();var S=n(361722);var E=n(38942);var I=n(796036);var w=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var R=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var P=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var A=l.mainLogger.tags("DeskTopNotification");var T=function(e){w(DeskTopNotification,e);function DeskTopNotification(){var t=e.call(this,"DesktopNotification")||this;t.extraLogging=false;t._loggingPermissionObserved=false;t.addEventListenerClickLog=function(){A.log("Notification clicked: from addEventListener")};t.removeEventListenerClick=function(e){e&&e.removeEventListener("click",t.addEventListenerClickLog,false)};return t}DeskTopNotification.prototype._observeLoggingPermission=function(){var e=this;if(this._loggingPermissionObserved){return}var t=(0,v.getModule)(E.FEATURE_FLAG_MODULE);var observer=function(t){e.extraLogging=t};if(t){t.observeFeatureFlag(E.G.D_USE_NOTIFICATION_LOGGING,observer,true);this._loggingPermissionObserverDisposer=function(){t.unsubscribe(E.G.D_USE_NOTIFICATION_LOGGING,observer);e._loggingPermissionObserved=false};this._loggingPermissionObserved=true}};DeskTopNotification.prototype.isSupported=function(){return!!Notification};DeskTopNotification.prototype.showNotification=function(e,t){var n=this;var r=t.data,o=r.scope,i=r.id;var a=t.onClick,u=t.attractFocus,s=u===void 0?true:u,c=t.notFocusAppOnClick,l=t.autoClose,d=t.autoCloseDuration,h=d===void 0?1e3:d;delete t.actions;delete t.onClick;delete t.attractFocus;var v=new Notification(e,t);this._observeLoggingPermission();A.log("Notification created: "+e+" / "+(this.extraLogging?JSON.stringify(t):""));v.addEventListener("click",this.addEventListenerClickLog,false);v.onclick=function(r){var u=n.extraLogging?JSON.stringify(r.target):"";var s=n.extraLogging?JSON.stringify(t):"";A.log("Notification clicked: "+e+" / "+s+" / "+c+" / "+u);if(!c){A.log("Notification move to app");p.T.focus()}r.target.close();n.removeEventListenerClick(v);n._store.remove(o,i);a&&a(r)};v.onclose=function(){n.removeEventListenerClick(v);n._store.remove(o,i)};if(f.nu){Object.defineProperty(v,"data",{writable:true,value:t.data})}s&&this._attractFocus();if(l){setTimeout((function(){if(n.extraLogging){var e=JSON.stringify(v);A.log("Notification before close: "+e)}v.close()}),h)}return v};DeskTopNotification.prototype.getNotifications=function(){return Object.values(this._store.items)};DeskTopNotification.prototype.checkNotificationValid=function(){return true};DeskTopNotification.prototype.close=function(e,t){var n=this._store.get(e,t);this.removeEventListenerClick(n);n&&n.close&&n.close();this._store.remove(e,t)};DeskTopNotification.prototype.isShowing=function(e,t){var n=this._store.get(e,t);return!!n};DeskTopNotification.prototype.clear=function(){var e;Object.values(this._store.items).forEach((function(e){return e.close()}));(e=this._loggingPermissionObserverDisposer)===null||e===void 0?void 0:e.call(this)};DeskTopNotification.prototype._attractFocus=function(){return R(this,void 0,void 0,(function(){var e,t,n,r;return P(this,(function(o){switch(o.label){case 0:return[4,this._getAttractFocusSetting()];case 1:e=o.sent(),t=e.isOn,n=e.persistence,r=n===void 0?h.Zf.ONCE:n;A.log("attractFocus isOn: "+t+", persistence: "+r);t&&I.M$.attractFocus({persistence:r});return[2]}}))}))};DeskTopNotification.prototype._getAttractFocusSetting=function(){var e,t;return R(this,void 0,Promise,(function(){var n,r,o;return P(this,(function(i){switch(i.label){case 0:if(!f.d){return[2,{isOn:false}]}n=(0,v.getModule)(s.oF);if(!d.Kr)return[3,2];return[4,n.getById(g.UL.FLASH_APP_ICON)];case 1:r=(e=i.sent())===null||e===void 0?void 0:e.value;return[2,{isOn:!!r}];case 2:if(!d.V5)return[3,4];return[4,n.getById(g.UL.BOUNCE_APP_ICON)];case 3:o=(t=i.sent())===null||t===void 0?void 0:t.value;return[2,{isOn:!!o&&o!==S.rk.OFF,persistence:o===S.rk.BOUNCE_ALWAYS?h.Zf.ALWAYS:h.Zf.ONCE}];case 4:return[2,{isOn:false}]}}))}))};return DeskTopNotification}(m);var O=n(986419);var N=n(298784);var x=n.n(N);var D=n(350344);var M=n.n(D);var buildAction=function(e){var t=e.action,n=t===void 0?"":t,r=e.handler,o=r===void 0?M():r,i=e.title,a=i===void 0?"":i,u=e.icon,s=u===void 0?"":u;return{action:n,title:a,icon:s,handler:o}};var k=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var L=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var F=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var U=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var B=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(U(arguments[t]));return e};var G=l.mainLogger.tags("SWNotification");var j=function(e){k(SWNotification,e);function SWNotification(){var t=e.call(this,"SWNotification")||this;t.isSupported()&&t._subscribeWorkerMessage();return t}SWNotification.prototype.isSupported=function(){return!f.d&&!f.nu&&navigator!==undefined&&navigator.serviceWorker!==undefined};SWNotification.prototype._subscribeWorkerMessage=function(){var e=this;navigator.serviceWorker.addEventListener("message",(function(t){if(!t.data)return;var n=JSON.parse(t.data);if(!n.id){return}if(!n.action){n.action="click"}e._triggerAction(n)}))};SWNotification.prototype._triggerAction=function(e){var t=e.action,n=e.id,r=e.scope;var o=this._store.get(r,n);var i=x().findLast(o,(function(e){return e.action===t}));if(i){i.handler()}this._store.remove(r,n)};SWNotification.prototype.showNotification=function(e,t){return L(this,void 0,void 0,(function(){var n,r;return F(this,(function(o){switch(o.label){case 0:if(!this._reg)return[3,1];G.log("registration already exists");n=this._reg;return[3,3];case 1:G.log("need to wait until there is an active worker to get the registration");return[4,window.navigator.serviceWorker.ready];case 2:n=o.sent();this._reg=n;o.label=3;case 3:G.log("get registration once the ServiceWorkerRegistration associated with the current page has an active worker",n);t.data.clientId=SWNotification.CLIENT_ID;return[4,this._reg.showNotification(e,t)];case 4:o.sent();G.log("showNotification has been called successfully");r=B(t.actions||[],[buildAction({action:"click",handler:t.onClick})]);return[2,r]}}))}))};SWNotification.prototype.close=function(e,t){return L(this,void 0,void 0,(function(){var n;var r=this;return F(this,(function(o){switch(o.label){case 0:this._store.remove(e,t);return[4,this.getNotifications()];case 1:n=o.sent();return[4,Promise.all(n.map((function(e){return L(r,void 0,void 0,(function(){return F(this,(function(n){return[2,e.data&&e.data.id===t&&e.close()]}))}))})))];case 2:o.sent();return[2]}}))}))};SWNotification.prototype.isShowing=function(e,t){var n=this._store.get(e,t);return!!n};SWNotification.prototype.clear=function(){return L(this,void 0,void 0,(function(){return F(this,(function(e){return[2]}))}))};SWNotification.prototype.getNotifications=function(){return L(this,void 0,void 0,(function(){var e;return F(this,(function(t){switch(t.label){case 0:return[4,window.navigator.serviceWorker.ready];case 1:e=t.sent();return[2,e.getNotifications()]}}))}))};SWNotification.prototype.checkNotificationValid=function(){return L(this,void 0,void 0,(function(){return F(this,(function(e){return[2,true]}))}))};SWNotification.CLIENT_ID=Math.random();return SWNotification}(m);var H=n(168825);var V=n(438884);var W=n(652214);function isCurrentUserDND(){var e=H.ZP.get(H.MG.CURRENT_USER_CONTACT_ID);return V.X.get(e)===W.FU.DND}var z=n(304116);var Y=undefined&&undefined.__assign||function(){Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return Y.apply(this,arguments)};var q=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var K=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var Q=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var Z=l.mainLogger.tags("NotificationService");var X=Z.tags("notificationBlocked");var J=function(){function NotificationService(e,t){var n=this;this._maximumFirefoxTxtLength=40;this._maximumTxtLength=700;this._pid=window["__CURRENT__PROCESS__ID__"];this._env=this._pid?"RENDER PROCESS:"+this._pid:"BROWSER";this._pendingNotifications=[];this.clear=function(){n._uiNotificationDistributor.clear()};this._permission=e;this._soundNotification=t;this._uiNotificationDistributors=new Map;this._uiNotificationDistributors.set("sw",new j);this._uiNotificationDistributors.set("desktop",new T)}NotificationService.prototype.shouldShowUINotification=function(e){return q(this,void 0,void 0,(function(){var t,n;return K(this,(function(r){switch(r.label){case 0:if(isCurrentUserDND()){X.log("user in DND");return[2,false]}return[4,I.M$.isSystemDND()];case 1:if(r.sent().res){X.log("user in system DND");return[2,false]}Z.log("ignoreFocus: "+e);Z.log("document.hasFocus(): "+document.hasFocus());if(!e&&document.hasFocus()){X.log("app is focused");return[2,false]}if(!this._permission.isGranted){X.log("permission is not granted");return[2,false]}t=(0,v.getModule)(s.oF);return[4,t.getById(c.UL.NOTIFICATION_BROWSER)];case 2:n=r.sent();Z.log("isElectron: "+f.d+", wantNotifications: "+(n&&n.value&&n.value.wantNotifications));return[2,f.d||n&&n.value&&n.value.wantNotifications]}}))}))};NotificationService.prototype.init=function(){var e,t;_.Pal.instance.setNotificationPermission(this._permission);try{for(var n=Q(this._uiNotificationDistributors.values()),r=n.next();!r.done;r=n.next()){var o=r.value;var i=o;if(i.isSupported()){this._uiNotificationDistributor=i;Z.log("uiNotificationDistributor set, is "+(i instanceof T?"":"not")+" DeskTopNotification");break}}}catch(t){e={error:t}}finally{try{if(r&&!r.done&&(t=n.return))t.call(n)}finally{if(e)throw e.error}}};NotificationService.prototype.addEllipsis=function(e,t){if(e===void 0){e=""}return e&&e.length>t?e.substr(0,t)+"...":e};NotificationService.prototype.show=function(e,t,n,r){return q(this,void 0,void 0,(function(){var o,i,a,u,s;return K(this,(function(c){switch(c.label){case 0:Z.log("receive notification, id: "+t.data.id+", scope: "+t.data.scope+", strategy: "+t.strategy);if(H.ZP.get(H.MG.DISABLE_INTERACTION)){X.log("disable interaction");return[2]}this._pendingNotifications.push({scope:t.data.scope,id:t.data.id});o=t.strategy;delete t.strategy;i=O.y.SOUND_AND_UI_NOTIFICATION,a=O.y.SOUND_ONLY,u=O.y.UI_NOTIFICATION_ONLY;s=o;switch(s){case i:return[3,1];case a:return[3,6];case u:return[3,8]}return[3,10];case 1:return[4,this.shouldShowUINotification(r)];case 2:if(!c.sent())return[3,4];return[4,Promise.all([this.buildSoundNotification(t),this.buildUINotification(e,t,n,r)])];case 3:c.sent();return[3,5];case 4:X.log("SOUND_AND_UI_NOTIFICATION is blocked");c.label=5;case 5:return[3,13];case 6:return[4,this.buildSoundNotification(t)];case 7:c.sent();return[3,13];case 8:return[4,this.buildUINotification(e,t,n,r)];case 9:c.sent();return[3,13];case 10:return[4,this.buildSoundNotification(t)];case 11:c.sent();return[4,this.buildUINotification(e,t,n,r)];case 12:c.sent();c.label=13;case 13:this._pendingNotifications=this._pendingNotifications.filter((function(e){var n=e.scope,r=e.id;return!(n===t.data.scope&&r===t.data.id)}));return[2]}}))}))};NotificationService.prototype.buildUINotification=function(e,t,n,r){return q(this,void 0,void 0,(function(){var o,i,a,u,s,c,l;return K(this,(function(d){switch(d.label){case 0:return[4,this.shouldShowUINotification(r)];case 1:o=d.sent();if(!o&&!n){X.log("shouldShowNotification: "+o+",force: "+n);return[2]}i=t.data,a=i.id,u=i.scope;s=u+"."+a;c=Y(Y({silent:true},t),{tag:s});Z.info("prepare notification for "+s+" in "+this._env);window["_debugMode"]&&Z.trace();l=e;if(f.vU){c.body=this.addEllipsis(c.body,this._maximumFirefoxTxtLength);l=this.addEllipsis(e,this._maximumFirefoxTxtLength)}c.body=this.addEllipsis(c.body,this._maximumTxtLength);l=this.addEllipsis(e,this._maximumTxtLength);return[4,this._uiNotificationDistributor.create(l,c)];case 2:d.sent();return[2]}}))}))};NotificationService.prototype.buildSoundNotification=function(e){var t=e.data.scope;var n=e.sound;if(!n){Z.log("not necessary to play sound");return}var r=z.C.createTrack(t,400);this._soundNotification.create(n,{trackId:r,autoplay:true});delete e.sound};NotificationService.prototype.close=function(e,t){this._uiNotificationDistributor.close(e,t)};NotificationService.prototype.isShowing=function(e,t,n){var r=(n===void 0?{}:n).includePending,o=r===void 0?true:r;if(o&&this._pendingNotifications.some((function(n){return n.scope===e&&n.id===t})))return true;return!!this._uiNotificationDistributor.isShowing(e,t)};return NotificationService}();var $=n(684997);var ee=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var te=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var ne=function(){function Permission(){var e=this;this._observableController=new $.ObservableController;this._permissionCache=this.current;this._permissions=_.PERMISSION;this._requestPermission=function(){return ee(e,void 0,Promise,(function(){return te(this,(function(e){return[2,new Promise((function(e){var t=Notification.requestPermission(e);if(t){t.then(e)}}))]}))}))}}Permission.prototype.request=function(){return ee(this,void 0,Promise,(function(){var e;return te(this,(function(t){switch(t.label){case 0:return[4,this._requestPermission()];case 1:e=t.sent();this.handlePermissionChange(e);return[2,e]}}))}))};Object.defineProperty(Permission.prototype,"current",{get:function(){var e=Notification.permission;this.handlePermissionChange(e);return e},enumerable:true,configurable:true});Object.defineProperty(Permission.prototype,"isGranted",{get:function(){return this.current===this._permissions.GRANTED},enumerable:true,configurable:true});Permission.prototype.handlePermissionChange=function(e){if(this._permissionCache&&e!==this._permissionCache){this._permissionCache=e;this._observableController.notifyObserver4Changes((function(t){return t(e)}));i.rF.emit(a.OT.NOTIFICATION_PERMISSION_CHANGE,e)}};Permission.prototype.subscribe=function(e){this._observableController.addObserver(e)};Permission.prototype.unSubscribe=function(e){this._observableController.removeObserver(e)};return Permission}();var re=n(306502);var oe=n(983400);var ie=undefined&&undefined.__assign||function(){ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return ie.apply(this,arguments)};var ae=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var ue=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ae(arguments[t]));return e};var se=function(){function SoundNotification(){var e=this;this._library=new Map;this._mediaPool=new Map;this._disposers=[];ue(re.SoundsList,re.RingsList).forEach((function(t){if(![re.SOUNDS_TYPE.Off,re.RINGS_TYPE.Off].includes(t.id))e._library.set(t.id,t.url)}));this.destroyMedia()}SoundNotification.prototype.destroyMedia=function(){var e=this;var t=(0,r.reaction)((function(){return oe.r.getSettingByID(g.SS).source}),(function(){e._mediaPool.forEach((function(e){e.stop();e.dispose()}))}));this._disposers.push(t)};SoundNotification.prototype.create=function(e,t){var n=this._library.get(e);var r=t.trackId;if(n){var o=n+r;l.mainLogger.tags("SoundNotification").log("create Sound for",n);if(this._mediaPool.has(o)){var i=this._mediaPool.get(o);var a=t.autoplay,u=t.loop,s=u===void 0?false:u,c=t.muted,f=c===void 0?false:c,d=t.outputDevices,p=d===void 0?null:d;i.setLoop(s);i.setMute(f);i.setOutputDevices(p);if(a)i.play();return i}var h=z.C.createMedia(ie({src:n},t));this._mediaPool.set(o,h);return h}l.mainLogger.tags("SoundNotification").warn("Failed to find the sound source",e);return};return SoundNotification}();var ce=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var le=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var fe=l.mainLogger.tags("tNotificationManager");var de=function(){function NotificationManager(){var e=this;this.onLogoutHook=function(){var t;(t=e._notificationService)===null||t===void 0?void 0:t.clear()}}NotificationManager.prototype._getNotificationOnFocusSetting=function(){return ce(this,void 0,void 0,(function(){var e,t,n;return le(this,(function(r){switch(r.label){case 0:e=(0,u.getModule)(s.oF);r.label=1;case 1:r.trys.push([1,3,,4]);return[4,e.getSettingItemValue(c.UL.NOTIFICATION_ON_FOCUS)];case 2:t=r.sent();fe.log("[_getNotificationOnFocusSetting]","get SETTING_ITEMS.NOTIFICATION_ON_FOCUS value succeeded",t);return[2,Boolean(t)];case 3:n=r.sent();fe.error("[_getNotificationOnFocusSetting]","get SETTING_ITEMS.NOTIFICATION_ON_FOCUS value failed",n);return[2,false];case 4:return[2]}}))}))};NotificationManager.prototype.run=function(){var e=this;this.disposer=(0,r.reaction)((function(){return(0,o.bg)()}),(function(t){if("Notification"in window){if(t){e.init()}else{e.dispose()}}}),{fireImmediately:true})};NotificationManager.prototype.init=function(){this._notificationPermission=new ne;this._soundNotification=new se;this._notificationService=new J(this._notificationPermission,this._soundNotification);this._notificationService.init();i.rF.on(a.Cg.LOGOUT,this.onLogoutHook)};NotificationManager.prototype.isDND=function(){return isCurrentUserDND()};NotificationManager.prototype.show=function(e,t,n,r){var o;return ce(this,void 0,void 0,(function(){return le(this,(function(i){switch(i.label){case 0:if(!(r===undefined))return[3,2];return[4,this._getNotificationOnFocusSetting()];case 1:r=i.sent();return[3,3];case 2:fe.log("[show]",'use passed in "ignoreFocus" value (override setting value)',r);i.label=3;case 3:(o=this._notificationService)===null||o===void 0?void 0:o.show(e,t,n,r);return[2]}}))}))};NotificationManager.prototype.close=function(e,t){var n;(n=this._notificationService)===null||n===void 0?void 0:n.close(e,t)};NotificationManager.prototype.isShowing=function(e,t){var n;return(n=this._notificationService)===null||n===void 0?void 0:n.isShowing(e,t)};NotificationManager.prototype.clear=function(e){var t;(t=this._notificationService)===null||t===void 0?void 0:t.clear(e)};NotificationManager.prototype.requestPermission=function(){var e;return ce(this,void 0,void 0,(function(){return le(this,(function(t){switch(t.label){case 0:return[4,(e=this._notificationPermission)===null||e===void 0?void 0:e.request()];case 1:return[2,t.sent()]}}))}))};Object.defineProperty(NotificationManager.prototype,"currentPermission",{get:function(){var e;return(e=this._notificationPermission)===null||e===void 0?void 0:e.current},enumerable:true,configurable:true});Object.defineProperty(NotificationManager.prototype,"isGranted",{get:function(){var e;return(e=this._notificationPermission)===null||e===void 0?void 0:e.isGranted},enumerable:true,configurable:true});NotificationManager.prototype.createSoundNotification=function(e,t){var n;return(n=this._soundNotification)===null||n===void 0?void 0:n.create(e,t)};NotificationManager.prototype.dispose=function(){var e,t;(e=this._notificationService)===null||e===void 0?void 0:e.clear();i.rF.off(a.Cg.LOGOUT,this.onLogoutHook);(t=this.disposer)===null||t===void 0?void 0:t.call(this)};return NotificationManager}();var pe=new de},103053:(e,t,n)=>{"use strict";n.d(t,{k:()=>_});var r=n(957685);var o=n(374686);var i=n(392331);var a=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var u=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var s=(0,i.e)((function(){return a(void 0,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,n.e(1868).then(n.bind(n,686970))];case 1:return[2,e.sent()]}}))}))}));var c=n(425230);function api(e){var t={api:[o.Yj.GO_FORWARD,o.Yj.GO_BACK,o.Yj.GO_TO_INDEX]};var n={RouteHistoryController:t};return(0,c.r)(n,s,e)}var l=n(823143);var f=n(721951);var d=[f.T,f.E];var p=(0,l.G)(d);var h={binding:s,api,effect:p};const v=h;var g=n(549298);var _=function(){function RouterManager(){}RouterManager.prototype.run=function(){(0,r.registerDescriptor)(o.fi.ROUTER,v)};RouterManager.prototype.addRoute=function(e,t,n){if(n===void 0){n=""}g.X.set(e,{path:t,defaultPath:n||t})};RouterManager.prototype.removeRoute=function(e){g.X["delete"](e)};return RouterManager}()},333706:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(168825);var o=n(374686);var i=n(325719);var a=n.n(i);var u=n(814670);var s=n.n(u);var c=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var l=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var f=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var d=function(){function DocRegistry(){this.previousRoutes=(new Map).keys();this._docTitleProviderMap=new Map;this.run()}DocRegistry.prototype.run=function(){var e=this;this.disposer=(0,i.reaction)((function(){return r.ZP.get(r.MG.ROUTES)}),(function(t){e.clearMissingRoutes(t);t.forEach((function(t,n){var r=t.pageTitle;if(!e.isProviderRegistered(n)&&r){e.registerProvider(n,{getDocByPath:function(e){return{title:r(e)}}})}}))}))};DocRegistry.prototype.clearMissingRoutes=function(e){var t,n;try{for(var r=f(this.previousRoutes),o=r.next();!o.done;o=r.next()){var i=o.value;if(!e.has(i)){this.unRegisterProvider(i)}}}catch(e){t={error:e}}finally{try{if(o&&!o.done&&(n=r.return))n.call(r)}finally{if(t)throw t.error}}this.previousRoutes=e.keys()};DocRegistry.prototype.registerProvider=function(e,t){this._docTitleProviderMap.set(e,t)};DocRegistry.prototype.unRegisterProvider=function(e){this._docTitleProviderMap.delete(e)};DocRegistry.prototype.getProvider=function(e){return this._docTitleProviderMap.get(e)};DocRegistry.prototype.isProviderRegistered=function(e){return this._docTitleProviderMap.get(e)!==undefined};DocRegistry.prototype.getTitleProvider=function(e){var t=this._docTitleProviderMap.get(e);if(!t)return null;return function(e){var n;return((n=t.getDocByPath(e))===null||n===void 0?void 0:n.title)||""}};DocRegistry.prototype.dispose=function(){this.disposer()};var e,t,n,a,s;c([i.observable,l("design:type",typeof(e=typeof Map!=="undefined"&&Map)==="function"?e:Object)],DocRegistry.prototype,"_docTitleProviderMap",void 0);c([i.action,l("design:type",Function),l("design:paramtypes",[typeof(t=typeof Map!=="undefined"&&Map)==="function"?t:Object]),l("design:returntype",void 0)],DocRegistry.prototype,"clearMissingRoutes",null);c([i.action,l("design:type",Function),l("design:paramtypes",[typeof(n=typeof o.fi!=="undefined"&&o.fi)==="function"?n:Object,typeof(a=typeof u.DocProvider!=="undefined"&&u.DocProvider)==="function"?a:Object]),l("design:returntype",void 0)],DocRegistry.prototype,"registerProvider",null);c([i.action,l("design:type",Function),l("design:paramtypes",[typeof(s=typeof o.fi!=="undefined"&&o.fi)==="function"?s:Object]),l("design:returntype",void 0)],DocRegistry.prototype,"unRegisterProvider",null);return DocRegistry}();var p=new d},721951:(e,t,n)=>{"use strict";n.d(t,{T:()=>u,E:()=>s});var r=n(374686);var o=n(957685);var i=(0,o.getContext)(r.fi.ROUTER);const a=i;var u=a.createDecorator();var s=a.createDecorator()},549298:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r=n(374686);var o=new Map([[r.fi.LOGIN,{path:"/login",defaultPath:"/login"}],[r.fi.MESSAGE,{path:"/messages",defaultPath:"/messages"}],[r.fi.MEET,{path:"/video",defaultPath:"/video/home"}],[r.fi.CALENDAR,{path:"/calendar",defaultPath:"/calendar"}],[r.fi.CONTACT,{path:"/contacts",defaultPath:"/contacts"}],[r.fi.COMPANY,{path:"/company",defaultPath:"/company"}],[r.fi.RESOURCE_CENTER,{path:"/resource_center",defaultPath:"/resource_center"}],[r.fi.PLUGINS,{path:"/plugins",defaultPath:"/plugins"}],[r.fi.ONBOARDING,{path:"/welcome",defaultPath:"/welcome"}],[r.fi.TELEPHONY,{path:"/phone",defaultPath:"/phone",subRoutes:new Map([[r.fi.HUD,{matcher:/^\/phone\/(extensions|parkLocations|delegatedcall|conferenceRooms|groupcallpickup|queuecallpickup)/}]])}],[r.fi.REDIRECT,{path:"/redirect",defaultPath:"/redirect",exact:true}],[r.fi.SIGNUP,{path:"/signup",defaultPath:"/signup"}],[r.fi.APPS,{path:"/apps",defaultPath:"/apps"}],[r.fi.COMPANY_SETUP,{path:"/company_setup",defaultPath:"/company_setup"}],[r.fi.ACCOUNT_SETUP,{path:"/account_setup",defaultPath:"/account_setup"}],[r.fi.SETTINGS,{path:"/settings",defaultPath:"/settings"}],[r.fi.WEBINAR,{path:"/webinar",defaultPath:"/webinar"}],[r.fi.SMS,{path:"/sms",defaultPath:"/sms"}],[r.fi.FAX,{path:"/fax",defaultPath:"/fax"}]])},814670:()=>{},735162:(e,t,n)=>{"use strict";n.d(t,{z:()=>isRouteConfig,e:()=>isSubRouteConfig});function isRouteConfig(e){return e.path!==undefined}function isSubRouteConfig(e){return e.matcher!==undefined}},780838:(e,t,n)=>{"use strict";var r=n(71274);var o=n(168825);var i=n(911169);var setCurrentMainModule=function(e){if(o.ZP&&o.ZP.set){var t=(0,i.P7)(e);o.ZP.set(o.MG.CURRENT_MAIN_MODULE,t)}};r.m8.listen((function(e){setCurrentMainModule(e.pathname)}));setCurrentMainModule(r.m8.location.pathname)},983400:(e,t,n)=>{"use strict";n.d(t,{r:()=>g});var r=n(325719);var o=n(586905);var i=n(862926);var a=n(758285);var u=n(429266);var s=n(219143);var c=n(901137);var l=n(198384);function skipRegister(e,t,n){var r=l.$O.SETTING;if(!r)return false;var o=r.SCOPES,i=r.SECTIONS,a=r.ITEMS;if(!!o.length&&!o.includes(e))return true;if(t&&!!i.length&&!i.includes(t))return true;if(n&&!!a.length&&!a.includes(n))return true;return false}var f=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var d=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var p=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var h=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var v=function(){function SettingsManager(){this._settingStore=c.$v}Object.defineProperty(SettingsManager.prototype,"isNotEmpty",{get:function(){return this._settingStore.getAllPages().length>0},enumerable:true,configurable:true});SettingsManager.prototype.pageTitle=function(e){var t=s.Z.i18n.t("Settings");if(e==="/"){return t}var n=this._settingStore.getPageByPath(e);return n?[t,n.title].join(" - "):t};SettingsManager.prototype.registerPage=function(e,t){var n=this;if(skipRegister(e))return;this._settingStore.useScope(e).addPage(t);t.sections.forEach((function(r){return n.registerSection(e,t.id,r)}))};SettingsManager.prototype.isSectionRegistered=function(e,t){return this._settingStore.useScope(e).getSectionById(t)!==undefined};SettingsManager.prototype.registerSection=function(e,t,n){var r=this;if(skipRegister(e,n.id))return;this._settingStore.useScope(e).addSection(t,n);n.items.forEach((function(t){return r.registerItem(e,n.id,t)}))};SettingsManager.prototype.unRegisterSection=function(e,t,n){this._settingStore.useScope(e).removeSection(t,n)};SettingsManager.prototype.registerItem=function(e,t,n){if(skipRegister(e,t,n.id))return;this._settingStore.useScope(e).addItem(t,n)};SettingsManager.prototype.unRegisterItem=function(e,t,n){this._settingStore.useScope(e).removeItem(t,n)};SettingsManager.prototype.unRegisterAll=function(e){this._settingStore.useScope(e).clear()};SettingsManager.prototype.goToSettingPage=function(e,t){var n=(t===void 0?{}:t).replace,r=n===void 0?false:n;var a=this._settingStore.getPageById(e);if(!a){i.mainLogger.error("Trying to open a non-existed setting page");return}var s=""+u.FA+a.path;if(r){o.m8.replace(s)}else{o.m8.push(s)}this._settingStore.setCurrentPageId(e)};SettingsManager.prototype.getSettingByID=function(e){var t=a.g.get(a.G.USER_SETTING);return t.get(e)};SettingsManager.prototype.getSettingByIDAsync=function(e){return p(this,void 0,Promise,(function(){var t,n;return h(this,(function(r){switch(r.label){case 0:t=a.g.get(a.G.USER_SETTING);return[4,t.getAsync(e)];case 1:n=r.sent();return[2,n]}}))}))};SettingsManager.prototype.dispatchUpdatedSettingData=function(e){a.g.dispatchUpdatedDataModels(a.G.USER_SETTING,e)};f([r.computed,d("design:type",Object),d("design:paramtypes",[])],SettingsManager.prototype,"isNotEmpty",null);return SettingsManager}();var g=new v},212279:(e,t,n)=>{"use strict";n.d(t,{L:()=>f});var r=n(531616);var o=n(325719);var i=n.n(o);var a=n(937807);var u=n.n(a);var s=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var c=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var l=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var f=function(e){s(SettingModel,e);function SettingModel(t){var n=e.call(this,t)||this;var r=t.source,o=t.value,i=t.state,a=t.valueGetter,u=t.valueSetter;n.source=r;n.value=o;n.state=i;n.valueGetter=a;n.valueSetter=u;return n}var t;c([o.observable,l("design:type",Array)],SettingModel.prototype,"source",void 0);c([o.observable,l("design:type",Object)],SettingModel.prototype,"value",void 0);c([o.observable,l("design:type",Number)],SettingModel.prototype,"weight",void 0);c([o.observable,l("design:type",typeof(t=typeof r.Ye!=="undefined"&&r.Ye)==="function"?t:Object)],SettingModel.prototype,"state",void 0);c([o.observable,l("design:type",Number)],SettingModel.prototype,"parentModelId",void 0);return SettingModel}(a.BaseModel)},758285:(e,t,n)=>{"use strict";n.d(t,{G:()=>d,g:()=>h});var r=n(937807);var o=n(696206);var i=n(187933);var a=n(862926);var u=n(461197);var s=n(212279);var c=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var l=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var f;var d;(function(e){e["USER_SETTING"]="userSetting"})(d||(d={}));const p=(f={},f[d.USER_SETTING]={event:[o.FY.USER_SETTING],getService:function(){return{getById:function(e){return c(void 0,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:r.trys.push([0,3,,4]);t=(0,u.getModule)(i.oF);if(!!t)return[3,2];return[4,(0,u.getModuleAsync)(i.oF)];case 1:t=r.sent();r.label=2;case 2:return[2,t&&t.getById(e)];case 3:n=r.sent();a.mainLogger.tags("Entity Config").log("get setting "+e+" fail:",n);return[2,null];case 4:return[2]}}))}))}}},type:r.HANDLER_TYPE.MULTI_MODEL,model:s.L},f);var h=new r.StoreManager(p)},6655:(e,t,n)=>{"use strict";n.d(t,{O:()=>d});var r=n(325719);var o=n.n(r);var i=n(531616);var a=n(901137);var u=n(923710);var s=n(846340);var c=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var l=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var f=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var d=function(e){c(BaseSettingItemViewModel,e);function BaseSettingItemViewModel(){var t=e!==null&&e.apply(this,arguments)||this;t._settingStore=a.$v;return t}Object.defineProperty(BaseSettingItemViewModel.prototype,"disabled",{get:function(){return this.settingItemEntity.state===i.Ye.DISABLE},enumerable:true,configurable:true});Object.defineProperty(BaseSettingItemViewModel.prototype,"settingItem",{get:function(){var e=this._settingStore.getItemById(this.props.id);if(!e){throw new Error("ERROR: setting item not found. id: "+this.props.id)}return e},enumerable:true,configurable:true});Object.defineProperty(BaseSettingItemViewModel.prototype,"settingItemEntity",{get:function(){return(0,s.W)(this.props.id)},enumerable:true,configurable:true});l([r.computed,f("design:type",Object),f("design:paramtypes",[])],BaseSettingItemViewModel.prototype,"disabled",null);l([r.computed,f("design:type",Boolean),f("design:paramtypes",[])],BaseSettingItemViewModel.prototype,"settingItem",null);l([r.computed,f("design:type",Object),f("design:paramtypes",[])],BaseSettingItemViewModel.prototype,"settingItemEntity",null);return BaseSettingItemViewModel}(u.StoreViewModel)},561077:(e,t,n)=>{"use strict";n.d(t,{n:()=>m});var r=n(923710);var o=n(305406);var i=n.n(o);var a=n(720795);var u=n(499059);var s;(function(e){e["microsoft"]="microsoft";e["google"]="google"})(s||(s={}));var c=n(492942);var l=n(896325);var f=n(14862);var d=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var p=undefined&&undefined.__assign||function(){p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return p.apply(this,arguments)};var h=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var v=function(e){d(ButtonSettingItemViewComponent,e);function ButtonSettingItemViewComponent(){return e!==null&&e.apply(this,arguments)||this}ButtonSettingItemViewComponent.prototype.render=function(){var e=this.props,t=e.t,n=e.id,r=e.settingItem,o=e.disabled;var a=r.description;return i().createElement(c.t8,{id:n,automationId:r.automationId,disabled:o,label:t(r.title||""),description:typeof a==="string"?t(a):a},this._renderButton())};ButtonSettingItemViewComponent.prototype._renderButton=function(){var e=this.props,t=e.disabled,n=e.settingItem,r=e.t,o=e.onClick,a=e.id;var f="settingItemButton-"+a;var d={id:f,"aria-labelledby":(0,c.uK)(a)+" "+f,"aria-describedby":(0,c.kY)(a)};if(n.canConnect&&s[n.brand]){return i().createElement(l.X,p({"data-test-automation-id":"settingItemButton-"+n.automationId,onClick:o,icon:n.brand},d),r(n.btnText))}return i().createElement(u.J,p({"data-test-automation-id":"settingItemButton-"+n.automationId,disabled:t,color:"primary",onClick:o},d),r(n.btnText))};ButtonSettingItemViewComponent=h([a.observer],ButtonSettingItemViewComponent);return ButtonSettingItemViewComponent}(o.Component);var g=(0,f.withTranslation)("translations")(v);var _=n(6655);var y=n(388526);var b=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var C=function(e){b(ButtonSettingItemViewModel,e);function ButtonSettingItemViewModel(){var t=e!==null&&e.apply(this,arguments)||this;t.onClick=function(){var e=t.settingItem,n=e.onClick,r=e.dataTracking;if(n){n()}r&&(0,y.Rt)(r)};return t}return ButtonSettingItemViewModel}(_.O);var m=(0,r.buildContainer)({View:g,ViewModel:C})},388526:(e,t,n)=>{"use strict";n.d(t,{Rt:()=>dataTrackingForSetting,uy:()=>l,yP:()=>booleanTransform});var r=n(513777);var o=n.n(r);var i=n(968006);var a=undefined&&undefined.__assign||function(){a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return a.apply(this,arguments)};var u=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var s=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var c=undefined&&undefined.__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++){if(t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o]))n[r[o]]=e[r[o]]}return n};var dataTrackingForSetting=function(e,t){return u(void 0,void 0,void 0,(function(){var n,r,o,u,l;return s(this,(function(s){switch(s.label){case 0:n=e.optionTransform,r=e.eventName,o=c(e,["optionTransform","eventName"]);return[4,n?n(t):t];case 1:u=s.sent();l=u?a({option:u},o):o;i.s6.track(r||"Jup_Web/DT_settings_updateSetting",l);return[2]}}))}))};var l=o().debounce((function(e,t){return dataTrackingForSetting(e,t)}),1e3);var booleanTransform=function(e){return e?"on":"off"}},362257:(e,t,n)=>{"use strict";n.d(t,{U:()=>Xe});var r=n(720795);var o=n(305406);var i=n.n(o);var a=n(14862);var u=n(876272);var s=n(325719);var c=n(664258);var l=n(901137);var f=n(923710);var d=n(629708);var p=n(388526);var h=n(688053);var v=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var g=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var _=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var y=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var b=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var C=function(e){v(LinkSettingItemViewComponent,e);function LinkSettingItemViewComponent(){var t=e!==null&&e.apply(this,arguments)||this;t._loading=false;t._handleClick=function(){return y(t,void 0,void 0,(function(){var e,t;return b(this,(function(n){switch(n.label){case 0:this._loading=true;return[4,this._getUrl()];case 1:e=n.sent();this._loading=false;e&&window.open(e);t=this.props.settingItem.dataTracking;t&&(0,p.Rt)(t);return[2]}}))}))};t._getUrl=function(){return t.props.getUrl()};return t}LinkSettingItemViewComponent.prototype.render=function(){var e=this.props,t=e.t,n=e.id,r=e.disabled,o=e.settingItem;var a=o.description,u=o.linkBtnText,s=o.linkBtnColor;return i().createElement(h.SZ,{id:n,disabled:r,automationId:o.automationId,label:t(o.title||""),description:typeof a==="string"?t(a):a,color:s?s:"primary",onClick:this._handleClick,loading:this._loading},u?u:t("setting.edit"))};g([s.observable,_("design:type",Object)],LinkSettingItemViewComponent.prototype,"_loading",void 0);g([s.action,_("design:type",Object)],LinkSettingItemViewComponent.prototype,"_handleClick",void 0);g([d.KQ.flash({network:"setting.errorText.forLink",server:"setting.errorText.forLink"}),_("design:type",Object)],LinkSettingItemViewComponent.prototype,"_getUrl",void 0);LinkSettingItemViewComponent=g([r.observer],LinkSettingItemViewComponent);return LinkSettingItemViewComponent}(o.Component);var m=(0,a.withTranslation)("translations")(C);var S=n(6655);var E=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var I=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var w=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var R=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var P=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var A=function(e){E(LinkSettingItemViewModel,e);function LinkSettingItemViewModel(){var t=e!==null&&e.apply(this,arguments)||this;t.loading=false;t._valueCache="";t.getUrl=function(){return t._getUrlFromCache()||t._getUrlFromValue()||t._getUrlFromValueGetter()};return t}LinkSettingItemViewModel.prototype._getUrlFromCache=function(){return this._valueCache};LinkSettingItemViewModel.prototype._getUrlFromValue=function(){return this.settingItemEntity.value};LinkSettingItemViewModel.prototype._getUrlFromValueGetter=function(){return R(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,u,s;return P(this,(function(c){switch(c.label){case 0:e=this.settingItemEntity.valueGetter;t=this.settingItem,n=t.beforeSaving,r=t.title,o=t.useCache;i="";if(!e)return[3,6];this.loading=true;u=n;if(!u)return[3,2];return[4,n(r,undefined)];case 1:u=c.sent();c.label=2;case 2:a=u;if(!(a===false))return[3,3];s=undefined;return[3,5];case 3:return[4,e()];case 4:s=c.sent();c.label=5;case 5:i=s;if(o){this._valueCache=i}this.loading=false;c.label=6;case 6:return[2,i]}}))}))};I([s.observable,w("design:type",Object)],LinkSettingItemViewModel.prototype,"loading",void 0);I([s.action,w("design:type",Object)],LinkSettingItemViewModel.prototype,"getUrl",void 0);I([s.action,w("design:type",Function),w("design:paramtypes",[]),w("design:returntype",void 0)],LinkSettingItemViewModel.prototype,"_getUrlFromCache",null);I([s.action,w("design:type",Function),w("design:paramtypes",[]),w("design:returntype",void 0)],LinkSettingItemViewModel.prototype,"_getUrlFromValue",null);I([s.action,w("design:type",Function),w("design:paramtypes",[]),w("design:returntype",Promise)],LinkSettingItemViewModel.prototype,"_getUrlFromValueGetter",null);return LinkSettingItemViewModel}(S.O);var T=(0,f.buildContainer)({View:m,ViewModel:A});var O=n(316210);var N=n(492942);var removeLinkTags=function(e,t){if(t===void 0){t=""}return e.replace(/<[0-9]>|<\/[0-9]>/g,t)};var combinedTextForA11y=function(e,t,n,r,o){var i="";if(t){i=""+e(t)}if(n){i=i+", "+n}var a=typeof r==="string"?""+removeLinkTags(e(r)):"";if(a){i=i+", "+a}i=i+", "+e(o);return i};var x=n(968006);var D=n(99640);var M=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var k=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var L=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var F=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var U=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var B=function(e){M(ToggleSettingItemViewComponent,e);function ToggleSettingItemViewComponent(){var t=e!==null&&e.apply(this,arguments)||this;t._handleChange=function(e){return F(t,void 0,void 0,(function(){return U(this,(function(t){switch(t.label){case 0:return[4,this.props.saveSetting(e.target.checked)];case 1:t.sent();return[2]}}))}))};return t}ToggleSettingItemViewComponent.prototype.render=function(){var e=this.props,t=e.t,n=e.id,r=e.settingItem,o=e.disabled;var a=r.description;return i().createElement(N.t8,{id:n,automationId:r.automationId,disabled:o,label:t(r.title||""),description:typeof a==="string"?t(a):a},this._renderToggle())};ToggleSettingItemViewComponent.prototype._getA11yText=function(){var e=this.props,t=e.settingItem,n=e.settingItemEntity,r=e.t,o=e.sectionTitle;var i=t.description,a=t.title,u=t.descriptionForAria;var s=n.value;var c=""+(s?r("common.button.ariaToggleOn"):r("common.button.ariaToggleOff"));var l=combinedTextForA11y(r,a,c,u||i,o);return l};ToggleSettingItemViewComponent.prototype._renderToggle=function(){var e;var t=this.props,n=t.disabled,r=t.settingItem,o=t.settingItemEntity;var a=r.dataIdentify;var u=o.value;a&&x.s6.identify((0,D.y)(),(e={},e[a.key]=(0,p.yP)(u),e));var s=u===undefined;var c=this._getA11yText();var l={"aria-label":c};return!s&&i().createElement(O.G,{"data-test-automation-id":"settingItemToggleButton-"+r.automationId,"data-test-automation-value":u,checked:Boolean(u),disabled:n,onChange:this._handleChange,inputProps:l})};k([d.KQ.flash({network:"setting.errorText.network",server:"setting.errorText.server"}),L("design:type",Object)],ToggleSettingItemViewComponent.prototype,"_handleChange",void 0);ToggleSettingItemViewComponent=k([r.observer],ToggleSettingItemViewComponent);return ToggleSettingItemViewComponent}(o.Component);var G=(0,a.withTranslation)("translations")(B);var j=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var H=undefined&&undefined.__assign||function(){H=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return H.apply(this,arguments)};var V=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var W=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var z=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Y=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var q=function(e){j(ToggleSettingItemViewModel,e);function ToggleSettingItemViewModel(){var t=e!==null&&e.apply(this,arguments)||this;t.saveSetting=function(e){return z(t,void 0,void 0,(function(){var t,n,r,o,i,a,u,s;var c,l;return Y(this,(function(f){switch(f.label){case 0:t=this.settingItemEntity,n=t.valueSetter,r=t.value;o=this.settingItem,i=o.beforeSaving,a=o.dataTracking;if(!i)return[3,2];return[4,i(e,r)];case 1:u=f.sent();if(u===false){return[2]}f.label=2;case 2:s=n;if(!s)return[3,4];return[4,n(e)];case 3:s=f.sent();f.label=4;case 4:s;(l=(c=this.settingItem).afterSaving)===null||l===void 0?void 0:l.call(c,e);a&&(0,p.Rt)(H(H({},a),{optionTransform:function(){return(0,p.yP)(e)}}),e);return[2]}}))}))};return t}V([s.action,W("design:type",Object)],ToggleSettingItemViewModel.prototype,"saveSetting",void 0);return ToggleSettingItemViewModel}(S.O);var K=(0,f.buildContainer)({View:G,ViewModel:q});var Q=n(409930);var Z=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var X=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var J=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var $=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ee=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var te=function(e){Z(SelectSettingItemViewComponent,e);function SelectSettingItemViewComponent(){var t=e!==null&&e.apply(this,arguments)||this;t.handleChange=function(e,n){return $(t,void 0,void 0,(function(){return ee(this,(function(t){switch(t.label){case 0:return[4,this.props.saveSetting(e,n)];case 1:t.sent();return[2]}}))}))};return t}SelectSettingItemViewComponent.prototype.render=function(){var e=this.props,t=e.t,n=e.id,r=e.disabled,o=e.settingItem,a=e.value,u=e.source;var s=Object.assign({},o,{useVirtualizedList:o.type===c.XX.VIRTUALIZED_SELECT});var l=o.description;return i().createElement(N.t8,{id:n,automationId:o.automationId,disabled:r,label:t(o.title||""),description:typeof l==="string"?t(l):l},i().createElement(Q.j,{rawValue:a,disabled:r,source:u,config:s,handleChange:this.handleChange}))};X([d.KQ.flash({network:"setting.errorText.network",server:"setting.errorText.server"}),J("design:type",Object)],SelectSettingItemViewComponent.prototype,"handleChange",void 0);SelectSettingItemViewComponent=X([r.observer],SelectSettingItemViewComponent);return SelectSettingItemViewComponent}(o.Component);var ne=(0,a.withTranslation)("translations")(te);var re=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var oe=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var ie=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var ae=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ue=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var se=function(e){re(SelectSettingItemViewModel,e);function SelectSettingItemViewModel(){var t=e!==null&&e.apply(this,arguments)||this;t.saveSetting=function(e,n){return ae(t,void 0,void 0,(function(){var t,r,o,i,a,u,s,c;return ue(this,(function(l){switch(l.label){case 0:t=this.settingItemEntity.valueSetter;r=this.settingItem,o=r.beforeSaving,i=r.dataTracking,a=r.errorHandler;if(!o)return[3,2];return[4,o(e,this.value)];case 1:u=l.sent();if(u===false){return[2]}l.label=2;case 2:l.trys.push([2,5,,6]);s=t;if(!s)return[3,4];return[4,t(n)];case 3:s=l.sent();l.label=4;case 4:s;i&&(0,p.Rt)(i,n);return[3,6];case 5:c=l.sent();if(a){a(c)}else{throw c}return[3,6];case 6:return[2]}}))}))};return t}Object.defineProperty(SelectSettingItemViewModel.prototype,"source",{get:function(){var e;if(this.settingItemEntity.source&&this.settingItemEntity.source.length>0){e=this.settingItemEntity.source}else{e=this.settingItem.defaultSource||[]}return e},enumerable:true,configurable:true});Object.defineProperty(SelectSettingItemViewModel.prototype,"value",{get:function(){return this.settingItemEntity.value},enumerable:true,configurable:true});oe([s.computed,ie("design:type",Object),ie("design:paramtypes",[])],SelectSettingItemViewModel.prototype,"source",null);oe([s.computed,ie("design:type",Object),ie("design:paramtypes",[])],SelectSettingItemViewModel.prototype,"value",null);oe([d.KQ.flash({network:"setting.errorText.network",server:"setting.errorText.server"}),ie("design:type",Object)],SelectSettingItemViewModel.prototype,"saveSetting",void 0);return SelectSettingItemViewModel}(S.O);var ce=(0,f.buildContainer)({View:ne,ViewModel:se});var le=n(513777);var fe=n(412381);var de=n(286877);var pe=n(349154);var he=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var ve=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var ge=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var _e=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ye=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var be=function(e){he(SliderSettingItemViewComponent,e);function SliderSettingItemViewComponent(){var t=e!==null&&e.apply(this,arguments)||this;t._handleChange=(0,le.debounce)((function(e,n){return _e(t,void 0,void 0,(function(){return ye(this,(function(e){switch(e.label){case 0:return[4,this.props.saveSetting(n)];case 1:e.sent();return[2]}}))}))}),10,{maxWait:1e3/60});return t}SliderSettingItemViewComponent.prototype._renderSlider=function(){var e=this.props,t=e.disabled,n=e.settingItem,r=e.settingItemEntity,o=e.t,a=e.id;var u=r.value,s=u===void 0?0:u;var c=n.min,l=n.max,f=n.step,d=n.valueLabelFormat,p=n.Left,h=n.Right;var v="settingItemSliderAria-"+n.automationId;return i().createElement(de.Z,{container:true,spacing:4,alignItems:"center"},i().createElement(de.Z,{item:true},p),i().createElement(de.Z,{item:true,xs:true},n.descriptionForAria?i().createElement(pe.Q,{id:v},o(n.descriptionForAria)):null,i().createElement(fe.e,{onChange:this._handleChange,disabled:t,min:c,max:l,step:f,valueLabelFormat:d,value:s,"aria-valuetext":""+Math.round(s*100),"data-test-automation-id":"settingItemSlider-"+n.automationId,"data-test-automation-value":s,"aria-labelledby":(0,N.uK)(a)+" "+v+" "+(0,N.kY)(a)})),i().createElement(de.Z,{item:true},h))};SliderSettingItemViewComponent.prototype.render=function(){var e=this.props,t=e.t,n=e.id,r=e.disabled,o=e.settingItem;var a=o.description;return i().createElement(N.t8,{id:n,automationId:o.automationId,disabled:r,label:t(o.title||""),description:typeof a==="string"?t(a):a},this._renderSlider())};ve([d.KQ.flash({network:"setting.errorText.network",server:"setting.errorText.server"}),ge("design:type",Object)],SliderSettingItemViewComponent.prototype,"_handleChange",void 0);SliderSettingItemViewComponent=ve([r.observer],SliderSettingItemViewComponent);return SliderSettingItemViewComponent}(o.Component);var Ce=(0,a.withTranslation)("translations")(be);var me=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Se=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var Ee=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var Ie=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var we=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var Re=function(e){me(SliderSettingItemViewModel,e);function SliderSettingItemViewModel(){var t=e!==null&&e.apply(this,arguments)||this;t.saveSetting=function(e){return Ie(t,void 0,void 0,(function(){var t,n,r,o,i,a,u,s;return we(this,(function(c){switch(c.label){case 0:t=this.settingItemEntity,n=t.valueSetter,r=t.value;o=this.settingItem,i=o.beforeSaving,a=o.dataTracking;if(!i)return[3,2];return[4,i(e,r)];case 1:u=c.sent();if(u===false){return[2]}c.label=2;case 2:s=n;if(!s)return[3,4];return[4,n(e)];case 3:s=c.sent();c.label=4;case 4:s;a&&(0,p.uy)(a,e);return[2]}}))}))};return t}Se([s.action,Ee("design:type",Object)],SliderSettingItemViewModel.prototype,"saveSetting",void 0);return SliderSettingItemViewModel}(S.O);var Pe=(0,f.buildContainer)({View:Ce,ViewModel:Re});var Ae=n(243606);var Te=n(492021);var Oe=n(905490);var Ne=n(354154);var xe=n(957097);var De=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var Me=xe.ZP.div(Fe||(Fe=De(["\n  align-items: center;\n  display: flex;\n  justify-content: flex-end;\n  width: 100%;\n  height: 100%;\n"],["\n  align-items: center;\n  display: flex;\n  justify-content: flex-end;\n  width: 100%;\n  height: 100%;\n"])));var ke=(0,xe.ZP)(Ae.Z)(Ue||(Ue=De(["\n  && {\n    color: ",";\n    ",";\n    padding: 0 "," 0 0;\n  }\n"],["\n  && {\n    color: ",";\n    ",";\n    padding: 0 "," 0 0;\n  }\n"])),(0,Te.v)("neutral","f06"),(0,Oe.c)("title1"),(0,Ne.W0)(4));function LabelSettingItem(e){var t=e.id,n=e.disabled,r=e.settingItem,o=e.settingItemEntity,a=e.t;var u=r.description;return i().createElement(N.t8,{id:t,disabled:n,automationId:r.automationId,label:a(r.title||""),description:typeof u==="string"?a(u):u},i().createElement(Me,null,i().createElement(ke,null,o.value)))}var Le=(0,a.withTranslation)("translations")((0,r.observer)(LabelSettingItem));var Fe,Ue;var Be=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Ge=function(e){Be(LabelSettingItemViewModel,e);function LabelSettingItemViewModel(){return e!==null&&e.apply(this,arguments)||this}return LabelSettingItemViewModel}(S.O);var je=(0,f.buildContainer)({View:Le,ViewModel:Ge});var He=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Ve=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var We=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var ze;var Ye=(ze={},ze[c.XX.TOGGLE]=K,ze[c.XX.SELECT]=ce,ze[c.XX.VIRTUALIZED_SELECT]=ce,ze[c.XX.LINK]=T,ze[c.XX.SLIDER]=Pe,ze[c.XX.LABEL]=je,ze[c.XX.BUTTON]=h.ne,ze);var qe=function(e){He(SettingItemProxy,e);function SettingItemProxy(){var t=e!==null&&e.apply(this,arguments)||this;t._settingStore=l.$v;return t}Object.defineProperty(SettingItemProxy.prototype,"_settingItem",{get:function(){return this._settingStore.getItemById(this.props.itemId)},enumerable:true,configurable:true});SettingItemProxy.prototype.render=function(){if(!this._settingItem)return null;var e=this.props,t=e.itemId,n=e.sectionTitle;var r=this._settingItem.type;var o=typeof r==="number"||typeof r==="string"?Ye[r]:r;return i().createElement(o,{id:t,sectionTitle:n})};Ve([s.computed,We("design:type",Object),We("design:paramtypes",[])],SettingItemProxy.prototype,"_settingItem",null);SettingItemProxy=Ve([r.observer],SettingItemProxy);return SettingItemProxy}(i().Component);var Ke=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Qe=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var Ze=function(e){Ke(SettingSectionComponent,e);function SettingSectionComponent(){return e!==null&&e.apply(this,arguments)||this}SettingSectionComponent.prototype._renderSettingItems=function(e){return this.props.itemIds.map((function(t){return i().createElement(qe,{key:t,itemId:t,sectionTitle:e})}))};SettingSectionComponent.prototype.render=function(){if(!this.props.section)return null;var e=this.props,t=e.t,n=e.section;var r=n.id,o=n.title,a=n.description,s=a===void 0?"":a;return i().createElement(u.tE,{key:r,title:t(o),description:t(s),automationId:n.automationId},this._renderSettingItems(o))};SettingSectionComponent=Qe([r.observer],SettingSectionComponent);return SettingSectionComponent}(o.Component);var Xe=(0,a.withTranslation)("translations")(Ze)},432695:(e,t,n)=>{"use strict";n.d(t,{P:()=>l});var r=n(325719);var o=n.n(r);var i=n(923710);var a=n(901137);var u=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var s=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var c=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var l=function(e){u(SettingSectionViewModel,e);function SettingSectionViewModel(){var t=e!==null&&e.apply(this,arguments)||this;t._settingStore=a.$v;return t}Object.defineProperty(SettingSectionViewModel.prototype,"section",{get:function(){return this._settingStore.getSectionById(this.props.sectionId)},enumerable:true,configurable:true});Object.defineProperty(SettingSectionViewModel.prototype,"itemIds",{get:function(){return this._settingStore.getSectionVisibleItems(this.props.sectionId)},enumerable:true,configurable:true});s([r.computed,c("design:type",Object),c("design:paramtypes",[])],SettingSectionViewModel.prototype,"section",null);s([r.computed,c("design:type",Object),c("design:paramtypes",[])],SettingSectionViewModel.prototype,"itemIds",null);return SettingSectionViewModel}(i.StoreViewModel)},397587:(e,t,n)=>{"use strict";n.d(t,{d:()=>r.d});var r=n(354063)},219143:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(374686);var o=n(957685);const i=(0,o.getContext)(r.fi.SETTINGS)},989635:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var r=n(219143);var o="Unknown";var i=function(){function DeviceNameHelper(){}DeviceNameHelper.getDeviceName=function(e,t,n){if(n===void 0){n=r.Z.i18n.t}var o="";if(this._isDeviceAll(e)){o=this._getDeviceAll(n)}else if(this._isDeviceOff(e)){o=this._getDeviceOff(n)}else if(this._isNoDevice(e)){o=this._getNoDeviceName(n)}else if(e.label){o=e.label}else if(this._isDefaultDevice(e)){o=this._getDefaultDeviceName(n)}else{o=this._getOrderedDeviceName(e,t,n)}return o};DeviceNameHelper._isDefaultDevice=function(e){return e.deviceId==="default"||/default/gi.test(e.label)};DeviceNameHelper._isNoDevice=function(e){return e.deviceId===""};DeviceNameHelper._isDeviceAll=function(e){return e.deviceId==="all"};DeviceNameHelper._isDeviceOff=function(e){return e.deviceId==="off"};DeviceNameHelper._getDefaultDeviceName=function(e){return e("useDefault")};DeviceNameHelper._getNoDeviceName=function(e){return e("noDevices")};DeviceNameHelper._getDeviceAll=function(e){return e("allDevices")};DeviceNameHelper._getDeviceOff=function(e){return e("off")};DeviceNameHelper._getOrderedDeviceName=function(e,t,n){var r=this;var i="";var a=t.filter((function(e){return!r._isDefaultDevice(e)})).findIndex((function(t){return t.deviceId===e.deviceId}));var u=a+1;var s={audioinput:n("microphone"),audiooutput:n("speaker")};i=s[e.kind]||o;i=i+" #"+u;return i};return DeviceNameHelper}()},585967:(e,t,n)=>{"use strict";n.d(t,{M:()=>s,y:()=>c});var r=n(305406);var o=n.n(r);var i=n(873543);var a=n(489694);var u=n(471490);var s=o().createElement(u.B,{iconColor:["neutral","f04"],iconSize:"medium",symbol:i.Z});var c=o().createElement(u.B,{iconColor:["neutral","f04"],iconSize:"medium",symbol:a.Z})},137652:(e,t,n)=>{"use strict";n.d(t,{V:()=>r,$:()=>o});var r="KEYBOARD_SHORTCUTS";var o="/shortcuts"},791265:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ne});var r=n(862940);var o=n.n(r);var i=n(70524);var a=(0,i.K9)((function(){return Promise.all([n.e(8632),n.e(7858),n.e(6278),n.e(7593),n.e(6916),n.e(2919)]).then(n.bind(n,641241))}),{preload:true});var u=n(586905);var s=n(374686);var c=n(429266);var l=n(288734);var f=n(168825);var d=n(325719);var p=n(219143);var h=n(983400);var v=n(536294);var g=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var _=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var y=function(){function DefaultSettingContactsCalendars(){var e=this;this._settingsManager=h.r;this._reactionDisposers=[];this.init=function(){var t=(0,d.autorun)((function(){return e._registerSetting()}));e._reactionDisposers.push(t)};this.dispose=function(){e._unregisterSetting();e._reactionDisposers.forEach((function(e){return e()}))}}DefaultSettingContactsCalendars.prototype._registerSetting=function(){var e=this._canCustomContactSetting;var t=this._canCustomCalendarSetting;if(!e&&!t){this._unregisterSetting();return}var n=e&&t?"contactsAndCalendars":e?"contacts":"calendars";this._settingsManager.registerPage(v.R.SCOPE,{sections:[],dataTracking:{name:v.L.PAGE},id:v.R.PAGE,automationId:"contactsAndCalendars",icon:l.Z,title:p.Z.i18n.t("contactsCalendars.title."+n),path:"/contacts_and_calendars",weight:500})};DefaultSettingContactsCalendars.prototype._unregisterSetting=function(){this._settingsManager.unRegisterAll(v.R.SCOPE)};Object.defineProperty(DefaultSettingContactsCalendars.prototype,"_canCustomContactSetting",{get:function(){var e,t;return(t=(e=f.ZP.get(f.MG.ENTITLEMENT))===null||e===void 0?void 0:e.CONTACT)===null||t===void 0?void 0:t.canUseCloud},enumerable:true,configurable:true});Object.defineProperty(DefaultSettingContactsCalendars.prototype,"_canCustomCalendarSetting",{get:function(){var e,t;return(t=(e=f.ZP.get(f.MG.ENTITLEMENT))===null||e===void 0?void 0:e.CALENDAR)===null||t===void 0?void 0:t.canUseCalendar},enumerable:true,configurable:true});g([d.computed,_("design:type",Object),_("design:paramtypes",[])],DefaultSettingContactsCalendars.prototype,"_canCustomContactSetting",null);g([d.computed,_("design:type",Object),_("design:paramtypes",[])],DefaultSettingContactsCalendars.prototype,"_canCustomCalendarSetting",null);return DefaultSettingContactsCalendars}();var b="GENERAL";var C="GENERAL.GENERAL";var m=n(897928);var S=function(){function DefaultSettingGeneral(){this._scope=Symbol("GeneralSettingManager");this._settingsManager=h.r}DefaultSettingGeneral.prototype.init=function(){this._settingsManager.registerPage(this._scope,{id:b,automationId:"general",icon:m.Z,title:p.Z.i18n.t("general"),path:"/general",weight:0,sections:[{id:C,automationId:"general",title:p.Z.i18n.t("general"),weight:0,items:[]}]})};DefaultSettingGeneral.prototype.dispose=function(){this._settingsManager.unRegisterAll(this._scope)};return DefaultSettingGeneral}();var E=n(137726);var I=n(615477);var w=n(968006);var R=n(441351);var P=n(862926);var A=n(667489);var T=n(664258);var O=[{deviceId:"",label:"no devices",groupId:"",kind:"audioinput",toJSON:function(){}}];var N=[{deviceId:"",label:"no devices",groupId:"",kind:"audiooutput",toJSON:function(){}}];var x=n(989635);var MediaDeviceSourceItem=function(e){var t=e.value,n=e.source;return x.w.getDeviceName(t,n,p.Z.i18n.t)};var D=n(585967);var M=n(314805);var k=n(695009);var L=undefined&&undefined.__assign||function(){L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return L.apply(this,arguments)};var F=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var U=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var B=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var G=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var j="[Settings][Audio]";var deviceIdExtractor=function(e){return e?e.deviceId:""};var H=function(){function DefaultSettingNotificationSound(){this._scope=Symbol("NotificationSoundSettingManager");this._settingsManager=h.r;this._disposers=[]}Object.defineProperty(DefaultSettingNotificationSound.prototype,"_webAdapterModule",{get:function(){return(0,A.getModule)(I.oF)},enumerable:true,configurable:true});DefaultSettingNotificationSound.prototype.init=function(){this._disposers=[this._useSetting()]};DefaultSettingNotificationSound.prototype.dispose=function(){this._disposers.forEach((function(e){return e()}))};DefaultSettingNotificationSound.prototype._useSetting=function(){var e=this;var t=(0,d.autorun)((function(){e._registerSetting()}));return function(){t();e._unregisterSetting()}};Object.defineProperty(DefaultSettingNotificationSound.prototype,"_callSource",{get:function(){var e=(0,i.e7)();var t=(0,i.Wg)();var n=undefined;if(e&&t){n="voiceAndVideo"}else if(e){n="video"}else if(t){n="voice"}return n},enumerable:true,configurable:true});DefaultSettingNotificationSound.prototype._registerSetting=function(){var e=this;var t=p.Z.i18n.t;var onPermissionDenied=function(){return B(e,void 0,void 0,(function(){return G(this,(function(e){E.yg.flagWarningToast(t("audioSource.microphonePermissionBlocked",{appName:R.TQ.get("appName")}));w.s6.track("Jup_Web/DT_settings_microphone_blocked",{endPoint:"web"});return[2]}))}))};var n={valueExtractor:deviceIdExtractor,sourceRenderer:MediaDeviceSourceItem,type:T.XX.SELECT,onBeforeOpen:function(){return B(e,void 0,void 0,(function(){var e,t,n,r;return G(this,(function(o){switch(o.label){case 0:e=window.navigator["permissions"];if(!e){P.mainLogger.info(j+"Not permissions module");return[2,true]}return[4,e.query({name:"microphone"})];case 1:t=o.sent();if(!(t.state==="prompt"))return[3,6];o.label=2;case 2:o.trys.push([2,4,,5]);return[4,this._webAdapterModule.getUserMedia({audio:true})];case 3:o.sent();return[2,true];case 4:n=o.sent();P.mainLogger.info(j+"Audio permission is denied: "+n.name+"["+n.message+"]");r=n.name!=="NotAllowedError";if(!r){onPermissionDenied()}return[2,r];case 5:return[3,7];case 6:if(t.state==="denied"){P.mainLogger.info(j+"Audio permission is denied");onPermissionDenied();return[2,false]}o.label=7;case 7:return[2,true]}}))}))}};this._settingsManager.registerPage(this._scope,{id:M.Xb,automationId:"notificationAndSounds",icon:k.Z,title:t("notificationAndSounds.title"),path:"/notification_and_sounds",weight:100,sections:[{id:M.jV,automationId:"sounds",title:t("sounds.title"),weight:200,items:[]},{id:M.ac,automationId:"audioSource",title:t("audioSource.title"),weight:300,items:[L(L({},n),{id:M.Ho,automationId:"microphoneSource",title:t("audioSource.microphoneSource.label"),get description(){return t("audioSource.microphoneSource.description",{appName:R.TQ.get("appName")})},defaultSource:O,weight:0,dataTracking:{type:"audioSourcesSettings",name:"microphoneSource",optionTransform:function(e){var t=e.label;return t}}}),L(L({},n),{id:M.SS,automationId:"speakerSource",title:t("audioSource.speakerSource.label"),get description(){return t("audioSource.speakerSource.description",{appName:R.TQ.get("appName")})},defaultSource:N,weight:100,dataTracking:{type:"audioSourcesSettings",name:"speakerSource",optionTransform:function(e){var t=e.label;return t}}}),{id:M.nw,automationId:"volume",title:t("audioSource.volume.label"),description:t("audioSource.volume.description"),descriptionForAria:t("audioSource.volume.descriptionForAria"),type:T.XX.SLIDER,Left:D.M,Right:D.y,valueLabelFormat:function(e){return Math.round(e*100)+"%"},min:0,max:1,step:.01,weight:300}]}]});this._registerRingerSourceItem(n)};DefaultSettingNotificationSound.prototype._registerRingerSourceItem=function(e){var t=this._callSource;var n=p.Z.i18n.t;if(t){this._settingsManager.registerItem(this._scope,M.ac,L(L({},e),{id:M.D8,automationId:"ringerSource",title:n("audioSource.ringerSource.label"),get description(){return n("audioSource.ringerSource.description",{appName:R.TQ.get("appName"),callSource:n("audioSource.ringerSource.callSource."+t)})},defaultSource:N,weight:200,dataTracking:{type:"audioSourcesSettings",name:"ringerSource",optionTransform:function(e){var t=e.label;return t}}}))}};DefaultSettingNotificationSound.prototype._unregisterSetting=function(){this._settingsManager.unRegisterAll(this._scope)};F([d.computed,U("design:type",Object),U("design:paramtypes",[])],DefaultSettingNotificationSound.prototype,"_callSource",null);return DefaultSettingNotificationSound}();var V=n(137652);var W=n(324394);var z=function(){function DefaultSettingShortcuts(){this._scope=Symbol("ShortcutsSettingManager");this._settingsManager=h.r}DefaultSettingShortcuts.prototype.init=function(){var e=this;this._disposer=(0,d.autorun)((function(){e._settingsManager.registerPage(e._scope,{id:V.V,automationId:"shortcuts",icon:W.Z,title:p.Z.i18n.t("shortcuts.title"),path:V.$,weight:600,sections:[],dataTracking:{name:"keyboardShortcuts"}})}))};DefaultSettingShortcuts.prototype.dispose=function(){var e;(e=this._disposer)===null||e===void 0?void 0:e.call(this);this._settingsManager.unRegisterAll(this._scope)};return DefaultSettingShortcuts}();var Y=n(305406);var q=n.n(Y);var K=n(223412);var Q=n(720795);var Z=n(492942);var X=n(316210);var J=n(258419);var $=n(388526);var ee=n(299758);var te=n(904048);var ne=n(302186);var re=n(629708);var oe=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var ie=undefined&&undefined.__assign||function(){ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return ie.apply(this,arguments)};var ae=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var ue=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var se=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ce=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var le={eventName:"Jup_Web_settings_updateSetting",name:"browser",type:"desktopNotificationSettings",endPoint:"web"};var fe="NotificationBrowserSettingItem";var de=function(e){oe(NotificationBrowserSettingItemViewModel,e);function NotificationBrowserSettingItemViewModel(){var t=e!==null&&e.apply(this,arguments)||this;t.waitForPermission=false;t._onNotificationDenied=function(){E.yg.flagWarningToast(p.Z.i18n.t("notification.notificationPermissionBlocked",{appName:R.TQ.get("appName")}));w.s6.track("Jup_Web/DT_settings_notification_blocked",{endPoint:"web"})};t._showEnabledNotification=function(){var e=p.Z.i18n.t("notification.notificationEnabled");te.ZP.show(e,{data:{id:(new Date).toISOString(),scope:fe,priority:te.V6.INFORMATION},silent:false,renotify:true},true)};t._requestPermission=function(){return se(t,void 0,void 0,(function(){var e;return ce(this,(function(t){switch(t.label){case 0:this.waitForPermission=true;return[4,te.ZP.requestPermission()];case 1:e=t.sent();return[2,e]}}))}))};t.setToggleState=function(e){return se(t,void 0,void 0,(function(){var t;return ce(this,(function(n){switch(n.label){case 0:t=this.settingItemEntity.valueSetter;return[4,t&&t({desktopNotifications:e})];case 1:n.sent();(0,$.Rt)(ie(ie({},le),{optionTransform:function(){return(0,$.yP)(e)}}),e);return[2]}}))}))};t.handleToggleChange=function(e,n){return se(t,void 0,void 0,(function(){var e,t,r,o;return ce(this,(function(i){switch(i.label){case 0:e=te.ZP.currentPermission;if(!n)return[3,14];t=e;switch(t){case ne.PERMISSION.DEFAULT:return[3,1];case ne.PERMISSION.GRANTED:return[3,9];case ne.PERMISSION.DENIED:return[3,11]}return[3,12];case 1:return[4,this._requestPermission()];case 2:r=i.sent();i.label=3;case 3:i.trys.push([3,6,7,8]);if(r===ne.PERMISSION.DENIED){this._onNotificationDenied()}if(!(r===ne.PERMISSION.GRANTED))return[3,5];return[4,this.setToggleState(n)];case 4:i.sent();this._showEnabledNotification();i.label=5;case 5:return[3,8];case 6:o=i.sent();throw o;case 7:this.waitForPermission=false;return[7];case 8:return[3,13];case 9:return[4,this.setToggleState(n)];case 10:i.sent();this._showEnabledNotification();return[3,13];case 11:this._onNotificationDenied();return[3,13];case 12:return[3,13];case 13:return[3,16];case 14:return[4,this.setToggleState(n)];case 15:i.sent();i.label=16;case 16:return[2]}}))}))};return t}Object.defineProperty(NotificationBrowserSettingItemViewModel.prototype,"settingItemEntity",{get:function(){return h.r.getSettingByID(ee.UL.NOTIFICATION_BROWSER)},enumerable:true,configurable:true});ae([d.observable,ue("design:type",Boolean)],NotificationBrowserSettingItemViewModel.prototype,"waitForPermission",void 0);ae([d.computed,ue("design:type",Object),ue("design:paramtypes",[])],NotificationBrowserSettingItemViewModel.prototype,"settingItemEntity",null);ae([re.KQ.flash({get network(){return p.Z.i18n.t("errorText.network")},get server(){return p.Z.i18n.t("errorText.server")}}),ue("design:type",Object)],NotificationBrowserSettingItemViewModel.prototype,"handleToggleChange",void 0);return NotificationBrowserSettingItemViewModel}(J.Z);var pe=(0,Q.observer)((function(e){var t;var n=(0,K.o)(de,e),r=n.waitForPermission,o=n.handleToggleChange,i=n.settingItemEntity;var a=(t=i===null||i===void 0?void 0:i.value)===null||t===void 0?void 0:t.desktopNotifications;var u=p.Z.i18n.t("notificationAndSounds.desktopNotifications.notificationsForBrowser.label");var s=p.Z.i18n.t("notificationAndSounds.desktopNotifications.notificationsForBrowser.description",{appName:R.TQ.get("appName")});var c=r||a||false;var l=a===undefined;var f={"aria-label":u+", "+(c?p.Z.i18n.t("common.button.ariaToggleOn"):p.Z.i18n.t("common.button.ariaToggleOff"))+", "+s};return q().createElement(Z.t8,{id:"notificationBrowserSetting",automationId:"notificationBrowser",label:u,description:s},!l&&q().createElement(X.G,{"data-test-automation-id":"settingItemToggleButton-notificationBrowser",checked:c,onChange:o,inputProps:f}))}));var BounceAppIconSelectSourceItem=function(e){var t=e.value;return p.Z.i18n.t("notificationAndSounds.desktopNotifications.bounceAppIcon.options."+t)};var he=n(594173);var ve=n(472155);var ge=n(796036);var _e=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var ye=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var be=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var Ce=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(be(arguments[t]));return e};var me=function(){function DefaultSettingNotificationSettingManager(){var e=this;this._settingsManager=h.r;this.init=function(){return _e(e,void 0,void 0,(function(){var e,t,n,r;return ye(this,(function(o){switch(o.label){case 0:e=[];if(!he.d){e.push({id:c.UL.NOTIFICATION_BROWSER,automationId:"notificationBrowser",type:pe,weight:100})}n=(t=e.push).apply;r=[e];return[4,this._getFlashBounceSettingItems()];case 1:n.apply(t,r.concat([Ce.apply(void 0,[o.sent()])]));e.push({id:c.UL.NOTIFICATION_ON_FOCUS,automationId:"notificationOnFocus",get title(){return p.Z.i18n.t("notificationAndSounds.desktopNotifications.notificationOnFocus.label")},get description(){return p.Z.i18n.t("notificationAndSounds.desktopNotifications.notificationOnFocus.description")},type:T.XX.TOGGLE,weight:600,dataTracking:{name:"onFocusNotification",type:"desktopNotificationSettings"}});this._settingsManager.registerSection(c.T_,c.Xb,{id:c.hj.DESKTOP_NOTIFICATIONS,automationId:"desktopNotifications",get title(){return p.Z.i18n.t("notificationAndSounds.desktopNotifications.title")},weight:100,items:e});this._settingsManager.registerSection(c.T_,c.Xb,{id:c.hj.EMAIL_NOTIFICATIONS,automationId:"emailNotifications",get title(){return p.Z.i18n.t("notificationAndSounds.emailNotifications.title")},weight:200,items:[]});return[2]}}))}))}}DefaultSettingNotificationSettingManager.prototype.dispose=function(){this._settingsManager.unRegisterAll(c.T_)};DefaultSettingNotificationSettingManager.prototype._getFlashBounceSettingItems=function(){return _e(this,void 0,Promise,(function(){var e,t,n;return ye(this,(function(r){switch(r.label){case 0:return[4,ge.M$.isSupportAttractFocus()];case 1:if(!r.sent().res)return[2,[]];e={id:c.UL.FLASH_APP_ICON,automationId:"flashAppIcon",get title(){return p.Z.i18n.t("notificationAndSounds.desktopNotifications.flashAppIcon.label")},get description(){return p.Z.i18n.t("notificationAndSounds.desktopNotifications.flashAppIcon.description")},weight:500,type:T.XX.TOGGLE,dataTracking:{name:"flashAppIcon",type:"desktopNotificationSettings"}};t={id:c.UL.BOUNCE_APP_ICON,automationId:"bounceAppIcon",get title(){return p.Z.i18n.t("notificationAndSounds.desktopNotifications.bounceAppIcon.label")},get description(){return p.Z.i18n.t("notificationAndSounds.desktopNotifications.bounceAppIcon.description")},weight:500,type:T.XX.SELECT,sourceRenderer:BounceAppIconSelectSourceItem,dataTracking:{name:"bounceAppIcon",type:"desktopNotificationSettings"}};n=[];he.d&&ve.Kr&&n.push(e);he.d&&ve.V5&&n.push(t);return[2,n]}}))}))};return DefaultSettingNotificationSettingManager}();var Se=n(220120);var Ee=n(71274);var Ie=n(618190);var we=n(901137);var Re=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Pe=function(e){Re(SettingsShortcutManager,e);function SettingsShortcutManager(){var t=e!==null&&e.apply(this,arguments)||this;t.settingsManager=h.r;t.settingStore=we.$v;t.init=function(){if(ve.V5){return}t.shortcutConfigMap={OPEN_SETTINGS:{sequence:"command+,",handler:function(){if(t.currentPath.includes(c.FA)){return}Ee.m8.push(c.FA)},dataTracking:"openSettings",limits:["noModalDialog"],group:Ie.XG,weight:160,title:"openSettings"},OPEN_SHORTCUTS:{sequence:"command+.",handler:function(){var e;var n=""+c.FA+V.$;if(t.currentPath===n){return}var r=((e=t.settingStore.getPageByPath(V.$))===null||e===void 0?void 0:e.id)||"";if(r){t.settingsManager.goToSettingPage(r)}},dataTracking:"openShortcuts",limits:["noModalDialog"],group:Ie.XG,weight:170,title:"openShortcuts"}};t.currentPath=window.location.pathname;t.historyUnlisten=Ee.m8.listen((function(e){var n=e.pathname;t.currentPath=n}));t.addShortcuts(t.shortcutConfigMap)};t.dispose=function(){e.prototype.dispose.call(t);if(ve.V5){return}t.historyUnlisten()};return t}return SettingsShortcutManager}(Se.Z);var Ae=[];var initModuleEffect=function(){Ae.push(new y);Ae.push(new S);Ae.push(new H);Ae.push(new z);Ae.push(new me);Ae.push(new Pe);Ae.forEach((function(e){return e.init()}))};var showSettings=function(){var e=window.location.pathname;var t=(0,u.lu)(s.fi.SETTINGS);if(e.indexOf(t)!==0){u.m8.push(t)}};var addEventListener=function(){ge.M$.ipcOn({event:c.mu,listener:showSettings});ge.M$.ipcHandle({event:c.mu,listener:showSettings})};var disposeModuleEffect=function(){Ae.forEach((function(e){return e.dispose()}))};function effect(){initModuleEffect();addEventListener();return function(){disposeModuleEffect()}}function pageTitle(e){return h.r.pageTitle(e)}var Te={component:a,pageTitle};var Oe={route:Te,localization:o(),effect};const Ne=Oe},956454:()=>{},145340:()=>{},664258:(e,t,n)=>{"use strict";n.d(t,{XX:()=>r.SETTING_ITEM_TYPE,d4:()=>r.SettingItem});var r=n(881009);var o=n.n(r);var i=n(145340);var a=n.n(i);if(n.o(i,"SettingPage"))n.d(t,{SettingPage:function(){return i.SettingPage}});if(n.o(i,"SettingSection"))n.d(t,{SettingSection:function(){return i.SettingSection}});var u=n(956454);var s=n.n(u);if(n.o(u,"SettingPage"))n.d(t,{SettingPage:function(){return u.SettingPage}});if(n.o(u,"SettingSection"))n.d(t,{SettingSection:function(){return u.SettingSection}})},846340:(e,t,n)=>{"use strict";n.d(t,{W:()=>getSettingItemEntity,J:()=>isItemVisible});var r=n(531616);var o=n(758285);function getSettingItemEntity(e){var t=o.g.get(o.G.USER_SETTING);return t.get(e)}function isItemVisible(e){var t=getSettingItemEntity(e);return t.state!==undefined&&t.state!==r.Ye.INVISIBLE}},901137:(e,t,n)=>{"use strict";n.d(t,{$v:()=>I});var r=n(513777);var o=n(325719);var i=n(664258);var a=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var u=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var s=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var c=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};var l=function(){function RelationMap(){this._relations=new Map}RelationMap.prototype._useChildrenSet=function(e){var t=this._relations.get(e);if(!t){t=new o.ObservableSet;this._relations.set(e,t)}return t};RelationMap.prototype.get=function(e){return c(this._useChildrenSet(e))};RelationMap.prototype.add=function(e,t){this._useChildrenSet(e).add(t)};RelationMap.prototype.remove=function(e,t){this._useChildrenSet(e).delete(t)};RelationMap.prototype.clear=function(){this._relations.forEach((function(e){return e.clear()}));this._relations.clear()};a([o.action,u("design:type",Function),u("design:paramtypes",[Object,Object]),u("design:returntype",void 0)],RelationMap.prototype,"add",null);a([o.action,u("design:type",Function),u("design:paramtypes",[Object,Object]),u("design:returntype",void 0)],RelationMap.prototype,"remove",null);a([o.action,u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",void 0)],RelationMap.prototype,"clear",null);return RelationMap}();var f=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var d=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var p=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var h=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e};var v=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var g=function(){function SettingStoreScope(){this._pages=new Map;this._sections=new Map;this._items=new Map;this._pageSections=new l;this._sectionItems=new l}Object.defineProperty(SettingStoreScope.prototype,"pages",{get:function(){return h(this._pages.values())},enumerable:true,configurable:true});Object.defineProperty(SettingStoreScope.prototype,"sections",{get:function(){return h(this._sections.values())},enumerable:true,configurable:true});Object.defineProperty(SettingStoreScope.prototype,"items",{get:function(){return h(this._items.values())},enumerable:true,configurable:true});SettingStoreScope.prototype.getPageById=function(e){return this._pages.get(e)};SettingStoreScope.prototype.getPageByPath=function(e){var t,n;try{for(var r=v(this._pages),o=r.next();!o.done;o=r.next()){var i=p(o.value,2),a=i[1];if(a.path===e)return a}}catch(e){t={error:e}}finally{try{if(o&&!o.done&&(n=r.return))n.call(r)}finally{if(t)throw t.error}}return undefined};SettingStoreScope.prototype.getPageSections=function(e){return this._pageSections.get(e)};SettingStoreScope.prototype.getPageItems=function(e){var t=this;return this.getPageSections(e).reduce((function(e,n){return e.concat(t.getSectionItems(n))}),[])};SettingStoreScope.prototype.getSectionById=function(e){return this._sections.get(e)};SettingStoreScope.prototype.getSectionItems=function(e){return this._sectionItems.get(e)};SettingStoreScope.prototype.getItemById=function(e){return this._items.get(e)};SettingStoreScope.prototype.addPage=function(e){this._pages.set(e.id,e)};SettingStoreScope.prototype.addSection=function(e,t){this._sections.set(t.id,t);this._pageSections.add(e,t.id)};SettingStoreScope.prototype.removeSection=function(e,t){var n=this;var r=this.getSectionItems(t)||[];r.forEach((function(e){return n.removeItem(t,e)}));this._sections.delete(t);this._pageSections.remove(e,t)};SettingStoreScope.prototype.addItem=function(e,t){this._items.set(t.id,t);this._sectionItems.add(e,t.id)};SettingStoreScope.prototype.removeItem=function(e,t){this._items.delete(t);this._sectionItems.remove(e,t)};SettingStoreScope.prototype.clear=function(){this._pages.clear();this._sections.clear();this._items.clear();this._pageSections.clear();this._sectionItems.clear()};var e,t,n,r,a,u,s,c;f([o.observable,d("design:type",typeof(e=typeof PageMap!=="undefined"&&PageMap)==="function"?e:Object)],SettingStoreScope.prototype,"_pages",void 0);f([o.observable,d("design:type",typeof(t=typeof SectionMap!=="undefined"&&SectionMap)==="function"?t:Object)],SettingStoreScope.prototype,"_sections",void 0);f([o.observable,d("design:type",typeof(n=typeof ItemMap!=="undefined"&&ItemMap)==="function"?n:Object)],SettingStoreScope.prototype,"_items",void 0);f([o.observable,d("design:type",typeof(r=typeof PageSection!=="undefined"&&PageSection)==="function"?r:Object)],SettingStoreScope.prototype,"_pageSections",void 0);f([o.observable,d("design:type",typeof(a=typeof SectionItem!=="undefined"&&SectionItem)==="function"?a:Object)],SettingStoreScope.prototype,"_sectionItems",void 0);f([o.computed,d("design:type",Object),d("design:paramtypes",[])],SettingStoreScope.prototype,"pages",null);f([o.computed,d("design:type",Object),d("design:paramtypes",[])],SettingStoreScope.prototype,"sections",null);f([o.computed,d("design:type",Object),d("design:paramtypes",[])],SettingStoreScope.prototype,"items",null);f([o.action,d("design:type",Function),d("design:paramtypes",[typeof(u=typeof i.SettingPage!=="undefined"&&i.SettingPage)==="function"?u:Object]),d("design:returntype",void 0)],SettingStoreScope.prototype,"addPage",null);f([o.action,d("design:type",Function),d("design:paramtypes",[Object,typeof(s=typeof i.SettingSection!=="undefined"&&i.SettingSection)==="function"?s:Object]),d("design:returntype",void 0)],SettingStoreScope.prototype,"addSection",null);f([o.action,d("design:type",Function),d("design:paramtypes",[Object,Object]),d("design:returntype",void 0)],SettingStoreScope.prototype,"removeSection",null);f([o.action,d("design:type",Function),d("design:paramtypes",[Object,typeof(c=typeof i.d4!=="undefined"&&i.d4)==="function"?c:Object]),d("design:returntype",void 0)],SettingStoreScope.prototype,"addItem",null);f([o.action,d("design:type",Function),d("design:paramtypes",[Object,String]),d("design:returntype",void 0)],SettingStoreScope.prototype,"removeItem",null);f([o.action,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],SettingStoreScope.prototype,"clear",null);return SettingStoreScope}();var _=n(846340);var y=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var b=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var C=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var m=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(C(arguments[t]));return e};var S=undefined&&undefined.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var E=function(){function SettingStore(){var e=this;this._storeScopeAtom=(0,o.createAtom)("_storeScopes");this._storeScopes_=new Map;this._currentPageId="";this._comparePageWeight=function(t,n){return e.getPageById(t).weight-e.getPageById(n).weight};this._compareSectionWeight=function(t,n){return e.getSectionById(t).weight-e.getSectionById(n).weight};this._compareItemWeight=function(t,n){return e.getItemById(t).weight-e.getItemById(n).weight}}Object.defineProperty(SettingStore.prototype,"_storeScopes",{get:function(){this._storeScopeAtom.reportObserved();return this._storeScopes_},enumerable:true,configurable:true});Object.defineProperty(SettingStore.prototype,"currentPage",{get:function(){return this.getPageById(this._currentPageId)},enumerable:true,configurable:true});SettingStore.prototype.getNoEmptyPages=function(){var e=this;return this.getAllPages().filter((function(t){return e.getNoEmptyPageSections(t,false).length>0}))};SettingStore.prototype.getAllPages=function(){var e=[];this._storeScopes.forEach((function(t){e.push.apply(e,m(t.pages.map((function(e){return e.id}))))}));return(0,r.uniq)(e).sort(this._comparePageWeight)};SettingStore.prototype.getPageById=function(e){return this._find((function(t){return t.getPageById(e)}))};SettingStore.prototype.getPageByPath=function(e){return this._find((function(t){return t.getPageByPath(e)}))};SettingStore.prototype.getPageSections=function(e){return this._getAll((function(t){return t.getPageSections(e)})).sort(this._compareSectionWeight)};SettingStore.prototype.getNoEmptyPageSections=function(e,t){var n=this;if(t===void 0){t=true}return this.getPageSections(e).filter((function(e){var r=n.getSectionItems(e);if(t){return r.length>0&&r.some((function(e){return(0,_.J)(e)}))}return r.length>0}))};SettingStore.prototype.getSectionById=function(e){return this._find((function(t){return t.getSectionById(e)}))};SettingStore.prototype.getSectionItems=function(e){return this._getAll((function(t){return t.getSectionItems(e)})).sort(this._compareItemWeight)};SettingStore.prototype.getSectionVisibleItems=function(e){return this.getSectionItems(e).filter(_.J)};SettingStore.prototype.getPageItems=function(e){var t=this;return this.getPageSections(e).reduce((function(e,n){return e.concat(t.getSectionItems(n))}),[])};SettingStore.prototype.getItemById=function(e){return this._find((function(t){return t.getItemById(e)}))};SettingStore.prototype.useScope=function(e){var t=this._storeScopes.get(e);if(!t){t=new g;this._storeScopes.set(e,t);this._storeScopeAtom.reportChanged()}return t};SettingStore.prototype.setCurrentPageId=function(e){this._currentPageId=e};SettingStore.prototype._getAll=function(e){var t=[];this._storeScopes.forEach((function(n){t.push.apply(t,m(e(n)))}));return(0,r.uniq)(t)};SettingStore.prototype._find=function(e){var t,n;var r;try{for(var o=S(this._storeScopes),i=o.next();!i.done;i=o.next()){var a=C(i.value,2),u=a[1];r=e(u);if(r){break}}}catch(e){t={error:e}}finally{try{if(i&&!i.done&&(n=o.return))n.call(o)}finally{if(t)throw t.error}}return r};y([o.observable,b("design:type",Object)],SettingStore.prototype,"_currentPageId",void 0);y([o.computed,b("design:type",Object),b("design:paramtypes",[])],SettingStore.prototype,"currentPage",null);y([o.action,b("design:type",Function),b("design:paramtypes",[Object]),b("design:returntype",void 0)],SettingStore.prototype,"setCurrentPageId",null);return SettingStore}();var I=new E},347086:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var r=n(325719);var o=n.n(r);var i=function(){function Controller(){this._reactionDisposers=[]}Controller.prototype._reaction=function(e,t,n){var o=(0,r.reaction)(e,t,n);this._reactionDisposers.push(o);return o};Controller.prototype.dispose=function(){this._reactionDisposers.forEach((function(e){return e()}));this._reactionDisposers.length=0};return Controller}()},104849:(e,t,n)=>{"use strict";n.d(t,{q:()=>patchConfig});var getPatch=function(){return{palette:{type:"light"}}};var dark_getPatch=function(e){return{palette:{type:"dark"},overrides:{MuiPaper:{root:{backgroundColor:e.palette.neutral.elevation,color:e.palette.neutral.f06}}}}};var r=undefined&&undefined.__assign||function(){r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return r.apply(this,arguments)};var highContrast_getPatch=function(e){var t={};for(var n=1;n<=24;++n)t["elevation"+n]={"box-shadow":"0 0 0 1px "+e.palette.highContrast};return{palette:{type:"dark"},overrides:{MuiPaper:r({root:{backgroundColor:e.palette.neutral.elevation,color:e.palette.neutral.f06}},t)}}};var o=n(255368);var i=n(298784);var a=n.n(i);var u;var s=(u={},u[o.w2.LIGHT]=getPatch,u[o.w2.DARK]=dark_getPatch,u[o.w2.HIGH_CONTRAST]=highContrast_getPatch,u);function patchConfig(e){var t;if(e.themeName){var n=(t=s[e.themeCategory])!==null&&t!==void 0?t:s[o.w2.LIGHT];var r=n(e);a().merge(e,r)}}},534116:(e,t,n)=>{"use strict";n.d(t,{C:()=>U});var r=n(347086);var o=n(325719);var i=n(542364);var a=n(417799);var u=n(255368);var s=n(796036);var c=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var l=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var f=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var d=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var p=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var h=i.k.tags("[ElectronThemeController]");var v=function(e){c(ElectronThemeController,e);function ElectronThemeController(t){var n=e.call(this)||this;n.isUpdating=true;n._updateShouldUseDarkColors=function(){return d(n,void 0,void 0,(function(){var e;return p(this,(function(t){switch(t.label){case 0:s.M$.ipcHandle({event:u.cN.THEME_CHANGE,listener:this.handleThemeChange});this.isUpdating=true;return[4,s.M$.ipcInvoke({event:u.cN.SYNC_OS_THEME,body:true})];case 1:e=t.sent().res;h.info("start handle theme change",e);this.handleThemeChange(e);this.isUpdating=false;return[2]}}))}))};n._handleSyncOSThSettingChange=function(e){var t,r;h.info("followSystem setting change to",e);h.info("_themeCategorySetting is mocked",(t=n._themeCategorySetting)===null||t===void 0?void 0:t.isMocked);if((r=n._themeCategorySetting)===null||r===void 0?void 0:r.isMocked)return;if(e){n._updateShouldUseDarkColors();return}h.info("stop handle theme change and notify electron side to change followOsTheme");s.M$.ipcOffHandle(u.cN.THEME_CHANGE);s.M$.ipcInvoke({event:u.cN.SYNC_OS_THEME,body:false})};n.handleThemeChange=function(e){h.info("os shouldUseDarkColors change to",e);n.shouldUseDarkColors=e};n.dispose=function(){e.prototype.dispose.call(n);n._handleSyncOSThSettingChange(false)};n._themeCategorySetting=t;if(!t){return n}n._updateShouldUseDarkColors();n._reaction((function(){var e;return((e=n._themeCategorySetting)===null||e===void 0?void 0:e.value)===u.gi.FOLLOW_SYSTEM}),n._handleSyncOSThSettingChange,{fireImmediately:true});return n}var t;l([o.observable,f("design:type",typeof(t=typeof a.Lt!=="undefined"&&a.Lt)==="function"?t:Object)],ElectronThemeController.prototype,"_themeCategorySetting",void 0);l([o.observable,f("design:type",Object)],ElectronThemeController.prototype,"shouldUseDarkColors",void 0);l([o.observable,f("design:type",Boolean)],ElectronThemeController.prototype,"isUpdating",void 0);l([o.action,f("design:type",Object)],ElectronThemeController.prototype,"_handleSyncOSThSettingChange",void 0);l([o.action,f("design:type",Object)],ElectronThemeController.prototype,"handleThemeChange",void 0);return ElectronThemeController}(r.Q);var g=n(182843);var _=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var y=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var b=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var C=i.k.tags("[WebThemeController]");var m=function(e){_(WebThemeController,e);function WebThemeController(t){var n=e.call(this)||this;n.isUpdating=true;n._updateShouldUseDarkColors=function(){n.isUpdating=true;n._mediaQuery=window.matchMedia(u.E1);C.info("start listener theme change",n._mediaQuery.matches);n.shouldUseDarkColors=n._mediaQuery.matches;n.isUpdating=false};n._handleSyncOSThSettingChange=function(e){var t,r;C.info("followSystem setting change to",e);C.info("_themeCategorySetting is mocked",(t=n._themeCategorySetting)===null||t===void 0?void 0:t.isMocked);if((r=n._themeCategorySetting)===null||r===void 0?void 0:r.isMocked)return;if(e){n._updateShouldUseDarkColors();n._removeMediaListenerFunction=(0,g.h1)(n._mediaQuery,n.handleThemeChange);return}C.info("stop listener theme change");n._removeMediaListenerFunction&&n._removeMediaListenerFunction()};n.handleThemeChange=function(e){C.info("os shouldUseDarkColors change to",e.matches);n.shouldUseDarkColors=e.matches};n.dispose=function(){e.prototype.dispose.call(n);n._handleSyncOSThSettingChange(false)};n._themeCategorySetting=t;n._updateShouldUseDarkColors();if(!t){n._handleSyncOSThSettingChange(true);return n}n._reaction((function(){var e;return((e=n._themeCategorySetting)===null||e===void 0?void 0:e.value)===u.gi.FOLLOW_SYSTEM}),n._handleSyncOSThSettingChange,{fireImmediately:true});return n}var t;y([o.observable,b("design:type",typeof(t=typeof a.Lt!=="undefined"&&a.Lt)==="function"?t:Object)],WebThemeController.prototype,"_themeCategorySetting",void 0);y([o.observable,b("design:type",Boolean)],WebThemeController.prototype,"shouldUseDarkColors",void 0);y([o.observable,b("design:type",Boolean)],WebThemeController.prototype,"isUpdating",void 0);y([o.action,b("design:type",Object)],WebThemeController.prototype,"_updateShouldUseDarkColors",void 0);y([o.action,b("design:type",Object)],WebThemeController.prototype,"_handleSyncOSThSettingChange",void 0);y([o.action,b("design:type",Object)],WebThemeController.prototype,"handleThemeChange",void 0);return WebThemeController}(r.Q);var S=n(696206);var E=n(983400);var I=n(477294);var w=n(12072);var R=n(379269);var P=n(461197);var A=n(441351);var T=n(198384);var O=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var N=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var x=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var D=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var M=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var k=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var L=i.k.tags("[ThemeController]");var F=function(e){O(ThemeController,e);function ThemeController(){var t=e!==null&&e.apply(this,arguments)||this;t._disposers=[];t._settingUserConfig=new w.h;t._isPhoenix=false;t._previousThemeCategory=undefined;t.init=function(){return D(t,void 0,void 0,(function(){var e=this;return M(this,(function(t){switch(t.label){case 0:return[4,A.TQ.isReady.wait()];case 1:t.sent();return[4,Promise.all([this._initSyncOSTheme(),this._inheritSettingsThemeCategory(),this._initIsPhoenix().then((function(){return e._inheritSettingsThemeItem()})),this._initStorageAutoSave()])];case 2:t.sent();return[2]}}))}))};t._initSyncOSTheme=function(){return D(t,void 0,void 0,(function(){var e,t;var n=this;return M(this,(function(r){switch(r.label){case 0:this._disposers.push((0,o.observe)(this._themeCategorySetting,"value",(function(e){var t=e.oldValue;n._previousThemeCategory=t}),true));return[4,(0,g.Fd)()];case 1:e=r.sent()===S.ESettingItemState.ENABLE;if(!e)return[3,3];return[4,s.M$.isCompatibleForElectronAPI(u._r)];case 2:t=r.sent().res;if(t){this._syncThemeController=new v(this._themeCategorySetting)}else if(typeof window.matchMedia==="function"){L.info("is in login page",this._settingMock);this._syncThemeController=new m(this._themeCategorySetting)}r.label=3;case 3:return[2]}}))}))};t._inheritSettingsThemeCategory=function(){return D(t,void 0,void 0,(function(){var e,t,n,r,o,i,a;return M(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this._settingUserConfig.getValue(u.rA.SYNC_WITH_OS_THEME_SETTING,"value"),this._settingUserConfig.getValue(u.rA.THEME_SETTING,"value"),this._settingUserConfig.getValue(u.rA.THEME_CATEGORY_SETTING,"value")])];case 1:e=k.apply(void 0,[s.sent(),3]),t=e[0],n=e[1],r=e[2];L.info("inherit settings for theme category,","newThemeCategoryValue:",r,"legacySyncOSValue:",t,"legacyThemeValue:",n);if(r!==undefined)return[2];o=t===true?u.gi.FOLLOW_SYSTEM:n!==undefined?n:u.qE;i=(0,P.getModule)(S.oF);return[4,i.getById(u.rA.THEME_CATEGORY_SETTING)];case 2:a=s.sent();return[4,(a===null||a===void 0?void 0:a.valueSetter)&&a.valueSetter(o)];case 3:s.sent();return[2]}}))}))};t._inheritSettingsThemeItem=function(){return D(t,void 0,void 0,(function(){var e,t,n,r,o,n,r;return M(this,(function(i){switch(i.label){case 0:return[4,this._settingUserConfig.getValue(u.rA.THEME_ITEM_SETTING,"value")];case 1:e=i.sent();if(!(e===undefined))return[3,4];t=this.defaultSelectedThemes;L.info("save settings of theme item for inheritance, value:",t);n=(0,P.getModule)(S.oF);return[4,n.getById(u.rA.THEME_ITEM_SETTING)];case 2:r=i.sent();return[4,(r===null||r===void 0?void 0:r.valueSetter)&&r.valueSetter(t)];case 3:i.sent();return[3,7];case 4:if(!(0,I.y)(e))return[3,7];o=(0,I.t)(e);n=(0,P.getModule)(S.oF);return[4,n.getById(u.rA.THEME_ITEM_SETTING)];case 5:r=i.sent();return[4,(r===null||r===void 0?void 0:r.valueSetter)&&r.valueSetter(o)];case 6:i.sent();i.label=7;case 7:return[2]}}))}))};t._initIsPhoenix=function(){return D(t,void 0,void 0,(function(){var e,t;return M(this,(function(n){switch(n.label){case 0:e=(0,P.getModule)(R.oF);if(!e)return[3,2];t=this;return[4,e.isPhoenixUser()];case 1:t._isPhoenix=n.sent();L.log("isPhoenixUser: ",this._isPhoenix);n.label=2;case 2:return[2]}}))}))};t._initStorageAutoSave=function(){t._reaction((function(){return t._shouldUseDarkColors}),(function(e){if(e!==undefined)localStorage.setItem(u.W1.SYSTEM_THEME_CATEGORY,e?u.w2.DARK:u.w2.LIGHT)}))};t.watchThemeName=function(e){var n=e.effect;var r=(0,o.reaction)((function(){return t.themeName}),n,{fireImmediately:true});return r};t.dispose=function(){e.prototype.dispose.call(t);t._syncThemeController.dispose();t._disposers.forEach((function(e){return e()}))};return t}Object.defineProperty(ThemeController.prototype,"_settingMock",{get:function(){return this._themeCategorySetting.isMocked},enumerable:true,configurable:true});Object.defineProperty(ThemeController.prototype,"_shouldUseDarkColors",{get:function(){var e;return(e=this._syncThemeController)===null||e===void 0?void 0:e.shouldUseDarkColors},enumerable:true,configurable:true});Object.defineProperty(ThemeController.prototype,"_isFetchingSystemTheme",{get:function(){var e;return(e=this._syncThemeController)===null||e===void 0?void 0:e.isUpdating},enumerable:true,configurable:true});Object.defineProperty(ThemeController.prototype,"systemThemeCategory",{get:function(){if(!this._isFetchingSystemTheme&&this._shouldUseDarkColors!==undefined)return this._shouldUseDarkColors?u.w2.DARK:u.w2.LIGHT;if(this._themeCategorySetting.value===u.gi.FOLLOW_SYSTEM&&this._previousThemeCategory&&Object.values(u.w2).includes(this._previousThemeCategory))return this._previousThemeCategory;var e=localStorage.getItem(u.W1.SYSTEM_THEME_CATEGORY);if(e)return e;return u.qE},enumerable:true,configurable:true});Object.defineProperty(ThemeController.prototype,"themeName",{get:function(){var e,t,n;var r=T.$O.getConfig((e=T.$O.getUrlParamsKeyMap())===null||e===void 0?void 0:e.THEME);if(r){return r}var o=(t=this._themeSetting.value)!==null&&t!==void 0?t:this.defaultSelectedThemes;if(this._themeCategorySetting.value===u.gi.FOLLOW_SYSTEM){var i=this.systemThemeCategory;L.info("themeCategory use OS theme ",i);return o[i]}var a=(n=this._themeCategorySetting.value)!==null&&n!==void 0?n:u.qE;var s=o[a];L.info("themeName use setting theme:",s,"of category:",a);return s},enumerable:true,configurable:true});Object.defineProperty(ThemeController.prototype,"_themeCategorySetting",{get:function(){return E.r.getSettingByID(u.rA.THEME_CATEGORY_SETTING)},enumerable:true,configurable:true});Object.defineProperty(ThemeController.prototype,"_themeSetting",{get:function(){return E.r.getSettingByID(u.rA.THEME_ITEM_SETTING)},enumerable:true,configurable:true});Object.defineProperty(ThemeController.prototype,"defaultSelectedThemes",{get:function(){var e=this;var t={};Object.values(u.w2).forEach((function(n){t[n]=(0,g.jE)({themeCategory:n,isPhoenix:e._isPhoenix})}));return t},enumerable:true,configurable:true});var t,n,r,i;N([o.observable.shallow,x("design:type",Object)],ThemeController.prototype,"_syncThemeController",void 0);N([o.observable,x("design:type",Object)],ThemeController.prototype,"_isPhoenix",void 0);N([o.computed,x("design:type",Object),x("design:paramtypes",[])],ThemeController.prototype,"_settingMock",null);N([o.computed,x("design:type",Object),x("design:paramtypes",[])],ThemeController.prototype,"_shouldUseDarkColors",null);N([o.computed,x("design:type",Object),x("design:paramtypes",[])],ThemeController.prototype,"_isFetchingSystemTheme",null);N([o.observable,x("design:type",Object)],ThemeController.prototype,"_previousThemeCategory",void 0);N([o.computed,x("design:type",typeof(i=typeof u.w2!=="undefined"&&u.w2)==="function"?i:Object),x("design:paramtypes",[])],ThemeController.prototype,"systemThemeCategory",null);N([o.computed,x("design:type",Object),x("design:paramtypes",[])],ThemeController.prototype,"themeName",null);N([o.computed,x("design:type",Object),x("design:paramtypes",[])],ThemeController.prototype,"_themeCategorySetting",null);N([o.computed,x("design:type",Object),x("design:paramtypes",[])],ThemeController.prototype,"_themeSetting",null);N([o.computed,x("design:type",Object),x("design:paramtypes",[])],ThemeController.prototype,"defaultSelectedThemes",null);return ThemeController}(r.Q);var U=new F},477294:(e,t,n)=>{"use strict";n.d(t,{y:()=>isLegacyThemeItemSetting,t:()=>migrateThemeItemSetting});var r={jupiterBlue:"rcJupiterBlue",att:"attRich",atos:"atosRich",avaya:"avayaCustomized",dark:"rcDark",highContrast:"rcHighContrast",phoenix:"rcPhoenix",telus:"telusRich",bt:"btRich",rainbow:"rainbowRich"};function isLegacyTheme(e){return!!r[e]}function migrateLegacyTheme(e){var t;return(t=r[e])!==null&&t!==void 0?t:e}function isLegacyThemeItemSetting(e){return Object.values(e).some(isLegacyTheme)}function migrateThemeItemSetting(e){var t={};Object.keys(e).forEach((function(n){t[n]=migrateLegacyTheme(e[n])}));return t}},986485:(e,t,n)=>{"use strict";n.d(t,{j:()=>ToastStyle});var r=n(957097);var o=undefined&&undefined.__makeTemplateObject||function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var ToastStyle=function(){return(0,r.iv)(i||(i=o(["\n    position: relative;\n    display: flex;\n    @media screen and (max-width: 640px) {\n      left: 0;\n      transform: translate(0, 0);\n    }\n  "],["\n    position: relative;\n    display: flex;\n    @media screen and (max-width: 640px) {\n      left: 0;\n      transform: translate(0, 0);\n    }\n  "])))};var i},251725:(e,t,n)=>{"use strict";n.d(t,{p:()=>o,X:()=>i});var r=n(957685);var o=(0,r.getType)({WARN:"warn",SUCCESS:"success",ERROR:"error",INFO:"info"});var i;(function(e){e["LEFT"]="left";e["CENTER"]="center"})(i||(i={}))},466315:(e,t,n)=>{"use strict";n.r(t);n.d(t,{ContactWASMModule:()=>L});var r=n(537329);var o=n(461197);var i=n(862926);var a=n(535133);var u=n(827027);var s=n(831270);var c=i.ModuleLogger.getLogger("[CONTACT_WASM][CORE]",(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),i.EVENT_DATA_FEATURE.COMMON);var l=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var f=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var d=function(){function WASMContactUtils(){}WASMContactUtils.asyncOperationWrapper=function(e,t){return l(this,void 0,void 0,(function(){var n;return f(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,e()];case 1:r.sent();return[3,3];case 2:n=r.sent();c.error("asyncOperationWrapper,",n);t(n);return[3,3];case 3:return[2]}}))}))};WASMContactUtils.wrapperForContactCommonCallback=function(e,t,n,o,i){return l(this,void 0,void 0,(function(){var a,u,l;return f(this,(function(f){switch(f.label){case 0:f.trys.push([0,4,,5]);if(!e)return[3,2];return[4,t()];case 1:a=f.sent();n(a,r.jK.STATUS_OK,o);return[3,3];case 2:c.error("object undefined");n(i,r.jK.UNKNOWN_ERROR,o);f.label=3;case 3:return[3,5];case 4:u=f.sent();c.warn("wrapperForContactCommonCallback,",u);l=WASMContactUtils.SDKErrorToWASMErrorCode(u);n(i,l,o);s.ContactUtils.doErrorTrackingInCommon("WASM_CONTACT_CRUD_"+Array.from(Object.keys(r.F2)).find((function(e){return r.F2[e]===l.value})),{error:u,callbackId:o});return[3,5];case 5:return[2]}}))}))};WASMContactUtils.VectorToArray=function(e){var t=[];for(var n=0;n<e.size();n++){t.push(e.get(n))}return t};WASMContactUtils.strVectorToObjArray=function(e){var t=[];for(var n=0;n<e.size();n++){t.push(JSON.parse(e.get(n)))}return t};WASMContactUtils.wasmErrorToSDKError=function(e){if(e.value===r.jK.STATUS_OK.value){return undefined}var t=a.qJ[e.value]||a.qJ[r.jK.UNKNOWN_ERROR.value];return t===a.KB.AUTH_REQUIRED||t===a.KB.MAILBOX_NOT_ENABLED_FOR_RESTAPI?new u.JRCError(t,t):new i.JNetworkError(t,t)};WASMContactUtils.SDKErrorToWASMErrorCode=function(e){var t=e.code;var n=a.gk[t];if(!n){if(Object.values(i.ERROR_CODES_NETWORK).includes(t)){n=[i.ERROR_CODES_NETWORK.NOT_NETWORK,i.ERROR_CODES_NETWORK.NETWORK_ERROR,i.ERROR_CODES_NETWORK.LOCAL_TIMEOUT].includes(t)?r.jK.NETWORK_UNAVAILABLE:r.jK.UNKNOWN_ERROR}else if(t===u.ERROR_CODES_RC.CMN_101){var o=e.message;if(o.includes(a.xr.SYNC_TOKEN)){n=r.jK.SYNC_TOKEN_INVALID}else if(o.includes(a.xr.PAGE_TOKEN)){n=r.jK.PAGE_TOKEN_INVALID}else{n=r.jK.UNKNOWN_ERROR}}else{n=r.jK.UNKNOWN_ERROR}}return n};return WASMContactUtils}();var p=n(971323);var h=undefined&&undefined.__assign||function(){h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return h.apply(this,arguments)};var v=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var g=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var _=function(){function WASMContactAPI(){this._apiMap=new Map}WASMContactAPI.prototype.addContactProvider=function(e,t){this._apiMap.set(e.value,t)};WASMContactAPI.prototype.removeContactProvider=function(e){this._apiMap.delete(e.value)};WASMContactAPI.prototype.sync=function(e,t,n){var r=this;var o=this._apiMap.get(e.providerId.value);return d.wrapperForContactCommonCallback(o,(function(){return v(r,void 0,void 0,(function(){var t,n;return g(this,(function(r){switch(r.label){case 0:t=(0,i.commonPerformanceTracer)(undefined,c);return[4,o===null||o===void 0?void 0:o.syncContact(h(h({},e),{providerId:o.getRawProviderId()||""})).catch((function(e){if(e.code===i.ERROR_CODES_NETWORK.BAD_REQUEST){throw new u.JRCError(a.r5["ECM-120"],"")}throw e}))];case 1:n=r.sent();t.end({key:a.LZ.SYNC_EXTERNAL_CONTACT_NETWORK,level:i.LOG_CONTROL_LEVEL.NORMAL,infos:{providerId:e.providerId.value}});return[2,JSON.stringify(n)]}}))}))}),t,n,"")};WASMContactAPI.prototype.parseToken=function(e,t,n){var o=JSON.parse(e);var i={hasNextPage:false,token:""};if((0,p.isObject)(o)){var a=o.nextPageToken||o.pageToken;i.hasNextPage=!!a;var u=i.hasNextPage?a:o.syncToken;u&&(i.token=u);t(i,r.jK.STATUS_OK,n)}else{t(i,r.jK.UNKNOWN_ERROR,n)}};WASMContactAPI.prototype.createContact=function(e,t,n,r){var o=this;var i=this._apiMap.get(e.value);return d.wrapperForContactCommonCallback(i,(function(){return v(o,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return[4,i===null||i===void 0?void 0:i.createContact(JSON.parse(t))];case 1:e=n.sent();return[2,JSON.stringify(e)]}}))}))}),n,r,"")};WASMContactAPI.prototype.getCloudContactById=function(e,t,n,r){return Promise.resolve()};WASMContactAPI.prototype.updateContact=function(e,t,n,r){var o=this;var i=this._apiMap.get(e.value);return d.wrapperForContactCommonCallback(i,(function(){return v(o,void 0,void 0,(function(){var e,n;return g(this,(function(r){switch(r.label){case 0:e=JSON.parse(t);return[4,i===null||i===void 0?void 0:i.updateContact(e.id,e)];case 1:n=r.sent();return[2,JSON.stringify(n)]}}))}))}),n,r,"")};WASMContactAPI.prototype.deleteContact=function(e,t,n,r){var o=this;var i=this._apiMap.get(e.value);return d.wrapperForContactCommonCallback(i,(function(){return v(o,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,i===null||i===void 0?void 0:i.deleteContact(t)];case 1:e.sent();return[2,true]}}))}))}),n,r,false)};return WASMContactAPI}();var y=n(968006);var b=n(667489);var C=n(510229);var m=n(194268);var S=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var E=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var I;var w=(I={},I[r.tg.GOOGLE_CONTACT.value]="Google",I[r.tg.OFFICE365_CONTACT.value]="Microsoft",I[r.tg.RC_CLOUD.value]="RCcloud",I[r.tg.GOOGLE_DIRECTORY.value]="Google",I[r.tg.OFFICE365_GAL.value]="Microsoft",I);var R=function(){function WASMContactDao(){this._daoMap=new Map;this._eventKeyMap=new Map;this._daoMap=new Map}WASMContactDao.prototype.addContactProvider=function(e,t,n){this._daoMap.set(e.value,t);this._eventKeyMap.set(e.value,n)};WASMContactDao.prototype.removeContactProvider=function(e){this._daoMap.delete(e.value)};WASMContactDao.prototype.insert=function(e,t,n,r){var o=this;var i=this._daoMap.get(e.value);return d.wrapperForContactCommonCallback(i,(function(){return S(o,void 0,void 0,(function(){var e;return E(this,(function(n){switch(n.label){case 0:e=JSON.parse(t);return[4,i===null||i===void 0?void 0:i.put(e)];case 1:n.sent();return[2,e.id]}}))}))}),n,r,"")};WASMContactDao.prototype.bulkPut=function(e,t,n,r){var o=this;var i=this._daoMap.get(e.value);return d.wrapperForContactCommonCallback(i,(function(){return S(o,void 0,void 0,(function(){var e;return E(this,(function(n){switch(n.label){case 0:e=d.strVectorToObjArray(t);return[4,i===null||i===void 0?void 0:i.bulkPut(e)];case 1:n.sent();return[2,true]}}))}))}),n,r,false)};WASMContactDao.prototype.clear=function(e,t,n){var r=this;var o=this._daoMap.get(e.value);return d.wrapperForContactCommonCallback(o,(function(){return S(r,void 0,void 0,(function(){return E(this,(function(e){switch(e.label){case 0:return[4,o===null||o===void 0?void 0:o.clear()];case 1:e.sent();return[2,true]}}))}))}),t,n,false)};WASMContactDao.prototype.remove=function(e,t,n,r){var o=this;var i=this._daoMap.get(e.value);return d.wrapperForContactCommonCallback(i,(function(){return S(o,void 0,void 0,(function(){return E(this,(function(e){switch(e.label){case 0:return[4,i===null||i===void 0?void 0:i.delete(t)];case 1:e.sent();return[2,true]}}))}))}),n,r,false)};WASMContactDao.prototype.deleteContacts=function(e,t,n,r){var o=this;var i=this._daoMap.get(e.value);return d.wrapperForContactCommonCallback(i,(function(){return S(o,void 0,void 0,(function(){return E(this,(function(e){switch(e.label){case 0:return[4,i===null||i===void 0?void 0:i.bulkDelete(d.VectorToArray(t))];case 1:e.sent();return[2,true]}}))}))}),n,r,false)};WASMContactDao.prototype.update=function(e,t,n,r){var o=this;var i=this._daoMap.get(e.value);return d.wrapperForContactCommonCallback(i,(function(){return S(o,void 0,void 0,(function(){return E(this,(function(e){switch(e.label){case 0:return[4,i===null||i===void 0?void 0:i.update((0,m.m)(JSON.parse(t)))];case 1:e.sent();return[2,true]}}))}))}),n,r,false)};WASMContactDao.prototype.bulkUpdate=function(e,t,n,o){var i=this;var s=this._daoMap.get(e.value);return d.wrapperForContactCommonCallback(s,(function(){return S(i,void 0,void 0,(function(){var n,o,i,l,f,d,p,h,v,g,_,S,I,R,P,A;return E(this,(function(E){switch(E.label){case 0:n=JSON.parse(t);o=n.records;i=n.syncType===u.SYNC_TYPE.FSYNC;l=!!(n.nextPageToken||n.pageToken);c.info("transform contact finished,size:",o.length,",needClear:",i);f=[];d=[];p=[];o.forEach((function(e){var t=(0,m.m)(e);p.push(t);e.availability===C.CONTACT_AVAILABILITY.ALIVE?f.push(t):d.push(e.id)}));if(!i)return[3,3];h=n.isFirstPage;if(!h)return[3,2];return[4,s===null||s===void 0?void 0:s.clear()];case 1:h=E.sent();E.label=2;case 2:h;return[3,6];case 3:v=d.length;if(!v)return[3,5];return[4,s===null||s===void 0?void 0:s.bulkDelete(d)];case 4:v=E.sent();E.label=5;case 5:v;E.label=6;case 6:g=f.length;if(!g)return[3,8];return[4,s===null||s===void 0?void 0:s.bulkUpdate(f,true)];case 7:g=E.sent();E.label=8;case 8:g;c.info("update contact success");if(!(i&&!l))return[3,10];_=e.value===r.tg.GOOGLE_DIRECTORY.value||e.value===r.tg.OFFICE365_GAL.value?a.PT.DIRECTORY_SYNCED:a.PT.CONTACTS_SYNCED;I=(S=y.s6).track;R=[_];P={source:w[e.value]};return[4,s===null||s===void 0?void 0:s.getTotalCount()];case 9:I.apply(S,R.concat([(P.numberOfContacts=E.sent(),P)]));E.label=10;case 10:A=this._eventKeyMap.get(e.value);if(A){if(i){!l&&b.notificationCenter.emitEntityReload(A,[],true)}else{p.length&&b.notificationCenter.emitEntityUpdate(A,p)}}return[2,true]}}))}))}),n,o,false)};WASMContactDao.prototype.batchGet=function(e,t,n,r){var o=this;var i=this._daoMap.get(e.value);return d.wrapperForContactCommonCallback(i,(function(){return S(o,void 0,void 0,(function(){return E(this,(function(e){return[2,Promise.resolve(true)]}))}))}),n,r,false)};WASMContactDao.prototype.getAll=function(e,t,n){var r=this;var o=this._daoMap.get(e.value);return d.wrapperForContactCommonCallback(o,(function(){return S(r,void 0,void 0,(function(){return E(this,(function(e){return[2,Promise.resolve(true)]}))}))}),t,n,false)};return WASMContactDao}();var P=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var A=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var T=function(){function WASMContactUserConfig(){this._configMap=new Map}WASMContactUserConfig.prototype.addContactProvider=function(e,t){this._configMap.set(e.value,t)};WASMContactUserConfig.prototype.removeContactProvider=function(e){this._configMap.delete(e.value)};WASMContactUserConfig.prototype.getToken=function(e,t,n){return P(this,void 0,Promise,(function(){var o=this;return A(this,(function(i){switch(i.label){case 0:return[4,d.asyncOperationWrapper((function(){return P(o,void 0,void 0,(function(){var o,i,a,u,s;return A(this,(function(c){switch(c.label){case 0:o=this._configMap.get(e.value);i={syncToken:"",pageToken:"",providerId:e};if(!o)return[3,5];return[4,o.getSyncToken()];case 1:a=c.sent();if(!a)return[3,2];s=undefined;return[3,4];case 2:return[4,o.getPageToken()];case 3:s=c.sent();c.label=4;case 4:u=s;i.syncToken=a||"";i.pageToken=u||"";t(i,r.jK.STATUS_OK,n);return[3,6];case 5:t(i,r.jK.UNKNOWN_ERROR,n);c.label=6;case 6:return[2]}}))}))}),(function(){t({syncToken:"",pageToken:"",providerId:e},r.jK.UNKNOWN_ERROR,n)}))];case 1:i.sent();return[2]}}))}))};WASMContactUserConfig.prototype.setToken=function(e,t,n,r){return P(this,void 0,Promise,(function(){var o;var i=this;return A(this,(function(a){switch(a.label){case 0:o=this._configMap.get(e.value);return[4,d.wrapperForContactCommonCallback(o,(function(){return P(i,void 0,void 0,(function(){return A(this,(function(e){switch(e.label){case 0:if(!t.syncToken)return[3,2];return[4,o===null||o===void 0?void 0:o.setSyncToken(t.syncToken)];case 1:e.sent();return[3,4];case 2:return[4,o===null||o===void 0?void 0:o.setPageToken(t.pageToken)];case 3:e.sent();e.label=4;case 4:if(!!t.pageToken)return[3,6];return[4,o===null||o===void 0?void 0:o.removePageToken()];case 5:e.sent();e.label=6;case 6:return[2,true]}}))}))}),n,r,false)];case 1:a.sent();return[2]}}))}))};WASMContactUserConfig.prototype.removeToken=function(e,t,n){return P(this,void 0,Promise,(function(){var r;var o=this;return A(this,(function(i){switch(i.label){case 0:r=this._configMap.get(e.value);return[4,d.wrapperForContactCommonCallback(r,(function(){return P(o,void 0,void 0,(function(){return A(this,(function(e){switch(e.label){case 0:return[4,r===null||r===void 0?void 0:r.removeSyncToken()];case 1:e.sent();return[4,r===null||r===void 0?void 0:r.removePageToken()];case 2:e.sent();return[2,true]}}))}))}),t,n,false)];case 1:i.sent();return[2]}}))}))};return WASMContactUserConfig}();var O=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var N=undefined&&undefined.__assign||function(){N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return N.apply(this,arguments)};var x=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var D=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var M;(function(e){e[e["IDLE"]=0]="IDLE";e[e["INITIALIZING"]=1]="INITIALIZING";e[e["INITIALIZED"]=2]="INITIALIZED"})(M||(M={}));var k=c.tags("[ContactWASMModule]");var L=function(e){O(ContactWASMModule,e);function ContactWASMModule(t){var n=e.call(this,t)||this;n._initStatus=M.IDLE;n._initQueue=[];return n}ContactWASMModule.prototype.moduleName=function(){return a.R9};ContactWASMModule.prototype.onLoad=function(){};ContactWASMModule.prototype.onUnload=function(){};ContactWASMModule.prototype.isInit=function(){return this._initStatus===M.INITIALIZED};ContactWASMModule.prototype.init=function(){return x(this,void 0,Promise,(function(){var e;var t=this;return D(this,(function(n){switch(n.label){case 0:if(this.isInit()){return[2,true]}if(this._initStatus===M.INITIALIZING){return[2,new Promise((function(e){t._initQueue.push(e)}))]}this._initStatus=M.INITIALIZING;e=true;return[4,(0,r.ZP)(this.wasmContactAPI,this.wasmContactDao,this.wasmContactUserConfig).catch((function(t){k.warn("init failed:",t);e=false}))];case 1:n.sent();this._initStatus=e?M.INITIALIZED:M.IDLE;this._initQueue.forEach((function(t){t(e)}));this._initQueue=[];return[2,e]}}))}))};ContactWASMModule.prototype.dispose=function(){};ContactWASMModule.prototype.setWASMContext=function(e){this.wasmContactDao.addContactProvider(e.provider,e.dao,e.eventKey);this.wasmContactUserConfig.addContactProvider(e.provider,e.userConfig);this.wasmContactAPI.addContactProvider(e.provider,e.api)};ContactWASMModule.prototype.removeConfigAndDao=function(e){this.wasmContactDao.removeContactProvider(e);this.wasmContactUserConfig.removeContactProvider(e);this.wasmContactAPI.removeContactProvider(e)};ContactWASMModule.prototype.sync=function(e){return x(this,void 0,Promise,(function(){var t=this;return D(this,(function(n){switch(n.label){case 0:return[4,this.init()];case 1:n.sent();return[2,new Promise((function(n,o){var a;var callback=function(e,r,a){k.log("sync contact result",(0,i.sensitive)({providerId:e.value,result:r,errorCode:a.value}));t._handleWASMCallback(r,a,{resolve:n,reject:o})};var u=(0,r.DS)(callback);u&&((a=t.syncController)===null||a===void 0?void 0:a.sync(e,u))}))]}}))}))};ContactWASMModule.prototype.create=function(e,t){return x(this,void 0,Promise,(function(){var n;var o=this;return D(this,(function(a){switch(a.label){case 0:return[4,this.init()];case 1:a.sent();n=new Promise((function(n,a){var u;var callback=function(r,u){k.log("create contact result",(0,i.sensitive)({provider:e.value,newContactData:t,id:r,errorCode:u.value}));o._handleWASMCallback(r,u,{resolve:n,reject:a})};var s=(0,r.jr)(callback);s&&((u=o.actionController)===null||u===void 0?void 0:u.createContact(e,JSON.stringify(t),s))}));return[2,n]}}))}))};ContactWASMModule.prototype.get=function(e,t){return x(this,void 0,Promise,(function(){return D(this,(function(n){switch(n.label){case 0:e;t;return[4,this.init()];case 1:n.sent();return[2,false]}}))}))};ContactWASMModule.prototype.update=function(e,t,n){return x(this,void 0,Promise,(function(){var o;var a=this;return D(this,(function(u){switch(u.label){case 0:return[4,this.init()];case 1:u.sent();o=new Promise((function(o,u){var s;var callback=function(r,s){k.log("update contact result",(0,i.sensitive)({provider:e.value,updateData:n,id:t,errorCode:s.value,isSuccess:r}));a._handleWASMCallback(r,s,{resolve:o,reject:u})};var c=(0,r.yd)(callback);c&&((s=a.actionController)===null||s===void 0?void 0:s.updateContact(e,JSON.stringify(N(N({},n),{id:t})),c))}));return[2,o]}}))}))};ContactWASMModule.prototype.delete=function(e,t){return x(this,void 0,Promise,(function(){var n;var o=this;return D(this,(function(a){switch(a.label){case 0:return[4,this.init()];case 1:a.sent();n=new Promise((function(n,a){var u;var callback=function(r,u){k.log("delete contact result",(0,i.sensitive)({provider:e.value,id:t,errorCode:u.value,isSuccess:r}));o._handleWASMCallback(r,u,{resolve:n,reject:a})};var s=(0,r.yd)(callback);s&&((u=o.actionController)===null||u===void 0?void 0:u.deleteContact(e,t,s))}));return[2,n]}}))}))};Object.defineProperty(ContactWASMModule.prototype,"syncController",{get:function(){if(!this._syncController){this._syncController=(0,r.ku)()}return this._syncController},enumerable:true,configurable:true});Object.defineProperty(ContactWASMModule.prototype,"actionController",{get:function(){if(!this._actionController){this._actionController=(0,r.kj)()}return this._actionController},enumerable:true,configurable:true});Object.defineProperty(ContactWASMModule.prototype,"wasmContactDao",{get:function(){if(!this._wasmContactDao){this._wasmContactDao=new R}return this._wasmContactDao},enumerable:true,configurable:true});Object.defineProperty(ContactWASMModule.prototype,"wasmContactAPI",{get:function(){if(!this._wasmContactAPI){this._wasmContactAPI=new _}return this._wasmContactAPI},enumerable:true,configurable:true});Object.defineProperty(ContactWASMModule.prototype,"wasmContactUserConfig",{get:function(){if(!this._wasmContactUserConfig){this._wasmContactUserConfig=new T}return this._wasmContactUserConfig},enumerable:true,configurable:true});ContactWASMModule.prototype._handleWASMCallback=function(e,t,n){var r=d.wasmErrorToSDKError(t);if(!r){n.resolve(e)}else{c.warn("_handleWASMCallback,",r);n.reject(r)}};return ContactWASMModule}(o.AbstractModule)},858467:()=>{},928376:(e,t,n)=>{"use strict";n.d(t,{CONTACT_WASM_MODULE_NAME:()=>i.R9,EXTERNAL_CONTACT_ERRORS:()=>i.KB,EXTERNAL_CONTACT_SERVER_ERROR_CODES:()=>i.r5,EContactProvider:()=>a.t,CONTACT_AVAILABILITY:()=>u.CONTACT_AVAILABILITY});var r=n(466315);var o=n(397609);if(n.o(o,"CONTACT_AVAILABILITY"))n.d(t,{CONTACT_AVAILABILITY:function(){return o.CONTACT_AVAILABILITY}});if(n.o(o,"CONTACT_WASM_MODULE_NAME"))n.d(t,{CONTACT_WASM_MODULE_NAME:function(){return o.CONTACT_WASM_MODULE_NAME}});if(n.o(o,"EContactProvider"))n.d(t,{EContactProvider:function(){return o.EContactProvider}});if(n.o(o,"EXTERNAL_CONTACT_ERRORS"))n.d(t,{EXTERNAL_CONTACT_ERRORS:function(){return o.EXTERNAL_CONTACT_ERRORS}});if(n.o(o,"EXTERNAL_CONTACT_SERVER_ERROR_CODES"))n.d(t,{EXTERNAL_CONTACT_SERVER_ERROR_CODES:function(){return o.EXTERNAL_CONTACT_SERVER_ERROR_CODES}});var i=n(535133);var a=n(515910);var u=n(510229);var s=n(194268)},575590:()=>{},93416:()=>{},578780:()=>{},397609:(e,t,n)=>{"use strict";var r=n(578780);var o=n.n(r);if(n.o(r,"CONTACT_AVAILABILITY"))n.d(t,{CONTACT_AVAILABILITY:function(){return r.CONTACT_AVAILABILITY}});if(n.o(r,"CONTACT_WASM_MODULE_NAME"))n.d(t,{CONTACT_WASM_MODULE_NAME:function(){return r.CONTACT_WASM_MODULE_NAME}});if(n.o(r,"EContactProvider"))n.d(t,{EContactProvider:function(){return r.EContactProvider}});if(n.o(r,"EXTERNAL_CONTACT_ERRORS"))n.d(t,{EXTERNAL_CONTACT_ERRORS:function(){return r.EXTERNAL_CONTACT_ERRORS}});if(n.o(r,"EXTERNAL_CONTACT_SERVER_ERROR_CODES"))n.d(t,{EXTERNAL_CONTACT_SERVER_ERROR_CODES:function(){return r.EXTERNAL_CONTACT_SERVER_ERROR_CODES}});var i=n(93416);var a=n.n(i);if(n.o(i,"CONTACT_AVAILABILITY"))n.d(t,{CONTACT_AVAILABILITY:function(){return i.CONTACT_AVAILABILITY}});if(n.o(i,"CONTACT_WASM_MODULE_NAME"))n.d(t,{CONTACT_WASM_MODULE_NAME:function(){return i.CONTACT_WASM_MODULE_NAME}});if(n.o(i,"EContactProvider"))n.d(t,{EContactProvider:function(){return i.EContactProvider}});if(n.o(i,"EXTERNAL_CONTACT_ERRORS"))n.d(t,{EXTERNAL_CONTACT_ERRORS:function(){return i.EXTERNAL_CONTACT_ERRORS}});if(n.o(i,"EXTERNAL_CONTACT_SERVER_ERROR_CODES"))n.d(t,{EXTERNAL_CONTACT_SERVER_ERROR_CODES:function(){return i.EXTERNAL_CONTACT_SERVER_ERROR_CODES}});var u=n(575590);var s=n.n(u);if(n.o(u,"CONTACT_AVAILABILITY"))n.d(t,{CONTACT_AVAILABILITY:function(){return u.CONTACT_AVAILABILITY}});if(n.o(u,"CONTACT_WASM_MODULE_NAME"))n.d(t,{CONTACT_WASM_MODULE_NAME:function(){return u.CONTACT_WASM_MODULE_NAME}});if(n.o(u,"EContactProvider"))n.d(t,{EContactProvider:function(){return u.EContactProvider}});if(n.o(u,"EXTERNAL_CONTACT_ERRORS"))n.d(t,{EXTERNAL_CONTACT_ERRORS:function(){return u.EXTERNAL_CONTACT_ERRORS}});if(n.o(u,"EXTERNAL_CONTACT_SERVER_ERROR_CODES"))n.d(t,{EXTERNAL_CONTACT_SERVER_ERROR_CODES:function(){return u.EXTERNAL_CONTACT_SERVER_ERROR_CODES}})},194268:(e,t,n)=>{"use strict";n.d(t,{m:()=>generateFullContactProps});var r=undefined&&undefined.__assign||function(){r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return r.apply(this,arguments)};var generateFullContactProps=function(e){var t={firstName:"",lastName:"",middleName:"",nickname:"",company:"",department:"",jobTitle:"",emails:[],phones:[],addresses:[],birthday:"",webPage:"",notes:""};return r(r({},t),e)}},510210:(e,t,n)=>{"use strict";n.r(t);n.d(t,{GroupExtensionModule:()=>y});var r=n(667489);var o=n(587040);var i=n(831270);var a=n(960172);var u=n(567351);var s=n(739207);var c=n(725170);var gen=function(e,t,n){if(e===void 0){e="id"}if(t===void 0){t=[]}return{unique:e,indices:t,onUpgrade:n}};var l={name:"GroupExtension",version:1,schema:{1:{groupExtension:gen()},2:{userConfigs:gen("key")},3:{callQueueMember:gen()}}};const f=l;var d=n(445865);var p=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var h=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var v=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var g=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var _=d.k.tags("GroupExtensionModule");var y=function(e){p(GroupExtensionModule,e);function GroupExtensionModule(t){var n=e.call(this,t)||this;n._getModuleInfo=function(){return h(n,void 0,void 0,(function(){var e,t,n;return v(this,(function(r){switch(r.label){case 0:if(!this.isLoaded())return[3,2];return[4,Promise.all([this.groupExtensionService.getEntitySource().getTotalCount(),this.groupExtensionService.userConfig.getETag()])];case 1:e=g.apply(void 0,[r.sent(),2]),t=e[0],n=e[1];return[2,{lastSyncTime:this.groupExtensionService.groupExtensionFetchController.getLastSyncTime(),syncType:"fSync",eTag:n,totalCount:t}];case 2:return[2,{}]}}))}))};return n}GroupExtensionModule.prototype.onLoad=function(){this._setupNetworkClient();this.groupExtensionService.start();this.callQueueMemberService.start();(0,r.getModule)(i.MODULE_NAME).subscribeContactSource(this.groupExtensionService);(0,r.getModule)(a.SEARCH_MODULE_NAME).registerSearchDataProvider(this.groupExtensionService.groupExtensionRecentSearchDataController);this._initHealthyModule()};GroupExtensionModule.prototype.onUnload=function(){this.groupExtensionService.stop();this.callQueueMemberService.stop();(0,r.getModule)(a.SEARCH_MODULE_NAME).unRegisterSearchDataProvider(this.groupExtensionService.groupExtensionRecentSearchDataController);this._disposeHealthyModule()};GroupExtensionModule.prototype.getSchema=function(){return f};GroupExtensionModule.prototype.moduleName=function(){return c.Ns};GroupExtensionModule.prototype.getService=function(){return this.groupExtensionService};GroupExtensionModule.prototype.getNonUserExtensions=function(e){return this.getService().getNonUserExtensions(e)};GroupExtensionModule.prototype._initHealthyModule=function(){this._healthModuleController=new r.HealthModuleController(Symbol(this.moduleName()),this.moduleName(),{GroupExtensionInfo:this._getModuleInfo});this._healthModuleController.init()};GroupExtensionModule.prototype._disposeHealthyModule=function(){this._healthModuleController&&this._healthModuleController.dispose()};Object.defineProperty(GroupExtensionModule.prototype,"groupExtensionService",{get:function(){if(!this._groupExtensionService){this._groupExtensionService=new u.GroupExtensionService(this.daoManager)}return this._groupExtensionService},enumerable:true,configurable:true});GroupExtensionModule.prototype._setupNetworkClient=function(){var e=(0,o.gT)();if(e){s.GroupExtensionApi.networkClient=e.buildNetworkClient()}};GroupExtensionModule.prototype.onDBRecoverRequire=function(){_.warn("GroupExtension DB is recovering now");this.groupExtensionService.onDBRecoverRequire()};GroupExtensionModule.prototype.clearDBData=function(){return h(this,void 0,Promise,(function(){return v(this,(function(t){switch(t.label){case 0:_.warn("GroupExtension clearDBData");return[4,e.prototype.clearDBData.call(this)];case 1:t.sent();this.groupExtensionService.onDBRecoverRequire();return[2,r.LOAD_MODULE_ERROR_CODE.NONE]}}))}))};Object.defineProperty(GroupExtensionModule.prototype,"callQueueMemberService",{get:function(){if(!this._callQueueMemberService){this._callQueueMemberService=new u.CallQueueMemberService(this.daoManager)}return this._callQueueMemberService},enumerable:true,configurable:true});GroupExtensionModule.prototype.getCallQueueMemberIdsById=function(e){return this.callQueueMemberService.getCallQueueMemberIdsById(e)};GroupExtensionModule.prototype.getCallQueueMemberEntityByMemberId=function(e){return this.callQueueMemberService.getCallQueueMemberEntityByMemberId(e)};GroupExtensionModule.prototype.getCallQueueMemberEntitiesByMemberIds=function(e){return this.callQueueMemberService.getCallQueueMemberEntitiesByMemberIds(e)};return GroupExtensionModule}(r.AbstractModule)},739207:(e,t,n)=>{"use strict";n.d(t,{CALL_QUEUE_MEMBER_LIST_PAGING:()=>u,GroupExtensionApi:()=>s});var r=n(862926);var o=n(667489);var i="/v1.0";var a={DIRECTORY_ENTRIES:i+"/account/~/directory/contacts",CALL_QUEUE_MEMBER_LIST:i+"/account/~/call-queues/"+r.FORMAT_MARK+"/members"};var u={FIRST_PAGE_INDEX:1,PER_PAGE:1e3};var s=function(){function GroupExtensionApi(){}GroupExtensionApi.fetchGroupExtensionList=function(e,t){var n;var i=(n={},n[r.REQUEST_HEADER_KEYS.IF_NONE_MATCH]=t,n);var u={path:r.RequestPath.buildRequestPath(a.DIRECTORY_ENTRIES+"?typeGroup="+r.FORMAT_MARK,"NonUser"),via:r.NETWORK_VIA.HTTP,method:r.NETWORK_METHOD.GET,headers:i,retryCount:r.DEFAULT_RETRY_COUNT,thresholdPriority:o.THRESHOLD_PRIORITY.SPECIAL,params:e};return GroupExtensionApi.networkClient.rawRequest(u)};GroupExtensionApi.fetchCallQueueMemberList=function(e,t){var n={path:r.RequestPath.buildRequestPath(a.CALL_QUEUE_MEMBER_LIST,e),via:r.NETWORK_VIA.HTTP,params:t,retryCount:r.DEFAULT_RETRY_COUNT,thresholdPriority:o.THRESHOLD_PRIORITY.SPECIAL};return GroupExtensionApi.networkClient.get(n)};return GroupExtensionApi}();var c=n(308243)},308243:()=>{},725170:(e,t,n)=>{"use strict";n.d(t,{m:()=>i,Ns:()=>o,q$:()=>c,wY:()=>a,LZ:()=>u,SJ:()=>l,FY:()=>s,DL:()=>d});var r=n(295454);var o=r.Lb.GROUP_EXTENSION;var i={FETCH_GROUP_EXTENSION_LIST:"FETCH_GROUP_EXTENSION_LIST"};var a="group_extension_list";var u;(function(e){e["MATCH_GROUP_EXTENSION_BY_PHONE_NUMBER"]="match_group_extension_by_phone_number";e["FETCH_CALL_QUEUE_MEMBERS_FROM_SERVER"]="fetch_call_queue_members_from_server"})(u||(u={}));var s={ENTITY:{GROUP_EXTENSION:"ENTITY.GROUP_EXTENSION",CALL_QUEUE_MEMBER_LIST:"ENTITY.CALL_QUEUE_MEMBER_LIST",CALL_QUEUE_MEMBER:"ENTITY.CALL_QUEUE_MEMBER"}};var c={E_TAG:"e_tag"};var l=3;var f=o.toLowerCase();var d={GROUP_EXTENSION:"group_extension"}},572011:(e,t,n)=>{"use strict";n.d(t,{R2:()=>R,W3:()=>a,Zd:()=>y,rJ:()=>m});var r=n(831270);var o=n(24697);var i=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var a=function(e){i(GroupExtensionCacheController,e);function GroupExtensionCacheController(t){return e.call(this,o.F.getInstance(),t)||this}return GroupExtensionCacheController}(r.ContactCacheController);var u=n(667489);var s=n(827027);var c=n(573256);var l=n(445865);var f=n(766805);var d=n(739207);var p=n(725170);var h=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var v=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var g=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var _=l.k.tags("GroupExtensionFetchController");var y=function(e){h(GroupExtensionFetchController,e);function GroupExtensionFetchController(t,n,r,o){var i=e.call(this,{entityEventKey:p.FY.ENTITY.GROUP_EXTENSION,jobKey:p.m.FETCH_GROUP_EXTENSION_LIST,perfTag:p.wY},r.get(f.f))||this;i._sourceController=t;i._cacheController=n;i._userConfig=o;i.getNonUserExtensions=function(e){return i._cacheController.getEntities((function(t){if(!e)return true;return(!e.type||e.type===t.type)&&(!e.status||e.status===t.status)}),undefined,true)};return i}GroupExtensionFetchController.prototype._waitUntilCachedReady=function(){return v(this,void 0,Promise,(function(){var e;var t=this;return g(this,(function(n){switch(n.label){case 0:if(!!this._cacheController.isContactDataReady())return[3,2];return[4,new Promise((function(e){t._cacheController.registerContactDataWaiter(e)}))];case 1:e=n.sent();return[2,e];case 2:return[2,true]}}))}))};GroupExtensionFetchController.prototype.handleGroupExtensionEvent=function(e){return v(this,void 0,void 0,(function(){var t,n,r;return g(this,(function(o){switch(o.label){case 0:t=[];n=[];r=[];e.contacts.forEach((function(e){if(e.type!==s.RC_EXTENSION_TYPES.USER){switch(e.eventType){case c.Z.CREATE:n.push(e);break;case c.Z.UPDATE:r.push(e);break;case c.Z.DELETE:t.push(e.id);break;default:break}}}));return[4,this.handleCreateContacts(n)];case 1:o.sent();return[4,this.handleUpdateContacts(r)];case 2:o.sent();return[4,this.handleDeleteContacts(t)];case 3:o.sent();return[2]}}))}))};GroupExtensionFetchController.prototype.onDBRecoverRequire=function(){this.userConfig.removeETag();u.jobScheduler.cancelJob(p.m.FETCH_GROUP_EXTENSION_LIST,true)};GroupExtensionFetchController.prototype.logError=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}_.log(e);r.ContactUtils.doErrorTrackingInCommon("GROUP_EXTENSION_SYNC_FAIL",e)};GroupExtensionFetchController.prototype.waitBeforeStartingScheduler=function(){return v(this,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,this._waitUntilCachedReady()];case 1:e.sent();return[2]}}))}))};Object.defineProperty(GroupExtensionFetchController.prototype,"logger",{get:function(){return _},enumerable:true,configurable:true});Object.defineProperty(GroupExtensionFetchController.prototype,"userConfig",{get:function(){return this._userConfig},enumerable:true,configurable:true});Object.defineProperty(GroupExtensionFetchController.prototype,"entitySourceController",{get:function(){return this._sourceController},enumerable:true,configurable:true});Object.defineProperty(GroupExtensionFetchController.prototype,"entityCacheController",{get:function(){return this._cacheController},enumerable:true,configurable:true});GroupExtensionFetchController.prototype.fetchContactApi=function(e,t){return d.GroupExtensionApi.fetchGroupExtensionList(e,t)};return GroupExtensionFetchController}(r.AbstractContactFetchController);var b=n(960172);var C=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var m=function(e){C(GroupExtensionRecentSearchDataController,e);function GroupExtensionRecentSearchDataController(t){return e.call(this,t.recentSearchConfig)||this}GroupExtensionRecentSearchDataController.prototype.providerName=function(){return p.Ns};GroupExtensionRecentSearchDataController.prototype.shouldSaveRecord=function(t){return e.prototype.shouldSaveRecord.call(this,t)||Object.values(p.DL).includes(t.type)};return GroupExtensionRecentSearchDataController}(b.a);var S=n(862926);var E=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var I=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var w=l.k.tags("[CallQueueMemberController]");var R=function(){function CallQueueMemberController(e){this._entitySourceController=e}CallQueueMemberController.prototype.getCallQueueMemberIdsById=function(e){return E(this,void 0,Promise,(function(){var t,n;return I(this,(function(r){switch(r.label){case 0:if(!e){w.error("[getCallQueueMemberIdsById] invalid parameter, callQueueId:",e);return[2,[]]}return[4,this._entitySourceController.get(e)];case 1:t=r.sent();if(!t)return[3,2];this._syncCallQueueMemberListByIdFromServer(e,{silentWhenError:true});return[2,t.memberIds];case 2:return[4,this._syncCallQueueMemberListByIdFromServer(e,{silentWhenError:false})];case 3:n=r.sent();return[2,n.memberIds]}}))}))};CallQueueMemberController.prototype._syncCallQueueMemberListByIdFromServer=function(e,t){var n=t.silentWhenError;return E(this,void 0,Promise,(function(){var t,r,o,i;return I(this,(function(a){switch(a.label){case 0:a.trys.push([0,2,,3]);t=(0,S.commonPerformanceTracer)(undefined,w);return[4,new s.RCPaginationController({fetchHandler:d.GroupExtensionApi.fetchCallQueueMemberList.bind(d.GroupExtensionApi,e)}).getAllPage({page:d.CALL_QUEUE_MEMBER_LIST_PAGING.FIRST_PAGE_INDEX,perPage:d.CALL_QUEUE_MEMBER_LIST_PAGING.PER_PAGE})];case 1:r=a.sent();t.end({key:p.LZ.FETCH_CALL_QUEUE_MEMBERS_FROM_SERVER,level:S.LOG_CONTROL_LEVEL.NORMAL,infos:{totalCount:r.length}});o={id:e,memberIds:r.map((function(e){return String(e.id)}))};this._syncCallQueueMemberList(o);return[2,o];case 2:i=a.sent();this.logError("fetching call queue members failed",i);if(!n)throw i;else{return[2,{id:e,memberIds:[]}]}return[3,3];case 3:return[2]}}))}))};CallQueueMemberController.prototype.logError=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}w.log(e);r.ContactUtils.doErrorTrackingInCommon("SYNC_CALL_QUEUE_MEMBER_ERROR",e)};CallQueueMemberController.prototype._syncCallQueueMemberList=function(e){this._entitySourceController.update(e);u.notificationCenter.emitEntityUpdate(p.FY.ENTITY.CALL_QUEUE_MEMBER_LIST+"."+e.id,[e])};CallQueueMemberController.prototype.getCallQueueMemberEntityByMemberId=function(e){return{id:e}};CallQueueMemberController.prototype.getCallQueueMemberEntitiesByMemberIds=function(e){var t=this;return e.map((function(e){return t.getCallQueueMemberEntityByMemberId(e)}))};return CallQueueMemberController}()},766805:(e,t,n)=>{"use strict";n.d(t,{p:()=>s,f:()=>i});var r=n(95279);var o=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var i=function(e){o(GroupExtensionDao,e);function GroupExtensionDao(t){return e.call(this,GroupExtensionDao.COLLECTION_NAME,t)||this}GroupExtensionDao.COLLECTION_NAME="groupExtension";return GroupExtensionDao}(r.BaseDao);var a=n(667489);var u=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var s=function(e){u(CallQueueMemberDao,e);function CallQueueMemberDao(t){return e.call(this,CallQueueMemberDao.COLLECTION_NAME,t)||this}CallQueueMemberDao.COLLECTION_NAME="callQueueMember";return CallQueueMemberDao}(a.BaseDao)},573256:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r,$:()=>o});var r={UPDATE:"Update",CREATE:"Create",DELETE:"Delete"};var o={DISABLED:"Disabled",ENABLED:"Enabled"}},445865:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(862926);var o=n.n(r);var i="[GROUP_EXTENSION][CORE]";var a=r.ModuleLogger.getLogger(i,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),r.EVENT_DATA_FEATURE.COMMON)},561225:(e,t,n)=>{"use strict";n.d(t,{f:()=>s});var r=n(667489);var o=n.n(r);var i=n(766805);var a=n(572011);var u=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var s=function(e){u(CallQueueMemberService,e);function CallQueueMemberService(t){return e.call(this,{isSupportedCache:true,entityName:i.p.COLLECTION_NAME},{dao:t.getDao(i.p)})||this}Object.defineProperty(CallQueueMemberService.prototype,"callQueueMemberController",{get:function(){if(!this._callQueueMemberController){this._callQueueMemberController=new a.R2(this.getEntitySource())}return this._callQueueMemberController},enumerable:true,configurable:true});CallQueueMemberService.prototype.getCallQueueMemberIdsById=function(e){return this.callQueueMemberController.getCallQueueMemberIdsById(e)};CallQueueMemberService.prototype.getCallQueueMemberEntityByMemberId=function(e){return this.callQueueMemberController.getCallQueueMemberEntityByMemberId(e)};CallQueueMemberService.prototype.getCallQueueMemberEntitiesByMemberIds=function(e){return this.callQueueMemberController.getCallQueueMemberEntitiesByMemberIds(e)};return CallQueueMemberService}(r.EntityBaseService)},556584:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var r=n(379116);var o=n(667489);var i=n(831270);var a=n(228164);var u=n(572011);var s=n(587040);var c=n(573256);var l=n(24697);var f=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var d=function(e){f(GroupExtensionSearchController,e);function GroupExtensionSearchController(t){return e.call(this,l.F.getInstance(),t)||this}GroupExtensionSearchController.prototype.getMyOrgId=function(){return(0,s.gT)().userConfig.getAccountId()};GroupExtensionSearchController.prototype.getMyId=function(){return undefined};GroupExtensionSearchController.prototype.getContactType=function(e){return e.type};GroupExtensionSearchController.prototype.isValidContactForSearch=function(e){return!!e&&e.status!==c.$.DISABLED&&!l.F.getInstance().isContactHidden(e)};GroupExtensionSearchController.prototype.isVisibleContact=function(e){return l.F.getInstance().isVisibleContact(e)};return GroupExtensionSearchController}(i.AbstractContactSearchController);var p=n(725170);var h=n(766805);var v=n(960172);var g=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var _=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var y=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var b=function(e){g(GroupExtensionUserConfig,e);function GroupExtensionUserConfig(t,n){var r=e.call(this,t,n)||this;r._recentSearchUserConfig=new v.RecentSearchUserConfig(r);return r}GroupExtensionUserConfig.prototype.setETag=function(e){return _(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:return[4,this.put(p.q$.E_TAG,e)];case 1:t.sent();return[2]}}))}))};GroupExtensionUserConfig.prototype.getETag=function(){return _(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,this.get(p.q$.E_TAG)];case 1:return[2,e.sent()]}}))}))};GroupExtensionUserConfig.prototype.removeETag=function(){return _(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,this.remove(p.q$.E_TAG)];case 1:e.sent();return[2]}}))}))};Object.defineProperty(GroupExtensionUserConfig.prototype,"recentSearchConfig",{get:function(){return this._recentSearchUserConfig},enumerable:true,configurable:true});return GroupExtensionUserConfig}(o.DBConfig);var C=n(445865);var m=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var S=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var E=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var I=C.k.tags("GroupExtensionService");var w=function(e){m(GroupExtensionService,e);function GroupExtensionService(t){var n=e.call(this,{isSupportedCache:true,entityName:h.f.COLLECTION_NAME,lazyLoad:true},{dao:t.getDao(h.f)})||this;n._handleGroupExtensionEvent=function(e){I.info("handleGroupExtensionEvent",e);n.groupExtensionFetchController.handleGroupExtensionEvent(e)};n._daoManager=t;return n}GroupExtensionService.prototype.getContactInfoReader=function(){return l.F.getInstance()};GroupExtensionService.prototype.getContactCacheController=function(){return this.getEntityCacheController()};GroupExtensionService.prototype.getContactSearchController=function(){if(!this._groupExtensionSearchController){this._groupExtensionSearchController=new d(this.getContactCacheController())}return this._groupExtensionSearchController};GroupExtensionService.prototype.getContactSourceInfo=function(){return{moduleName:p.Ns,eventKey:p.FY.ENTITY.GROUP_EXTENSION,priority:p.SJ}};Object.defineProperty(GroupExtensionService.prototype,"userConfig",{get:function(){if(!this._userConfig){this._userConfig=new b(p.Ns,this._daoManager.getDBConfigService())}return this._userConfig},enumerable:true,configurable:true});Object.defineProperty(GroupExtensionService.prototype,"groupExtensionRecentSearchDataController",{get:function(){if(!this._groupExtensionRecentSearchDataController){this._groupExtensionRecentSearchDataController=new u.rJ(this.userConfig)}return this._groupExtensionRecentSearchDataController},enumerable:true,configurable:true});Object.defineProperty(GroupExtensionService.prototype,"groupExtensionFetchController",{get:function(){if(!this._groupExtensionFetchController){this._groupExtensionFetchController=new u.Zd(this.getEntitySource(),this.getContactCacheController(),this._daoManager,this.userConfig)}return this._groupExtensionFetchController},enumerable:true,configurable:true});GroupExtensionService.prototype.getNonUserExtensions=function(e){return this.groupExtensionFetchController.getNonUserExtensions(e)};GroupExtensionService.prototype.filter=function(e){var t;var n=this.getSynchronously(e.id);if(!n){return false}var r=(t=e.filterOption)===null||t===void 0?void 0:t.groupExtensionTypes;if(r&&!r.has(n.type)){return false}return this.getContactSearchController().filter({contact:n,searchTerms:e.searchTerms,checkNameOnly:e.checkNameOnly})};GroupExtensionService.prototype.buildEntityCacheController=function(){return new u.W3(this.entityOptions.entityName)};GroupExtensionService.prototype.doFuzzySearchEmailContacts=function(){return Promise.resolve({terms:[],emailContacts:[]})};GroupExtensionService.prototype.getPhoneNumbers=function(t){return e.prototype.getAllPhoneNumbers.call(this,t.phoneNumbers||[],t.extensionNumber)};GroupExtensionService.prototype.onStarted=function(){e.prototype.onStarted.call(this);this.groupExtensionFetchController.schedulePeriodicSync(r.qu);this._rcNotificationModule.subscribe(a.RCSubscriptionKeys.GroupExtension,this._handleGroupExtensionEvent)};GroupExtensionService.prototype.onStopped=function(){e.prototype.onStopped.call(this);this._rcNotificationModule.unsubscribe(a.RCSubscriptionKeys.GroupExtension,this._handleGroupExtensionEvent)};GroupExtensionService.prototype.onAppRestored=function(){e.prototype.onAppRestored.call(this);this.initialEntitiesCache()};GroupExtensionService.prototype.matchByExtensionId=function(e){return S(this,void 0,void 0,(function(){return E(this,(function(t){switch(t.label){case 0:return[4,this.getById(e)];case 1:return[2,t.sent()?e:undefined]}}))}))};GroupExtensionService.prototype.matchByExtensionIdSynchronously=function(e){return this.getDataByIdSynchronously(e)?e:undefined};GroupExtensionService.prototype.onDBRecoverRequire=function(){this.groupExtensionFetchController.onDBRecoverRequire()};Object.defineProperty(GroupExtensionService.prototype,"_rcNotificationModule",{get:function(){return(0,o.getModule)(a.MODULE_NAME)},enumerable:true,configurable:true});return GroupExtensionService}(i.BaseContactService)},47994:()=>{},24697:(e,t,n)=>{"use strict";n.d(t,{F:()=>l});var r=n(298784);var o=n.n(r);var i=n(831270);var a=n(827027);var u=n(274251);var s=n(573256);var c=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var l=function(e){c(GroupExtensionInfoReader,e);function GroupExtensionInfoReader(){return e!==null&&e.apply(this,arguments)||this}GroupExtensionInfoReader.getInstance=function(){if(!this._instance){GroupExtensionInfoReader._instance=new GroupExtensionInfoReader}return GroupExtensionInfoReader._instance};GroupExtensionInfoReader.prototype.getRawName=function(e){return e.name||""};GroupExtensionInfoReader.prototype.getEmails=function(e){return[{label:"",address:e.email||""}]};GroupExtensionInfoReader.prototype.getOrgId=function(e){return o().toInteger(e.account.id)};GroupExtensionInfoReader.prototype.getContactGroupId=function(e){return e.account.id};GroupExtensionInfoReader.prototype.iteratorContactNumbers=function(e,t){if(e.extensionNumber){t({phoneNumber:e.extensionNumber,usageType:u.vX.Extension,type:u.fk.ExtType})}e.phoneNumbers&&e.phoneNumbers.forEach((function(e){t(e)}))};GroupExtensionInfoReader.prototype.isContactHidden=function(e){return!!e.hidden&&e.type!=a.RC_EXTENSION_TYPES.PARK_LOCATION&&e.type!=a.RC_EXTENSION_TYPES.GROUP_CALL_PICKUP};GroupExtensionInfoReader.prototype.isVisibleContact=function(e){return e.status===s.$.ENABLED};GroupExtensionInfoReader.prototype.getExtensionId=function(e){return e.id.toString()};GroupExtensionInfoReader.prototype.getExtensionType=function(e){return e.type};return GroupExtensionInfoReader}(i.AbstractContactInfoReader)},439914:(e,t,n)=>{"use strict";n.d(t,{HC:()=>o,_K:()=>i,pp:()=>r});var r={email:"email",email2:"email2",email3:"email3"};var o={homeAddress:"homeAddress",businessAddress:"businessAddress",otherAddress:"otherAddress"};var i={homePhone:"homePhone",homePhone2:"homePhone2",businessPhone:"businessPhone",businessPhone2:"businessPhone2",mobilePhone:"mobilePhone",businessFax:"businessFax",companyPhone:"companyPhone",assistantPhone:"assistantPhone",carPhone:"carPhone",otherPhone:"otherPhone",otherFax:"otherFax",callbackPhone:"callbackPhone"}},794300:(e,t,n)=>{"use strict";n.d(t,{nC:()=>M,BP:()=>k});var r=n(853542);var o=n(859669);function handleDestroy(e){return function(t){if(Reflect.hasOwnMetadata(o.Z8,t.constructor)){var n=Reflect.getMetadata(o.Z8,t.constructor);t[n].apply(t)}var r=t[o.ty];if(r){r.forEach((function(e,t){e(t)}))}if(e){e()}}}var i=function(){function IoC(e,t,n){var i=this;this._instances=new Map;this._destructors=new Map;this.condition=function(e){return e.moduleId===i._name};this.getInstance=function(e){var t=(i._bindings[e]||{}).scope,n=t===void 0?o.f3:t;var a=i._container.get(e);var u=i._tempDestructor;if(n===r.h6.Singleton&&!i._instances.has(e)){i._instances.set(e,a);u=i._destructors.get(e)}delete i._tempDestructor;return{instance:a,scope:n,destructor:handleDestroy(u)}};this._name=n;this._container=e;this._bindings=Object.keys(t).reduce((function(e,n){var r=t[n].provider[o.e3];if(r){e[r]=t[n]}return e}),{})}IoC.prototype._ensureInjectable=function(e){if(!Reflect.hasOwnMetadata(r.JI.PARAM_TYPES,e)){(0,r.GW)((0,r.b2)(),e)}};IoC.prototype.bind=function(e){var t=this._container.bind(e);t._binding.moduleId=this._name;return t};IoC.prototype.binding=function(e,t){var n=this;var i=this._bindings[t];var a=i.scope,u=i.effect;if(a){switch(a){case r.h6.Request:e.inRequestScope();break;case r.h6.Singleton:e.inSingletonScope();break;case r.h6.Transient:e.inTransientScope();break;default:break}}e.onActivation((function(e,i){if(u){var s=u(i,e.container);if(s){if(!a&&o.f3===r.h6.Singleton||a===r.h6.Singleton){n._destructors.set(t,s)}else{n._tempDestructor=s}}}return i}))};IoC.prototype.executeBinding=function(){var e=this;Object.keys(this._bindings).forEach((function(t){var n=e._bindings[t].provider;e._ensureInjectable(n);var r=e.bind(t).to(n);e.binding(r,t)}))};IoC.prototype.dispose=function(){var e=this;this._instances.forEach((function(t,n){var r=e._destructors.get(n);handleDestroy(r)(t)}));this._container._bindingDictionary.removeByCondition(this.condition)};return IoC}();const a=i;var u=function(){function Registry(e){this._registered=new Map;this._container=e}Registry.prototype.hasRegistered=function(e){return this._registered.has(e)};Registry.prototype.set=function(e,t){if(!this.hasRegistered(e)){this.executeBinding(e,t)}};Registry.prototype.delete=function(e){var t=this._registered.get(e);if(t){t.dispose();this._registered.delete(e)}};Registry.prototype.get=function(e){return this._registered.get(e)};Registry.prototype.executeBinding=function(e,t){var n=new a(this._container,t,e);n.executeBinding();this._registered.set(e,n)};return Registry}();const s=u;var c=n(24018);var l=n(325719);var f=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var d=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var p=function(){function Store(){this.state=l.observable.map([],{deep:false})}Store.prototype.merge=function(e){this.state.merge(e)};Store.prototype.set=function(e,t){this.state.set(e,t)};Store.prototype.get=function(e){return this.state.get(e)};Store.prototype.delete=function(e){this.state.delete(e)};f([l.action,d("design:type",Function),d("design:paramtypes",[Object,Object]),d("design:returntype",void 0)],Store.prototype,"set",null);return Store}();const h=p;var v=n(862926);var g=n(957194);var _=n(109244);var y=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var b=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};function observeBindingLoadState(e,t){if(!o.D8.BUSINESS[e]){o.D8.BUSINESS[e]={}}return function(){return y(this,void 0,void 0,(function(){var n,r;return b(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,t()];case 1:n=i.sent();o.D8.BUSINESS[e].load=o.$f.SUCCESS;return[2,n];case 2:r=i.sent();o.D8.BUSINESS[e].load=o.$f.FAILED;throw r;case 3:return[2]}}))}))}}var createPreHandler=function(e,t,n){return function(){return y(void 0,void 0,void 0,(function(){var r,o;return b(this,(function(i){switch(i.label){case 0:if(!(n&&!t.hasRegistered(e)))return[3,4];i.label=1;case 1:i.trys.push([1,3,,4]);return[4,n()];case 2:r=i.sent();if(!t.hasRegistered(e)){t.set(e,r)}return[3,4];case 3:o=i.sent();return[3,4];case 4:return[2]}}))}))}};var C=function(){function DescriptorManager(e){this.descriptors=new Map;this.cleanups=new Map;this.dependenceStatus=new Map;this._registry=e}DescriptorManager.prototype._set=function(e,t){var n=this;var r;if(this.get(e)){throw new Error("You cannot duplicate registration descriptor ["+e+"]")}if(t.binding){t.binding=observeBindingLoadState(e,t.binding)}var o=(r=t.route)===null||r===void 0?void 0:r.component;if(o){o[g.Ti]=e;if(o[g.Dj]){o[g.Dj](createPreHandler(e,this._registry,t.binding))}}_.k.info("set descriptor: ",e);this.descriptors.set(e,t);var i=t.effect;if(i){var a=i();if(a instanceof Promise){a.then((function(t){return t&&n.cleanups.set(e,t)}))}else if(a){this.cleanups.set(e,a)}}var u=this.dependenceStatus.get(e);if(u){u.open();this.dependenceStatus.delete(e)}};DescriptorManager.prototype.set=function(e,t){var n=this;var r=t.dependence;if(r){if(!Array.isArray(r)){r=[r]}var o=[];r.forEach((function(e){if(!n.get(e)){if(!n.dependenceStatus.get(e)){n.dependenceStatus.set(e,new v.Barrier)}o.push(e)}}));if(o.length){return Promise.all(o.map((function(e){var t;return(t=n.dependenceStatus.get(e))===null||t===void 0?void 0:t.wait()}))).then((function(){n._set(e,t)}))}}return this._set(e,t)};DescriptorManager.prototype.get=function(e){return this.descriptors.get(e)};DescriptorManager.prototype.delete=function(e){var t=this.cleanups.get(e);if(t){t();this.cleanups.delete(e)}return this.descriptors.delete(e)};return DescriptorManager}();const m=C;var S=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var E=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var action=function(e){var t=e.getDescriptor,n=e.registry;return function(){return function(e){return S(void 0,void 0,void 0,(function(){var r,i,a,u,s,c,l,f,d,p,h,v,y;return E(this,(function(b){switch(b.label){case 0:r=e.name,i=e.type,a=e.params;u=t(r);s={code:g.Q4.NotRegistered};if(!o.D8.BUSINESS[r]){o.D8.BUSINESS[r]={}}if(!o.D8.BUSINESS[r].error_in_execution){o.D8.BUSINESS[r].error_in_execution={}}if(!(u&&u.api&&u.binding))return[3,9];return[4,u.api(false)];case 1:c=b.sent();Object.keys(c).some((function(e){var t=c[e].api;if(t.includes(i)){l=c[e]["provider"];return true}return false}));b.label=2;case 2:b.trys.push([2,8,,9]);if(!l||!l[o.e3]){f="\n          "+i+" does not exist in descriptor.api, check your module descriptor.\n          dispatch type: {name: "+r+", type: "+i+" },\n          provider: { exits: "+!!l+", REGISTER_NAME: "+!!(l===null||l===void 0?void 0:l[o.e3])+" },\n        ";throw new Error(f)}if(!!n.hasRegistered(r))return[3,4];return[4,u.binding()];case 3:d=b.sent();n.set(r,d);b.label=4;case 4:p=n.get(r);h=p.getInstance(l[o.e3]).instance;if(!h)return[3,7];v=h[i](a);if(!(v instanceof Promise))return[3,6];return[4,v];case 5:v=b.sent();b.label=6;case 6:s.res=v;s.code=g.Q4.Success;delete o.D8.BUSINESS[r].error_in_execution[i];b.label=7;case 7:return[3,9];case 8:y=b.sent();_.k.error("api invoke error",y,r,i);s.code=g.Q4.ExecutionFailed;s.error=y;o.D8.BUSINESS[r].error_in_execution[i]=true;return[3,9];case 9:return[2,s]}}))}))}}};var I=n(854645);var w=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var R=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var P=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var A=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(P(arguments[t]));return e};function createSchemeHandler(){var e={container:new Map,get:function(t){var n=e.container.get(t);if(n){return n}var r=t.slice(0,t.indexOf(I.C));var o=t.replace(r,"");var i=Array.from(e.container).find((function(e){var t=P(e,1),n=t[0];var i=n.replace(r,"");return i&&o.indexOf(i)>-1}));if(i){return i[1]}return e.container.get(r)},set:function(t,n){e.container.set(t,n)}};return e}var T=function(){function ManagerImpl(e){var t=this;this._store=new h;this._middlewares=[];this._hasInitMiddleware=false;this.dispatch=function(e){if(!t._hasInitMiddleware){t._initMiddleware()}return t._dispatch(e)};this.injectDispatchScheme=function(e){t.dispatchScheme=e};this._getValidPath=function(e){var n=e.checkInfo,r=e.initialPath;var o=r.split("/");if(o.length===1){return o[0]}if(n[r]){return r}else{var i=[];o.forEach((function(e,t){if(t!==o.length-1){i.push(e)}}));return t._getValidPath({checkInfo:n,initialPath:i.join("/")})}};this.getDescriptor=function(e){return t._descriptorManager.get(e)};this.schemeKeep=[];this._middlewares=this._middlewares.concat([action]);this._descriptorManager=new m(e);this.registry=e}ManagerImpl.prototype._initMiddleware=function(){if(this._hasInitMiddleware){return}var e=this;var t=this._middlewares.map((function(t){return t(e)}));this._dispatch=c.q.apply(void 0,A(t))((function(){}));this._hasInitMiddleware=true};ManagerImpl.prototype.applyMiddleware=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(this._hasInitMiddleware){return}this._middlewares.concat(e);this._initMiddleware()};ManagerImpl.prototype.setSchemeCheckInfo=function(e){_.k.info("setSchemeCheckInfo",e);var t=this.getState(o.ek.SCHEME_CHECK_INFO)||new Map;Object.keys(e).forEach((function(n){var r=t.get(n)||{};Object.assign(r,e[n]);t.set(n,r)}));this.setState(o.ek.SCHEME_CHECK_INFO,t)};ManagerImpl.prototype.schemeChecker=function(e,t){var n=this.getState(o.ek.SCHEME_CHECK_INFO)||new Map;var r=n.get(e)||{};var i=this._getValidPath({checkInfo:r,initialPath:t});return r[i]||r[o.PE]};ManagerImpl.prototype.getState=function(e){return this._store.get(e)};ManagerImpl.prototype.setState=function(e,t){return this._store.set(e,t)};ManagerImpl.prototype.deleteState=function(e){return this._store.delete(e)};ManagerImpl.prototype.setDescriptor=function(e,t){return w(this,void 0,void 0,(function(){var n;return R(this,(function(r){switch(r.label){case 0:n=this._descriptorManager.set(e,t);if(!(n instanceof Promise))return[3,2];return[4,n];case 1:r.sent();r.label=2;case 2:this.syncRoute();this.syncSchemeHandles();this.syncLinkClickingHandlers();this.syncModuleRegisterInfo();return[2]}}))}))};ManagerImpl.prototype.deleteDescriptor=function(e){this._descriptorManager.delete(e);this.registry.delete(e);this.syncRoute();this.syncSchemeHandles();this.syncLinkClickingHandlers();this.syncModuleRegisterInfo()};ManagerImpl.prototype.syncRoute=function(){var e=this._descriptorManager.descriptors;var t=new Map;e.forEach((function(e,n){var r=e.route;r&&t.set(n,r)}));this.setState(o.ek.ROUTES,t)};ManagerImpl.prototype.setSchemeHandle=function(e,t){e.forEach((function(e){var n=e.protocol,r=e.path,o=e.handler;if(r){r.forEach((function(e){var r=(0,I.R)(n,e);t.set(r,o)}))}else{t.set(n,o)}}))};ManagerImpl.prototype.syncSchemeHandles=function(){var e=this;var t=this._descriptorManager.descriptors;var n=createSchemeHandler();t.forEach((function(t){var r=t.scheme;if(r){var o=(!Array.isArray(r)?[r]:r).concat(e.schemeKeep);e.setSchemeHandle(o,n)}}));_.k.info("syncSchemeHandles: updated schemeHandles",Array.from(n.container.keys()));this.setState(o.ek.SCHEME_HANDLES,n)};ManagerImpl.prototype.registerScheme=function(e){this.schemeKeep=this.schemeKeep.concat(e);var t=!Array.isArray(e)?[e]:e;var n=this.getState(o.ek.SCHEME_HANDLES)||createSchemeHandler();this.setSchemeHandle(t,n);_.k.info("registerScheme: updated schemeHandles",Array.from(n.container.keys()));this.setState(o.ek.SCHEME_HANDLES,n)};ManagerImpl.prototype.syncLinkClickingHandlers=function(){var e=this._descriptorManager.descriptors;var t=[];var n=[];e.forEach((function(e){var r=e.linkClickingHandlers,o=e.linkClickingPreHandlers;if(r){t=t.concat(r)}if(o){n=n.concat(o)}}));this.setState(o.ek.LINK_CLICKING_HANDLERS,t);this.setState(o.ek.LINK_CLICKING_PRE_HANDLERS,n)};ManagerImpl.prototype.syncModuleRegisterInfo=function(){var e=this._descriptorManager.descriptors;var t=A(e.keys());this.setState(o.ek.REGISTERED_MODULE,t)};return ManagerImpl}();const O=T;var N=n(870081);var x=n(96686);var D=function(){function Container(){this._inversifyInstance=new r.W2({defaultScope:o.f3,skipBaseClassChecks:true});this.registry=new s(this._inversifyInstance);this.manager=new O(this.registry);this.schemeProcessor=new N.eN(this.manager);this.linkClickingManager=new x.LinkClickingManager(this.manager)}Container.prototype.setApplication=function(e){this._app=e};Container.prototype.run=function(){if(!this._app){throw new Error("you have to set application before run")}this._app.execute(this)};return Container}();var M=new D;var k=M.manager},312440:(e,t,n)=>{"use strict";n.d(t,{F:()=>p});var r=n(325719);var o=n.n(r);var i=n(862926);var a=n.n(i);var u=n(109244);var s=undefined&&undefined.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)if(a=e[u])i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var c=undefined&&undefined.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var l=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var f=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var d="[Lifecycle]";var p=function(){function Lifecycle(){this._phaseWhen=new Map}Lifecycle.prototype.setPhase=function(e){if(e<this.phase){u.k.warn(d,"Lifecycle cannot go backwards");return}if(this.phase===e){return}u.k.info(d,"lifecycle: phase changed (value: "+e+")");this.phase=e;var t=this._phaseWhen.get(this.phase);if(t){t.open();this._phaseWhen.delete(this.phase)}};Lifecycle.prototype.when=function(e){return l(this,void 0,Promise,(function(){var t;return f(this,(function(n){switch(n.label){case 0:if(this.isReach(e)){return[2]}t=this._phaseWhen.get(e);if(!t){t=new i.Barrier;this._phaseWhen.set(e,t)}return[4,t.wait()];case 1:n.sent();return[2]}}))}))};Lifecycle.prototype.isReach=function(e){return this.phase>=e};s([r.observable,c("design:type",Object)],Lifecycle.prototype,"phase",void 0);return Lifecycle}()},859669:(e,t,n)=>{"use strict";n.d(t,{Z8:()=>o,ty:()=>u,e3:()=>s,PE:()=>c,f3:()=>l,mv:()=>f,$f:()=>d,D8:()=>p,A1:()=>h,wD:()=>v,ek:()=>g});var r=n(853542);var o=Symbol("PRE_DESTROY");var i=Symbol("EFFECT");var a=Symbol("DESTRUCTOR");var u=Symbol("DEPENDENT_INSTANCES");var s=Symbol("REGISTER_NAME");var c=Symbol("CHECKINFO_DEFAULT_KEY");var l=r.h6.Singleton;var f="UI";var d;(function(e){e["SUCCESS"]="success";e["FAILED"]="failed";e["NOT_TRIGGERED"]="not triggered"})(d||(d={}));var p={VIEW:{},BUSINESS:{}};var h=Symbol("NAME");var v=Symbol("TYPE");var g;(function(e){e["ROUTES"]="ROUTES";e["SCHEME_HANDLES"]="SCHEME_HANDLES";e["SCHEME_CHECK_INFO"]="SCHEME_CHECK_INFO";e["LINK_CLICKING_HANDLERS"]="LINK_CLICKING_HANDLERS";e["LINK_CLICKING_PRE_HANDLERS"]="LINK_CLICKING_PRE_HANDLERS";e["REGISTERED_MODULE"]="REGISTERED_MODULE"})(g||(g={}))},868787:(e,t,n)=>{"use strict";var r=n(853542);var o=n(859669);function preDestroy_preDestroy(){return function(e,t){if(Reflect.hasOwnMetadata(PRE_DESTROY,e.constructor)){throw new Error('"Cannot apply @preDestroy decorator multiple times in the same class')}Reflect.defineMetadata(PRE_DESTROY,t,e.constructor)}}var i=undefined&&undefined.__assign||function(){i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return i.apply(this,arguments)};function effect(e,t,n){if(Reflect.hasOwnMetadata(EFFECT,e.constructor)){throw new Error('"Cannot apply @effect decorator multiple times in the same class')}var cleanup=function(){};var destructor=function(){cleanup()};function getter(){cleanup=e[t]()}Object.defineProperty(e,EFFECT,i(i({},n),{value:getter}));Object.defineProperty(e,DESTRUCTOR,{value:destructor,writable:false});postConstruct()(e,EFFECT,n);preDestroy()(e,DESTRUCTOR);Reflect.defineMetadata(EFFECT,t,e.constructor)}},262085:(e,t,n)=>{"use strict";n.d(t,{f:()=>inject});var r=n(853542);var o=n(325719);var i=n.n(o);var a=n(794300);var u=n(859669);var s=n(109244);var c=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var l=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e};var f=s.k.tags("[decorator-inject]");var d=Symbol("INJECTION");var p=Symbol("PATCHED");function dispose(){var e=this[u.ty];if(e){e.forEach((function(e,t){e(t)}))}}function isReactComponent(e){return!!e.isReactComponent}function isViewModel(e){return!!e.dispose}function patch(e,t){var n=e[t];if(n&&n[p]){return}e[t]=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}n&&n.apply.apply(n,l([this],e));dispose.apply(this)};e[t][p]=true}function proxyGetterAndSetter(e,t,n){function getter(){if(!Reflect.hasOwnMetadata(d,this,t)){Reflect.defineMetadata(d,n(),this,t)}return Reflect.getOwnMetadata(d,this,t)}function setter(e){Reflect.defineMetadata(d,e,this,t)}Object.defineProperty(e,t,{configurable:true,enumerable:true,get:getter,set:setter})}function setAndGetInstance(e,t,n,o){var i=a.nC.registry;var s=i.get(e);var c=s.getInstance(t),l=c.instance,f=c.scope,d=c.destructor;if(f!==r.h6.Singleton){if(!n[u.ty]){n[u.ty]=new Map}if(!n[u.ty].has(l)){n[u.ty].set(l,d)}if(isReactComponent(n)){patch(n,"componentWillUnmount")}if(isViewModel(n)){patch(n,"dispose")}}o&&o.set(l);return l}function inject(e,t){return function(n,r){var resolve=function(){var i=o.observable.box({},{deep:false});if(!a.nC){throw new Error("You have to set a container to make inject function work!")}var u=a.nC.registry,s=a.nC.manager;if(!u.hasRegistered(e)){var c=s.getDescriptor(e);if(!c||!c.binding){throw new Error('"You have to register a module to make inject function work!" name: '+e+", descriptor exist: "+!!c+", binding exist: "+!!(c&&c.binding))}c.binding().then((function(r){if(!u.hasRegistered(e)){u.set(e,r)}setAndGetInstance(e,t,n,i)})).catch((function(e){var t="className: "+n.constructor.name+", attribute: "+(typeof r==="string"?r:"attribute is Symbol type");f.error(e,t);e.message=e.message+", "+t;throw e}))}else{return setAndGetInstance(e,t,n)}return i};proxyGetterAndSetter(n,r,resolve)}}},854645:(e,t,n)=>{"use strict";n.d(t,{C:()=>r,R:()=>createSchemeHandleKey});var r="://";function createSchemeHandleKey(e,t){return t?""+e+r+t:e}},495811:(e,t,n)=>{"use strict";n.d(t,{W:()=>deleteWorkboxPreCaches});var r=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var o=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var i="workbox-precache-";function deleteWorkboxPreCaches(e,t,n){if(t===void 0){t=true}if(n===void 0){n=i}return r(this,void 0,void 0,(function(){var i,a,u;var s=this;return o(this,(function(c){switch(c.label){case 0:return[4,caches.keys()];case 1:i=c.sent();a=i.filter((function(e){return e.includes(n)}));u=[];return[4,Promise.all(a.map((function(n){return function(){return r(s,void 0,void 0,(function(){var r,i,a;return o(this,(function(o){switch(o.label){case 0:if(!e)return[3,4];return[4,caches.open(n)];case 1:r=o.sent();return[4,r.keys()];case 2:i=o.sent();a=[];i.forEach((function(t){if(t.url&&t.url.includes(e)){u.push(t.url);a.push(r.delete(t))}}));return[4,Promise.all(a)];case 3:o.sent();o.label=4;case 4:if(!(t&&u.length===0))return[3,6];return[4,caches.delete(n)];case 5:o.sent();o.label=6;case 6:return[2]}}))}))}()})))];case 2:c.sent();return[2,t?a:u]}}))}))}},867681:(e,t,n)=>{"use strict";n.d(t,{o:()=>getType});function getType(e){return e}},653895:(e,t,n)=>{"use strict";n.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=n(305406);var o=n.n(r);var i=n(14862);var a=n.n(i);var u=n(85821);var s=undefined&&undefined.__assign||function(){s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return s.apply(this,arguments)};const __WEBPACK_DEFAULT_EXPORT__=function(e){(0,u.Z)(e);return function(t){return o().createElement(i.Trans,s({ns:e},t))}}},803208:(e,t,n)=>{"use strict";n.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=n(305406);var o=n.n(r);var i=n(14862);var a=n.n(i);var u=n(85821);var s=undefined&&undefined.__assign||function(){s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return s.apply(this,arguments)};const __WEBPACK_DEFAULT_EXPORT__=function(e){(0,u.Z)(e);return function(t){return o().createElement(i.Translation,s({ns:e},t))}}},85821:(e,t,n)=>{"use strict";n.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=n(794300);var o=n(176414);const __WEBPACK_DEFAULT_EXPORT__=function(e){if(!(0,o.IQ)(e)){var t=r.BP.getDescriptor(e);if(!t||!t.localization){return}var n=t.localization;(0,o.rp)(n,e)}}},438133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=n(714614);var o=n.n(r);var i=n(85821);const __WEBPACK_DEFAULT_EXPORT__=function(e){(0,i.Z)(e);return o().getFixedT(null,e)}},470487:(e,t,n)=>{"use strict";n.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=n(14862);var o=n.n(r);var i=n(85821);const __WEBPACK_DEFAULT_EXPORT__=function(e){(0,i.Z)(e);return function(t){return(0,r.useTranslation)(e,t)}}},491933:(e,t,n)=>{"use strict";n.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=n(14862);var o=n.n(r);var i=n(85821);const __WEBPACK_DEFAULT_EXPORT__=function(e){(0,i.Z)(e);return function(t){return(0,r.withTranslation)(e)(t)}}},347502:()=>{},713345:()=>{},28185:(e,t,n)=>{"use strict";n.d(t,{P:()=>i,X:()=>retry});var r=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var o=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var i=function(){function MaxRetriesError(e){this.name="MaxRetriesError";var t=new Error(e);this.stack=t.stack;this.message=t.message}return MaxRetriesError}();function retry(e,t,n,a,u){if(t===void 0){t=2}if(a===void 0){a=500}if(u===void 0){u=true}return r(this,void 0,Promise,(function(){var r,s;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,2,,5]);return[4,e(n)];case 1:r=o.sent();return[2,r];case 2:s=o.sent();if(!t)return[3,4];return[4,new Promise((function(e){return setTimeout(e,a)}))];case 3:o.sent();return[2,retry(e,t-1,n,u?a*2:a,u)];case 4:throw new i(s?s.message:"");case 5:return[2]}}))}))}},977672:(e,t,n)=>{"use strict";n.d(t,{Z:()=>withErrorBoundary});var r=n(305406);var o=n.n(r);var i=n(495381);var a=n(84752);var u=n(28185);var s=n(957194);var c=n(859669);var l=n(109244);var f=n(694323);var d=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var p=undefined&&undefined.__assign||function(){p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o))e[o]=t[o]}return e};return p.apply(this,arguments)};var h=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var v=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var g=l.k.tags("[ErrorBoundary]");var _=2;var y={Error:function(e){var t=e.retry;return o().createElement("h1",null,"Something went wrong."," ",o().createElement("button",{type:"button",onClick:t},"please have retry"))}};function withErrorBoundary(e,t){var n=p(p({},y),t);function initModuleViewStatus(e){if(!c.D8.VIEW[r[s.Ti]]||e){c.D8.VIEW[r[s.Ti]]={load:c.$f.SUCCESS,error_in_execution:false}}}var r=function(t){d(ErrorBoundary,t);function ErrorBoundary(e){var n=t.call(this,e)||this;n.hasRetryTimes=0;n.hasHandledPreCache=false;n.state={hasError:false};n.handlePreCache=function(){return h(n,void 0,void 0,(function(){var e,t,n;return v(this,(function(r){switch(r.label){case 0:if(!(!this.hasHandledPreCache&&this.hasRetryTimes>=_))return[3,2];g.error(ErrorBoundary[s.Ti],"delete workbox pre cache because of retry times ["+this.hasRetryTimes+"]");this.hasHandledPreCache=true;e=ErrorBoundary[s.Ti].toLocaleLowerCase();t="/"+e+".entrance.";return[4,(0,f.Wx)(t,false)];case 1:n=r.sent();g.error(ErrorBoundary[s.Ti],n);r.label=2;case 2:return[2]}}))}))};n.retry=function(){n.setState({hasError:false});n.hasRetryTimes+=1;var e=c.D8.VIEW[ErrorBoundary[s.Ti]].load;if(e===c.$f.FAILED){ErrorBoundary.Loadable.load(n.props);n.handlePreCache()}initModuleViewStatus(true)};initModuleViewStatus();return n}ErrorBoundary[s.Dj]=function(t){return h(this,void 0,void 0,(function(){var r=this;return v(this,(function(o){switch(o.label){case 0:ErrorBoundary.Loadable=(0,i.ZP)((function(n){return h(r,void 0,void 0,(function(){return v(this,(function(r){switch(r.label){case 0:if(!t)return[3,2];return[4,t()];case 1:r.sent();r.label=2;case 2:return[2,e(n)]}}))}))}),{fallback:n.loading});if(!n.preload)return[3,2];return[4,ErrorBoundary.Loadable.load()];case 1:o.sent();o.label=2;case 2:return[2]}}))}))};ErrorBoundary.prototype.componentDidCatch=function(e,t){g.error(ErrorBoundary[s.Ti],e,t);this.setState({hasError:true});if(e instanceof u.P||e instanceof a.W){Object.assign(c.D8.VIEW[ErrorBoundary[s.Ti]],{load:c.$f.FAILED});return}Object.assign(c.D8.VIEW[ErrorBoundary[s.Ti]],{error_in_execution:true})};ErrorBoundary.prototype.render=function(){if(this.state.hasError){var e=n.Error;return o().createElement(e,{retry:this.retry})}return o().createElement(ErrorBoundary.Loadable,p({},this.props))};return ErrorBoundary}(o().PureComponent);return r}},96686:(e,t,n)=>{"use strict";n.d(t,{LinkClickingManager:()=>f});var r=n(325719);var o=n(309210);var i=n(109244);var a=n(859669);var u=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var s=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var c="[LinkClickingManager]";var l=i.k.tags(c);var f=function(){function LinkClickingManager(e){var t=this;this._internalDownloadRegex=new RegExp(window.location.host+"/download");this.defaultHandler=function(e,n){var r=n.href;if(t._shouldAlwaysOpenWithBrowser(n)){e.preventDefault&&e.preventDefault();var i=o.r.getWindowManager();i.newWindow(r,{alwaysOpenInBrowser:true});return true}if(n.host===window.location.host){e.preventDefault&&e.preventDefault();var a=o.r.getHistory();r&&a.push(r.replace(n.origin,""));return true}return false};this.handle=function(e){return u(t,void 0,void 0,(function(){var t,n,r,o,i;return s(this,(function(u){switch(u.label){case 0:if(!e){l.warn("The event is empty");return[2,false]}n=e.target;if(!n)return[3,2];return[4,this._preHandle(e.target.href)];case 1:n=u.sent();u.label=2;case 2:t=n;r=this._manager.getState(a.ek.LINK_CLICKING_HANDLERS);if(!t)return[3,5];o=this.getInfoFromLink(t);if(!o.href){return[2,false]}return[4,this._getHandler(t,r,this.defaultHandler)];case 3:i=u.sent();return[4,i(e,o)];case 4:return[2,u.sent()!==false];case 5:return[2,false]}}))}))};this._manager=e;(0,r.when)((function(){return o.r.initialized}),(function(){var e=o.r.getLinkClickingMonitor();e.init(t.handle)}))}LinkClickingManager.prototype._shouldAlwaysOpenWithBrowser=function(e){return this._internalDownloadRegex.test(e.href)||["mailto:"].includes(e.protocol)};LinkClickingManager.prototype._preHandle=function(e){return u(this,void 0,Promise,(function(){var t,n,r;return s(this,(function(o){switch(o.label){case 0:if(!e)return[2,""];t=this._manager.getState(a.ek.LINK_CLICKING_PRE_HANDLERS);return[4,this._getHandler(e,t)];case 1:n=o.sent();if(!n)return[3,3];return[4,n(e)];case 2:r=o.sent();return[3,4];case 3:r=e;o.label=4;case 4:return[2,r]}}))}))};LinkClickingManager.prototype.getInfoFromLink=function(e){try{var t=new URL(e);return t}catch(t){l.warn("invalid link, "+e);return{}}};LinkClickingManager.prototype._getHandler=function(e,t,n){return u(this,void 0,void 0,(function(){var r;var o=this;return s(this,(function(a){switch(a.label){case 0:r=n;if(!t)return[3,2];return[4,Promise.all(t.map((function(t){return u(o,void 0,void 0,(function(){var o,a,u,c;return s(this,(function(s){switch(s.label){case 0:if(!t||r!==n){return[2,null]}o=!t.pattern||t.pattern.test(e);s.label=1;case 1:s.trys.push([1,5,,6]);a=o;if(!a)return[3,4];u=!t.canHandle;if(u)return[3,3];return[4,t.canHandle(e)];case 2:u=s.sent();s.label=3;case 3:a=u;s.label=4;case 4:o=a;return[3,6];case 5:c=s.sent();i.k.error("Failed to invoke config.canHandle, "+c);o=false;return[3,6];case 6:if(o){r=t.handler;return[2,r]}return[2,null]}}))}))})))];case 1:a.sent();a.label=2;case 2:return[2,r]}}))}))};return LinkClickingManager}()},949591:()=>{},869737:()=>{},924133:()=>{},720258:()=>{},954876:(e,t,n)=>{"use strict";n.d(t,{e:()=>b});var r=n(325719);var o=n.n(r);var i=n(309210);var a=n(859669);var u=n(109244);var s=n(854645);var c=n(895194);var l=n(298784);var f=n.n(l);var d=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var p=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(i=a[0]&2?o["return"]:a[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;if(o=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;o=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var h=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var v="[SCHEME_PROCESSOR]";var g=u.k.tags(v);var _=3e3;var y;(function(e){e["AUTH"]="AUTH";e["ACTION"]="ACTION";e["ABNORMAL"]="ABNORMAL"})(y||(y={}));var b=function(){function SchemeProcessor(e){var t=this;this._handle=function(e,n){return d(t,void 0,Promise,(function(){var t,r,o,i,u,l,f,d,v,b,C,m,S,E,I,w,R,P,A,T,O;var N;var x=this;return p(this,(function(p){switch(p.label){case 0:g.info("[schemeProcessor] processing scheme "+e);if(!e){g.warn("The string is empty URL");return[2,{exitType:y.ABNORMAL}]}t=null;try{t=new URL(e)}catch(t){g.warn("The string is invalid URL: "+e)}if(!(t&&t.protocol))return[3,19];r=t.protocol.slice(0,-1);o=(0,c.v)(e).slice(1);i=this._manager.schemeChecker(r,o)||{},u=i.auth,l=u===void 0?true:u,f=i.condition,d=i.targetParser,v=i.onConditionFailed;g.info(t,"auth:"+l+", targetParser:"+(d===null||d===void 0?void 0:d.name));if(!n)return[3,4];p.label=1;case 1:p.trys.push([1,3,,4]);return[4,n()];case 2:p.sent();g.info("invoke precondition successful");return[3,4];case 3:b=p.sent();g.error("invoke precondition failed",b);return[2,{exitType:y.ABNORMAL}];case 4:C=l;if(!C)return[3,6];return[4,this._schemeMonitor.handleIfNotAuthenticated(e)];case 5:C=p.sent();p.label=6;case 6:if(C){g.info("scheme was handled by schemeMonitor");return[2,{exitType:y.AUTH}]}m=(0,s.R)(r,o);S=this._manager.getState(a.ek.SCHEME_HANDLES).get(m);E=!S;I=d&&d!==S;g.info("Parser:"+(S===null||S===void 0?void 0:S.name));if(!(E||I))return[3,9];g.info("can not get parser, wait for some time");if(!!this._schemeMonitor.isReachStable())return[3,8];return[4,new Promise((function(e){return setTimeout(e,_)}))];case 7:p.sent();p.label=8;case 8:if(f&&!f()){g.info("condition not met");v===null||v===void 0?void 0:v();return[2,{exitType:y.ABNORMAL}]}S=this._manager.getState(a.ek.SCHEME_HANDLES).get(m);p.label=9;case 9:if(!S)return[3,17];w=new S;R=w.parse(t);if(!R)return[3,15];g.info("Going to handle action: "+JSON.stringify(R));if(!this._schemeMonitor.supportHandleDeepLinkFocusByWeb)return[3,14];P=false;A=false;if(!R.shouldPreventFocusDefaultWindow)return[3,13];p.label=10;case 10:p.trys.push([10,12,,13]);return[4,Promise.all([R.shouldPreventFocusDefaultWindow(),this._schemeMonitor.canBypassSystemDefaultFocus()])];case 11:N=h.apply(void 0,[p.sent(),2]),P=N[0],A=N[1];return[3,13];case 12:T=p.sent();g.error("caught error when determine shouldPreventFocusDefaultWindow, err:",T);return[3,13];case 13:g.info("wouldLikeToCustomFocus:",P,"systemSupportsCustomFocus:",A);if(!(A&&P))this._schemeMonitor.handleDefaultFocus();p.label=14;case 14:O=R.execute();if(O){setTimeout((function(){g.log("clean scheme store");x._schemeMonitor.cleanSchemeStore()}),2e3)}return[2,{exitType:y.ACTION}];case 15:g.warn("Not valid action object. url string: "+e+".");p.label=16;case 16:return[3,18];case 17:g.warn("Cannot find proper handler for "+e+".");p.label=18;case 18:return[3,20];case 19:g.warn("parsed URL is null. url string: "+e);p.label=20;case 20:return[2,{exitType:y.ABNORMAL}]}}))}))};this._postHandle=function(e){var n=e.exitType;if(n!==y.ACTION)t._schemeMonitor.handleDefaultFocus()};this.handle=f().debounce((function(e,n){return d(t,void 0,void 0,(function(){var t,r;return p(this,(function(o){switch(o.label){case 0:t={exitType:y.ABNORMAL};o.label=1;case 1:o.trys.push([1,3,,4]);return[4,this._handle(e,n)];case 2:t=o.sent();return[3,4];case 3:r=o.sent();g.error(r);return[3,4];case 4:this._postHandle(t);return[2]}}))}))}),1e3,{leading:true,trailing:true});this._manager=e;(0,r.when)((function(){return i.r.initialized}),(function(){t._schemeMonitor=i.r.getSchemeMonitor();t._schemeMonitor.init(t.handle)}));this._manager.injectDispatchScheme((function(e){return t.handle(e)}))}return SchemeProcessor}()},957194:(e,t,n)=>{"use strict";n.d(t,{Q4:()=>o,ed:()=>i,Ti:()=>a,Dj:()=>u});var r=n(859669);var o;(function(e){e["Success"]="Success";e["ExecutionFailed"]="ExecutionFailed";e["NotRegistered"]="NotRegistered"})(o||(o={}));var i;(function(e){e[e["Starting"]=1]="Starting";e[e["Ready"]=2]="Ready";e[e["Restored"]=3]="Restored";e[e["Eventually"]=4]="Eventually";e[e["Logout"]=5]="Logout"})(i||(i={}));var a=Symbol("identifier");var u=Symbol("setup")},24018:(e,t,n)=>{"use strict";n.d(t,{q:()=>compose});var r=undefined&&undefined.__read||function(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{while((t===void 0||t-- >0)&&!(o=r.next()).done)i.push(o.value)}catch(e){a={error:e}}finally{try{if(o&&!o.done&&(n=r["return"]))n.call(r)}finally{if(a)throw a.error}}return i};var o=undefined&&undefined.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};function compose(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(e.length===0){return function(e){return e}}if(e.length===1){return e[0]}return e.reduce((function(e,t){return function(){var n=[];for(var r=0;r<arguments.length;r++){n[r]=arguments[r]}return e(t.apply(void 0,o(n)))}}))}},895194:(e,t,n)=>{"use strict";n.d(t,{v:()=>extractPath});var r=n(109244);var o=n(298784);var i=n.n(o);var a=n(980899);var u=n.n(a);function extractPath(e){try{var t=u()(e);var n=(0,o.toLower)(e).startsWith("http")?t.pathname:"/"+t.hostname+t.pathname;n=n.replace(/^[/]+/,"/");n=n.replace(/(.+?)[/]+$/,"$1");r.k.log("extractPath: change "+e+" to "+n);return n}catch(t){r.k.error("cant extract path from URL "+e+", error: "+JSON.stringify(t));return"/"}}},545545:()=>{},578028:()=>{},850695:()=>{},584215:()=>{},347021:()=>{},940512:()=>{},124318:()=>{},603967:()=>{},463881:()=>{},846638:()=>{},96553:()=>{},291260:e=>{"use strict";e.exports=JSON.parse('{"allowedMeetingAppNames":["Office@Hand Meetings","RingCentral Meetings","BT Cloud Phone Meetings","TELUS Business Connect\u2122 Meetings"],"allowShowPaywallEntryPoints":false,"androidAppDownloadLink":"https://play.google.com/store/apps/details?id=com.attofficeathand.android&hl=en_US","appName":"AT&T Office@Hand","brand":"att","brandName":"AT&T Office@Hand","brandRCM":"AT&T Office@Hand Meetings","brandRCV":"AT&T Office@Hand Meetings","canSubmitCallQualityFeedback":false,"conferenceDialInLink":"https://meetings.officeathand.att.com/teleconference","copyRight":{"companyName":"AT&T","extendedCopyrightLabel":true,"showDomain":false,"year":2021},"cspDomains":[],"currentBrandMeetingAppName":"Office@Hand Meetings","desktopAppDownloadLink":{"mac":"/download/AT&T Office@Hand.pkg","macArm":"/download/AT&T Office@Hand-arm64.pkg","win":"/download/AT&T Office@Hand.exe"},"domain":"app-officeathand.att.com","doNotSellMyPersonalInformation":"https://about.att.com/csr/home/privacy/rights_choices.html","dynamic":false,"enableInviteNewAccountByEmail":false,"enableReportIssue":false,"enableSignUp":false,"enableSpecificResourceCenter":false,"entranceLogoPath":"/icons/entranceLogo.svg","fallbackLangsMap":{"brandIdMap":{"3420":"en-US","3460":"en-US"}},"internationalBrandConfig":{"3420":{"legalLinks":{"acceptableUsePolicy":"https://www.business.att.com/content/dam/attbusiness/infographics/att-office-hand-eula.pdf","acceptableUsePolicyFreeUsers":"https://www.business.att.com/content/dam/attbusiness/infographics/att-office-hand-eula.pdf","privacyPolicy":"https://about.att.com/csr/home/privacy.html","privacyPolicyFreeUsers":"","termsOfService":"http://www.att.com/officeathandpolicy","termsOfServiceFreeUsers":"","version":""}},"3460":{"legalLinks":{"acceptableUsePolicy":"https://www.business.att.com/content/dam/attbusiness/infographics/att-office-hand-eula.pdf","acceptableUsePolicyFreeUsers":"https://www.business.att.com/content/dam/attbusiness/infographics/att-office-hand-eula.pdf","privacyPolicy":"https://about.att.com/csr/home/privacy.html","privacyPolicyFreeUsers":"","termsOfService":"http://www.att.com/officeathandpolicy","termsOfServiceFreeUsers":"","version":""}}},"iOSAppDownloadLink":"https://apps.apple.com/us/app/at-t-office-hand/id398089358","mobileAppDownloadResource":"https://www.ringcentral.com/apps/?compatibility=office@hand","phoneAppName":"Office@Hand Phone","plansAndPricing":"https://www.ringcentral.com/office/plansandpricing.html","plansAndPricingForVideo":"https://www.ringcentral.com/office/plansandpricing.html#video","protocols":{"callto":"callto","fax":"fax","rcv":"rcvatt","tel":"tel","universal":"officeathand","zoom":"zoomrc"},"rcmAppSettings":{"launcherName":"RCLauncher"},"rcmTeleconferenceUrl":"https://meetings.ringcentral.com/teleconference","RCPhoneAppDownloadLinkMac":"https://www.ringcentral.com/apps/office-at-hand/p/office-at-hand-phone","RCPhoneAppDownloadLinkWin":"https://www.ringcentral.com/apps/office-at-hand/p/office-at-hand-phone","RCPhoneScheme":"attvr20","rcvTeleconferenceUrl":"https://meetings.officeathand.att.com/teleconference","security":"https://about.att.com/csr/home/privacy.html","segmentBrandName":"ATT","setUpImgPath":"./svgToPath/WelcomePageIllustration.svg","shouldAlwaysJoinRCVWithID":[],"shouldUseFixedRatioPng":false,"showAppleAccountLoginEntry":false,"showDefaultPhoneAppSelector":true,"showDoNotSellMyPersonalInformation":true,"showInviteByShareLink":false,"showInviteByText":false,"showPrivacyControl":false,"showScheduleDialInCountrySelect":true,"showThirdPartySoftwareLicenses":true,"showUpgradeLicenceEntryPoints":true,"specialEmptyConversationForNonActivatedGuest":false,"supportLink":"https://asecare.att.com/product/care-support-for-ringcentral-office-at-hand-from-att","supportLinkForPhoenixUser":"","supportPhoenixTheme":false,"themeCategories":{"dark":{"default":"rcDark","defaultForPhoenix":"rcDark","themes":["rcDark"]},"highContrast":{"default":"rcHighContrast","defaultForPhoenix":"rcHighContrast","themes":["rcHighContrast"]},"light":{"default":"attRich","defaultForPhoenix":"attRich","themes":["attRich"]}},"useConnectCotactOnBoarding":false,"userAgent":{"appName":"OfficeAtHand","brandName":"OfficeAtHand"},"videoFreePackageName":"AT&T Office@Hand Pro","videoPaidPackageName":"AT&T Office@Hand Pro+","welcomePageImgPath":"/svgToPath/WelcomePageIllustration.svg"}')},490451:e=>{"use strict";e.exports=JSON.parse('{"allowedMeetingAppNames":["Office@Hand Meetings","RingCentral Meetings","BT Cloud Phone Meetings","TELUS Business Connect\u2122 Meetings"],"allowShowPaywallEntryPoints":false,"androidAppDownloadLink":"https://play.google.com/store/apps/details?id=com.attofficeathand.android&hl=en_US","appName":"AT&T Office@Hand","brand":"att","brandName":"AT&T Office@Hand","brandRCM":"AT&T Office@Hand Meetings","brandRCV":"AT&T Office@Hand Meetings","canSubmitCallQualityFeedback":false,"conferenceDialInLink":"https://meetings.officeathand.att.com/teleconference","copyRight":{"companyName":"AT&T","extendedCopyrightLabel":true,"showDomain":false,"year":2021},"cspDomains":[],"currentBrandMeetingAppName":"Office@Hand Meetings","desktopAppDownloadLink":{"mac":"/download/AT&T Office@Hand.pkg","macArm":"/download/AT&T Office@Hand-arm64.pkg","win":"/download/AT&T Office@Hand.exe"},"domain":"app-officeathand.att.com","doNotSellMyPersonalInformation":"https://about.att.com/csr/home/privacy/rights_choices.html","dynamic":false,"enableInviteNewAccountByEmail":false,"enableReportIssue":false,"enableSignUp":false,"enableSpecificResourceCenter":false,"entranceLogoPath":"/icons/entranceLogo.svg","fallbackLangsMap":{"brandIdMap":{"3420":"en-US","3460":"en-US"}},"internationalBrandConfig":{"3420":{"legalLinks":{"acceptableUsePolicy":"https://www.business.att.com/content/dam/attbusiness/infographics/att-office-hand-eula.pdf","acceptableUsePolicyFreeUsers":"https://www.business.att.com/content/dam/attbusiness/infographics/att-office-hand-eula.pdf","privacyPolicy":"https://about.att.com/csr/home/privacy.html","privacyPolicyFreeUsers":"","termsOfService":"http://www.att.com/officeathandpolicy","termsOfServiceFreeUsers":"","version":""}},"3460":{"legalLinks":{"acceptableUsePolicy":"https://www.business.att.com/content/dam/attbusiness/infographics/att-office-hand-eula.pdf","acceptableUsePolicyFreeUsers":"https://www.business.att.com/content/dam/attbusiness/infographics/att-office-hand-eula.pdf","privacyPolicy":"https://about.att.com/csr/home/privacy.html","privacyPolicyFreeUsers":"","termsOfService":"http://www.att.com/officeathandpolicy","termsOfServiceFreeUsers":"","version":""}}},"iOSAppDownloadLink":"https://apps.apple.com/us/app/at-t-office-hand/id398089358","mobileAppDownloadResource":"https://www.ringcentral.com/apps/?compatibility=office@hand","phoneAppName":"Office@Hand Phone","plansAndPricing":"https://www.ringcentral.com/office/plansandpricing.html","plansAndPricingForVideo":"https://www.ringcentral.com/office/plansandpricing.html#video","protocols":{"callto":"callto","fax":"fax","rcv":"rcvatt","tel":"tel","universal":"officeathand","zoom":"zoomrc"},"rcmAppSettings":{"launcherName":"RCLauncher"},"rcmTeleconferenceUrl":"https://meetings.ringcentral.com/teleconference","RCPhoneAppDownloadLinkMac":"https://www.ringcentral.com/apps/office-at-hand/p/office-at-hand-phone","RCPhoneAppDownloadLinkWin":"https://www.ringcentral.com/apps/office-at-hand/p/office-at-hand-phone","RCPhoneScheme":"attvr20","rcvTeleconferenceUrl":"https://meetings.officeathand.att.com/teleconference","security":"https://about.att.com/csr/home/privacy.html","segmentBrandName":"ATT","setUpImgPath":"./svgToPath/WelcomePageIllustration.svg","shouldAlwaysJoinRCVWithID":[],"shouldUseFixedRatioPng":false,"showAppleAccountLoginEntry":false,"showDefaultPhoneAppSelector":true,"showDoNotSellMyPersonalInformation":true,"showInviteByShareLink":false,"showInviteByText":false,"showPrivacyControl":false,"showScheduleDialInCountrySelect":true,"showThirdPartySoftwareLicenses":true,"showUpgradeLicenceEntryPoints":true,"specialEmptyConversationForNonActivatedGuest":false,"supportLink":"https://asecare.att.com/product/care-support-for-ringcentral-office-at-hand-from-att","supportLinkForPhoenixUser":"","supportPhoenixTheme":false,"themeCategories":{"dark":{"default":"rcDark","defaultForPhoenix":"rcDark","themes":["rcDark"]},"highContrast":{"default":"rcHighContrast","defaultForPhoenix":"rcHighContrast","themes":["rcHighContrast"]},"light":{"default":"attRich","defaultForPhoenix":"attRich","themes":["attRich"]}},"useConnectCotactOnBoarding":false,"userAgent":{"appName":"OfficeAtHand","brandName":"OfficeAtHand"},"videoFreePackageName":"AT&T Office@Hand Pro","videoPaidPackageName":"AT&T Office@Hand Pro+","welcomePageImgPath":"/svgToPath/WelcomePageIllustration.svg"}')},986393:e=>{"use strict";e.exports=JSON.parse('{"MFAppGallery":false,"ConsoleLog":false,"showInviteFromContacts":false,"enableCalendarPresence":false,"uniqueIdPrefix":"ATT","internationalBrandFeatures":{"3420":{"countryOrAreaCode":"","segmentCountryName":"","needReplaceSMBUriDomain":false},"3460":{"countryOrAreaCode":"","segmentCountryName":"","needReplaceSMBUriDomain":false}},"prioritiseRCMUriScheme":false,"removeDefaultUriSchemeExtra":false}')},61142:e=>{"use strict";e.exports=JSON.parse('{"brandId":"3420","rc":{"server":"https://api.ringcentral.biz","discoveryServer":"https://discovery.ringcentral.biz","clientId":"2ZKqxbBdTD642Op-bwkR_w","pathPrefix":"/restapi","edcHost":"","edcPath":"","pubnub":"ringcentral.pubnubapi.com"},"rcv":{"server":"https://api-meet.ringcentral.biz"},"glip":{"server":"https://gsx.officeathand.att.com","apiServer":"https://api.officeathand.att.com","cacheServer":"https://cache.officeathand.att.com","presenceServer":"https://api.officeathand.att.com","galleryDomain":"https://www.ringcentral.com","webhookBaseUrl":"https://hooks.officeathand.att.com/webhook","downloadServer":"https://dl.officeathand.att.com"},"multi_instance":{"gadServer":"https://entry.glip.ringcentral.biz","gdsServer":"https://discovery.glip.ringcentral.biz","gdsInternalServer":"http://gds-zeta-int.glip.prof.ringcentral.biz"},"glip_desktop":{"server":"https://gsx.officeathand.att.com","pathPrefix":"/v1.0/desktop"},"meetingsConfig":{"rcv":{"baseUrl":"https://meetings.officeathand.att.com","dialInNumber":"+12342032766"},"eventParserConfig":{"baseUrl":"https://s3.amazonaws.com/downloads.ringcentral.com/common/production"},"zoom":{"baseUrl":"https://meetings.ringcentral.com"}},"proxyServer":"https://app.ringcentral.com","accountConflict":"/webhook/1ba35f6a-a7de-4c70-85d4-2d05b09f82b8","assetsServer":"https://app.officeathand.att.com/assets"}')},346730:e=>{"use strict";e.exports=JSON.parse('{"launchdarkly":{"enable":false,"clientId":"5c6a4261eb049c2df965e0a8","debounceTimeWindow":30},"sumologic":{"enable":false,"server":"https://collectors.sumologic.com/receiver/v1/http/","uniqueHttpCollectorCode":"ZaVnC4dhaV3dzvBaY1wZqHcCh6D_2Ai3S-v_j39KpeGfbifz6Ir-C_hqAy0SaJROQ8A6tBsgSOKrmgynKRSZW9CCGvcqfYV1crTV9x0NDS6bYSZIC7Z4jw=="},"segment":{"enable":true,"clientId":"caLH3xAG2alfJm6DdJbTzrBmDeJRXNzO"},"sentry":{"enable":false},"filestack":{"enable":false},"kibanaConf":{"enable":false},"andon":{"enable":false,"server":"","url":""},"googleReCaptcha":{"enable":false,"siteKey":""},"oneDrive":{"app.officeathand.att.com":"5eb467f9-197e-4200-aac7-0de2850278f0","app.dev.glip.net":"2b238b14-d806-45a1-a00f-55a70e25a581","stage.fiji.gliprc.com":"02512c76-d952-4a8b-9b4b-40b3301e60a7","release.fiji.gliprc.com":"247d6638-1317-4a8e-892c-8eeb999bf2c9","develop.fiji.gliprc.com":"8023d79f-2e76-42b0-ab4e-b2f47ac50f06","stage-biz.fiji.gliprc.com":"f02432cf-14db-4582-b3a0-4d8b6a06d11f","develop-biz.fiji.gliprc.com":"786d9413-893f-4a70-abfb-9cbef2e0ac79","release-biz.fiji.gliprc.com":"807a05a8-b521-4ca8-a8a6-4a8845905973","app.ops.ringcentral.com":"2c72622f-1b54-4b7f-81a5-11d8aaef9f8e","jupiter-glpciaws.dev.glip.net":"b1e5bc06-f7d2-4eb0-9506-f9d7da89c6b8","app.ringcentral.com":"e8e2d2a0-a60d-4c12-9fa3-dbcb23982265"},"googleDrive":{"clientId":"206262284256-mqpkog9khcj0ru8e5t07thro2rljq5l7.apps.googleusercontent.com","appKey":"AIzaSyAWiJoWS0Zxyo2vJdhCPjZsS2oY4k64zhY"},"dropbox":{"appKey":"7c3cg5bbsatuboo"},"giphy":{"server":"https://api.giphy.com","apiKey":"8oQDi3FIejoZIFMSLHRJHREXKq1nYAoB"}}')},530123:e=>{"use strict";e.exports=JSON.parse('{"video.unifyoffice.com":{"env":"production","meetingAppName":"Unify Office Meetings","meetingService":"RCV"},"meetings.ringcentral.com":{"env":"production","meetingAppName":"RingCentral Meetings","meetingService":"RCM"},"meetings.officeathand.att.com":{"env":"production","meetingAppName":"Office@Hand Meetings","meetingService":"RCV"},"video.cloudoffice.avaya.com":{"env":"production","meetingAppName":"Cloud Office Avaya Meetings","meetingService":"RCV"},"video.cloudwork.bt.com":{"env":"production","meetingAppName":"BT Meetings","meetingService":"RCV"},"meetings.btcloudphone.bt.com":{"env":"production","meetingAppName":"BT Cloud Phone Meetings","meetingService":"RCM"},"unifyoffice-telekom.video.ringcentral.com":{"env":"production","meetingAppName":"Unify Office by RingCentral Video","meetingService":"RCV"},"telekom.video.ringcentral.com":{"env":"production","meetingAppName":"RingCentral mit Telekom Video","meetingService":"RCV"},"eastlink.video.ringcentral.com":{"env":"production","meetingAppName":"Eastlink Meetings","meetingService":"RCV"},"ecotel.video.ringcentral.com":{"env":"production","meetingAppName":"ecotel Meetings","meetingService":"RCV"},"frontier.video.ringcentral.com":{"env":"production","meetingAppName":"Frontier plus RingCentral Video","meetingService":"RCV"},"symphony.video.ringcentral.com":{"env":"production","meetingAppName":"MCM Meetings","meetingService":"RCV"},"video.rainbowoffice.com":{"env":"production","meetingAppName":"Rainbow Office Meetings","meetingService":"RCV"},"v.ringcentral.com":{"env":"production","meetingAppName":"RCV","meetingService":"RCV"},"video.businessconnect.telus.com":{"env":"production","meetingAppName":"Telus Meetings","meetingService":"RCV"},"meetings.businessconnect.telus.com":{"env":"production","meetingAppName":"TELUS Business Connect\u2122 Meetings","meetingService":"RCM"},"verizon.video.ringcentral.biz":{"env":"production","meetingAppName":"Verizon Meetings","meetingService":"RCV"},"1und1.video.ringcentral.com":{"env":"production","meetingAppName":"RingCentral Video mit 1&1 Connected Calls","meetingService":"RCV"},"video.vodafonebusiness.ringcentral.com":{"env":"production","meetingAppName":"Vodafone Meetings","meetingService":"RCV"}}')},558384:e=>{"use strict";e.exports=JSON.parse('{"breakpoints":{"keys":["xs","sm","md","lg","xl"],"values":{"lg":1280,"md":960,"sm":641,"xl":1920,"xs":0}},"opacity":{"12":0.12,"16":0.16,"24":0.24,"32":0.32,"40":0.4,"48":0.48,"56":0.56,"64":0.64,"72":0.72,"80":0.8,"88":0.88,"96":0.96,"08":0.08},"palette":{"avatar":{"ash":"#666666","blueberry":"#5A5ABF","brass":"#8E6B2B","global":"#5399D1","gold":"#7A7000","lake":"#1A70C1","oasis":"#04549F","pear":"#3C7E44","persimmon":"#A14B00","sage":"#047C68","tomato":"#C93637"},"content":{"brand":"#0A6EBE"},"danger":{"b01":"#FFF7F5","b02":"#FFE5E0","b03":"#D63E39","f01":"#BE3933","f02":"#BE3933","f11":"#F88878"},"disabled":{"b01":"#E5E5E5","f01":"#939393","f02":"#C7C7C7"},"error":{"main":"#D63E39"},"header":{"b01":"#FFFFFF","bg":"#0A6EBE","bgMa":"#FFFFFF","f01":"#2F2F2F","icon":"#FFFFFF","iconMa":"#666666","searchBox":"#FFFFFF","statusbar":"#2F2F2F","text":"#FFFFFF","textMa":"#2F2F2F"},"highlight":{"b02":"#FFE5AA","f01":"#2F2F2F"},"info":{"main":"#666666"},"informative":{"b01":"#F6F9FC","b02":"#E3EBF4","f02":"#066FAC"},"interactive":{"b01":"#E6F2F8","b02":"#0A6EBE","f01":"#0A6EBE"},"label":{"black02":"#2F2F2F","blue02":"#066FAC","green01":"#3C9949","green02":"#32773B","orange01":"#FF8800","orange02":"#A15600","purple02":"#6C5DAF","red01":"#DD6057","red02":"#BE3933","teal02":"#2B727F","yellow02":"#896219"},"nav":{"iconDefault":"#2F2F2F","iconDefaultMa":"#666666","iconSelected":"#0A6EBE"},"neutral":{"b01":"#FFFFFF","b02":"#F9F9F9","b03":"#E5E5E5","b04":"#666666","b05":"#2F2F2F","b06":"#000000","elevation":"#FFFFFF","f01":"#FFFFFF","f03":"#666666","f05":"#666666","f06":"#2F2F2F","f07":"#FFFFFF","l02":"#E5E5E5"},"presence":{"available":"#368541","busy":"#D63E39","invisible":"#757575"},"primary":{"main":"#0A6EBE"},"secondary":{"main":"#FF8800"},"subAction":"#0A6EBE","success":{"b01":"#F0FCEF","b02":"#CEF4CE","b03":"#368541","f01":"#32773B","f02":"#32773B","f11":"#46BE59","main":"#368541"},"tab":{"default":"#666666","selected":"#0A6EBE"},"type":"light","umi":{"bg":"#0A6EBE","mentioned":"#A15600","text":"#FFFFFF"},"vNeutral":{"b01":"#000000"},"video01":"#09BBFD","video02":"#066FAC","video03":"#A15600","video04":"#32773B","video05":"#2F2F2F","video06":"#666666","video07":"#FFFFFF","warning":{"b01":"#FFF7F0","b02":"#FFE6CE","b03":"#B26110","f01":"#A15600","f02":"#A15600","f11":"#FF8800","main":"#F6AD16"}},"radius":{"circle":"50%","lg":"4px","md":"3px","round":"100vw","sm":"2px","xl":"8px","xxl":"16px","zero":"0px"},"shadows":["none","0px 1px 3px 0px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 2px 1px -1px rgba(0,0,0,0.12)","0px 1px 5px 0px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 3px 1px -2px rgba(0,0,0,0.12)","0px 1px 8px 0px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 3px 3px -2px rgba(0,0,0,0.12)","0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)","0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12)","0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)","0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12)","0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)","0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12)","0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12)","0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12)","0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12)","0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12)","0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12)","0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12)","0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12)","0px 11px 14px -7px rgba(0,0,0,0.2),0px 23px 36px 3px rgba(0,0,0,0.14),0px 9px 44px 8px rgba(0,0,0,0.12)","0px 11px 15px -7px rgba(0,0,0,0.2),0px 24px 38px 3px rgba(0,0,0,0.14),0px 9px 46px 8px rgba(0,0,0,0.12)"],"typography":{"body1":{"fontSize":"0.9375rem","fontWeight":400,"lineHeight":"22px"},"body2":{"fontSize":"0.9375rem","fontWeight":700,"lineHeight":"22px"},"button":{"fontSize":"0.9375rem","fontWeight":700,"lineHeight":"20px","textTransform":"none"},"caption1":{"fontSize":"0.75rem","fontWeight":400,"lineHeight":"16px"},"caption2":{"fontSize":"0.75rem","fontWeight":700,"lineHeight":"16px"},"codeFontFamily":"Courier","display1":{"fontSize":"2.125rem","fontWeight":400,"lineHeight":"40px"},"display2":{"fontSize":"2.8125rem","fontWeight":400,"lineHeight":"56px"},"display3":{"fontSize":"3.5rem","fontWeight":700,"lineHeight":"72px"},"display4":{"fontSize":"6rem","fontWeight":700,"lineHeight":"112px"},"fontFamily":"Lato, Helvetica, Arial, sans-serif","fontSize":14,"fontWeightBold":700,"fontWeightLight":300,"fontWeightMedium":500,"fontWeightRegular":400,"headline1":{"fontSize":"1.5rem","fontWeight":400,"lineHeight":"32px"},"headline2":{"fontSize":"1.5rem","fontWeight":700,"lineHeight":"32px"},"htmlFontSize":16,"subheading1":{"fontSize":"1rem","fontWeight":400,"lineHeight":"24px"},"subheading2":{"fontSize":"1rem","fontWeight":700,"lineHeight":"24px"},"title1":{"fontSize":"1.25rem","fontWeight":400,"lineHeight":"28px"},"title2":{"fontSize":"1.25rem","fontWeight":700,"lineHeight":"28px"}},"unit":"4px"}')},436055:e=>{"use strict";e.exports=JSON.parse('{"breakpoints":{"keys":["xs","sm","md","lg","xl"],"values":{"lg":1280,"md":960,"sm":641,"xl":1920,"xs":0}},"opacity":{"12":0.12,"16":0.16,"24":0.24,"32":0.32,"40":0.4,"48":0.48,"56":0.56,"64":0.64,"72":0.72,"80":0.8,"88":0.88,"96":0.96,"08":0.08},"palette":{"action":{"grayDark":"#494949","grayLight":"#666666","primary":"#0A6EBE"},"avatar":{"ash":"#666666","blueberry":"#5A5ABF","brass":"#8E6B2B","global":"#5399D1","gold":"#7A7000","lake":"#1A70C1","oasis":"#04549F","pear":"#3C7E44","persimmon":"#A14B00","sage":"#047C68","tomato":"#C93637"},"content":{"brand":"#0A6EBE"},"danger":{"b01":"#FFF7F5","b02":"#FFE5E0","b03":"#E6413C","b04":"#D63E39","f01":"#FFE5E0","f02":"#BE3933","f11":"#F88878"},"dialHeader":{"avatarBg":"#FFFFFF","avatarIcon":"#0A6EBE","bg":"#0A6EBE","focusBorder":"#FFFFFF","icon":"#FFFFFF","text":"#FFFFFF","textHint":"rgba(255,255,255,0.88)"},"disabled":{"b01":"#B9B9B9","f01":"#FFFFFF","f02":"#B9B9B9"},"error":{"main":"#D63E39"},"header":{"bgLeft":"#0A6EBE","bgOverlay":"rgba(0,0,0,0.16)","bgOverlayDisabled":"rgba(0,0,0,0.08)","bgRight":"#5399D1","border":"transparent","divider":"rgba(0,0,0,0.12)","fabBg":"#FFFFFF","fabIcon":"#121212","focusBorder":"#FFFFFF","icon":"#FFFFFF","iconDisabled":"rgba(255,255,255,0.32)","text":"#FFFFFF","textHint":"rgba(255,255,255,0.88)"},"highContrast":"transparent","highlight":{"b01":"#FF8800","b02":"#FFDFB1","b03":"#A15600","f01":"#121212","f02":"#A15600"},"info":{"main":"#666666"},"informative":{"b01":"#F6F9FC","f01":"#E3EBF4","f02":"#066FAC"},"interactive":{"b01":"#E6F2F8","b02":"#0A6EBE","f01":"#0A6EBE"},"label":{"black02":"#121212","blue01":"#066FAC","blue02":"#066FAC","green01":"#3C9949","green02":"#32773B","orange01":"#CD6E0D","orange02":"#A15600","purple01":"#8A77E3","purple02":"#6C5DAF","red01":"#E6413C","red02":"#BE3933","teal01":"#3093A4","teal02":"#2B727F","yellow01":"#B17D1A","yellow02":"#896219"},"nav":{"b01":"#FFFFFF","b02":"#F9F9F9","bookmark":"#0A6EBE","ctlDefault":"#939393","ctlSelected":"#0A6EBE","f01":"#757575","f02":"#666666","f03":"#494949","f04":"#121212","iconDefault":"#121212","iconSelected":"#0A6EBE","line":"#E5E5E5","mention":"#A15600","menuBg":"#0A6EBE","menuText":"#FFFFFF"},"neutral":{"b01":"#FFFFFF","b02":"#F9F9F9","b03":"#F3F3F3","b04":"#666666","b05":"#494949","b06":"#000000","elevation":"#FFFFFF","f01":"#FFFFFF","f02":"#939393","f03":"#757575","f04":"#666666","f05":"#494949","f06":"#121212","f07":"#121212","f11":"#FFFFFF","l01":"#FFFFFF","l02":"#E5E5E5","l03":"#C7C7C7","l04":"#666666","transparent":"transparent"},"presence":{"available":"#3C9949","busy":"#E6413C","invisible":"#939393"},"primary":{"main":"#0A6EBE"},"secondary":{"main":"#FF8800"},"subAction":"#0A6EBE","success":{"b01":"#F0FCEF","b02":"#CEF4CE","b03":"#3C9949","b04":"#368541","b05":"#3C9949","f01":"#CEF4CE","f02":"#32773B","f11":"#46BE59","main":"#368541"},"tab":{"default":"#121212","selected":"#0A6EBE"},"type":"light","umi":{"bg":"#666666","mentioned":"#A15600","text":"#FFFFFF"},"vDanger":{"f01":"#DD6057"},"vDisabled":{"f01":"#54565E"},"vNeutral":{"b01":"#1e2027","b02":"#282A32","b03":"#30323A","b04":"#383A43","f01":"#FFFFFF"},"warning":{"b01":"#FFF7EB","b02":"#FFE7C1","b03":"#F6AD16","f01":"#F6AD16","f02":"#896219","f11":"#F6AD16","main":"#F6AD16"}},"radius":{"circle":"50%","lg":"4px","md":"3px","round":"100vw","sm":"2px","xl":"8px","xxl":"16px","zero":"0px"},"shadows":["none","0px 1px 3px 0px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 2px 1px -1px rgba(0,0,0,0.12)","0px 1px 5px 0px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 3px 1px -2px rgba(0,0,0,0.12)","0px 1px 8px 0px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 3px 3px -2px rgba(0,0,0,0.12)","0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)","0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12)","0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)","0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12)","0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)","0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12)","0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12)","0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12)","0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12)","0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12)","0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12)","0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12)","0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12)","0px 11px 14px -7px rgba(0,0,0,0.2),0px 23px 36px 3px rgba(0,0,0,0.14),0px 9px 44px 8px rgba(0,0,0,0.12)","0px 11px 15px -7px rgba(0,0,0,0.2),0px 24px 38px 3px rgba(0,0,0,0.14),0px 9px 46px 8px rgba(0,0,0,0.12)"],"typography":{"body1":{"fontSize":"0.9375rem","fontWeight":400,"lineHeight":"22px"},"body2":{"fontSize":"0.9375rem","fontWeight":700,"lineHeight":"22px"},"button":{"fontSize":"0.9375rem","fontWeight":700,"lineHeight":"20px","textTransform":"none"},"caption1":{"fontSize":"0.75rem","fontWeight":400,"lineHeight":"16px"},"caption2":{"fontSize":"0.75rem","fontWeight":700,"lineHeight":"16px"},"codeFontFamily":"Courier","display1":{"fontSize":"2.125rem","fontWeight":400,"lineHeight":"40px"},"display2":{"fontSize":"2.8125rem","fontWeight":400,"lineHeight":"56px"},"display3":{"fontSize":"3.5rem","fontWeight":700,"lineHeight":"72px"},"display4":{"fontSize":"6rem","fontWeight":700,"lineHeight":"112px"},"fontFamily":"Lato, Helvetica, Arial, sans-serif","fontSize":14,"fontWeightBold":700,"fontWeightLight":300,"fontWeightMedium":500,"fontWeightRegular":400,"headline1":{"fontSize":"1.5rem","fontWeight":400,"lineHeight":"32px"},"headline2":{"fontSize":"1.5rem","fontWeight":700,"lineHeight":"32px"},"htmlFontSize":16,"subheading1":{"fontSize":"1rem","fontWeight":400,"lineHeight":"24px"},"subheading2":{"fontSize":"1rem","fontWeight":700,"lineHeight":"24px"},"title1":{"fontSize":"1.25rem","fontWeight":400,"lineHeight":"28px"},"title2":{"fontSize":"1.25rem","fontWeight":700,"lineHeight":"28px"}},"unit":"4px"}')},524788:e=>{"use strict";e.exports=JSON.parse('{"breakpoints":{"keys":["xs","sm","md","lg","xl"],"values":{"lg":1280,"md":960,"sm":641,"xl":1920,"xs":0}},"opacity":{"12":0.12,"16":0.16,"24":0.24,"32":0.32,"40":0.4,"48":0.48,"56":0.56,"64":0.64,"72":0.72,"80":0.8,"88":0.88,"96":0.96,"08":0.08},"overrides":{"MuiPaper":{"root":{"backgroundColor":"#30323A","color":"#FFFFFF"}}},"palette":{"avatar":{"ash":"#666666","blueberry":"#5A5ABF","brass":"#8E6B2B","global":"#6990FD","gold":"#7A7000","lake":"#1A70C1","oasis":"#04549F","pear":"#3C7E44","persimmon":"#A14B00","sage":"#047C68","tomato":"#C93637"},"content":{"brand":"#729AFF"},"danger":{"b01":"#391D19","b02":"#AB2B23","b03":"#D53C32","f01":"#FFFFFF","f02":"#D53C32","f11":"#DD6057"},"disabled":{"b01":"#44464E","f01":"#75777E","f02":"#54565E"},"error":{"main":"#DD6057"},"header":{"b01":"#30323A","bg":"#30323A","bgMa":"#30323A","f01":"#FFFFFF","icon":"#FFFFFF","iconMa":"#A0A2A9","searchBox":"#282A32","statusbar":"#1E2027","text":"#FFFFFF","textMa":"#FFFFFF"},"highlight":{"b02":"#FFFFFF","f01":"#FF8800"},"info":{"main":"#A0A2A9"},"informative":{"b01":"#1C2539","b02":"#222E49","f02":"#729AFF"},"interactive":{"b01":"#29334C","b02":"#356AFD","f01":"#729AFF"},"label":{"black02":"#FFFFFF","blue02":"#729AFF","green01":"#3C9949","green02":"#72B375","orange01":"#FF8800","orange02":"#FF8800","purple02":"#A89CD6","red01":"#DD6057","red02":"#E68B85","teal02":"#71ADBA","yellow02":"#D99F26"},"nav":{"iconDefault":"#FFFFFF","iconDefaultMa":"#A0A2A9","iconSelected":"#729AFF"},"neutral":{"b01":"#282A32","b02":"#1E2027","b03":"#30323A","b04":"#54565E","b05":"#1E2027","b06":"#000000","elevation":"#30323A","f01":"#FFFFFF","f03":"#A0A2A9","f05":"#A0A2A9","f06":"#FFFFFF","f07":"#000000","l02":"#44464E"},"presence":{"available":"#3D9A4A","busy":"#DD6057","invisible":"#898B94"},"primary":{"main":"#356AFD"},"secondary":{"main":"#884C12"},"subAction":"#729AFF","success":{"b01":"#FFFFFF","b02":"#2D6634","b03":"#3D9A4A","f01":"#FFFFFF","f02":"#72B375","f11":"#72B375","main":"#3D9A4A"},"tab":{"default":"#A0A2A9","selected":"#729AFF"},"type":"dark","umi":{"bg":"#356AFD","mentioned":"#FF8800","text":"#FFFFFF"},"vNeutral":{"b01":"#FFFFFF"},"video01":"#09BBFD","video02":"#066FAC","video03":"#A15600","video04":"#32773B","video05":"#2F2F2F","video06":"#666666","video07":"#FFFFFF","warning":{"b01":"#FFFFFF","b02":"#B06010","b03":"#B06010","f01":"#FFFFFF","f02":"#FF8800","f11":"#FF8800","main":"#74561D"}},"radius":{"circle":"50%","lg":"4px","md":"3px","round":"100vw","sm":"2px","xl":"8px","xxl":"16px","zero":"0px"},"shadows":["none","0px 1px 3px 0px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 2px 1px -1px rgba(0,0,0,0.12)","0px 1px 5px 0px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 3px 1px -2px rgba(0,0,0,0.12)","0px 1px 8px 0px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 3px 3px -2px rgba(0,0,0,0.12)","0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)","0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12)","0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)","0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12)","0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)","0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12)","0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12)","0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12)","0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12)","0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12)","0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12)","0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12)","0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12)","0px 11px 14px -7px rgba(0,0,0,0.2),0px 23px 36px 3px rgba(0,0,0,0.14),0px 9px 44px 8px rgba(0,0,0,0.12)","0px 11px 15px -7px rgba(0,0,0,0.2),0px 24px 38px 3px rgba(0,0,0,0.14),0px 9px 46px 8px rgba(0,0,0,0.12)"],"typography":{"body1":{"fontSize":"0.9375rem","fontWeight":400,"lineHeight":"22px"},"body2":{"fontSize":"0.9375rem","fontWeight":700,"lineHeight":"22px"},"button":{"fontSize":"0.9375rem","fontWeight":700,"lineHeight":"20px","textTransform":"none"},"caption1":{"fontSize":"0.75rem","fontWeight":400,"lineHeight":"16px"},"caption2":{"fontSize":"0.75rem","fontWeight":700,"lineHeight":"16px"},"codeFontFamily":"Courier","display1":{"fontSize":"2.125rem","fontWeight":400,"lineHeight":"40px"},"display2":{"fontSize":"2.8125rem","fontWeight":400,"lineHeight":"56px"},"display3":{"fontSize":"3.5rem","fontWeight":700,"lineHeight":"72px"},"display4":{"fontSize":"6rem","fontWeight":700,"lineHeight":"112px"},"fontFamily":"Lato, Helvetica, Arial, sans-serif","fontSize":14,"fontWeightBold":700,"fontWeightLight":300,"fontWeightMedium":500,"fontWeightRegular":400,"headline1":{"fontSize":"1.5rem","fontWeight":400,"lineHeight":"32px"},"headline2":{"fontSize":"1.5rem","fontWeight":700,"lineHeight":"32px"},"htmlFontSize":16,"subheading1":{"fontSize":"1rem","fontWeight":400,"lineHeight":"24px"},"subheading2":{"fontSize":"1rem","fontWeight":700,"lineHeight":"24px"},"title1":{"fontSize":"1.25rem","fontWeight":400,"lineHeight":"28px"},"title2":{"fontSize":"1.25rem","fontWeight":700,"lineHeight":"28px"}},"unit":"4px"}')},354571:e=>{"use strict";e.exports=JSON.parse('{"breakpoints":{"keys":["xs","sm","md","lg","xl"],"values":{"lg":1280,"md":960,"sm":641,"xl":1920,"xs":0}},"opacity":{"12":0.12,"16":0.16,"24":0.24,"32":0.32,"40":0.4,"48":0.48,"56":0.56,"64":0.64,"72":0.72,"80":0.8,"88":0.88,"96":0.96,"08":0.08},"overrides":{"MuiPaper":{"root":{"backgroundColor":"#282A32","color":"#FFFFFF"}}},"palette":{"action":{"grayDark":"#FFFFFF","grayLight":"#A0A2A9","primary":"#729AFF"},"avatar":{"ash":"#666666","blueberry":"#5A5ABF","brass":"#8E6B2B","global":"#6990FD","gold":"#7A7000","lake":"#1A70C1","oasis":"#04549F","pear":"#3C7E44","persimmon":"#A14B00","sage":"#047C68","tomato":"#C93637"},"content":{"brand":"#729AFF"},"danger":{"b01":"#391D19","b02":"#49241F","b03":"#D53C32","b04":"#D53C32","f01":"#49241F","f02":"#E68B85","f11":"#E68B85"},"dialHeader":{"avatarBg":"#6990FD","avatarIcon":"#FFFFFF","bg":"#383A43","focusBorder":"#729AFF","icon":"#FFFFFF","text":"#FFFFFF","textHint":"#898B94"},"disabled":{"b01":"#44464E","f01":"#72747E","f02":"#54565E"},"error":{"main":"#DD6057"},"header":{"bgLeft":"#30323A","bgOverlay":"rgba(137,139,148,0.16)","bgOverlayDisabled":"rgba(137,139,148,0.08)","bgRight":"#30323A","border":"transparent","divider":"rgba(0,0,0,0.12)","fabBg":"#282A32","fabIcon":"#FFFFFF","focusBorder":"#FFFFFF","icon":"#FFFFFF","iconDisabled":"rgba(255,255,255,0.32)","text":"#FFFFFF","textHint":"#898B94"},"highContrast":"transparent","highlight":{"b01":"#FFFFFF","b02":"#3E2A19","b03":"#884C12","f01":"#FF8800","f02":"#FF8800"},"info":{"main":"#A0A2A9"},"informative":{"b01":"#282A32","f01":"#222E49","f02":"#729AFF"},"interactive":{"b01":"#29334C","b02":"#356AFD","f01":"#729AFF"},"label":{"black02":"#FFFFFF","blue01":"#729AFF","blue02":"#729AFF","green01":"#72B375","green02":"#72B375","orange01":"#FF8800","orange02":"#FF8800","purple01":"#A89CD6","purple02":"#A89CD6","red01":"#E68B85","red02":"#E68B85","teal01":"#71ADBA","teal02":"#71ADBA","yellow01":"#D99F26","yellow02":"#D99F26"},"nav":{"b01":"#1e2027","b02":"#282A32","bookmark":"#729AFF","ctlDefault":"#72747E","ctlSelected":"#729AFF","f01":"#898B94","f02":"#A0A2A9","f03":"#BCBDC2","f04":"#FFFFFF","iconDefault":"#FFFFFF","iconSelected":"#729AFF","line":"#383A43","mention":"#FF8800","menuBg":"#356AFD","menuText":"#FFFFFF"},"neutral":{"b01":"#1e2027","b02":"#30323A","b03":"#383A43","b04":"#72747E","b05":"#72747E","b06":"#1e2027","elevation":"#282A32","f01":"#FFFFFF","f02":"#72747E","f03":"#898B94","f04":"#A0A2A9","f05":"#BCBDC2","f06":"#FFFFFF","f07":"#1e2027","f11":"#FFFFFF","l01":"#1e2027","l02":"#383A43","l03":"#54565E","l04":"#A0A2A9","transparent":"transparent"},"presence":{"available":"#3D9A4A","busy":"#DD6057","invisible":"#72747E"},"primary":{"main":"#356AFD"},"secondary":{"main":"#884C12"},"subAction":"#729AFF","success":{"b01":"#1C281B","b02":"#223221","b03":"#368440","b04":"#368440","b05":"#A0A2A9","f01":"#223221","f02":"#72B375","f11":"#72B375","main":"#3D9A4A"},"tab":{"default":"#FFFFFF","selected":"#729AFF"},"type":"dark","umi":{"bg":"#72747E","mentioned":"#FF8800","text":"#FFFFFF"},"vDanger":{"f01":"#DD6057"},"vDisabled":{"f01":"#54565E"},"vNeutral":{"b01":"#1e2027","b02":"#282A32","b03":"#30323A","b04":"#383A43","f01":"#FFFFFF"},"warning":{"b01":"#2B2416","b02":"#373D1B","b03":"#D99F26","f01":"#D99F26","f02":"#D99F26","f11":"#D99F26","main":"#74561D"}},"radius":{"circle":"50%","lg":"4px","md":"3px","round":"100vw","sm":"2px","xl":"8px","xxl":"16px","zero":"0px"},"shadows":["none","0px 1px 3px 0px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 2px 1px -1px rgba(0,0,0,0.12)","0px 1px 5px 0px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 3px 1px -2px rgba(0,0,0,0.12)","0px 1px 8px 0px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 3px 3px -2px rgba(0,0,0,0.12)","0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)","0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12)","0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)","0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12)","0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)","0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12)","0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12)","0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12)","0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12)","0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12)","0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12)","0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12)","0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12)","0px 11px 14px -7px rgba(0,0,0,0.2),0px 23px 36px 3px rgba(0,0,0,0.14),0px 9px 44px 8px rgba(0,0,0,0.12)","0px 11px 15px -7px rgba(0,0,0,0.2),0px 24px 38px 3px rgba(0,0,0,0.14),0px 9px 46px 8px rgba(0,0,0,0.12)"],"typography":{"body1":{"fontSize":"0.9375rem","fontWeight":400,"lineHeight":"22px"},"body2":{"fontSize":"0.9375rem","fontWeight":700,"lineHeight":"22px"},"button":{"fontSize":"0.9375rem","fontWeight":700,"lineHeight":"20px","textTransform":"none"},"caption1":{"fontSize":"0.75rem","fontWeight":400,"lineHeight":"16px"},"caption2":{"fontSize":"0.75rem","fontWeight":700,"lineHeight":"16px"},"codeFontFamily":"Courier","display1":{"fontSize":"2.125rem","fontWeight":400,"lineHeight":"40px"},"display2":{"fontSize":"2.8125rem","fontWeight":400,"lineHeight":"56px"},"display3":{"fontSize":"3.5rem","fontWeight":700,"lineHeight":"72px"},"display4":{"fontSize":"6rem","fontWeight":700,"lineHeight":"112px"},"fontFamily":"Lato, Helvetica, Arial, sans-serif","fontSize":14,"fontWeightBold":700,"fontWeightLight":300,"fontWeightMedium":500,"fontWeightRegular":400,"headline1":{"fontSize":"1.5rem","fontWeight":400,"lineHeight":"32px"},"headline2":{"fontSize":"1.5rem","fontWeight":700,"lineHeight":"32px"},"htmlFontSize":16,"subheading1":{"fontSize":"1rem","fontWeight":400,"lineHeight":"24px"},"subheading2":{"fontSize":"1rem","fontWeight":700,"lineHeight":"24px"},"title1":{"fontSize":"1.25rem","fontWeight":400,"lineHeight":"28px"},"title2":{"fontSize":"1.25rem","fontWeight":700,"lineHeight":"28px"}},"unit":"4px"}')},506115:e=>{"use strict";e.exports=JSON.parse('{"breakpoints":{"keys":["xs","sm","md","lg","xl"],"values":{"lg":1280,"md":960,"sm":641,"xl":1920,"xs":0}},"opacity":{"12":0.12,"16":0.16,"24":0.24,"32":0.32,"40":0.4,"48":0.48,"56":0.56,"64":0.64,"72":0.72,"80":0.8,"88":0.88,"96":0.96,"08":0.08},"overrides":{"MuiPaper":{"elevation1":{"box-shadow":"0 0 0 1px undefined"},"elevation10":{"box-shadow":"0 0 0 1px undefined"},"elevation11":{"box-shadow":"0 0 0 1px undefined"},"elevation12":{"box-shadow":"0 0 0 1px undefined"},"elevation13":{"box-shadow":"0 0 0 1px undefined"},"elevation14":{"box-shadow":"0 0 0 1px undefined"},"elevation15":{"box-shadow":"0 0 0 1px undefined"},"elevation16":{"box-shadow":"0 0 0 1px undefined"},"elevation17":{"box-shadow":"0 0 0 1px undefined"},"elevation18":{"box-shadow":"0 0 0 1px undefined"},"elevation19":{"box-shadow":"0 0 0 1px undefined"},"elevation2":{"box-shadow":"0 0 0 1px undefined"},"elevation20":{"box-shadow":"0 0 0 1px undefined"},"elevation21":{"box-shadow":"0 0 0 1px undefined"},"elevation22":{"box-shadow":"0 0 0 1px undefined"},"elevation23":{"box-shadow":"0 0 0 1px undefined"},"elevation24":{"box-shadow":"0 0 0 1px undefined"},"elevation3":{"box-shadow":"0 0 0 1px undefined"},"elevation4":{"box-shadow":"0 0 0 1px undefined"},"elevation5":{"box-shadow":"0 0 0 1px undefined"},"elevation6":{"box-shadow":"0 0 0 1px undefined"},"elevation7":{"box-shadow":"0 0 0 1px undefined"},"elevation8":{"box-shadow":"0 0 0 1px undefined"},"elevation9":{"box-shadow":"0 0 0 1px undefined"},"root":{"backgroundColor":"#30323A","color":"#FFFFFF"}}},"palette":{"avatar":{"ash":"#666666","blueberry":"#5A5ABF","brass":"#8E6B2B","global":"#729AFF","gold":"#7A7000","lake":"#1A70C1","oasis":"#04549F","pear":"#3C7E44","persimmon":"#A14B00","sage":"#047C68","tomato":"#C93637"},"content":{"brand":"#729AFF"},"danger":{"b01":"#391D19","b02":"#49241F","b03":"#D53C32","f01":"#E68B85","f02":"#E68B85","f11":"#E68B85"},"disabled":{"b01":"#44464E","f01":"#54565E","f02":"#54565E"},"error":{"main":"#DD6057"},"header":{"b01":"#FFFFFF","bg":"#30323A","bgMa":"#30323A","f01":"#FFFFFF","icon":"#FFFFFF","iconMa":"#FFFFFF","searchBox":"#FFFFFF","statusbar":"#1E2027","text":"#FFFFFF","textMa":"#FFFFFF"},"highlight":{"b02":"#3E2A19","f01":"#FF8800"},"info":{"main":"#A0A2A9"},"informative":{"b01":"#1C2539","b02":"#222E49","f02":"#729AFF"},"interactive":{"b01":"#29334C","b02":"#35C6FF","f01":"#729AFF"},"label":{"black02":"#FFFFFF","blue02":"#729AFF","green01":"#3C9949","green02":"#72B375","orange01":"#FF8800","orange02":"#FF8800","purple02":"#A89CD6","red01":"#DD6057","red02":"#E68B85","teal02":"#71ADBA","yellow02":"#D99F26"},"nav":{"iconDefault":"#FFFFFF","iconDefaultMa":"#A0A2A9","iconSelected":"#729AFF"},"neutral":{"b01":"#282A32","b02":"#1E2027","b03":"#30323A","b04":"#54565E","b05":"#1E2027","b06":"#000000","elevation":"#30323A","f01":"#FFFFFF","f03":"#A0A2A9","f05":"#A0A2A9","f06":"#FFFFFF","f07":"#FFFFFF","l02":"#44464E"},"presence":{"available":"#3D9A4A","busy":"#DD6057","invisible":"#A0A2A9"},"primary":{"main":"#35C6FF"},"secondary":{"main":"#884C12"},"subAction":"#729AFF","success":{"b01":"#1C281B","b02":"#223221","b03":"#3D9A4A","f01":"#72B375","f02":"#72B375","f11":"#72B375","main":"#3D9A4A"},"tab":{"default":"#A0A2A9","selected":"#729AFF"},"type":"dark","umi":{"bg":"#35C6FF","mentioned":"#FF8800","text":"#FFFFFF"},"vNeutral":{"b01":"#000000"},"video01":"#09BBFD","video02":"#066FAC","video03":"#A15600","video04":"#32773B","video05":"#2F2F2F","video06":"#666666","video07":"#FFFFFF","warning":{"b01":"#FFFFFF","b02":"#3E2A19","b03":"#B06010","f01":"#FF8800","f02":"#FF8800","f11":"#FF8800","main":"#74561D"}},"radius":{"circle":"50%","lg":"4px","md":"3px","round":"100vw","sm":"2px","xl":"8px","xxl":"16px","zero":"0px"},"shadows":["none","0px 1px 3px 0px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 2px 1px -1px rgba(0,0,0,0.12)","0px 1px 5px 0px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 3px 1px -2px rgba(0,0,0,0.12)","0px 1px 8px 0px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 3px 3px -2px rgba(0,0,0,0.12)","0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)","0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12)","0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)","0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12)","0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)","0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12)","0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12)","0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12)","0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12)","0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12)","0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12)","0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12)","0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12)","0px 11px 14px -7px rgba(0,0,0,0.2),0px 23px 36px 3px rgba(0,0,0,0.14),0px 9px 44px 8px rgba(0,0,0,0.12)","0px 11px 15px -7px rgba(0,0,0,0.2),0px 24px 38px 3px rgba(0,0,0,0.14),0px 9px 46px 8px rgba(0,0,0,0.12)"],"typography":{"body1":{"fontSize":"0.9375rem","fontWeight":400,"lineHeight":"22px"},"body2":{"fontSize":"0.9375rem","fontWeight":700,"lineHeight":"22px"},"button":{"fontSize":"0.9375rem","fontWeight":700,"lineHeight":"20px","textTransform":"none"},"caption1":{"fontSize":"0.75rem","fontWeight":400,"lineHeight":"16px"},"caption2":{"fontSize":"0.75rem","fontWeight":700,"lineHeight":"16px"},"codeFontFamily":"Courier","display1":{"fontSize":"2.125rem","fontWeight":400,"lineHeight":"40px"},"display2":{"fontSize":"2.8125rem","fontWeight":400,"lineHeight":"56px"},"display3":{"fontSize":"3.5rem","fontWeight":700,"lineHeight":"72px"},"display4":{"fontSize":"6rem","fontWeight":700,"lineHeight":"112px"},"fontFamily":"Lato, Helvetica, Arial, sans-serif","fontSize":14,"fontWeightBold":700,"fontWeightLight":300,"fontWeightMedium":500,"fontWeightRegular":400,"headline1":{"fontSize":"1.5rem","fontWeight":400,"lineHeight":"32px"},"headline2":{"fontSize":"1.5rem","fontWeight":700,"lineHeight":"32px"},"htmlFontSize":16,"subheading1":{"fontSize":"1rem","fontWeight":400,"lineHeight":"24px"},"subheading2":{"fontSize":"1rem","fontWeight":700,"lineHeight":"24px"},"title1":{"fontSize":"1.25rem","fontWeight":400,"lineHeight":"28px"},"title2":{"fontSize":"1.25rem","fontWeight":700,"lineHeight":"28px"}},"unit":"4px"}')},237777:e=>{"use strict";e.exports=JSON.parse('{"breakpoints":{"keys":["xs","sm","md","lg","xl"],"values":{"lg":1280,"md":960,"sm":641,"xl":1920,"xs":0}},"opacity":{"12":0.12,"16":0.16,"24":0.24,"32":0.32,"40":0.4,"48":0.48,"56":0.56,"64":0.64,"72":0.72,"80":0.8,"88":0.88,"96":0.96,"08":0.08},"overrides":{"MuiPaper":{"elevation1":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation10":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation11":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation12":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation13":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation14":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation15":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation16":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation17":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation18":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation19":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation2":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation20":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation21":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation22":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation23":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation24":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation3":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation4":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation5":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation6":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation7":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation8":{"box-shadow":"0 0 0 1px #FFFFFF"},"elevation9":{"box-shadow":"0 0 0 1px #FFFFFF"},"root":{"backgroundColor":"#000000","color":"#FFFFFF"}}},"palette":{"action":{"grayDark":"#FFFFFF","grayLight":"#FFFFFF","primary":"#35C6FF"},"avatar":{"ash":"#FFFFFF","blueberry":"#AE9CFF","brass":"#EBA800","global":"#84CCFF","gold":"#FEFF05","lake":"#12F7FF","oasis":"#00C5BE","pear":"#7FFF5D","persimmon":"#FF833B","sage":"#42FFA0","tomato":"#FF827A"},"content":{"brand":"#35C6FF"},"danger":{"b01":"#391D19","b02":"#49241F","b03":"#FF827A","b04":"#FF827A","f01":"#49241F","f02":"#FF827A","f11":"#FF827A"},"dialHeader":{"avatarBg":"#84CCFF","avatarIcon":"#FFFFFF","bg":"#000000","focusBorder":"#35C6FF","icon":"#FFFFFF","text":"#FFFFFF","textHint":"#FFFFFF"},"disabled":{"b01":"#4D4D4D","f01":"#000000","f02":"#4D4D4D"},"error":{"main":"#DD6057"},"header":{"bgLeft":"#000000","bgOverlay":"rgba(255,255,255,0.16)","bgOverlayDisabled":"rgba(255,255,255,0.08)","bgRight":"#000000","border":"#FFFFFF","divider":"#FFFFFF","fabBg":"#000000","fabIcon":"#FFFFFF","focusBorder":"#FFFFFF","icon":"#FFFFFF","iconDisabled":"rgba(255,255,255,0.32)","text":"#FFFFFF","textHint":"#FFFFFF"},"highContrast":"#FFFFFF","highlight":{"b01":"#FFFFFF","b02":"#3E2A19","b03":"#884C12","f01":"#FFA43B","f02":"#FFA43B"},"info":{"main":"#FFFFFF"},"informative":{"b01":"#000000","f01":"#222E49","f02":"#35C6FF"},"interactive":{"b01":"#29334C","b02":"#35C6FF","f01":"#35C6FF"},"label":{"black02":"#FFFFFF","blue01":"#35C6FF","blue02":"#35C6FF","green01":"#7FFF5D","green02":"#7FFF5D","orange01":"#FFA43B","orange02":"#FFA43B","purple01":"#AE9CFF","purple02":"#AE9CFF","red01":"#FF827A","red02":"#FF827A","teal01":"#12F7FF","teal02":"#12F7FF","yellow01":"#FEFF05","yellow02":"#FEFF05"},"nav":{"b01":"#000000","b02":"#000000","bookmark":"#35C6FF","ctlDefault":"#FFFFFF","ctlSelected":"#35C6FF","f01":"#FFFFFF","f02":"#FFFFFF","f03":"#FFFFFF","f04":"#FFFFFF","iconDefault":"#FFFFFF","iconSelected":"#35C6FF","line":"#FFFFFF","mention":"#FFA43B","menuBg":"#35C6FF","menuText":"#000000"},"neutral":{"b01":"#000000","b02":"#000000","b03":"#000000","b04":"#FFFFFF","b05":"#FFFFFF","b06":"#000000","elevation":"#000000","f01":"#000000","f02":"#808080","f03":"#FFFFFF","f04":"#FFFFFF","f05":"#FFFFFF","f06":"#FFFFFF","f07":"#000000","f11":"#FFFFFF","l01":"#000000","l02":"#FFFFFF","l03":"#FFFFFF","l04":"#FFFFFF","transparent":"transparent"},"presence":{"available":"#7FFF5D","busy":"#FF827A","invisible":"#808080"},"primary":{"main":"#35C6FF"},"secondary":{"main":"#884C12"},"subAction":"#35C6FF","success":{"b01":"#1C281B","b02":"#223221","b03":"#7FFF5D","b04":"#7FFF5D","b05":"#FFFFFF","f01":"#223221","f02":"#7FFF5D","f11":"#7FFF5D","main":"#3D9A4A"},"tab":{"default":"#FFFFFF","selected":"#35C6FF"},"type":"dark","umi":{"bg":"#FFFFFF","mentioned":"#FFA43B","text":"#000000"},"vDanger":{"f01":"#DD6057"},"vDisabled":{"f01":"#54565E"},"vNeutral":{"b01":"#1e2027","b02":"#282A32","b03":"#30323A","b04":"#383A43","f01":"#FFFFFF"},"warning":{"b01":"#2B2416","b02":"#373D1B","b03":"#FEFF05","f01":"#FEFF05","f02":"#FEFF05","f11":"#FEFF05","main":"#74561D"}},"radius":{"circle":"50%","lg":"4px","md":"3px","round":"100vw","sm":"2px","xl":"8px","xxl":"16px","zero":"0px"},"shadows":["none","0px 1px 3px 0px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 2px 1px -1px rgba(0,0,0,0.12)","0px 1px 5px 0px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 3px 1px -2px rgba(0,0,0,0.12)","0px 1px 8px 0px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 3px 3px -2px rgba(0,0,0,0.12)","0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)","0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12)","0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)","0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12)","0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)","0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12)","0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12)","0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12)","0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12)","0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12)","0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12)","0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12)","0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12)","0px 11px 14px -7px rgba(0,0,0,0.2),0px 23px 36px 3px rgba(0,0,0,0.14),0px 9px 44px 8px rgba(0,0,0,0.12)","0px 11px 15px -7px rgba(0,0,0,0.2),0px 24px 38px 3px rgba(0,0,0,0.14),0px 9px 46px 8px rgba(0,0,0,0.12)"],"typography":{"body1":{"fontSize":"0.9375rem","fontWeight":400,"lineHeight":"22px"},"body2":{"fontSize":"0.9375rem","fontWeight":700,"lineHeight":"22px"},"button":{"fontSize":"0.9375rem","fontWeight":700,"lineHeight":"20px","textTransform":"none"},"caption1":{"fontSize":"0.75rem","fontWeight":400,"lineHeight":"16px"},"caption2":{"fontSize":"0.75rem","fontWeight":700,"lineHeight":"16px"},"codeFontFamily":"Courier","display1":{"fontSize":"2.125rem","fontWeight":400,"lineHeight":"40px"},"display2":{"fontSize":"2.8125rem","fontWeight":400,"lineHeight":"56px"},"display3":{"fontSize":"3.5rem","fontWeight":700,"lineHeight":"72px"},"display4":{"fontSize":"6rem","fontWeight":700,"lineHeight":"112px"},"fontFamily":"Lato, Helvetica, Arial, sans-serif","fontSize":14,"fontWeightBold":700,"fontWeightLight":300,"fontWeightMedium":500,"fontWeightRegular":400,"headline1":{"fontSize":"1.5rem","fontWeight":400,"lineHeight":"32px"},"headline2":{"fontSize":"1.5rem","fontWeight":700,"lineHeight":"32px"},"htmlFontSize":16,"subheading1":{"fontSize":"1rem","fontWeight":400,"lineHeight":"24px"},"subheading2":{"fontSize":"1rem","fontWeight":700,"lineHeight":"24px"},"title1":{"fontSize":"1.25rem","fontWeight":400,"lineHeight":"28px"},"title2":{"fontSize":"1.25rem","fontWeight":700,"lineHeight":"28px"}},"unit":"4px"}')}}]);