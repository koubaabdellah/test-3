(window.salesJsonp=window.salesJsonp||[]).push([[11],{"/Q9M":function(e,t,a){"use strict";a.r(t);var n=a("cpVT"),o=a("xvhg"),i=a("MX0m"),r=a.n(i),s=a("q1tI"),c=a.n(s),l=a("JNjH"),d=a("BTSr"),p=a("uVxl"),u=a("kjGT"),m=a("lNN+"),f=a("jqru"),h=a("7naU"),g=a("N1Ph"),b=a("cq7Z"),C=a("U/e8"),v=a("mwIZ"),y=a.n(v),k=a("RPid"),O=a("AGoX"),S=a("maZt"),x=a("C3wX"),I=a("Da3r"),T=a("Xugw"),w=a("LvDl"),L=c.a.createElement;function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var P=function(e){var t=e.isOpen,a=e.profile,o=e.skuInContext,i=e.onCloseModal,r=e.tradeInInfoModalContent,l=c.a.useContext(d.a),p=Object(s.useContext)(S.a),u=new b.a,m=Object(C.Dc)("GET"),f=!Object(w.isEmpty)(m)&&m.wsceData&&m.wsceData.wlsfi,h=l&&l.editLosgId&&l.getItemByLosgId(l.editLosgId),g=h&&h.losgType,v=f?f.toUpperCase()===T.losgType.Upgrade?Object(x.b)(T.losgType.Upgrade,null,null,null,g):Object(x.b)(T.losgType.Al):"";return L(O.default,{isOpen:t,onRequestClose:function(){i()},onAfterOpen:function(){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},{"page.attributes.productType":Object(x.e)(v,"simcard"===y()(o,"deviceSubType")),"page.attributes.sku":o.skuId,"page.attributes.skuName":o.shortDisplayName||o.displayName,"page.category.applicationName":"Sales Wireless Full Web","page.category.pageFunction":"Sales","page.category.pageOwnership":"Consumer","page.location.url":e.isGenericTradeIn?I.d.tradeIn.genericTradeInReportingPageUrl:I.d.tradeIn.tradeInReportingPageUrl,"page.category.siteSection":"myATT Sales","page.location._addressBarFullURL":window.location.href,"page.location.domain":window.location.hostname,"page.pageInfo.lineOfBusiness":"Wireless","page.pageInfo.flowCode":v,"page.pageInfo.responsiveWebDesignFlag":1,"page.pageInfo.zipCode":a.zipCode,"user.customerType":Object(x.c)(a.customerType),"user.account.liabilityType":Object(x.d)(a.customerType),"user.login.userType":Object(C.zb)(),"user.uuid":p,"page.pageInfo.friendlyPageName":e.isGenericTradeIn?I.d.tradeIn.genericTradeInReportingPageName:I.d.tradeIn.tradeInReportingPageName});u.firePageLoadEvent(t)},header:L(c.a.Fragment,null,r&&r.tradeInInfoModalHeading&&L("div",{className:"type-md color-ui-black mar-b-sm"},L("b",null,r.tradeInInfoModalHeading)),r&&r.tradeInInfoModalSubHeading&&L("div",{className:"type-sm color-ui-black mar-b-sm"},r.tradeInInfoModalSubHeading)),modalContentClassName:"modal-content pad-l-md-lg pad-l-lg pad-r-md-lg pad-r-lg pad-b-sm-lg pad-b-lg pad-t-xxs",modalCloseClassName:"close-button no-border mar-t-xs",width:6},r&&r.tradeInInfoModalInfoBox&&L("div",{className:"break-word type-sm mar-b-s",dangerouslySetInnerHTML:{__html:r.tradeInInfoModalInfoBox}}))},N=a("zKQ6"),D=a("J2m7"),M=a.n(D),A=a("zd1r"),E=c.a.createElement;function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}t.default=function(e){var t,a,i,v,S,L=c.a.useState(!1),j=Object(o.a)(L,2),D=j[0],F=j[1],U=c.a.useState(void 0),B=Object(o.a)(U,2),H=B[0],_=B[1],V=c.a.useState(0),W=Object(o.a)(V,2),z=W[0],G=W[1],Q=c.a.useState(!1),q=Object(o.a)(Q,2),X=q[0],Z=q[1],K=new b.a,J=c.a.useState(void 0),Y=Object(o.a)(J,2),$=Y[0],ee=Y[1],te=c.a.useState(!1),ae=Object(o.a)(te,2),ne=ae[0],oe=ae[1],ie=c.a.useState(!1),re=Object(o.a)(ie,2),se=re[0],ce=re[1],le=c.a.useState(!1),de=Object(o.a)(le,2),pe=de[0],ue=de[1],me=c.a.useState(void 0),fe=Object(o.a)(me,2),he=fe[0],ge=fe[1],be=c.a.useState(),Ce=Object(o.a)(be,2),ve=Ce[0],ye=Ce[1],ke=c.a.useState(void 0),Oe=Object(o.a)(ke,2),Se=Oe[0],xe=Oe[1],Ie=c.a.useState(void 0),Te=Object(o.a)(Ie,2),we=Te[0],Le=Te[1],je=c.a.useState(void 0),Pe=Object(o.a)(je,2),Ne=(Pe[0],Pe[1]),De=e.dataQa,Me=(e.dtabCookieExists,e.tradeInConsented,e.portInConsented,e.nextUpConsented,e.hylaOfferCodeRetrieved,e.onLegalClick),Ae=e.onOfferClick,Ee=e.optedForTradein,Re="DEFAULT",Fe=c.a.useContext(l.a),Ue=c.a.useContext(m.a),Be=c.a.useContext(d.a),He=Object(s.useState)(!1),_e=He[0],Ve=He[1],We=Object(s.useState)(!1),ze=We[0],Ge=We[1],Qe=Fe.isTradeInSelected?Fe.hylaOfferCodeInContext:Re,qe=Ue&&Ue.featureFlags&&"true"===Ue.featureFlags["pdp-hyla-tradein"],Xe=Ue&&Ue.featureFlags&&"true"===Ue.featureFlags["pdp-hyla-tradein-modal-tablets-wearables"],Ze=Fe.priceOptions&&Fe.priceOptions[Fe.selectedSku.skuId]&&Fe.priceOptions[Fe.selectedSku.skuId][Fe.selectedPricingIndex],Ke=Fe.priceOptions&&Fe.priceOptions[Fe.selectedSku.skuId]&&Fe.priceOptions[Fe.selectedSku.skuId][Fe.prevSelectedIndex],Je=Ze&&Ze.displayPortIn,Ye=Ze&&Ze.displayTradeIn[Qe]&&Ze.displayTradeIn[Qe].hylaOfferCode?Ze.displayTradeIn[Qe]:void 0,$e=Object(C.Ob)(Ye),et=Object(C.Qb)(Be),tt=Be.customerIntent&&Be.customerIntent.toUpperCase(),at=Be&&(null===Be||void 0===Be?void 0:Be.promotions)&&M()(null===Be||void 0===Be?void 0:Be.promotions,{promotionCategory:"HYLA_TRADEIN"});Object(s.useEffect)((function(){var t=Object(C.Dc)("GET");if(!Object(C.Mb)(t)){var a=!1,n=!1,o=null;e.collapseTradein?(n=!0,a=!1,o=!0):(n=!1,a=!0,o=!1),Ve(n),oe(a),ce(o)}}),[]),Object(s.useEffect)((function(){var t=Object(C.Dc)("GET"),a={};if(!Object(C.Mb)(t)&&t.wsceData&&t.wsceData.wlsfi&&t.wsceData.wlsfi===A.e.UP){var n,o,i=t&&t.upgradeOptions&&t.upgradeOptions.upgradeEligibilityInfo&&t.upgradeOptions.upgradeEligibilityInfo.subscribers||[],r=null!==(n=null===t||void 0===t||null===(o=t.wsceData)||void 0===o?void 0:o.selectedCTNforUpgrade)&&void 0!==n?n:"",s=i.find((function(e){return e.subscriberNumber===r}));a=null!==s&&void 0!==s&&s.device?s.device:{},xe(s&&s.customerFirstName),Le(s&&s.device.shortDisplayName),Ne(a),ye(a),console.log(s)}var c=sessionStorage.getItem("selectedDeviceConfig")&&JSON.parse(sessionStorage.getItem("selectedDeviceConfig"));if(null!==c&&void 0!==c&&c.commitmentTerm){var l=c?c.shoppingContext&&c.shoppingContext.offerCode:void 0,d=null===c||void 0===c?void 0:c.hylaTradeInIntentIndicator,p=null===c||void 0===c?void 0:c.hylaTradeInResponse;if(p&&d){Fe.setIsTradeInSelected(!0),G(1);var u=bt(p.offerCode);Fe.setHylaOfferCodeInContext(u),qe&&(Fe.setHylaTradeInResponse(p),Fe.setRetainTradeInInformation({})),ye(p),Le(p.make+" "+p.productFamily),ce(!0),e.updateTradeInStatusChange("tradein_change")}l&&setTimeout((function(){ge(l)}),100)}}),[]),Object(s.useEffect)((function(){if(Be.isInitialized&&!Object(C.Mb)(Fe.priceOptions)){var e=Be.getItemByLosgId(Be.editLosgId),t=e&&e.items&&M()(e.items,{itemType:"device"}),a=e&&e.items&&M()(e.items,{itemType:"HYLA_TRADEIN"});if(a){var n,o,i,r,s,c,l,d,p,u,m,f,h={capacity:(null===a||void 0===a||null===(n=a.wirelessLineItemCharacteristics)||void 0===n||null===(o=n.tradeInDetail)||void 0===o?void 0:o._capacity)||"",make:null===a||void 0===a||null===(i=a.hardGood)||void 0===i?void 0:i.make,productFamily:null===a||void 0===a||null===(r=a.hardGood)||void 0===r?void 0:r.model,hylaDiscountAmount:null===a||void 0===a||null===(s=a.price)||void 0===s?void 0:s.amount,hylaOfferCode:null===e||void 0===e?void 0:e.hylaPromotionCode,questionAnswers:null===a||void 0===a||null===(c=a.wirelessLineItemCharacteristics)||void 0===c||null===(l=c.tradeInDetail)||void 0===l?void 0:l.questions,tradeInDeviceCondition:null===a||void 0===a||null===(d=a.wirelessLineItemCharacteristics)||void 0===d||null===(p=d.tradeInDetail)||void 0===p?void 0:p._tradeInDeviceCondition,deviceType:null,image:null===a||void 0===a||null===(u=a.hardGood)||void 0===u?void 0:u.productImageUrl};Le((null===a||void 0===a||null===(m=a.hardGood)||void 0===m?void 0:m.make)+" "+(null===a||void 0===a||null===(f=a.hardGood)||void 0===f?void 0:f.model)),ye(h)}if(t&&t.productSKU)return}}),[Be.isInitialized,Fe.priceOptions]);var nt=function(e){return"netbook"===e?"Tablet":"pda"===e?"Phone":"network"===e?"Wearable":void 0},ot=function(e,t,a){var n=y()(e,t,"").trim(),o=y()(e,a,"").trim();return $e?a.indexOf(" ")>-1?a.trim():o:e&&"tradein"===e.tradeInType?t.indexOf(" ")>-1?t.trim():n:""},it=!1;if(Ze&&Ze.promoPricing&&Ze.promoPricing.length&&Ze.promoPricing.length>0){var rt=Ze.promoPricing.filter((function(e){return"tradein"===e.promoType}));it=rt.length>1}var st=Ze&&0===(null===Ze||void 0===Ze?void 0:Ze.monthlyNextUpCharge)?Ze:Ke,ct=Ue&&Ue.featureFlags&&"true"===Ue.featureFlags["pdp-tiered-tradein"],lt=Ue&&Ue.featureFlags&&"true"===Ue.featureFlags["pdp-hyla-details-to-cart"],dt=y()(e.learnViewPropsState,"configTradeIn",!1);Object(s.useEffect)((function(){!0===e.collapseTradein&&(Ve(!0),oe(!1),ce(!0))}),[e.collapseTradein]),Object(s.useEffect)((function(){"TRADE-IN"!==e.widgetInFocus&&se&&Ve(!0)}),[e.widgetInFocus]),Object(s.useEffect)((function(){et||!0!==e.priceChanged||(Object(C.kb)()&&ne&&gt(1,!0),oe(!1))}),[e.priceChanged]),Object(s.useEffect)((function(){et&&!0===e.priceChanged&&-1!==e.pdpNextUpValue&&void 0!==e.pdpNextUpValue&&(Object(C.kb)()&&ne&&gt(1,!0),oe(!1))}),[e.priceChanged,e.pdpNextUpValue]),Object(s.useEffect)((function(){Fe&&Fe.hylaTradeInResponse&&(Fe.hylaTradeInResponse.isHYLAReward?Ge(!0):Ge(!1));if(Fe&&Fe.isTradeInSelected&&Fe.hylaOfferCodeInContext&&pe){var t=Be.getItemByLosgId(Be.editLosgId),a=t&&t.items&&M()(t.items,{itemType:"device"});a&&a.productSKU&&Fe.selectedSku&&Fe.selectedSku.skuId&&a.productSKU===Fe.selectedSku.skuId&&e.updateChildCompStatusChange("tradein_change")}}),[Fe.hylaTradeInResponse]);var pt=Object(C.j)(Fe.getNonNextupPriceOption(),Fe,!0,!1);Object(s.useEffect)((function(){he&&Fe.priceOptions&&(function(){var e=Fe.priceOptions&&Fe.priceOptions[Fe.selectedSku.skuId]&&Fe.priceOptions[Fe.selectedSku.skuId][Fe.selectedPricingIndex];return e&&e.displayTradeIn&&e.displayTradeIn[he]}()&&(Fe.setIsTradeInSelected(!0),Fe.setHylaOfferCodeInContext(he)),ge(void 0))}),[he,Fe.priceOptions]);var ut=function(){var t={linkDestinationUrl:Fe.selectedSku.devicePageURL,linkName:"TradeIn"+(_e?"_Expand":"_Collapse"),linkPosition:"Body"};K.fireLinkClickEvent(t),Ve(!_e),e.updateWidgetinFocus("tradein"),_e||(Object(C.Qb)(Be)?e.updateChildCompStatusChange("pdp_nextup",!1):e.updateChildCompStatusChange("price_change",!1))},mt=function(e,t,a){var o,i=Object(C.Dc)("GET"),r=!Object(w.isEmpty)(i)&&i.wsceData&&i.wsceData.customerType;console.log("customer type",r);var s=null!==i&&void 0!==i&&null!==(o=i.wirelessResponseAl)&&void 0!==o&&o.isFirstNet?1:0,c=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},{url:e,"page.pageInfo.flowCode":t,"page.pageInfo.friendlyPageName":a,"page.attributes.productType":"Postpaid","user.customerType":Object(x.c)(r),"user.account.liabilityType":Object(x.d)(r),"user.login.userType":Object(C.zb)(),"user.firstNetFlag":s});K.firePageLoadEvent(c)},ft=function(e){var t={linkDestinationUrl:"/buy/postpaid/tradeindetail/modal",linkName:e,linkPosition:"tradein_configuration"};K.fireLinkClickEvent(t)},ht=function(e,t){var a={linkDestinationUrl:e||window.location.href,linkName:t,linkPosition:"Body"};K.fireLinkClickEvent(a)},gt=function(t,a){var n,o=Object(C.Dc)("GET"),i=!Object(w.isEmpty)(o)&&o.wsceData&&o.wsceData.wlsfi,r=Be&&Be.editLosgId&&Be.getItemByLosgId(Be.editLosgId),s=r&&r.losgType,c=Object(x.b)(i.toUpperCase(),null,null,null,s);(ue(!0),G(Number(t)),Ve(!0),ce(!0),Number(t))?(a||ht("/buy/postpaid/tradeindetail/modal",xt),ct&&it||qe&&("pda"===(null===e||void 0===e||null===(n=e.skuInContext)||void 0===n?void 0:n.deviceType)||Xe)?(F(!0),mt("/buy/postpaid/tradeindetail/modal",c,A.g.friendlyPageName.TradeinModal)):a||(Fe.setIsTradeInSelected(!0),Ye&&Ye.hylaOfferCode&&Fe.setHylaOfferCodeInContext(Ye.hylaOfferCode),e.updateTradeInStatusChange("tradein_change"))):(ht(Fe.selectedSku.devicePageURL,Tt),Fe.setIsTradeInSelected(!1),Ft(),Fe.setHylaOfferCodeInContext(Re),Fe.setHylaTradeInResponse({}),e.updateTradeInStatusChange("tradein_change"))},bt=function(e){var t,a=Fe.priceOptions&&Fe.priceOptions[Fe.selectedSku.skuId]&&Fe.priceOptions[Fe.selectedSku.skuId][Fe.selectedPricingIndex];return a&&a.displayTradeIn&&a.displayTradeIn[e]?e:null===a||void 0===a||null===(t=a.displayTradeIn.DEFAULT)||void 0===t?void 0:t.hylaOfferCode},Ct=function(){F(!1),e.updateTradeInStatusChange("tradein_change")},vt=ot(Ye,"tradeInSubheader","genericTradeInSubHeader"),yt=ot(Ye,"tradeInSeeMoreLabel","genericTradeInSeeMoreLabel"),kt=ot(Ye,"tradeInHeader","genericTradeInHeader"),Ot=(y()(Ye,"selectTradeInHeader",I.d.tradeIn.selectTradeInHeader),ot(Ye,"tradeInContinueCTALabel","genericTradeInContinueCTALabel"));qe&&(Ot=(Ot=(Ot=ot(Ye,Se?"tradeInNameDevice":"tradeInContinueCTALabel","tradeInContinueCTALabel")).replace("[[firstName]]",Se)).replace("[[deviceName]]",we));var St=y()(Ye,"genericTradeInHeader",I.d.tradeIn.genericTradeInHeader),xt=ot(Ye,"tradeInDifferentDevice","tradeInDifferentDevice"),It=ot(Ye,"estimatedTradeInValue","estimatedTradeInValue"),Tt=ot(Ye,"tradeInCancelCTALabel","genericTradeInCancelCTALabel"),wt=(ot(Ye,"tradeInContinueCTALabel","genericTradeInCollapsedContinue"),ot(Ye,"tradeInExpandedContinueCTALabel",I.d.tradeIn.tradeInExpandedContinueCTALabel)),Lt=y()(Ye,"genericTradeInNewHeader",I.d.tradeIn.genericTradeInNewHeader),jt=y()(Ye,"genericTradeInSelection",I.d.tradeIn.genericTradeInSelection),Pt=(ot(Ye,"tradeInCancelCTALabel","genericTradeInCollapsedCancel"),y()(Object(C.a)(e.idpcmsContent,e.skuInContext),"commonContent",void 0)),Nt=y()(Pt,"[0].master.modals.master.tradeInInfoModal.master",void 0),Dt=y()(Pt,"[0].master.modals.master.genericTradeInInfoModal.master",void 0),Mt={tradeInInfoModalHeading:void 0,tradeInInfoModalInfoBox:void 0,tradeInInfoModalSubHeading:void 0};Mt.tradeInInfoModalHeading=$e?y()(Dt,"heading",I.d.tradeIn.genericTradeInInfoModalHeading):y()(Nt,"heading",I.d.tradeIn.tradeInInfoModalHeading),Mt.tradeInInfoModalInfoBox=$e?y()(Dt,"infoBox",I.d.tradeIn.genericTradeInInfoModalInfoBox):y()(Nt,"infoBox",I.d.tradeIn.tradeInInfoModalInfoBox),Mt.tradeInInfoModalSubHeading=y()(Nt,"subHeading",I.d.tradeIn.tradeInInfoModalSubHeading);var At=Fe.getTradeInPrice(Ye),Et=Fe.getPortInPrice(Je),Rt=function(){ee(Math.random().toString())},Ft=function(){sessionStorage.removeItem("tempSharedOfferModalValues"),Fe.setHylaTradeInResponse({})},Ut=function(){var e=Be.getItemByLosgId(Be.editLosgId),t=e&&e.items&&M()(e.items,{itemType:"device"});if(t&&t.productSKU&&t.productSKU===Fe.selectedSku.skuId&&Fe.priceOptions&&Fe.priceOptions[Fe.selectedSku.skuId]&&e.hylaPromotionCode){var a=Fe.priceOptions[Fe.selectedSku.skuId]&&Fe.priceOptions[Fe.selectedSku.skuId][Fe.selectedPricingIndex];a&&a.displayTradeIn&&a.displayTradeIn[e.hylaPromotionCode]?(Fe.setIsTradeInSelected(!0),Fe.setHylaOfferCodeInContext(e.hylaPromotionCode)):Fe.setIsTradeInSelected(!1),Ve(!0),oe(!1),ce(!0)}};c.a.useEffect((function(){Ue&&"true"===Ue.featureFlags["pdp-tradein"]&&Ze&&Ye&&(Ze.leaseTotalMonths>0||Ze.termLength>1)&&Fe.setIsTradeInSelected(!1),dt&&setTimeout((function(){Ut()}),100),_(window.innerWidth),G(!0!==ne?Fe.isTradeInSelected?1:0:null),Rt()}),[]),c.a.useEffect((function(){G(!0!==ne?Fe.isTradeInSelected?1:0:null)}),[Fe.isTradeInSelected,ne]),Object(s.useEffect)((function(){Ee(z)}),[z]),c.a.useEffect((function(){Ut()}),[Fe.priceOptions,Be.editLosgId,Be.cartItems]),c.a.useEffect((function(){setTimeout((function(){pe&&function(){var t=Be.getItemByLosgId(Be.editLosgId),a=t&&t.items&&M()(t.items,{itemType:"device"});a&&a.productSKU&&a.productSKU===Fe.selectedSku.skuId&&Fe.hylaOfferCodeInContext===Re&&(e.updateChildCompStatusChange("tradein_change"),ue(!1))}()}),100)}),[Fe.isTradeInSelected,Fe.hylaOfferCodeInContext]);var Bt="string"===typeof(null===(t=Fe.selectedContractTerm)||void 0===t?void 0:t.msrp)?parseFloat(null===(a=Fe.selectedContractTerm)||void 0===a?void 0:a.msrp.replace(",","")):null===(i=Fe.selectedContractTerm)||void 0===i?void 0:i.msrp,Ht={deviceName:Fe.selectedSku.shortDisplayName,losgTypes:Object(C.yb)(),productId:Fe.selectedSku.productId,purchasingDeviceType:null===(v=nt(null===e||void 0===e||null===(S=e.skuInContext)||void 0===S?void 0:S.deviceType))||void 0===v?void 0:v.toLowerCase(),purchasingDeviceMSRP:Bt,skuId:"".concat(e.skuId),preSelectedDevice:function(){var e;if(2!=z&&(!ve||ve.deviceType||ve.type)){var t;if(ve)e={hylaDiscountAmount:ve.hylaDiscountAmount?ve.hylaDiscountAmount:null,hylaOfferCode:ve.offerCode?ve.offerCode:null,product:{type:ve.type?ve.type:null===(t=nt(ve.deviceType))||void 0===t?void 0:t.toLowerCase(),capacity:ve.capacity?ve.capacity:ve.size?"".concat(ve.size,"GB"):"",productFamily:ve&&ve.productFamily?ve.productFamily:ve&&ve.model?ve.model:"",make:ve.make?ve.make:""},tradeInDeviceCondition:ve.tradeDeviceCondition?ve.tradeDeviceCondition:"",questionAnswers:ve.questionAnswers?ve.questionAnswers:[]};return e}}()},_t=(ve&&ve.customerFirstName&&E("span",{className:"customerName"},ve.customerFirstName,"'s"),ve&&"NA"!==ve.make?ve.make:""),Vt=ve&&ve.productFamily?ve.productFamily:ve&&ve.model?ve.model:"",Wt=ve&&ve.capacity?"".concat(ve.capacity):ve&&ve.size?"".concat(ve.size," GB"):"",zt=(ve&&ve.color&&" - ".concat(ve.color),ve&&ve.image?ve.image:ve&&ve.deviceType&&function(e){var t="https://uat.hyla.hylatest.com/hylacatalog/modelImage/139024/MODEL_IMAGE_LARGE/139";return"netbook"===e?t="https://uat.hyla.hylatest.com/hylacatalog/modelImage/139072/MODEL_IMAGE_LARGE/26":"network"===e&&(t="https://uat.hyla.hylatest.com/hylacatalog/modelImage/139068/MODEL_IMAGE_LARGE/26"),t}(ve.deviceType));return E(c.a.Fragment,null,Ue&&"true"===Ue.featureFlags["pdp-tradein"]&&Ze&&Ye&&(Ze.leaseTotalMonths>0||Ze.termLength>1)&&E(c.a.Fragment,null,E(P,{isOpen:X,tradeInInfoModalContent:Mt,profile:e.profileInfo,onCloseModal:function(){Z(!1),function(){var e={linkDestinationUrl:$e?I.d.tradeIn.genericTradeInReportingPageUrl:I.d.tradeIn.tradeInReportingPageUrl,linkName:"Close",linkPosition:C.Ob?I.d.tradeIn.genericTradeInReportingLinkPosition:I.d.tradeIn.tradeInReportingLinkPosition};K.fireLinkClickEvent(e)}()},skuInContext:e.skuInContext,isGenericTradeIn:$e}),E(O.default,{isOpen:D,onRequestClose:function(){var e=Object(C.Dc)("GET"),t=!Object(w.isEmpty)(e)&&e.wsceData&&e.wsceData.wlsfi,a=Be&&Be.editLosgId&&Be.getItemByLosgId(Be.editLosgId),n=a&&a.losgType,o=t.toUpperCase()===T.losgType.Upgrade?Object(x.b)(T.losgType.Upgrade,null,null,null,n):Object(x.b)(T.losgType.Al);Ct(),Object(w.isEmpty)(Fe.hylaTradeInResponse)&&(Fe.setIsTradeInSelected(!1),G(0),Fe.setHylaOfferCodeInContext(Re)),Rt(),ft("tradein_close"),mt("/buy/postpaid/phones/details",o,A.g.friendlyPageName.PDPLearnPage),Ve(!0)},overlayClassName:"overlay flex justify-center pad-none",className:"modal container flex-items-center pad-none",portalClassName:"ReactModalPortal full-width-container",modalContentClassName:"modal-content pad-sm",modalCloseClassName:"close-button no-border",width:H>767?6:12},E(k.a,{data:Ht,events:{onOfferDecision:function(e){var t=Object(C.Dc)("GET"),a=!Object(w.isEmpty)(t)&&t.wsceData&&t.wsceData.wlsfi,n=Be&&Be.editLosgId&&Be.getItemByLosgId(Be.editLosgId),o=n&&n.losgType,i=a.toUpperCase()===T.losgType.Upgrade?Object(x.b)(T.losgType.Upgrade,null,null,null,o):Object(x.b)(T.losgType.Al);if(Ct(),e.hasTieredTradeIn=it,e.hylaDetailsToCartFlag=lt,"USER_ACCEPTED"===e.status){Fe.setIsTradeInSelected(!0),G(1);var r=bt(e.offerCode);Fe.setHylaOfferCodeInContext(r),qe&&(Fe.setHylaTradeInResponse(e),Fe.setRetainTradeInInformation({})),sessionStorage.setItem("tempSharedOfferModalValues",JSON.stringify(e)),Rt(),function(e){console.log("tadein modal values",e);var t={errorType:"Success_Admit",eventCode:"DS_TradeIn_MakeModel_Selection_Submit",linkDestinationUrl:"/buy/postpaid/tradeindetail/modal",linkName:"Trade in this phone",linkPosition:"tradein_configuration",statusCode:"0",statusMessage:"Success",successFlag:"1",tradeInDeviceMake:e.make,tradeInDeviceModel:e.productFamily,tradeInDeviceCategory:e.type,tradeInDeviceCapacity:e.capacity,tradeInDeviceCondition:e.tradeInDeviceCondition,tradeInFlag:$e?0:1,tradeInValue:e.modelPrice,"page.attributes.productType":"Postpaid"};K.fireFormSubmitEvent(t.eventCode,t)}(e),function(e){var t={statusMessage:"Success",statusCode:"0",successFlag:"1",eventCode:"DS_TradeIn_MakeModel_Selection_Submit",linkDestinationUrl:"/buy/postpaid/tradeindetail/modal",linkName:"Trade in this phone",linkPosition:"tradein_configuration",tradeInDeviceMake:e.make,tradeInDeviceModel:e.productFamily,tradeInDeviceCategory:e.type,tradeInDeviceCapacity:e.capacity,tradeInDeviceCondition:e.tradeInDeviceCondition,tradeInFlag:$e?0:1,tradeInValue:e.modelPrice,"page.attributes.productType":"Postpaid"};K.fireFormResponseEvent(t.eventCode,t)}(e),ye(e),Le(e.make+" "+e.productFamily)}else"NO_OFFER_FOUND"===e.status?(Fe.setIsTradeInSelected(!0),G(0),Fe.setHylaOfferCodeInContext(Re),Rt()):"USER_DECLINED"===e.status&&(Fe.setIsTradeInSelected(!1),G(0),Fe.setHylaOfferCodeInContext(Re),Rt(),ft("Dont trade in"),Ft());mt("/buy/postpaid/phones/details",i,A.g.friendlyPageName.PDPLearnPage)},onError:function(e){Fe.setIsTradeInSelected(!1)}},options:{disableOrchestrationOffers:!qe},campaignIdHeader:e.campaignId})),E("div",{id:"TRADE-IN-anchor","aria-label":kt,className:"jsx-1774161289 "+"".concat(Ue&&"true"===Ue.featureFlags["pdp-tradein"]&&Ze&&Ye&&(Ze.leaseTotalMonths>0||Ze.termLength>1)?Ze&&"NoCommitment"===Ze.commitmentTerm?"":ne?N.boxWidgetDisabled:"TRADE-IN"===e.widgetInFocus?N.boxWidgetInFocus:N.boxWidget:"")},E("div",{dataQa:"".concat(De,"-header"),className:"jsx-1774161289 font-regular"},E("span",{onClick:ut,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(ut(),e.preventDefault(),e.stopPropagation())},tabIndex:se?0:null,"aria-hidden":"false","aria-controls":kt,role:"button","aria-expanded":!_e,className:"jsx-1774161289 formfield-label pad-b-sm-lg pad-b-xs edit-header-tradein"},E("span",{style:{width:"100%"},className:"jsx-1774161289 "+"type-base color-ui-black mar-b-none pad-r-xxxs line-h-md cursor ".concat(_e?"font-regular":"font-bold")},Fe.isTradeInSelected&&ze?St:Lt),se&&E(g.a,{expanded:!_e,iconLabel:"Edit",isAriaButton:!1})),_e&&E("div",{className:"jsx-1774161289 full-width text-left"},E("div",{className:"jsx-1774161289 flex full-width type-base color-ui-black mar-b-none cursor"},E("div",{className:"jsx-1774161289 type-base font-bold"},Fe.isTradeInSelected?jt:Tt),(!$e||$e&&!Fe.isTradeInSelected)&&E("div",{style:{paddingLeft:"max(16px, 5%)"},className:"jsx-1774161289 margin-left-auto"},E("span",{className:"jsx-1774161289 type-base font-bold text-right"},"".concat(pt.displayPrefix+pt.displayPrice)),E("span",{className:"jsx-1774161289 type-sm font-bold"},pt.displaySuffix))))),!_e&&E("div",{className:"jsx-1774161289 type-sm color-ui-black flex flex-column"},E("p",{className:"jsx-1774161289  type-sm mar-b-xxs"},vt&&E("span",{className:"jsx-1774161289"},vt,"\xa0"),yt&&Mt&&Mt.tradeInInfoModalInfoBox&&E("a",{onClick:function(){var e={linkDestinationUrl:$e?I.d.tradeIn.genericTradeInReportingPageUrl:I.d.tradeIn.tradeInReportingPageUrl,linkName:yt,linkPosition:C.Ob?I.d.tradeIn.genericTradeInReportingLinkPosition:I.d.tradeIn.tradeInReportingLinkPosition};K.fireLinkClickEvent(e),Z(!0)},onKeyDown:C.Ab,tabIndex:0,className:"jsx-1774161289 trade-in-see-more-link"},yt))),!_e&&E(u.b,{id:"RadioSelection-TradeIn",onChange:gt,defaultSelection:!1!==se?z?1:0:null,dataQa:De,randomValue:$,disabled:ne},E("div",{className:"jsx-1774161289 flex flex-column"},E(u.a,{value:1,name:"tradeInContinueCTALabel",inputName:"tradeInCTALabel",id:"tradeInContinueCTALabel",ariaControls:"tradeInContinueCTALabel",ariaHidden:_e,dataQa:"".concat(De,"-TradeInContinueCTA"),options:{fullWidth:!0,buttonClasses:"flex-column pad-xs ".concat("TRADE-IN"===e.widgetInFocus?"bg-ui-white":""),zIndex:1},disabled:ne,blockSelected:!0},(function(e){return E(f.a,{hidePrice:$e||!Fe.isTradeInSelected,isSelected:e,skuId:Fe.selectedSku.skuId,displayValue:ze&&Fe.isTradeInSelected?wt:$e?St:Fe.isTradeInSelected?wt:Ot,displayPrice:{displayPrefix:Ye&&Ye.tradeInPrefix,displayPrice:Fe.isPortInSelected?Et:At,displaySuffix:Fe.isPortInSelected?y()(Je,"portInPriceWithoutNextUpSuffix"):y()(Ye,"tradeInPriceWithoutNextUpSuffix")},radioSubContent:function(e,t){return E(c.a.Fragment,null,qe&&null!==ve&&void 0!==ve&&ve.make&&!ne?E(c.a.Fragment,null,E(p.a,{space:16,topSpace:16}),E("div",{className:"jsx-1774161289 mdcontainer mar-b-xxs"},E(c.a.Fragment,null,E("div",{className:"jsx-1774161289 pad-none-all mar-r-xxs"},E("img",{alt:ve&&ve.device&&ve.device.make+" "+ve&&ve.device&&ve.device.model,src:zt,className:"jsx-1774161289 imgmargin tradeImage"})),E("div",{className:"jsx-1774161289 pad-none-all"},E("p",{className:"jsx-1774161289 type-xs font-regular color-ui-dark-gray type-sm mar-t-none"},_t+" "+Vt),console.log("tradeDevice",ve,"estimatedTradeInValue",It),E("p",{className:"jsx-1774161289 type-xs font-regular color-ui-dark-gray type-sm mar-t-none"},Wt),ve&&ve.hylaDiscountAmount&&E("p",{className:"jsx-1774161289 type-xs font-regular color-ui-dark-gray type-sm mar-t-none"},E("b",{className:"jsx-1774161289"},It,null!==at&&void 0!==at&&at._useForPriceCalculation?null===at||void 0===at?void 0:at.amount:parseFloat(null===ve||void 0===ve?void 0:ve.hylaDiscountAmount))))))):null,E(h.a,{isSelected:e,priceOption:t,onLegalClick:Me,onOfferClick:Ae,tradeInDevice:ve,blockSelected:!0}))},selectedSku:Fe.selectedSku})})),(tt===A.e.UP||(null===ve||void 0===ve?void 0:ve.make))&&qe&&E(u.a,{value:2,name:"tradeInDifferentCTALabel",inputName:"tradeInDifferentCTALabel",id:"tradeInDifferentCTALabel",ariaControls:"tradeInDifferentCTALabel",ariaHidden:_e,dataQa:"".concat(De,"-TradeInDifferentCTA"),options:{fullWidth:!0,buttonClasses:"flex-column pad-xs ".concat("TRADE-IN"===e.widgetInFocus?"bg-ui-white":""),zIndex:1},disabled:ne,blockSelected:!0,displayPrice:{displayPrefix:"",displayPrice:""}},(function(e){return E(f.a,{hidePrice:!0,isSelected:e,skuId:Fe.selectedSku.skuId,displayValue:xt,radioSubContent:function(e,t){return E(c.a.Fragment,null)},selectedSku:Fe.selectedSku})})),E(u.a,{value:0,name:"tradeInCancelCTALabel",inputName:"tradeInCTALabel",id:"tradeInCancelCTALabel",ariaControls:"tradeInCancelCTALabel",ariaHidden:_e,dataQa:"".concat(De,"-TradeInCancelCTA"),options:{fullWidth:!0,zIndex:1,buttonClasses:"flex-column pad-xs ".concat("TRADE-IN"===e.widgetInFocus?"bg-ui-white":"")},disabled:ne},(function(e){return E(f.a,{isSelected:e,skuId:Fe.selectedSku.skuId,displayValue:Tt,displayPrice:Object(C.j)(st,Fe,!1),radioSubContent:function(e,t){return E(c.a.Fragment,null)},selectedSku:Fe.selectedSku})})))))),E(r.a,{id:"1774161289"},[".margin-left-auto.jsx-1774161289{margin-left:auto;}",".trade-in-see-more-link.jsx-1774161289{font-weight:bold;cursor:pointer;}",".mdcontainer.jsx-1774161289{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:left;-webkit-justify-content:left;-ms-flex-pack:left;justify-content:left;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}",".iconColor.jsx-1774161289{fill:#0057B8;}",".customerName.jsx-1774161289{text-transform:capitalize;}",".edit-header-tradein.jsx-1774161289:focus{outline:0.7px dotted #0057b8;}",".tradeImage.jsx-1774161289{max-height:64px;}"]))}},"0wnb":function(e,t,a){"use strict";var n=a("vJKn"),o=a.n(n),i=a("rg98"),r=a("H+61"),s=a("UlJF"),c=a("+Css"),l=a("7LId"),d=a("VIvw"),p=a("iHvq"),u=a("cpVT"),m=a("q1tI"),f=a("xEeC"),h=a("cq7Z"),g=a("RrNd"),b=a("Ra6Z"),C=a("Da3r"),v=a("U/e8"),y=a("C3wX"),k=a("BgAt"),O=a("0Yz8"),S=a("mOvS"),x=a.n(S),I=a("BTSr"),T=a("Z2Qj"),w=a("HW76"),L=a("mwIZ"),j=a.n(L),P=m.createElement;function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var A=function(e){Object(l.a)(a,e);var t=M(a);function a(e){var n;return Object(r.a)(this,a),n=t.call(this,e),Object(u.a)(Object(c.a)(n),"reporting",void 0),Object(u.a)(Object(c.a)(n),"fireLinkClick",(function(e,t){var a={linkName:e,linkPosition:"Body",linkDestinationUrl:t};n.reporting.fireLinkClickEvent(a)})),Object(u.a)(Object(c.a)(n),"redirectLegacy",(function(){var e="".concat(g.b.productDetailsUrls.deviceConfigUrl).concat(n.props.selectedSku.skuId);window.location.href=e})),Object(u.a)(Object(c.a)(n),"hideCtoModal",(function(){n.setState({showCtoModal:!1}),n.generateIntentsObject(n.props.intentsToShow,n.props.showNewCustomerLink)})),Object(u.a)(Object(c.a)(n),"redirectAndHideCtoModal",(function(){n.hideCtoModal(),window.location.href="/buy/tablets/"})),Object(u.a)(Object(c.a)(n),"clearSessionStorageItems",(function(){sessionStorage.getItem("offerId")&&sessionStorage.removeItem("offerId"),sessionStorage.getItem("offerBOGOid")&&sessionStorage.removeItem("offerBOGOid"),sessionStorage.getItem("myFavstoreCurrentSku")&&sessionStorage.removeItem("myFavstoreCurrentSku")})),n.state={intentsObject:{},addToCartSuccess:void 0,showCtoModal:!1},n.reporting=new h.a,n.intentModalCallback=n.intentModalCallback.bind(Object(c.a)(n)),n.intentModalPageLoadEvent=n.intentModalPageLoadEvent.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.intentsToShow.length>0&&this.generateIntentsObject(this.props.intentsToShow,this.props.showNewCustomerLink)}},{key:"componentWillUpdate",value:function(e){(e.intentsToShow.length>0&&e.intentsToShow!==this.props.intentsToShow||e.showNewCustomerLink!==this.props.showNewCustomerLink)&&this.generateIntentsObject(e.intentsToShow,e.showNewCustomerLink)}},{key:"render",value:function(){var e=this;return P(m.Fragment,null,P(w.a,{show:this.state.showCtoModal,title:"What do you want to do?",description:"Are you new to AT&T, and want to add a tablet? Call us at 800.331.0500 and we\u2019ll help you complete your order.",action1Label:"Ok",action1:this.redirectAndHideCtoModal,onClose:this.hideCtoModal}),Object.keys(this.state.intentsObject).length>0&&P(f.default,{userIntentData:this.state.intentsObject,headerText:this.getModalHeader(),dataQa:"PDPPage-intentModal-",isIntentModalOpen:this.props.isIntentModalOpen,onUserInput:this.intentModalCallback,showNewCustomerLink:this.props.showNewCustomerLink,bgPageLoadEvent:this.props.bgPageLoadEvent,modalPageLoadEvent:function(){e.intentModalPageLoadEvent(null,null,null)},reportingEventTimeout:1e3}))}},{key:"intentModalPageLoadEvent",value:function(e,t,a){var n="";if(this.props.priceOptions){var o=this.props.priceOptions&&this.props.priceOptions[this.props.selectedSku.skuId]?this.props.priceOptions[this.props.selectedSku.skuId][this.props.selectedPricingIndex||0]:null;if(n=null!==o?o.displayPrice:null!==this.props.selectedSku.priceList?"".concat(this.props.selectedSku.priceList[0].monthlyLeasePrice):"",null!==o){var i=o.name;"0"!==i&&"1"!==i||(n="0")}}var r=e||"/devices/intent/modal",s=t||Object(y.b)(this.props.profileInfo.flowIndicator,this.props.profileInfo.subFlowType,this.props.selectedSku.deviceType),c=a||"DS Customer Intent Modal Pg",l=D({},{"page.attributes.productType":Object(y.e)(s,"simcard"===j()(this.props,"selectedSku.deviceSubType"),this.props.isAccessory),"page.attributes.sku":this.props.selectedSku.skuId,"page.attributes.skuName":this.props.selectedSku.shortDisplayName||this.props.selectedSku.displayName,"page.attributes.itemCapacity":this.props.selectedSku.capacity,"page.attributes.itemCondition":this.props.selectedSku.condition.displayName,"page.attributes.itemRecurringPrice":n,"page.category.applicationName":"Sales Wireless Full Web","page.category.pageFunction":"Sales","page.category.pageGroup":"WIRELESS ONLINE STORE","page.category.pageOwnership":"Consumer","page.location.url":r,"page.category.siteSection":"myATT Sales","page.location._addressBarFullURL":window.location.href,"page.location.domain":window.location.hostName,"page.pageInfo.lineOfBusiness":"Wireless","page.pageInfo.flowCode":s,"page.pageInfo.responsiveWebDesignFlag":1,"page.pageInfo.zipCode":this.props.profileInfo.zipCode,"chat.offerCode":"Default","user.customerType":Object(y.c)(this.props.profileInfo.customerType),"user.account.liabilityType":Object(y.d)(this.props.profileInfo.customerType),"user.login.userType":Object(v.zb)(),"user.uuid":this.props.profileInfo.uuid,"page.pageInfo.friendlyPageName":c,"user.account.fan":this.props.profileInfo.fanNumber,url:r});this.reporting.firePageLoadEvent(l)}},{key:"isMobile",value:function(){var e=window.innerWidth||0,t=window.innerHeight||0;return e<767&&t<=812}},{key:"intentModalCallback",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n,i,r,s,c,l,d,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setIntentButtonAsSpinner(t),e.t0=t,e.next="NEW"===e.t0?4:"WIRELINE"===e.t0||"AL"===e.t0||"UP"===e.t0?22:(e.t0,25);break;case 4:return a=Object(v.M)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),n=!0,i=0,r=0,this.context.cartItems.map((function(e){e.isPlanFirst&&i++,e.isPlanFirst&&e.status&&r++})),s=i>0&&0===r,c=0==this.context.cartItems.length,e.next=13,T.a.getMnmFlags();case 13:if(l=e.sent,d="true"===Object(v.bb)()["pdp-data-connect-llp"],p=l&&l.allocations&&l.allocations["svc-idp-wireless-enable-mix-n-match-plans"]&&"true"==l.allocations["svc-idp-wireless-enable-mix-n-match-plans"].value,d||"tablets"!==a||"simcard"===this.props.selectedSku.deviceSubType||this.isMobile()?(!d&&"tablets"===a&&"simcard"!==this.props.selectedSku.deviceSubType&&p&&(c||s)&&this.isMobile()||"tablets"===a&&"simcard"===this.props.selectedSku.deviceSubType&&p&&c)&&(this.props.closeModal(),this.setState({showCtoModal:!0}),n=!1):p&&(c||s)&&(this.redirectLegacy(),n=!1),!n){e.next=21;break}return this.fireModalLinkClickEvent("create a new wireless account",window.location.href),e.next=21,this.onIntentSelection(t);case 21:return e.abrupt("break",26);case 22:return e.next=24,this.onIntentSelection(t);case 24:return e.abrupt("break",26);case 25:this.props.closeModal();case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setIntentButtonAsSpinner",value:function(e){P(O.a,{config:{size:"30px"}});if("NEW"===e)this.setState({intentsObject:D(D({},this.state.intentsObject),{},{New:[D(D({},this.state.intentsObject.New[0]),{},{intentDisplayName:P(O.a,{config:{size:"20px"}})})]})});else{var t=this.state.intentsObject.Existing.map((function(t){return t.key===e?D(D({},t),{},{intentDisplayName:P(O.a,{config:{size:"20px"}})}):t}));this.setState({intentsObject:D(D({},this.state.intentsObject),{},{Existing:t})})}}},{key:"getModalHeader",value:function(){var e=this.formatIdpIntentModalContent(this.props.intentModalContent)||C.d;return this.props.showNewCustomerLink?e.intentModalHeader.olam:e.intentModalHeader.common}},{key:"formatIdpIntentModalContent",value:function(e){var t=j()(e,"master.standaloneIntentModal.master",void 0);return!!t&&{intentModalContent:{intentModalSubheaders:{newWireline:t.newWirelineSubheading,aalUp:t.aalUpSubheading},UnauthWireless:{New:{key:"NEW",intentDisplayName:t.continueCTA,sectionHeader:t.newUserDesc},Wireline:{key:"WIRELINE",intentDisplayName:t.wirelineCTA},AddALine:{key:"AL",intentDisplayName:t.addALineCTA,sectionHeader:t.existingUserDesc,premierMessage:t.premierText,premierLink:t.premierLinkURL,premierLinkText:t.premierLinkLabel,businessLinkText:C.d.intentModalContent.UnauthWireless.AddALine.businessLinkText},Upgrade:{key:"UP",intentDisplayName:t.upgradeCTA,sectionHeader:t.existingUserDesc}},OlamWireless:{AddALine:{key:"AL",intentDisplayName:t.addALineCTA,sectionHeader:t.preAuthUserDesc,textToLink:t.preAuthLink},Upgrade:{key:"UP",intentDisplayName:t.upgradeCTA}}},intentModalHeader:{olam:t.preAuthHeading,common:t.commonHeading}}}},{key:"generateIntentsObject",value:function(e,t){var a={Existing:[],New:[],Subheadings:{}},n=this.formatIdpIntentModalContent(this.props.intentModalContent)||C.d,o=t?n.intentModalContent.OlamWireless:n.intentModalContent.UnauthWireless;if(a.Subheadings=n.intentModalContent.intentModalSubheaders,e.indexOf("NEW")>-1&&(a.New=o.New?[o.New]:null),e.indexOf("AL")>-1){var i=D(D({},o.AddALine),{},{displayPremierLink:"CRU"===this.props.profileInfo.customerType,displayBusinessLink:"CON"===this.props.profileInfo.customerType||"IRU"===this.props.profileInfo.customerType});a.Existing.push(i)}e.indexOf("UP")>-1&&this.isEligibleforUpgrade()&&a.Existing.push(o.Upgrade),this.setState({intentsObject:a})}},{key:"isEligibleforUpgrade",value:function(){var e=Object(v.M)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),t="simcard"===this.props.deviceSubType;return!(this.props.selectedSku&&e===C.d.CONNECTED_DEVICES_AND_MORE&&(this.props.selectedSku.isWHP||this.props.selectedSku.isWHPI||!this.props.selectedSku.isEligibleForUpgrade)||t)}},{key:"onIntentSelection",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n,i,r,s,c,l,d,p,u,m,f,h,b,y,O=this,S=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=S.length>1&&void 0!==S[1]?S[1]:this.props.selectedContractTerm.name,n=S.length>2&&void 0!==S[2]?S[2]:this.context.cartItems,i=S.length>3&&void 0!==S[3]?S[3]:this.props.selectedContractTerm.termLength,r=a,i,s="true"===Object(v.bb)()["pdp-spo-device-details"],"1"!==a&&"24"!==a||(r,r="regular"),sessionStorage.setItem("userIntent",JSON.stringify(v.Db)),e.next=10,T.a.getMnmFlags();case 10:if(c=e.sent,l="true"===Object(v.bb)()["pdp-data-connect-llp"],d=c&&c.allocations&&c.allocations["svc-idp-wireless-enable-mix-n-match-plans"]&&"true"==c.allocations["svc-idp-wireless-enable-mix-n-match-plans"].value,p=0===n.length,u=Object(v.M)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),l||"NEW"!==t||u!==C.d.CONNECTED_DEVICES_AND_MORE||!d||!p){e.next=19;break}window.location.href="".concat(g.b.productDetailsUrls.deviceConfigUrl).concat(this.props.selectedSku.skuId),e.next=60;break;case 19:if("NEW"!==t||"CRU"!==this.props.profileInfo.customerType||d){e.next=23;break}this.redirectLegacy(),e.next=60;break;case 23:if("NEW"!==t||"CRU"!==this.props.profileInfo.customerType||!d){e.next=27;break}this.props.redirectToConfigView(),e.next=60;break;case 27:if("NEW"!==t||"CRU"!==this.props.profileInfo.customerType||!d||!p){e.next=31;break}this.props.redirectToConfigView(),e.next=60;break;case 31:if("true"!==Object(v.bb)()["pdp-plan-view-redirect"]||"NEW"!==t){e.next=35;break}l||u!==C.d.CONNECTED_DEVICES_AND_MORE?"CRU"===this.props.profileInfo.customerType&&"NEW"===t?this.NewCustomerClick():this.props.redirectToConfigView().then((function(e){e||O.generateIntentsObject(O.props.intentsToShow,O.props.showNewCustomerLink)})):window.location.href="".concat(g.b.productDetailsUrls.deviceConfigUrl).concat(this.props.selectedSku.skuId),e.next=60;break;case 35:if("NEW"!==t){e.next=39;break}this.NewCustomerClick(),e.next=60;break;case 39:if("CRU"!==this.props.profileInfo.customerType){e.next=45;break}m=Object(v.gc)(g.b.productDetailsUrls.shopLandingService,{intent:t,skuId:this.props.selectedSku.skuId}),this.fireModalLinkClickEvent("Add a Line",m),window.location.href=m,e.next=60;break;case 45:if(f="",v.Db.response.redirect&&v.Db.response.redirectURL&&(f=v.Db.response.redirectURL+"?wlsfi=".concat(t)),h=Object(v.M)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),this.props.showNewCustomerLink&&(f=Object(v.gc)(g.b.productDetailsUrls.shopLandingService,{intent:t,skuId:this.props.selectedSku.skuId})),b=x()().publicRuntimeConfig,Object(v.b)(b,this.props.profileInfo.customerType,t)&&h!==C.d.CONNECTED_DEVICES_AND_MORE&&("IRU"===this.props.profileInfo.customerType||"EMO"===this.props.profileInfo.customerType||"IMO"===this.props.profileInfo.customerType||"RMO"===this.props.profileInfo.customerType||(f="".concat(g.b.productDetailsUrls.idseUrl).concat(this.props.selectedSku.skuId,"&wlsfi=").concat(t.toLowerCase()))),""!==f){e.next=57;break}if(!s){e.next=56;break}throw k.o;case 56:throw k.e;case 57:y="AL"===t?"Add a Line":"Upgrade",this.fireModalLinkClickEvent(y,f),window.location.href=f;case 60:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRelevantUrls",value:function(){var e="".concat(g.b.productDetailsUrls.idseUrl).concat(this.props.selectedSku.skuId),t="".concat(g.b.productDetailsUrls.termSelectUrl).concat(this.props.selectedSku.skuId),a="".concat(g.b.productDetailsUrls.deviceConfigUrl).concat(this.props.selectedSku.skuId);b.contractTermsPDP.enabled&&(a+="&hideTerms=true&term=".concat(this.props.selectedContractTerm.name));var n=window.location.host;return"www.att.com"===n?t="https://m.att.com".concat(t):n.indexOf("finalstage")>-1?t="https://fs.att.com".concat(t):n.startsWith("m")||(t="https://m".concat(n).concat(t)),{idseUrl:e,termSelectUrl:t,deviceConfigUrl:a}}},{key:"fireModalLinkClickEvent",value:function(e,t){var a={linkDestinationUrl:t,linkName:e,linkPosition:"Body"};this.reporting.fireLinkClickEvent(a)}},{key:"fireModalFormResponseEvent",value:function(){var e={statusMessage:"Success",statusCode:"0",successFlag:"1",eventCode:"DS_Add_To_Cart_Submit",linkDestinationUrl:window?window.location.href:"",linkName:"create a new wireless account",linkPosition:"Body",items:[{itemofferId:"9999999",itemOfferCategory:"private"}]};this.reporting.fireFormResponseEvent(e.eventCode,e)}},{key:"NewCustomerClick",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t,a,n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getRelevantUrls(),Object(v.M)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),t="",b.contractTermsPDP.enabled&&localStorage.removeItem("termPrevSelectedByUser"),this.clearSessionStorageItems(),this.props.showNewCustomerLink&&(a="".concat(window.location.origin).concat(window.location.pathname.replace("//","/")),"CRU"===this.props.profileInfo.customerType?a+="?invalidateAuthCRUSession=true&intent=NEW":a+="?intent=NEW",n=encodeURIComponent(a),t=g.b.productDetailsUrls.halo.newCustLogout.replace("{0}",n)),i=this.props.showNewCustomerLink?"continue shopping here":"Continue",this.fireModalLinkClickEvent(i,t),window.location.href=t;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"generateMobileHostName",value:function(e){return"www.att.com"===e?"https://m.att.com":e.indexOf("finalstage")>-1?"https://fs.att.com":"https://m".concat(e)}},{key:"generateCgateDomain",value:function(e){return"www.att.com"===e?"https://cprodx.att.com":"https://cgate.stage.att.com"}}]),a}(m.Component);Object(u.a)(A,"contextType",I.a);t.a=A},"4OqH":function(e,t,a){"use strict";a.r(t);var n=a("vJKn"),o=a.n(n),i=a("rg98"),r=a("H+61"),s=a("UlJF"),c=a("+Css"),l=a("7LId"),d=a("VIvw"),p=a("iHvq"),u=a("cpVT"),m=a("q1tI"),f=a.n(m),h=a("N1Ph"),g=a("uc5p"),b=a("uVxl"),C=a("z7pX"),v=a("rGei"),y=a("0Yz8"),k=a("jXxo"),O=a("jSiu"),S=a("g4pe"),x=a.n(S),I=a("RrNd"),T=a("N2W2"),w=m.createElement;function L(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return j(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==a.return||a.return()}finally{if(s)throw i}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var N=function(e){Object(l.a)(a,e);var t=P(a);function a(e){return Object(r.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"content",value:function(){if(this.props.galleryContent){var e,t=L(this.props.galleryContent);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(a.master&&a.master.skuId&&a.master.skuId===this.props.skuId){var n=[],o=[];return a.master.moviegvpURLs&&(n=a.master.moviegvpURLs.map((function(e){return{type:"video",videoId:e,videoDuration:"",videoUrl:""}}))),a.master.moviegvpURLs&&this.props.videoPromises&&this.props.videoPromises.length>0&&(n=this.props.videoPromises.map((function(e){return{type:"video",videoId:e.id,videoDuration:e.duration,videoUrl:e.url}}))),a.master.imageUrls&&(o=a.master.imageUrls.map((function(e){return{type:"image",url:e}}))),[].concat(Object(C.a)(n),Object(C.a)(o))}}}catch(i){t.e(i)}finally{t.f()}}return[]}},{key:"render",value:function(){var e=this;return w("div",{className:v.galleryTabContainer},w(T.a,{delay:2e3},w(x.a,null,w("script",{src:I.b.productDetailsUrls.videoScript}))),this.content().map((function(t,a){return w("div",{key:a,className:v.galleryTabPanel},"video"===t.type?w(O.a,{videoId:t.videoId,videoUrl:t.videoUrl,videoDuration:t.videoDuration,isAccessory:e.props.isAccessory,sku:e.props.sku}):w(k.a,{imageProps:{src:t.url,alt:t.url,placeholder:w(y.a,null)},shouldLazyLoad:!0}))})))}}]),a}(m.Component),D=a("4suq"),M=a("xLlQ"),A=a("U/e8"),E=m.createElement;function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var F=function(e){Object(l.a)(a,e);var t=R(a);function a(e){return Object(r.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"renderInTheBoxAccordion",value:function(){return E(m.Fragment,null,E("div",{className:D.inTheBoxContainer},this.props.dataInTheBox&&this.props.dataInTheBox.map((function(e,t){return e.master&&e.master.subtitle&&e.master.iconselected&&E(m.Fragment,null,E("div",{className:D.inTheBoxItem,key:e.master.subtitle},E("div",{className:D.keyFeatureIcon},E(M.a,{style:{maxWidth:"25vh"},iconName:Object(A.ac)(e.master.iconselected),size:"100%"})),E("div",{className:D.keyFeatureText},E("div",{className:D.inTheBoxHeader,dangerouslySetInnerHTML:{__html:"".concat(e.master.subtitle,"<br />")}}))))}))))}},{key:"render",value:function(){return E(m.Fragment,null,this.props.dataInTheBox&&this.renderInTheBoxAccordion())}}]),a}(m.Component),U=a("la6/"),B=a("Ra6Z"),H=a("MX0m"),_=a.n(H),V=a("dgmP"),W=a("H80Z"),z=a("i0Wh"),G=a("BX1O"),Q=a("eI37"),q=a("olL2"),X=a("Da3r"),Z=a("vyOo"),K=a("AXlk"),J=a.n(K),Y=a("EHBT"),$=a.n(Y),ee=a("Y+p1"),te=a.n(ee),ae=m.createElement;function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(a),!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var re=function(e){Object(l.a)(a,e);var t=ie(a);function a(e){var n;Object(r.a)(this,a),n=t.call(this,e);var o=null!==e.defaultReviewsToShow&&void 0!==e.defaultReviewsToShow?e.defaultReviewsToShow:2;return n.state={reviewsContent:e.reviewsContent?e.reviewsContent:{},currentVotes:{},numOfReviewsShowing:o,showingAllReviews:!0},n.toggleReviewsSection=n.toggleReviewsSection.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.bvCallback=function(e){window.addEventListener(X.b.LOAD,(function(){e.reviews.render(document.querySelector("[data-bv-show='reviews']"))}),{once:!0})}}},{key:"componentDidUpdate",value:function(e){(e.skuId!==this.props.skuId||!e.reviewsContent&&this.props.reviewsContent||e.reviewsContent&&!te()(e.reviewsContent,this.props.reviewsContent))&&this.setState({reviewsContent:this.props.reviewsContent,numOfReviewsShowing:2})}},{key:"renderOverallRatingsSection",value:function(){var e=this,t=47.45,a=39.25,n=78.5*Math.PI,o=this.state.reviewsContent&&this.state.reviewsContent.reviewRecommend&&this.state.reviewsContent.reviewRecommend.percentRating&&!isNaN(this.state.reviewsContent.reviewRecommend.percentRating)?this.state.reviewsContent.reviewRecommend.percentRating:0,i=n-o/100*n;return this.state.reviewsContent&&ae("div",{className:"flex flex-wrap justify-between mar-b-lg"},this.state.reviewsContent.starsSection&&this.state.reviewsContent.starsSection.map((function(e,t){return ae(m.Fragment,null,ae("div",{className:"pad-r-xs",key:t},ae("div",{className:"".concat(V.starTitle," font-bold")},e.title),ae(M.a,{icon:J.a,className:"".concat(V.starIcon," mar-r-xxxs"),iconStyle:{fill:"#F95700"},size:"24px"}),ae("span",{className:V.starRating},e&&e.rating?e.rating.toFixed(1):"")),ae("hr",{className:V.starDivider}))})),this.state.reviewsContent.reviewRecommend&&ae(z.Spring,{config:z.config.slow,from:{strokeDashoffset:n,number:0},to:{strokeDashoffset:i,number:o},native:!0,reset:this.props.isOpen},(function(i){return ae("div",{className:V.progressContainer},ae(z.animated.svg,{height:94.9,width:94.9,className:V.progressCircle,style:{strokeDashoffset:i.strokeDashoffset,width:"95px",height:"95px"}},ae("circle",{stroke:"#d2d2d2",fill:"transparent",strokeWidth:8.2,r:a,cx:t,cy:t}),ae("circle",{stroke:"green",fill:"transparent",strokeWidth:8.2,strokeDasharray:n+" "+n,r:a,cx:t,cy:t})),ae(z.animated.span,{className:[V.progressPercentage,o>=100&&V.threeDigit,o<100&&o>=10&&V.twoDigit,o<10&&V.oneDigit,"font-bold"].join(" ")},i.number.interpolate((function(e){return Math.ceil(e)}))),ae("span",{className:"".concat(V.progressMessage," font-medium")},Object(A.Eb)(e.state.reviewsContent.reviewRecommend.description,[e.state.reviewsContent.reviewRecommend.totalReviews,e.props.productDisplayName])))})))}},{key:"toggleReviewText",value:function(e){this.setState(Object(u.a)({},e,!this.state[e]))}},{key:"renderReviewText",value:function(e,t){var a=this;if(e.length>500){var n=e.substring(0,500);return null!==this.state["reviewTextShowing"+t]&&void 0!==this.state["reviewTextShowing"+t]||this.setState(Object(u.a)({},"reviewTextShowing"+t,!1)),ae(m.Fragment,null,ae("span",{className:this.state["reviewTextShowing"+t]&&V.hidden},n,"...\xa0",ae(Z.a,{events:{onClick:function(){return a.toggleReviewText("reviewTextShowing"+t)}}},X.d.reviewsSection.seeMoreLabel)),ae("span",{className:!this.state["reviewTextShowing"+t]&&V.hidden},e,"\xa0",ae(Z.a,{events:{onClick:function(){return a.toggleReviewText("reviewTextShowing"+t)}}},X.d.reviewsSection.seeLessLabel)))}return e}},{key:"renderReviewSectionLabel",value:function(e){return 0===e?ae("div",{className:"".concat(V.reviewSectionLabel," font-bold")},X.d.reviewsSection.highRatingLabel):1===e?ae("div",{className:"".concat(V.reviewSectionLabel," font-bold")},X.d.reviewsSection.lowRatingLabel):""}},{key:"renderReviewsSection",value:function(){var e=this,t=function(t,a,n){var o=0;return e.state.currentVotes&&e.state.currentVotes[n]&&(t&&e.state.currentVotes[n]===X.d.reviewsSection.positiveVote||!t&&e.state.currentVotes[n]===X.d.reviewsSection.negativeVote)&&(o=1),a+o};return ae("div",{className:"jsx-2049600871 "+(V.allReviews||"")},this.state.reviewsContent&&this.state.reviewsContent.reviews&&this.state.reviewsContent.reviews.map((function(a,n){var o=new Date(a.SubmissionTime),i="".concat(o.getMonth()+1,"/").concat(o.getDate(),"/").concat(o.getFullYear());return ae("div",{key:n,className:"jsx-2049600871 "+([V.reviewContainer,n>e.state.numOfReviewsShowing-1&&V.hidden].join(" ")||"")},ae("div",{className:"jsx-2049600871 "+(V.reviewContent||"")},e.renderReviewSectionLabel(n),ae("div",{className:"jsx-2049600871 mar-b-xs"},ae("span",{className:"jsx-2049600871 mar-r-sm"},ae(W.a,{data:{name:"Review Stars",rate:a.Rating/a.RatingRange*5,readOnly:!0,starCount:5},dataQa:"".concat(e.props.dataQa,"-reviewStars")})),ae("span",{className:"jsx-2049600871 font-medium type-base"},a.UserNickname,ae("span",{className:"jsx-2049600871 color-functional-lt-green"},a.IsRecommended&&X.d.reviewsSection.positiveQualifier),ae("span",{className:"jsx-2049600871 color-ui-medium-gray"},"\u2022 ",i))),ae("div",{className:"jsx-2049600871 font-bold type-base mar-t-xxxs mar-b-xxxs"},a.Title),ae("div",{className:"jsx-2049600871 type-base"},e.renderReviewText(a.ReviewText,n)),a.Photos&&a.Photos.length>0&&a.Photos.map((function(e,t){return ae("img",{src:e.Sizes.thumbnail.Url,key:t,className:"jsx-2049600871 "+(V.reviewImage||"")})}))),ae("div",{className:"jsx-2049600871 "+(V.ratingContainer||"")},ae("div",{className:"jsx-2049600871 "+"".concat(V.ratingSection," flex flex-items-baseline")},ae("span",{className:"jsx-2049600871"},"Helpful?"),ae(G.a,{buttonConfig:{disabled:!1,type:[Q.b.Skinny]},className:"color-att-blue pad-l-md pad-r-md type-base bg-ui-background-gray no-border mar-l-sm pad-t-xxs pad-b-xxxs",events:{onClick:function(){return e.onVoteButtonPress(!0,a.Id)}}},ae(M.a,{icon:$.a,className:"mar-r-xxxs",iconStyle:{fill:"#009fdb"},size:"19px"}),t(!0,a.TotalPositiveFeedbackCount,a.Id)),ae(G.a,{buttonConfig:{disabled:!1,type:[Q.b.Skinny]},className:"color-att-blue pad-l-md pad-r-md type-base bg-ui-background-gray no-border mar-l-sm pad-t-xxs pad-b-xxxs",events:{onClick:function(){return e.onVoteButtonPress(!1,a.Id)}}},ae(M.a,{icon:$.a,className:"mar-r-xxxs",iconStyle:{fill:"#009fdb",transform:"rotateX(180deg)"},size:"19px"}),t(!1,a.TotalNegativeFeedbackCount,a.Id)))))})),ae(_.a,{id:"2049600871"},[".flex-items-baseline.jsx-2049600871{-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;}"]))}},{key:"toggleReviewsSection",value:function(){this.setState((function(e){return e.showingAllReviews?oe(oe({},e),{},{showingAllReviews:!1}):oe(oe({},e),{},{showingAllReviews:!0})}))}},{key:"onVoteButtonPress",value:function(e,t){var a=e?X.d.reviewsSection.positiveVote:X.d.reviewsSection.negativeVote;if(this.state.currentVotes&&(!this.state.currentVotes[t]||this.state.currentVotes[t]!==a)){q.a.sendVote("helpfulness",a,t),this.setState({currentVotes:oe(oe({},this.state.currentVotes),{},Object(u.a)({},t,a))})}}},{key:"renderAllReviewsSection",value:function(){var e=this.state.showingAllReviews?{display:"block"}:{display:"none"};return ae("div",{style:e,"data-bv-show":"reviews","data-bv-product-id":this.props.skuId})}},{key:"render",value:function(){return ae(m.Fragment,null,ae(x.a,null,ae("script",{src:"https://apps.bazaarvoice.com/deployments/att/main_site/production/en_US/bv.js",async:!0})),ae("div",{className:V.reviewSection},this.renderOverallRatingsSection(),this.renderReviewsSection(),this.renderAllReviewsSection()))}}]),a}(m.Component),se=f.a.createElement;function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var le=function(e){Object(l.a)(a,e);var t=ce(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={reviewsContent:null},n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.productDisplayName!==this.props.productDisplayName&&B.reviewsRedesign.enabled&&q.a.fetchReviewsHighlights(this.props.skuId).then((function(e){a.setState({reviewsContent:e})}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.a.loadBazaarVoice(),B.reviewsRedesign.enabled&&q.a.fetchReviewsHighlights(this.props.skuId).then((function(e){t.setState({reviewsContent:e}),!(e.reviews.length>0)&&window.BV&&window.BV.reviews.render(document.querySelector("[data-bv-show='reviews']"))}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return B.reviewsRedesign.enabled&&this.state.reviewsContent&&this.state.reviewsContent.reviews&&this.state.reviewsContent.reviews.length>0?se(re,{productDisplayName:this.props.productDisplayName,isOpen:this.props.isOpen,skuId:this.props.skuId,defaultReviewsToShow:2,reviewsContent:this.state.reviewsContent}):se(f.a.Fragment,null,se("div",{"data-bv-show":"reviews","data-bv-product-id":this.props.skuId}))}}]),a}(f.a.Component),de=f.a.createElement;function pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var ue=function(e){Object(l.a)(a,e);var t=pe(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){q.a.loadBazaarVoice(),window&&(window.bvCallback=function(e){window.addEventListener(X.b.LOAD,(function(){e.questions.render(document.querySelector("[data-bv-show='questions']"))}),{once:!0})})}},{key:"render",value:function(){return de(f.a.Fragment,null,de("div",{"data-bv-show":"questions","data-bv-product-id":this.props.skuId}))}}]),a}(f.a.Component),me=a("xhOU"),fe=m.createElement;function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var ge=function(e){Object(l.a)(a,e);var t=he(a);function a(e){return Object(r.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return fe("div",null,this.props.keyFeaturesContent&&this.props.keyFeaturesContent.length&&fe("h3",{className:"font-bold type-base mar-t-xs"},this.props.keyFeaturesHeading),fe("ul",{className:me.keyFeatures,"data-qa":this.props.dataQa},this.props.keyFeaturesContent&&this.props.keyFeaturesContent.map((function(e,t){return e.master&&e.master.iconName&&e.master.iconClass&&fe("li",{key:t,className:"flex flex-items-center"},fe(M.a,{iconName:Object(A.ac)(e.master.iconClass),size:"32px"}),fe("div",{className:me.keyFeatureDescription,dangerouslySetInnerHTML:{__html:e.master.iconName}}))}))))}}]),a}(m.Component),be=a("9P3c"),Ce=m.createElement;function ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var ye=function(e){Object(l.a)(a,e);var t=ve(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return Ce("div",null,Object.keys(this.props.compatibleDevices).map((function(t){return Ce("div",{className:be.divTable,key:t},Ce("h3",{className:be.divSectionHeader},e.manufacturerToCamelCase(t)),Ce("div",{className:be.divSectionRow},e.props.compatibleDevices[t].map((function(e){return!0===e.skuEOL?Ce("div",{className:be.divRow,key:e.model},e.model):Ce("div",{className:be.divRow,key:e.model},Ce(Z.a,{dataQa:"",ariaLabel:e.model,href:"/buy/".concat(e.generatedDeviceType,"/").concat(e.uniqueURLName,".html")},e.model))}))))})))}},{key:"manufacturerToCamelCase",value:function(e){return e.length>4?e.charAt(0).toUpperCase()+e.slice(1):e.toUpperCase()}}]),a}(m.Component),ke=function e(t,a,n,o){Object(r.a)(this,e),Object(u.a)(this,"generatedDeviceType",void 0),Object(u.a)(this,"model",void 0),Object(u.a)(this,"uniqueURLName",void 0),Object(u.a)(this,"skuEOL",void 0),this.generatedDeviceType=t,this.model=a,this.uniqueURLName=n,this.skuEOL=o},Oe=a("+xOO"),Se=a("A8C6"),xe=a.n(Se),Ie=a("mwIZ"),Te=a.n(Ie),we=m.createElement;function Le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var je=function(e){Object(l.a)(a,e);var t=Le(a);function a(e){return Object(r.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"populatePlaceholders",value:function(e,t){var a=e;return e===X.d.contentPlaceholders.checkbox?a="":e===X.d.contentPlaceholders.capacity?a=t.capacity:e===X.d.contentPlaceholders.upc?a=t.upc:e===X.d.contentPlaceholders.billCode&&(a=t.billCode),a}},{key:"renderSpecValue",value:function(e){var t="pad-xs border-left border-light-gray grid-col-8 type-sm line-h-xxl grid-col-8 mar-b-none inline-block ".concat("checkbox"!==e&&"line-h-base");return e===X.d.contentPlaceholders.checkbox?we("td",{className:t},we(M.a,{icon:xe.a,size:"14px"})):we("td",{className:t,dangerouslySetInnerHTML:{__html:this.populatePlaceholders(e,this.props.selectedSku)}})}},{key:"render",value:function(){var e=this,t=Object(A.A)(Te()(this.props,"selectedSku.manufacturer","")||""),a=Object(A.A)(Te()(this.props,"selectedSku.model","")||""),n=t&&a?"https://www.att.com/device-support/index/"+"".concat(t.replace(/ /g,""),"/")+"".concat(a.replace(/ /g,""),"/"):"";return we("div",{className:"jsx-1663706573"},this.props.selectedSku.manufacturer&&this.props.selectedSku.model&&we("div",{className:"jsx-1663706573 mar-b-xs mar-t-xs"},we("a",{"data-qa":"".concat(this.props.dataQa,"-manualAndTutorialLink"),href:n,"aria-label":"Manual and tutorial",className:"jsx-1663706573 link-tertiary"},"Manual and tutorial")),this.props.data&&this.props.data.map((function(t){return t.master&&t.master.accordionLabels&&t.master.accordionData&&t.master.accordionData.length>0&&we(m.Fragment,null,we("h3",{className:"jsx-1663706573 font-bold type-base mar-t-xs"},t.master.accordionLabels),we("table",{className:"jsx-1663706573 full-width"},t.master.accordionData.map((function(t){return t.master&&t.master.key&&t.master.value&&we("tr",{key:t.master.key,className:"jsx-1663706573 "+(Oe.divRow||"")},we("td",{dangerouslySetInnerHTML:{__html:t.master.key},className:"jsx-1663706573 pad-xs mar-b-none grid-col-4-md type-sm line-h-base grid-col-4 inline-block"}),e.renderSpecValue(t.master.value))}))))})),we(_.a,{id:"1663706573"},[".full-width.jsx-1663706573{min-width:100%;}"]))}}]),a}(m.Component),Pe=a("cq7Z"),Ne=m.createElement;function De(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var Me=function(e){Object(l.a)(a,e);var t=De(a);function a(e){return Object(r.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return Ne("div",null,Ne("div",{dangerouslySetInnerHTML:{__html:"".concat(this.props.overviewContent[0].master.overviewDescription,"<br />")}}))}}]),a}(m.Component),Ae=a("HMs9"),Ee=a("lNN+"),Re=a("psIL"),Fe=a("IyUE"),Ue=a("E+oP"),Be=a.n(Ue),He=a("RVNo"),_e=m.createElement,Ve=function(e){return _e("div",{className:"accordionContent"},_e("div",{className:"flex align-items-center mar-b-md-lg"},_e("img",{src:e.eSimImageUrl,className:He.eSIMIcon}),_e("div",{className:"".concat(He.eSimContent," flex-column justify-center")},_e("div",{className:He.eSimTitle,dangerouslySetInnerHTML:{__html:e.eSimTitle}}),_e("div",{className:"".concat(He.eSimText," ").concat(He.eSimContent," type-sm mar-l-xs"),dangerouslySetInnerHTML:{__html:e.eSimContent}}))))},We=m.createElement;function ze(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var Ge=function(e){Object(l.a)(a,e);var t=ze(a);function a(e){var n;return Object(r.a)(this,a),n=t.call(this,e),Object(u.a)(Object(c.a)(n),"reporting",void 0),n.state={legalHtml:"",inTheBoxContent:[],specsContent:[],isReviewOpen:!1,isQAOpen:!1,loader:!0,compatibleDevices:{}},n.accordionClick=n.accordionClick.bind(Object(c.a)(n)),n.reporting=new Pe.a,n}return Object(s.a)(a,[{key:"accordionClick",value:function(e,t,a){var n={linkDestinationUrl:t,linkName:e+(a?"_closed":"_open"),linkPosition:"Body"};setTimeout((function(){Object(Ae.forceCheck)()}),10),this.reporting.fireLinkClickEvent(n)}},{key:"getDeviceLegal",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Re.a.fetchDeviceLegalPathsFromCMS(t),e.next=3,Re.a.getLegalContentFromIDPCMS6_4(a,null,null,"device");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCompatibleDevices",value:function(e){var t=Object(A.xb)(e);return t.sort((function(e,t){return e.manufacturer>t.manufacturer?1:e.manufacturer<t.manufacturer?-1:e.skuEOL>t.skuEOL?1:e.skuEOL<t.skuEOL||e.model>t.model?-1:e.model<t.model?1:void 0})),t.reduce((function(e,t){return(e[t.manufacturer]=e[t.manufacturer]||[]).push(new ke(Object(A.M)(t.deviceType,t.deviceSubType,t.paymentType),t.model,t.uniqueURLName,t.skuEOL)),e}),{})}},{key:"shouldShowCompatibleDevicesAccordion",value:function(){return!Be()(this.state.compatibleDevices)&&this.props.selectedSku.isUniversalSim}},{key:"componentWillReceiveProps",value:function(e){this.setState({isQAOpen:e.isQAOpen,inTheBoxContent:e.inTheBoxContent,specsContent:e.specsContent})}},{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.featureFlags&&"true"===this.props.featureFlags["pdp-bv-on-pageload"]&&q.a.loadBazaarVoice(),e.prev=1,e.next=4,this.getDeviceLegal(this.props.idpcmsContentResponse);case 4:t=e.sent,this.setState({loader:!1,legalHtml:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Fe.a.Error("DeviceDetailsTab: Error fetching device legal: ",e.t0);case 11:"simcard"===this.props.selectedSku.deviceSubType&&this.getCompatibleDevicesFromAPI().then((function(e){a.setState({compatibleDevices:a.getCompatibleDevices(e)})})).catch((function(e){Fe.a.Error("DeviceDetailsTab: Error fetching compatible devices: ",e)}));case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"onReviewOpen",value:function(){this.setState({isReviewOpen:!0})}},{key:"onQAOpen",value:function(){this.setState({isQAOpen:!0})}},{key:"getCompatibleDevicesFromAPI",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={"content-type":"application/json"},e.next=3,Object(A.p)("".concat(I.b.productDetailsUrls.universalSIMCompatibleDevices).concat(this.props.selectedSku.skuId),{method:"get",headers:t}).then((function(e){return e.ok?e.json():Promise.reject(new Error("Compatible Devices API failed"))})).then((function(e){return e})).catch((function(e){return Promise.reject(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderAccordion",value:function(){var e,t,a,n,o=this,i=this.props.galleryContent&&void 0!==this.props.galleryContent,r=!(this.props.featureFlags&&"true"===this.props.featureFlags["pdp-disable-gvp"]);return We(g.a,{options:{allowMultipleOpen:!0},dataQa:"".concat(this.props.dataQa)},this.props.overviewContent&&this.props.overviewContent.length>0&&this.props.overviewContent[0].master&&this.props.overviewContent[0].master.overviewDescription&&We(h.b,{title:this.props.drawerNamesForAccordionGroup.overviewAccordionTitle||"Overview",id:"overview",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-Overview"),expanded:!0,onAccordionClick:function(e,t,a){return o.accordionClick("Overview",o.props.selectedSku.devicePageURL,a)}},We(Me,{overviewContent:this.props.overviewContent})),i&&r&&We(h.b,{title:this.props.drawerNamesForAccordionGroup.galleryAccordionTitle||"Gallery",id:"gallery",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-Gallery"),onAccordionClick:function(e,t,a){return o.accordionClick("Gallery",o.props.selectedSku.devicePageURL,a)}},We(N,{skuId:this.props.selectedSku.skuId,galleryContent:this.props.galleryContent,isAccessory:this.props.isAccessory,sku:this.props.selectedSku,videoPromises:this.props.videoPromises})),this.props.featureFlags&&"true"===this.props.featureFlags["pdp-bv"]&&We(h.b,{title:this.props.drawerNamesForAccordionGroup.qaAccordionTitle||"Q & A",id:"qa",isListItem:!0,url:this.props.selectedSku.devicePageURL,onOpenAccordion:function(e){return o.onQAOpen()},onAccordionClick:function(e,t,a){return o.accordionClick("Q&A",o.props.selectedSku.devicePageURL,a)},dataQa:"".concat(this.props.dataQa,"-QA"),isAccessory:this.props.isAccessory,sku:this.props.selectedSku},We("div",null,(this.state.isQAOpen||this.props.featureFlags&&"true"===this.props.featureFlags["pdp-bv-on-pageload"])&&We(ue,{skuId:this.props.selectedSku.skuId}))),this.props.featureFlags&&"true"===this.props.featureFlags["pdp-bv"]&&this.props.selectedSku.hasBazaarVoiceReview&&!this.props.selectedSku.preOrderable&&!(this.props.selectedSku.isComingSoon||null!==(e=this.props)&&void 0!==e&&null!==(t=e.selectedSku)&&void 0!==t&&t.isPrePreOrder&&Object(A.Tb)())&&We(h.b,{title:this.props.drawerNamesForAccordionGroup.reviewsAccordionTitle||"Reviews",id:"reviews",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-Reviews"),onOpenAccordion:function(e){return o.onReviewOpen()},onAccordionClick:function(e,t,a){return o.accordionClick("Reviews",o.props.selectedSku.devicePageURL,a)},isAccessory:this.props.isAccessory,sku:this.props.selectedSku},(this.state.isReviewOpen||this.props.featureFlags&&"true"===this.props.featureFlags["pdp-bv-on-pageload"])&&We(le,{productDisplayName:this.props.selectedSku.displayName,isOpen:this.state.isReviewOpen,skuId:this.props.selectedSku.skuId})),this.shouldShowCompatibleDevicesAccordion()&&We(h.b,{title:this.props.drawerNamesForAccordionGroup.compatibleDevicesAccordionTitle||"Compatible Devices",id:"compatibleDevices",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-Compatible"),onAccordionClick:function(e,t,a){return o.accordionClick("Compatible Devices",o.props.selectedSku.devicePageURL,a)}},We(ye,{compatibleDevices:this.state.compatibleDevices})),this.props.specsContent&&(this.props.specsContent.length>1||!(this.props.selectedSku.isComingSoon||null!==(a=this.props)&&void 0!==a&&null!==(n=a.selectedSku)&&void 0!==n&&n.isPrePreOrder&&Object(A.Tb)()||this.props.selectedSku.preOrderable))&&We(h.b,{title:this.props.drawerNamesForAccordionGroup.featuresAndSpecsAccordionTitle||"Features and Specs",id:"featuresAndSpecs",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-FeaturesAndSpecs"),onAccordionClick:function(e,t,a){return o.accordionClick("FeaturesAndSpecs",o.props.selectedSku.devicePageURL,a)}},We("div",null,We(ge,{keyFeaturesHeading:this.props.keyFeaturesHeading,keyFeaturesContent:this.props.keyFeaturesContent,dataQa:this.props.dataQa+"-KeyFeatures"}),We(je,{data:this.props.specsContent,selectedSku:this.props.selectedSku}),""!==this.state.legalHtml&&We(m.Fragment,null,We(b.a,{space:8,topSpace:8}),We("div",{className:"type-legal",dangerouslySetInnerHTML:{__html:this.state.legalHtml}}),We("div",{className:"type-legal",dangerouslySetInnerHTML:{__html:"&#169; 2020 AT&T Intellectual Property. All rights reserved. Owners of all marks retain their rights."}})))),this.props.inTheBoxContent&&0!==this.props.inTheBoxContent.length&&!this.props.isAccessory&&We(h.b,{title:this.props.drawerNamesForAccordionGroup.inTheBoxAccordionTitle||"In the box",id:"inTheBox",isListItem:!0,url:this.props.selectedSku.devicePageURL,onAccordionClick:function(e,t,a){return o.accordionClick("In the box",o.props.selectedSku.devicePageURL,a)},dataQa:"".concat(this.props.dataQa,"-InTheBox")},We(F,{dataInTheBox:this.props.inTheBoxContent})),this.props.featureFlags&&"true"===this.props.featureFlags["pdp-esim"]&&this.props.selectedSku.isEsim&&We(h.b,{title:this.props.drawerNamesForAccordionGroup.eSimAccordionTitle||"Setup & activation",id:"esim",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-ESIMs"),onAccordionClick:function(e,t,a){return o.accordionClick("ESIMs",o.props.selectedSku.devicePageURL,a)}},We(Ve,{eSimTitle:this.props.eSimTitle,eSimContent:this.props.eSimContent,eSimImageUrl:this.props.eSimImageUrl})),!0===this.props.prop65Flag&&We(h.b,{title:this.props.drawerNamesForAccordionGroup.legalAccordionTitle||"Legal",id:"legal",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-Legal"),onAccordionClick:function(e,t,a){return o.accordionClick("Legal",o.props.selectedSku.devicePageURL,a)}},We(U.a,{prop65Flag:this.props.prop65Flag,prop65Content:this.props.prop65LegalAccordian})))}},{key:"render",value:function(){return this.state.loader?We(y.a,null):this.renderAccordion()}}]),a}(m.Component);Object(u.a)(Ge,"contextType",Ee.a);t.default=Ge},"74H1":function(e,t,a){"use strict";a.r(t),a.d(t,"OfferTrayLoader",(function(){return f}));var n=a("HALo"),o=a("MX0m"),i=a.n(o),r=a("q1tI"),s=a("U/e8"),c=a("NDP7"),l=a("9rZX"),d=a.n(l),p=a("zm1R"),u=a("/78k"),m=r.createElement;function f(e){var t=Object(r.useState)(!1),a=t[0],n=t[1],o=window.innerWidth<=425,l={customerType:Object(s.jb)(e.customerType),flowType:function(){var t=Object(s.Dc)("GET");return Object(s.Mb)(t)?e.flowType:t.wsceData.wlsfi.toUpperCase()}(),devices:[{skuId:e.skuId}]},f=e.isPriceOptionsLoaded&&!e.showOfferTray&&window.location.href.includes("offerId=")&&!e.hasRibbonBeenClicked&&!a&&!e.isOfferTrayCloseIconClicked;return m(c.a,{data:l,offerId:e.promoOfferId,campaignId:e.campaignId},m("div",{className:"offer-tray-anchor",tabIndex:-1}),e.showOfferTray&&m(r.Fragment,null,o?m(d.a,{isOpen:!0,className:"modal container flex-items-center",overlayClassName:"overlay pad-sm flex justify-center",portalClassName:"ReactModalPortal full-width-container",htmlOpenClassName:"modal-open",closeTimeoutMS:300},m(p.d,{className:""},m("div",{className:"jsx-1546970150 centered modal-content overflow-y-scroll"},m(c.b,{events:{onCloseClicked:e.events.onCloseClicked,onSeeLegalClicked:e.events.onSeeLegalClicked,onVisibleChanged:e.events.onVisibleChanged},classes:{trayClassName:"mar-b-xs"},disableMobileCarousel:!1}),m(i.a,{id:"1546970150"},[".modal-content.jsx-1546970150 .slick-dots{margin-top:0px;}"])))):m(r.Fragment,null,m(p.b,{type:p.c.FullWidth,className:"rel nopad"},m("div",{className:"jsx-1798156620 centered carousel-offer-container"},m(c.b,{events:{onCloseClicked:e.events.onCloseClicked,onSeeLegalClicked:e.events.onSeeLegalClicked,onVisibleChanged:e.events.onVisibleChanged},classes:{trayClassName:"mar-b-xs"},arrow:85}))),m(i.a,{id:"1798156620"},[".carousel-offer-container.jsx-1798156620{max-width:1272px;}"]))),f&&m(u.a,{commonCmsContent:e.commonCmsContent,displayOfferRibbon:e.displayOfferRibbon,updateShowOfferTray:e.updateShowOfferTray,alertBannerLinkClickHandler:n,isAalUp:!0}))}t.default=r.forwardRef((function(e,t){return m(f,Object(n.a)({},e,{ref:t}))}))},"7Okf":function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a("xvhg"),o=a("MX0m"),i=a.n(o),r=a("q1tI"),s=a("GYkI"),c=a("anJd"),l=a("cq7Z"),d=a("xLlQ"),p=a("pTDS"),u=a.n(p),m=a("mwIZ"),f=a.n(m),h=r.createElement;function g(e){f()(document,"documentMode",!1);return h(r.Fragment,null,h("div",{onKeyPress:function(t){var a;13!==(a=t).which&&32!==a.which||e.handleHeroImageClick()},role:"button",tabIndex:0,onClick:e.handleHeroImageClick,"aria-label":"Zoom on Image View",className:"jsx-2662546402 zoom-icon zoom-icon-progressive bg-ui-background-gray"},h(d.a,{icon:u.a,size:"15px",altText:"zoom icon"})),h(i.a,{id:"2662546402"},[".zoom-icon{position:absolute;right:0px;padding:9px 9px 5px 10px;border-radius:33px;cursor:pointer;fill:#0057B8;color:#0057B8;top:0;}",".zoom-icon:focus{outline:1px dotted;}",".zoom-icon-progressive{width:24px;height:24px;padding:3px 5px 5px 5px !important;}"]))}var b=a("bVGF"),C=r.createElement;function v(e){var t=e.heroImages&&e.heroImages.length>0?e.heroImages:[e.defaultImage],a=r.useState(0),o=Object(n.a)(a,2),d=o[0],p=o[1],u=e.heroImages.length>0,m=function(t,a,n,o){var i=new l.a,r={linkDestinationUrl:t,linkName:o?"zoom icon":e.selectedSku.skuId+"_"+n+"_"+a,linkPosition:"Body"};i.fireLinkClickEvent(r)},f=function(a,n){u?function(t,a,n,o){e.imageClick&&e.imageClick(a),m(t,a,n,o)}(t[a],a,"heroImageClick",n):e.imageClick&&e.imageClick(a,n)};return C(r.Fragment,null,C("div",{className:"jsx-1263715203 wishlist-icon"},C(b.a,{skuId:e.selectedSku.skuId,shortDisplayName:e.selectedSku.shortDisplayName,currentLocation:window.location.href,campaignId:e.campaignId})),C("div",{className:"jsx-1263715203 "+"".concat(c.heroCursor)},C(s.a,{config:[{breakpoint:9999,settings:{slidesToShow:1,slidesToScroll:1,dots:!0,arrows:!1,lazyLoad:"progressive"}}],skipOverlay:!1,sliderClick:function(e){p(e),m(window.location.href,e,"heroImageCarouselSliderClick",!1)},verticalCenter:!0},t.map((function(t,a){return C("div",{key:a,onClick:function(){return f(a,!1)},className:"jsx-1263715203 "+"heroImageSlide ".concat(c.imageSlide)},C("div",{onKeyPress:function(e){return function(e,t,a){13!==e.which&&32!==e.which||f(t,a)}(e,a,!1)},tabIndex:0,role:"button",className:"jsx-1263715203 "+"".concat(c.heroImageContainer)},C("img",{draggable:!1,src:t,alt:e.defaultAlt,className:"jsx-1263715203 "+(c.responsiveImage||"")})))})))),C(i.a,{id:"1263715203"},["@media (max-width:767px){.wishlist-icon{position:absolute;cursor:pointer;fill:#1D2329;color:#0057B8;top:0px;left:1%;}}","@media (min-width:768px){.wishlist-icon{position:absolute;cursor:pointer;fill:#0057B8;color:#0057B8;top:0px;left:-2%;}}"]),!e.isConfig&&C(g,{hasHeroImages:u,handleHeroImageClick:function(){return f(d,!0)}}))}},"8+N8":function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("3wd0"),o=a("Duh8"),i=a("q1tI"),r=a.n(i),s=a("U/e8"),c=a("JNjH"),l=r.a.createElement,d=function(e){var t,a=e.selectedSku,i=e.displayingLegalContent,d=e.dataQa,p=e.onLegalClick,u=e.onOfferClick,m=e.isByod,f=r.a.useContext(c.a),h=f.priceOptions,g=f.selectedPricingIndex,b=h&&h[a.skuId],C=b?b[g]:null,v=C&&0===(C.netPrice||C.monthlyLeasePrice),y=Object(s.k)(C,f,!0);if(""!==e.shortLegalOverride&&(y.shortLegal=e.shortLegalOverride),C){var k=Object(s.j)(C,f,!0),O=C.showStrikeThrough||f.isTradeInSelected;t={displayStrikethroughPrefix:C.displayStrikethroughPrefix,displayStrikeThrough:O?C.displayStrikeThrough:null,displayStrikethroughSuffix:C.displayStrikethroughSuffix,displayPrefix:k.displayPrefix,displayPrice:k.displayPrice,displayPriceSuffix:k.displaySuffix}}return l(r.a.Fragment,null,t&&f.priceOptions&&f.priceOptions[f.selectedSku.skuId]&&f.priceOptions[f.selectedSku.skuId][f.selectedPricingIndex]&&l(r.a.Fragment,null,i?l(o.a,{msrpPrice:!v&&C.msrp,legalContent:y,specialPriceblockLegal:C.displaySpecialPriceblockLegal,termLength:!v&&C.termLength,linkContent:C.displayLegalContent.detailsLink,linkCallback:p,offerLinkCallback:u,displayingLegalContent:i,dataQa:"".concat(d,"-Legal"),sku:a,isCarousel:false}):l("div",null,l(n.a,{price:t,dataQa:"".concat(d,"-Display"),fontSize:"1.333rem",isCarousel:false,isByod:m}))))}},"9yiW":function(e,t,a){"use strict";a.r(t);var n=a("jj8w");t.default=n.a},BDI3:function(e,t,a){"use strict";var n=a("H+61"),o=a("UlJF"),i=a("7LId"),r=a("VIvw"),s=a("iHvq"),c=a("MX0m"),l=a.n(c),d=a("q1tI"),p=a("H80Z"),u=a("vyOo"),m=a("U/e8"),f=d.createElement;function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var o=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var g=function(e){Object(i.a)(a,e);var t=h(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return f(d.Fragment,null,f("div",{className:"jsx-3038704617 ratings type-xxs rel mar-b-none"},this.props.data.isConfigView&&f("div",{className:"jsx-3038704617 config-review"},null!==this.props.data.avgRating&&0!==this.props.data.reviewCount?f(d.Fragment,null,f(p.a,{data:{name:this.props.data.displayName,rate:this.props.data.avgRating,readOnly:!0,starCount:5},dataQa:"".concat(this.props.dataQa,"-starReviewsLink")}),f("div",{className:"jsx-3038704617 type-xs mar-b-none"},this.props.data.avgRating," | ",this.props.data.reviewCount)):this.props.data.bvReviewsEnabled&&f(d.Fragment,null,"Write a Review")),!this.props.data.isConfigView&&f(u.a,{events:{onClick:function(){return Object(m.fc)("reviews")}},href:"#".concat(Object(m.P)("reviews").accordionButton),dataQa:"".concat(this.props.dataQa,"-starReviewsLink"),className:"color-ui-black mar-none flex justify-end",reportingLinkName:"Star Reviews Link"},null!==this.props.data.avgRating&&0!==this.props.data.reviewCount?f(d.Fragment,null,f(p.a,{data:{name:this.props.data.displayName,rate:this.props.data.avgRating,readOnly:!0,starCount:5},dataQa:"".concat(this.props.dataQa,"-starReviewsLink")}),f("div",{className:"jsx-3038704617 type-xs mar-b-none"},this.props.data.avgRating," | ",this.props.data.reviewCount)):this.props.data.bvReviewsEnabled&&f(d.Fragment,null,"Write a Review"))),f(l.a,{id:"3038704617"},[".ratings.jsx-3038704617{height:16px;}",".config-review.jsx-3038704617{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;cursor:default;}"]))}}]),a}(d.Component);t.a=g},"Iia/":function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("MX0m"),o=a.n(n),i=a("q1tI"),r=a("cq7Z"),s=a("5KXR"),c=a("U/e8"),l=i.createElement,d=function(e){var t=new r.a;return l(i.Fragment,null,l("span",{className:"jsx-4068090477 type-xs font-medium color-ui-black block line-h-md pad-t-xxs"},l("div",{onClick:function(){Object(c.pc)();var a="";a="tablets"===e.deviceType||"wearables"===e.deviceType||"connected-devices-and-more"===e.deviceType?"/buy/postpaid/".concat(e.deviceType,"/"):"/buy/postpaid/phones/";var n={linkName:e.seeAllDevicesLabel,linkPosition:"Body",linkDestinationUrl:a};t.fireLinkClickEvent(n),Object(c.cc)(),e.editLosgId&&(a+="?edit=".concat(e.editLosgId)),window.location.href=a},className:"jsx-4068090477 pointer color-ui-black line-h-md"},l("span",{className:"jsx-4068090477 flex justify-center flex-items-center items-center"},l(s.a,{icon:l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 477.175 477.175"},l("path",{d:"M145.188 238.575l215.5-215.5c5.3-5.3 5.3-13.8 0-19.1s-13.8-5.3-19.1 0l-225.1 225.1c-5.3 5.3-5.3 13.8 0 19.1l225.1 225c2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4c5.3-5.3 5.3-13.8 0-19.1l-215.4-215.5z"})),size:"16px",className:"mar-r-xxxs flex justify-center items-center mbl-arr-size"}),l("span",{className:"jsx-4068090477"},e.seeAllDevicesLabel)))),l(o.a,{id:"164209544"},[".pointer.jsx-4068090477{cursor:pointer;}"]),l(o.a,{id:"1795497164"},["@media (max-width:767px){.mbl-arr-size svg{height:10px !important;}}"]))}},JSxr:function(e,t,a){"use strict";a.r(t);var n=a("H+61"),o=a("UlJF"),i=a("+Css"),r=a("7LId"),s=a("VIvw"),c=a("iHvq"),l=a("MX0m"),d=a.n(l),p=a("q1tI"),u=a.n(p),m=a("uVxl"),f=a("mwIZ"),h=a.n(f),g=a("zm1R"),b=a("pw7I"),C=a("N1Ph"),v=u.a.createElement;function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var k=function(e){Object(r.a)(a,e);var t=y(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={collapsed:!0,numberOfCols:4},o.getLinkFarmData=o.getLinkFarmData.bind(Object(i.a)(o)),o.handleAccordionToggle=o.handleAccordionToggle.bind(Object(i.a)(o)),o.getColumnData=o.getColumnData.bind(Object(i.a)(o)),o}return Object(o.a)(a,[{key:"handleAccordionToggle",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"getColumnData",value:function(e,t){for(var a,n={subheading:h()(e,"master.subHeading",""),text:{},href:{},target:{}},o=h()(e,"master.linkList",[]).length,i=0;i<o;i++)(a=JSON.parse(h()(e,"master.linkList[".concat(i,"]"),void 0)))&&(n.text["text_".concat(i+1)]=a.linkLabel,n.href["href_".concat(i+1)]=a.linkURL,n.target["target_".concat(i+1)]=a.linkTarget);return n}},{key:"getLinkFarmData",value:function(e){var t=this,a=[];return Array.isArray(e)&&(a=Array(e.length).fill(0).map((function(a,n){return t.getColumnData(e[n],n)}))),a}},{key:"render",value:function(){var e=this,t=this.props.linkFarmsContent,a=h()(t,"master.heading","Looking for more?"),n=this.getLinkFarmData(h()(t,"master.linkSections",[])),o=h()(t,"master.headingFontSize","md"),i="type-".concat(o),r=this.props.defaultSubheadings?"color-ui-black":"color-ui-dark-gray",s=!(!this.state.collapsed&&n.length);return v(u.a.Fragment,null,!!n.length&&v(g.b,{className:"bg-ui-background-gray rel pad-r-none pad-l-none"},v(g.d,null,v(g.a,{width:12,offset:0,widthMd:12,className:"mar-l-none-md pad-t-none pad-b-xxxl"},v("div",{id:"pdpLinkFarmsID",className:"jsx-747556331"},v("div",{className:"jsx-747556331 col-pad-l col-pad-r"},v(m.a,{space:0,topSpace:0}),v("div",{"data-qa":"".concat(this.props.dataQa,"-header"),"aria-label":"PDP Link Farms","aria-expanded":!this.state.collapsed,className:"jsx-747556331 "+"".concat(b.accordionIconMargin," mar-t-md")},v("span",{onClick:this.handleAccordionToggle,onKeyPress:this.handleAccordionToggle,className:"jsx-747556331 "+"formfield-label ".concat(s?"pad-b-none":"pad-b-xs")},v("span",{style:{width:"100%"},tabIndex:0,className:"jsx-747556331 "+"configured-label font-medium color-ui-black line-h-md ".concat(i," ").concat(b.accordionILabel)},a),v(C.a,{expanded:!this.state.collapsed})))),!this.state.collapsed&&v(g.d,{className:"".concat(n.length?"mar-t-xxs":""," ").concat(s?"mar-b-md":""," flex-wrap")},n.map((function(t,a){var n=t.text&&Object.keys(t.text);return v(O,{key:a,keyProp:a,numberOfCols:e.state.numberOfCols,collapsed:e.state.collapsed,subheadingClass:r,subheadingText:t.subheading,linkFarmText:t.text,linkFarmHref:t.href,linkFarmTarget:t.target,linkKeys:n})}))),v("div",{className:"jsx-747556331 "+"col-pad-l col-pad-r ".concat(s?"mar-t-md":"")},v(m.a,{space:0,topSpace:s?0:-8})))))),v(d.a,{id:"747556331"},["#pdpLinkFarmsID.jsx-747556331{padding-top:96px;}","@media (min-width:768px) and (max-width:1024px){#pdpLinkFarmsID.jsx-747556331{padding-top:64px;}}","@media (max-width:767px){#pdpLinkFarmsID.jsx-747556331{padding-top:32px;}}"]))}}]),a}(u.a.Component),O=function(e){var t=e.keyProp,a=e.numberOfCols,n=(e.collapsed,e.subheadingClass),o=e.subheadingText,i=e.linkFarmText,r=e.linkFarmHref,s=e.linkFarmTarget,c=e.linkKeys;return v(g.a,{key:t,width:Math.floor(12/a),widthSm:6,widthMd:6,className:"mar-b-md pad-t-none pad-b-none"},v("h3",{className:"mar-b-sm"},v("span",{className:"type-base font-medium ".concat(n," mar-t-none mar-b-sm")},o)),c.length&&v("ul",{id:"linkFarmSection".concat(t+1),role:"list","aria-hidden":"true"},c.map((function(e,t){return v(S,{key:t,keyProp:t,link:r["href_".concat(t+1)],text:i[e],target:s["target_".concat(t+1)]})}))))},S=function(e){var t=e.keyProp,a=e.link,n=e.text,o=e.target,i=a||"";return v(u.a.Fragment,null,a&&n&&o&&v("li",{key:t,className:"pad-t-xxxs pad-b-xxxs mar-t-xxs mar-b-xxs"},v("a",{href:i,target:o,className:"type-sm color-ui-dark-gray font-regular"},n)))};t.default=k},JpNp:function(e,t,a){"use strict";a.r(t);var n=a("xvhg"),o=a("MX0m"),i=a.n(o),r=a("q1tI"),s=a.n(r),c=a("JjeS"),l=a("Vvt1"),d=a.n(l),p=a("J2m7"),u=a.n(p),m=a("JNjH"),f=a("kjGT"),h=a("jqru"),g=a("7naU"),b=a("N1Ph"),C=a("cq7Z"),v=a("U/e8"),y=a("mwIZ"),k=a.n(y),O=a("82mV"),S=a("BTSr"),x=a("lNN+"),I=s.a.createElement,T=d()((function(){return Promise.resolve().then((function(){return a("dNln")}))}),{ssr:!1,loadableGenerated:{webpack:function(){return["dNln"]},modules:["../src/pages/ProductDetailsUpAalPage/components/PortIn/PortIn.tsx -> ../PortInLegalModal"]}});t.default=function(e){var t=e.dataQa,a=(e.dtabCookieExists,e.configView),o=(e.portInConsented,e.tradeInConsented,e.nextUpConsented,e.hylaOfferCodeRetrieved),l=(e.IXPFeatureFlags,e.onLegalClick),d=e.onOfferClick,p=e.displayPortin,y=e.collapsePortin,w=e.widgetInFocus,L=(e.priceChanged,e.selectedSku,e.tradeinChanged),j=Object(r.useState)(!1),P=j[0],N=j[1],D=s.a.useState(!1),M=Object(n.a)(D,2),A=M[0],E=M[1],R=s.a.useState(!1),F=Object(n.a)(R,2),U=F[0],B=F[1],H=s.a.useState(!1),_=Object(n.a)(H,2),V=_[0],W=_[1],z=s.a.useState(null),G=Object(n.a)(z,2),Q=G[0],q=G[1],X=function(){N(!0)},Z=(Object(c.useAmp)(),s.a.useContext(m.a)),K=(s.a.useContext(x.a),s.a.useContext(S.a)),J=(Z.priceOptions,Z&&Z.priceOptions&&Z.priceOptions[Z.selectedSku.skuId]&&Z.priceOptions[Z.selectedSku.skuId][Z.selectedPricingIndex]),Y=(Z&&Z.priceOptions&&Z.priceOptions[Z.selectedSku.skuId]&&Z.priceOptions[Z.selectedSku.skuId][Z.prevSelectedIndex],Z.isTradeInSelected?Z.hylaOfferCodeInContext:"DEFAULT"),$=J&&J.displayTradeIn[Y]&&J.displayTradeIn[Y].hylaOfferCode?J.displayTradeIn[Y]:void 0,ee=J&&J.displayPortIn,te=o||"DEFAULT",ae=Z.getTradeInPrice($),ne=Z.getPortInPrice(ee),oe=k()(J,"promoPricing",[]),ie=(oe.findIndex((function(e){return e.hylaOfferCode==te})),!1);oe&&oe.find((function(e){return"standalonePortIn"===e.promoType}))&&(!0,ie=!0);var re=!!ie,se=Object(r.useState)(!!a),ce=se[0],le=se[1],de=Object(v.j)(Z.getNonNextupPriceOption(),Z,!0,!1);Object(r.useEffect)((function(){!0===y&&(le(!0),B(!1),W(!0))}),[y]),Object(r.useEffect)((function(){"PORT-IN"!==w&&V&&(le(!0),B(!1))}),[w]),Object(r.useEffect)((function(){!0===L&&B(!1)}),[L]),s.a.useEffect((function(){var t=Object(v.Dc)("GET");if(!Object(v.Mb)(t)){var a=!1,n=!1,o=null;e.collapsePortin||Z.isPortInClicked?(n=!0,a=!1,o=!0):(n=!1,a=!0,o=!1),le(n),B(a),W(o)}q(!0!==U?Z.isPortInSelected?1:0:null)}),[]),s.a.useEffect((function(){q(!0!==U?Z.isPortInSelected?1:0:null)}),[Z.isPortInSelected,U]),s.a.useEffect((function(){setTimeout((function(){A&&function(){var t=K.getItemByLosgId(K.editLosgId),a=t&&t.items&&u()(t.items,{itemType:"device"});a&&a.productSKU&&a.productSKU===Z.selectedSku.skuId&&t.hylaPromotionCode!==Z.hylaOfferCodeInContext&&(e.updateChildCompStatusChange("portin_change"),E(!1))}()}),100)}),[Z.isPortInSelected,Z.hylaOfferCodeInContext]);return I(s.a.Fragment,null,!a&&p&&J&&ee&&(J.leaseTotalMonths>0||J.termLength>1)&&I("div",{id:"PORT-IN-anchor",className:"jsx-111342347 "+"".concat(J&&"NoCommitment"===J.commitmentTerm?"":!U||Z.isTradeInSelected?V||ce?O.boxWidget:O.boxWidgetInFocus:O.boxWidgetDisabled," ").concat(O.roundBorder)},I("div",{dataQa:"".concat(t,"-header"),ariaLabel:ee&&ee.portInHeader,ariaExpanded:!ce,className:"jsx-111342347 font-regular"},I("span",{onClick:function(){var t=new C.a,a={linkDestinationUrl:Z.selectedSku.devicePageURL,linkName:"PortIn"+(ce?"_Expand":"_Collapse"),linkPosition:"Body"};t.fireLinkClickEvent(a),le(!ce),e.updateWidgetinFocus("portin")},className:"jsx-111342347 formfield-label cursor pad-b-xs-lg"},I("span",{style:{width:"100%"},className:"jsx-111342347 type-base color-ui-black mar-b-none pad-r-xxxs line-h-md"},ee&&ee.portInHeader),V&&I(b.a,{expanded:!ce,iconLabel:"Edit"})),ce&&I("div",{className:"jsx-111342347 full-width text-left"},I("div",{className:"jsx-111342347 flex full-width font-regular type-base color-ui-black mar-b-none"},I("div",{className:"jsx-111342347 type-base mar-r-xxs font-bold"},Z.isPortInSelected?"".concat(ee&&ee.portInContinueCTALabel):"Get new wireless number"),I("div",{className:"jsx-111342347 margin-left-auto"},I("span",{className:"jsx-111342347 type-base font-bold text-right"},"".concat(de.displayPrefix+de.displayPrice)),I("span",{className:"jsx-111342347 type-sm font-bold"},de.displaySuffix))))),!ce&&I(s.a.Fragment,null,I("div",{className:"jsx-111342347 type-sm mar-b-xxs"},ee&&ee.portInSubheader),I(f.b,{id:"RadioSelection-PortIn",onChange:function(t){Z.setIsPortInSelected(1===parseInt(t)),Z.setIsPortInClicked(!0),W(!0),E(!0),le(!0),setTimeout((function(){e.updateChildCompStatusChange("portin_change")}),100)},defaultSelection:!1!==V?Q:null,dataQa:t},I("div",{className:"jsx-111342347 flex flex-column"},I(f.a,{value:1,name:"portInContinueCTALabel",inputName:"portInCTALabel",id:"portInContinueCTALabel",ariaControls:"portInContinueCTALabel",ariaHidden:ce,dataQa:"".concat(t,"-PortInContinueCTA"),options:{fullWidth:!0,buttonClasses:"flex-column pad-xs ".concat("PORT-IN"===e.widgetInFocus?"bg-ui-white":""),zIndex:1},blockSelected:!0},(function(e){return I(h.a,{isSelected:e,skuId:Z.selectedSku.skuId,displayValue:ee&&ee.portInContinueCTALabel,displayPrice:{displayPrefix:k()(ee,"portInPrefix"),displayPrice:ne,displaySuffix:k()(ee,"portInPriceWithoutNextUpSuffix")},radioSubContent:function(e,t){return I(g.a,{isSelected:e,priceOption:t,isPortIn:!0,onLegalClick:X,onOfferClick:X,blockSelected:!0,isStandalonePortIn:ie,ignoreSelectedForDisplay:!0})},selectedSku:Z.selectedSku,hidePrice:re})})),I(f.a,{value:0,name:"portInCancelCTALabel",inputName:"portInCTALabel",id:"portInCancelCTALabel",ariaControls:"portInContinueCTALabel",ariaHidden:ce,dataQa:"".concat(t,"-PortInCancelCTA"),options:{fullWidth:!0,zIndex:1,buttonClasses:"flex-column pad-xs ".concat("PORT-IN"===e.widgetInFocus?"bg-ui-white":"")}},(function(e){return I(h.a,{isSelected:e,skuId:Z.selectedSku.skuId,displayValue:ee&&ee.portInCancelCTALabel,displayPrice:{displayPrefix:$&&$.tradeInPrefix,displayPrice:ae,displaySuffix:$&&$.tradeInSuffix},radioSubContent:function(e,t){return I(g.a,{isSelected:e,priceOption:t,onLegalClick:l,onOfferClick:d,isPortIn:!1,blockSelected:!0,isStandalonePortIn:ie})},selectedSku:Z.selectedSku,hidePrice:re})})))))),ee&&ee.standalonePortInLongLegal&&ee.portInOfferId&&I(T,{data:{isOpen:P,onRequestClose:function(){N(!1)},containerClassName:"banner-legal-borders",contentClassName:"modal-content pad-l-md pad-r-md pad-t-md pad-b-none type-base",rowClassName:"",closeClassName:"close-button no-border",textClassName:"type-legal offer",showSeperator:!0,width:6},longLegalPath:ee.standalonePortInLongLegal,offerID:ee.portInOfferId}),I(i.a,{id:"111342347"},[".text-align-left.jsx-111342347{text-align:left;}",".margin-left-auto.jsx-111342347{margin-left:auto;}",".configured-label.jsx-111342347{font-size:16px;margin-bottom:24px;line-height:1.6;}",".font-subheader.jsx-111342347{font-size:16px;}",".font-monthly.jsx-111342347{font-size:14px;}",".pricing-prefix.jsx-111342347{font-size:14px;}"]))}},JvuP:function(e,t,a){"use strict";a.r(t);var n=a("HALo"),o=a("vJKn"),i=a.n(o),r=a("rg98"),s=a("MX0m"),c=a.n(s),l=a("q1tI"),d=a.n(l),p=a("m/R5"),u=a("maZt"),m=a("xLlQ"),f=d.a.createElement,h=function(e){var t=e.title,a=e.details,n=e.iconName,o=e.damIconPath;return f("div",{className:"jsx-4184568704 flex align-items-center mar-b-md-lg"},f(m.a,{iconName:n,damIconPath:o,size:"32px"}),f("div",{className:"jsx-4184568704 flex-column justify-center mar-l-xxs"},f("div",{className:"jsx-4184568704 type-sm font-medium color-ui-dark-gray mar-b-none"},t),f("div",{className:"jsx-4184568704 type-sm"},a)),f(c.a,{id:"4184568704"},[".delivery-method.jsx-4184568704{margin-bottom:1.4rem;}",".delivery-method.jsx-4184568704 i.jsx-4184568704 svg.jsx-4184568704{fill:#1D2329;}"]))},g=a("AGoX"),b=a("zyV8"),C=a("U/e8"),v=a("vyOo"),y=l.createElement;function k(e){return y(l.Fragment,null,y(l.Fragment,null,y("p",{className:"mar-b-none"},e.subHeading),e.storeInformation&&e.storeInformation.id&&y(l.Fragment,null,y("p",{className:"mar-b-none mar-t-xs"},e.storeInformation.mystore_name),y("p",{className:"mar-b-none mar-t-none"},e.storeInformation.address1,e.storeInformation.address2&&", "+e.storeInformation.address2),y("p",{className:"mar-b-xxs mar-t-none"},e.storeInformation.city,",\xa0",e.storeInformation.region,"\xa0",e.storeInformation.postal))),y(v.a,{ariaLabel:"show more stores",dataQa:"".concat(e.dataQa,"-showMoreStores"),events:{onClick:function(){return e.openModal()}},reportingLinkUrl:"/products/details/c2s/modal",className:"font-medium",href:"#"},e.linkLabel))}var O=a("Da3r"),S=a("H+61"),x=a("UlJF"),I=a("+Css"),T=a("7LId"),w=a("VIvw"),L=a("iHvq"),j=a("cpVT"),P=a("B2qa"),N=a("8bTO"),D=a("Vvt1"),M=a.n(D),A=a("eI37"),E=a("0Yz8"),R=a("cq7Z"),F=a("mwIZ"),U=a.n(F),B=l.createElement;function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(L.a)(e);if(t){var o=Object(L.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(w.a)(this,a)}}var _=M()((function(){return Promise.resolve().then((function(){return a("UwfX")}))}),{loadableGenerated:{webpack:function(){return["UwfX"]},modules:["../src/pages/ProductDetailsUpAalPage/components/Click2Store/Click2Store.tsx -> ../StoreItem"]}}),V=function(e){Object(T.a)(a,e);var t=H(a);function a(e){var n;return Object(S.a)(this,a),n=t.call(this,e),Object(j.a)(Object(I.a)(n),"reporting",void 0),Object(j.a)(Object(I.a)(n),"pickUpCTA",(function(){n.getClick2StoreList()})),Object(j.a)(Object(I.a)(n),"click2StorePageLoadEvent",(function(){var e={"page.location.url":n.props.data.isAccessory?O.d.reporting.pageUrl.storeAvailModal.accessories:O.d.reporting.pageUrl.storeAvailModal.phones,"page.pageInfo.friendlyPageName":n.props.data.isAccessory?O.d.reporting.friendlyPageName.storeAvailModal.accessories:O.d.reporting.friendlyPageName.storeAvailModal.phones};n.reporting.firePageLoadEvent(e)})),n.state={activeStoreId:n.props.data.activeStoreId,displayQuantityThreshold:0,errorMessage:"",favStore:{},showAllStoreHours:!1,showChangeZip:""===n.props.data.zipCode,storeList:[],submitZipCode:n.props.data.zipCode,workingZipCode:n.props.data.zipCode,isAccessory:n.props.data.isAccessory},n.ctaClick=n.ctaClick.bind(Object(I.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(I.a)(n)),n.handleChangeZip=n.handleChangeZip.bind(Object(I.a)(n)),n.reporting=new R.a,n}return Object(x.a)(a,[{key:"componentDidMount",value:function(){null!==this.props.data.zipCode&&this.props.data.zipCode.length>-1&&this.getClick2StoreList(),this.click2StorePageLoadEvent()}},{key:"componentWillReceiveProps",value:function(e){this.setState({workingZipCode:e.data.zipCode})}},{key:"getStoreAvailabilityErrorMsg",value:function(e,t){var a,n={zipCode:t,numOfMiles:"50"};return U()(this.props.data.planCmsContent,"".concat(O.d.configView.pscCMSFeedRootPath,".modals.master.errorModal"),O.d.uisStoreavailabilityErrorCodes.errorModal).map((function(t){U()(t,"master.code")===e.errorId.toLowerCase()&&(a=Object(C.gc)(U()(t,"master.description",e.message),n))})),a}},{key:"generateCategory",value:function(e){if(this.props.data.isAccessory)return"accessory";switch(e){case"pda":return"phone";case"netbook":return"computer";case"network":return"electronic";default:return"phone"}}},{key:"getClick2StoreList",value:function(){var e=this,t=this;this.validateZipCode(t.state.workingZipCode)?b.a.getClick2StoreList(t.props.data.skuBillCode,t.state.workingZipCode,this.generateCategory(t.props.data.deviceType)).then((function(a){if(null!=U()(a,"error"))t.setState({errorMessage:e.getStoreAvailabilityErrorMsg(a.error,t.state.workingZipCode),showChangeZip:!0});else{t.setState({errorMessage:"",showChangeZip:!1});var n=1,o=[];Object.keys(a.content.storeList).sort((function(e,t){var n=a.content.storeList[e],o=a.content.storeList[t];return parseFloat(n.arcdist)>parseFloat(o.arcdist)?1:-1})).forEach((function(i){parseInt(a.content.storeList[i].availableQuantity)>0&&o.push(B(_,{data:{activeStoreId:t.props.data.activeStoreId,currentStore:a.content.storeList[i],displayQuantityThreshold:5,index:n++,skuId:t.props.data.skuId,updateStore:t.props.data.updateStore,zipCode:t.state.submitZipCode,isAccessory:e.props.data.isAccessory,commonCmsContent:e.props.data.commonCmsContent}}))})),t.setState({storeList:o})}})):t.setState({errorMessage:this.getStoreAvailabilityErrorMsg({errorId:"uis-inv-00001",message:"Enter a valid ZIP Code"},t.state.workingZipCode),showChangeZip:!0})}},{key:"handleChangeZip",value:function(){this.setState({showChangeZip:!this.state.showChangeZip}),this.fireLinkClick("Change",this.props.data.isAccessory?O.d.reporting.pageUrl.storeAvailModal.accessories:O.d.reporting.pageUrl.storeAvailModal.phones)}},{key:"fireLinkClick",value:function(e,t){var a={linkDestinationUrl:t,linkName:e,linkPosition:"Body"};this.reporting.fireLinkClickEvent(a)}},{key:"handleInputChange",value:function(e){RegExp(/^\d{0,5}$/).test(e.target.value.trim())&&this.setState({workingZipCode:e.target.value})}},{key:"renderModalHeader",value:function(){return B(l.Fragment,null,B("h2",{className:P.modalHeader},"Stores with ",this.props.data.displayName," in stock"))}},{key:"renderStoreList",value:function(){return B(l.Fragment,null,B("div",{className:P.changeZip},"Showing stores near ",this.state.submitZipCode,B(v.a,{ariaLabel:"change Zip",events:{onClick:this.handleChangeZip},dataQa:"$-changeZip"},"Change",B("span",{className:[P.changeArrow,N.attIcon,N.attIconStraightArrowRight].join(" ")}))),this.state.storeList.map((function(e,t){return B("p",{key:t},e)})),B("div",{className:P.legalContainer},this.renderLegalDisclaimer()))}},{key:"ctaClick",value:function(){this.fireLinkClick("Search",this.props.data.isAccessory?O.d.reporting.pageUrl.storeAvailModal.accessories:O.d.reporting.pageUrl.storeAvailModal.phones),this.setState({errorMessage:"",storeList:[],submitZipCode:this.state.workingZipCode}),this.getClick2StoreList()}},{key:"validateZipCode",value:function(e){return/^\d{5}$|^\d{5}-\d{4}$/.test(e)}},{key:"renderZipCodeForm",value:function(){return B(l.Fragment,null,""!==this.state.errorMessage&&B("p",{className:P.error},this.state.errorMessage),B("form",{className:P.zipCodeForm},B("div",{className:P.zipCodeLabel},"Enter your zip code"),B("input",{autoFocus:!0,className:P.zipTextField,type:"text",value:this.state.workingZipCode,onInput:this.handleInputChange}),B(A.c,{buttonConfig:{disabled:!this.state.workingZipCode,primary:!0,type:[A.b.Blue,A.b.Large]},events:{onClick:this.ctaClick},extraProps:{formAction:"javascript:void"}},"Search")))}},{key:"renderLegalDisclaimer",value:function(){var e=Object(C.U)(this.props.data.commonCmsContent,"bopisModalDisclaimer",O.d.deliveryOptions.bopis.bopisModalDisclaimer);return B(l.Fragment,null,B("p",{className:P.legalDisclaimer},e))}},{key:"renderLoader",value:function(){return B(l.Fragment,null,B("div",{className:P.loadingContainer},B(E.a,null)))}},{key:"render",value:function(){return B("div",null,this.state.showChangeZip&&this.renderZipCodeForm(),!(this.state.storeList.length>0)&&""===this.state.errorMessage&&this.renderLoader(),this.state.storeList&&this.state.storeList.length>0&&""!==this.state.submitZipCode&&""===this.state.errorMessage&&this.renderStoreList())}}]),a}(l.Component),W=a("OFL0"),z=a.n(W),G=d.a.createElement,Q=function(e){var t=new Date(e.dateFrom),a=new Date(e.dateTo);return t.getDate()===a.getDate()?G(d.a.Fragment,null,e.subHeading&&G("p",{className:"mar-b-none"},e.subHeading),G("p",{className:"mar-b-none"},e.isDelivery?"Delivery ":"Shipping ","by",G("b",null," ",e.dateFrom," "))):G(d.a.Fragment,null,e.subHeading&&G("p",{className:"mar-b-none"},e.subHeading),G("p",{className:"mar-b-none"},e.isDelivery?"Delivers ":"Ships ","between",G("b",null," ",e.dateFrom," "),"and",G("b",null," ",e.dateTo," ")))};t.default=function(e){var t,a=Object(l.useState)({}),o=a[0],s=a[1],m=Object(l.useState)([]),f=m[0],v=m[1],y=Object(l.useState)(!1),S=y[0],x=y[1],I=Object(l.useState)(""),T=I[0],w=I[1],L=[],j=Object(l.useContext)(u.a),P={isAccessory:e.isAccessory,disableC2S:!1,disableSDD:!1,effectiveOutOfStock:!1,billCode:e.billCode},N=!1,D=function(){var e=new CustomEvent(O.b.CRITICAL_PATH_COMPLETE);window.dispatchEvent(e)};Object(l.useEffect)((function(){e.isComingSoon||null!==e&&void 0!==e&&e.isPrePreOrder&&Object(C.Tb)()||e.isEndOfSku||!j?e.onFinished(L,"","",t):M()}),[e.skuId]);var M=function(){var a=Object(r.a)(i.a.mark((function a(){var n,o,r,c,l,d;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:setTimeout(D,2e3),n="selectedstore",!1!==(o=Object(C.W)(document.cookie,n))&&(o=(o=o.replace("selectedstore=","")).split("|"),o[0].split("=")[1],r=o[1].split("=")[1]),c=[],e.userZipCodeResponse?(l=r||e.userZipCodeResponse,e.rtiFunctionFlag?(z()(e.fullFilmentDetails,"content.fulfillmentOptions["+e.skuId+"]")&&e.fullFilmentDetails.content.fulfillmentOptions[e.skuId].length>0&&(t=e.fullFilmentDetails.content.fulfillmentOptions[e.skuId]).map((function(t){if("DOO"===t.fulfillmentMethod&&t.available&&(c.push(A()),L.push("SAME DAY DROP OFF")),"C2S"===t.fulfillmentMethod&&t.available)if(z()(t,"stores")&&z()(e.fullFilmentDetails,"content.stores["+t.stores[0]+"]")){var a;a=e.fullFilmentDetails.content.stores[t.stores[0]],s(a),c.push(F(a)),L.push("STORE")}else{var n={};n.postal=r||e.userZipCodeResponse,s(n),c.push(F(n)),L.push("STORE")}var o;"DF"===t.fulfillmentMethod&&t.available&&(void 0!==t.dates?(o=t.dates,c.push(U(o)),L.push("DIRECT")):e.isAccessory&&(c.push(H()),L.push("DEFAULT SHIPPING METHOD")))})),void 0!==(d=c.sort(C.bc))[0]?e.onFinished(L,d[0].reportingName,"",t):e.onFinished(L,"","",t),v(d)):p.a.getCombinedAvailability(l,P).then((function(a){if(void 0!==a&&void 0!==a[e.billCode]){if(a[e.billCode].sameDayAvailable&&(c.push(A()),L.push("SAME DAY DROP OFF")),void 0!==a[e.billCode].availableStore&&a[e.billCode].availableStore.isAvailable){var n;n=a[e.billCode].availableStore,s(n),c.push(F(n)),L.push("STORE")}else{var o={};o.postal=r||e.userZipCodeResponse,s(o),c.push(F(o)),L.push("STORE")}var i;if(void 0!==a[e.billCode].dates)i=a[e.billCode].dates,c.push(U(i)),L.push("DIRECT");else e.isAccessory&&(c.push(H()),L.push("DEFAULT SHIPPING METHOD"))}var l=c.sort(C.bc);void 0!==l[0]&&e.onFinished(L,l[0].reportingName,"",t),v(l)}))):e.onFinished(L,"","",t);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),A=function(){return{available:!0,marketingsequence:parseInt(Object(C.U)(e.commonCmsContent,"rtgMargetingSequence",O.d.deliveryOptions.rtg.marketingSequence)),damIconPath:"black/transportation/truckL",key:"SDD",title:Object(C.U)(e.commonCmsContent,"rtgHeading",O.d.deliveryOptions.rtg.heading),details:Object(C.A)(Object(C.U)(e.commonCmsContent,"rtgSubHeading",O.d.deliveryOptions.rtg.subHeading)),reportingName:"SAME DAY DROP OFF"}},E=function(e){var t="";if(e){var a=e.split("+");t=a[0]?a[0]:e}return t},F=function(t){if(t.service){var a=t.service;N=a.indexOf(231)>-1}_();var n=parseInt(Object(C.U)(e.commonCmsContent,"bopisMarketingSequence",O.d.deliveryOptions.bopis.marketingSequence)),o=N?Object(C.U)(e.commonCmsContent,"bopisHeadingCurbsideAndInstore",O.d.deliveryOptions.bopis.headingCurbsideAndInstore):Object(C.U)(e.commonCmsContent,"bopisHeading",O.d.deliveryOptions.bopis.heading),i=N?Object(C.U)(e.commonCmsContent,"bopisSubheadingCurbsideAndInstore",O.d.deliveryOptions.bopis.subHeadingCurbsideAndInstore):Object(C.U)(e.commonCmsContent,"bopisSubheading",O.d.deliveryOptions.bopis.subHeading),r=Object(C.U)(e.commonCmsContent,"bopisLinkLabel",O.d.deliveryOptions.bopis.linkLabel);return t.isAvailable&&(document.cookie="selectedstore=storeinvid=".concat(t.inv_id,"|selectedzip=").concat(t.postal,";path=/")),Object(C.rc)(E(t.postal)),{available:!!t.isAvailable,marketingsequence:n,damIconPath:"black/retail/instorepickupL",key:"C2S",details:G(k,{subHeading:i,linkLabel:r,storeInformation:t,dataQa:e.dataQa,openModal:W}),title:o,reportingName:"STORE",isCurbsideAvailable:N}},U=function(t){var a={isDelivery:!0,standardShipping:!1,dateFrom:void 0,dateTo:void 0,subHeading:void 0},n=parseInt(Object(C.U)(e.commonCmsContent,"dfMarketingSequence",O.d.deliveryOptions.df.marketingSequence)),o=Object(C.U)(e.commonCmsContent,"dfStandardHeading",O.d.deliveryOptions.df.standardHeading),i=Object(C.U)(e.commonCmsContent,"dfNonStandardHeading",O.d.deliveryOptions.df.nonStandardHeading),r=Object(C.U)(e.commonCmsContent,"dfSubHeading",O.d.deliveryOptions.df.subHeading);return void 0!==t.deliveryDates?(a.dateFrom=B(t.deliveryDates.dateFrom),a.dateTo=B(t.deliveryDates.dateTo)):void 0!==t.shipmentDates&&(a.isDelivery=!1,a.dateFrom=B(t.shipmentDates.dateFrom),a.dateTo=B(t.shipmentDates.dateTo)),void 0!==a.dateFrom&&(a.standardShipping=Z(a.dateFrom)),a.subHeading=r,{damIconPath:"black/retail/shippingL",title:a.standardShipping?o:i,details:Q(a),marketingsequence:n,key:"DF",reportingName:"DIRECT"}},B=function(e){var t=e.split("-");return O.d.months[Number(t[1])-1]+" "+t[2]+", "+t[0]},H=function(){return{damIconPath:"black/retail/shippingL",title:"Free Shipping",details:"Delivered in 3 - 5 business days",marketingsequence:parseInt(Object(C.U)(e.commonCmsContent,"dfMarketingSequence",O.d.deliveryOptions.df.marketingSequence)),key:"AD",reportingName:"DEFAULT SHIPPING METHOD"}},_=function(){w(Object(C.A)(Object(C.U)(e.commonCmsContent,"deliveryOptionsSubheadingEnjoyIneligible",O.d.deliveryOptions.deliveryOptionsSubheadingEnjoyIneligible)))},W=function(){x(!0)},q=function(){x(!1)},X=function(e,t){var a={linkDestinationUrl:t,linkName:e,linkPosition:"Body"};(new R.a).fireLinkClickEvent(a)},Z=function(e){var t=new Date,a=new Date(e);return t.setDate(t.getDate()+3),t<a};return 0===f.length||e.isComingSoon||e.isPrePreOrder||e.isEndOfSku||e.effectiveOutOfStock?null:G(d.a.Fragment,null,G("div",{className:"jsx-2825597131 mar-t-lg-sm mar-t-md-md mar-t-sm-lg pad-t-sm-lg pad-t-none-sm pad-t-md-md border-top"},G("div",{className:"jsx-2825597131 pad-l-xs-lg pad-l-xs-md"},G("div",{className:"jsx-2825597131 type-base color-ui-black font-medium"},"Delivery options"),G("div",{className:"jsx-2825597131 mar-t-sm-lg mar-b-sm-lg type-sm color-ui-black font-regular"},T),G("div",{id:"deliveryOptions",className:"jsx-2825597131 mar-b-sm"},f.map((function(t){return("C2S"!==t.key||e.disableC2S)&&("SDD"!==t.key||e.disableSDD)?"DF"===t.key||"AD"===t.key?G(h,Object(n.a)({key:t.key},t)):void 0:G(h,Object(n.a)({key:t.key},t))}))))),G(g.default,{isOpen:S,onRequestClose:function(){X("CloseX",e.isAccessory?O.d.reporting.pageUrl.storeAvailModal.accessories:O.d.reporting.pageUrl.storeAvailModal.phones),q()},header:G("h1",{className:"jsx-2825597131 heading-md"},"Stores with "+e.deviceName+" in stock"),width:5},G(V,{data:{activeStoreId:o.id||"",displayName:e.deviceName,skuId:e.skuId,skuBillCode:e.billCode,updateStore:function(t,a,n){var o={};o.mystore_name=t.mystore_name,o.address1=t.address1,o.address2=t.address2,o.postal=t.postal,o.city=t.city,o.region=t.region,o.id=t.id,o.isAvailable=!0,o.service=t.service,N=o.service.indexOf(231)>-1,_(),s(o);var i=parseInt(Object(C.U)(e.commonCmsContent,"bopisMarketingSequence",O.d.deliveryOptions.bopis.marketingSequence)),r=N?Object(C.U)(e.commonCmsContent,"bopisHeadingCurbsideAndInstore",O.d.deliveryOptions.bopis.headingCurbsideAndInstore):Object(C.U)(e.commonCmsContent,"bopisHeading",O.d.deliveryOptions.bopis.heading),c=N?Object(C.U)(e.commonCmsContent,"bopisSubheadingCurbsideAndInstore",O.d.deliveryOptions.bopis.subHeadingCurbsideAndInstore):Object(C.U)(e.commonCmsContent,"bopisSubheading",O.d.deliveryOptions.bopis.subHeading),l=Object(C.U)(e.commonCmsContent,"bopisLinkLabel",O.d.deliveryOptions.bopis.linkLabel);document.cookie="selectedstore=storeinvid=".concat(t.inv_id,"|selectedzip=").concat(t.postal,";path=/"),Object(C.rc)(E(t.postal));var d=f.map((function(t){return"C2S"===t.key?{marketingsequence:i,iconName:"shoppingcart-fast",key:"C2S",details:G(k,{linkLabel:l,subHeading:c,storeInformation:o,dataQa:e.dataQa,openModal:W}),title:r,reportingName:"STORE"}:t}));v(d),X(a,n),b.a.saveFavStoreLocalStorage(t),q()},zipCode:o.postal||"",ignoreFlow:e.ignoreFlowForBopis,commonCmsContent:e.commonCmsContent,isAccessory:e.isAccessory,deviceType:e.sku.deviceType,planCmsContent:e.planCmsContent}})),G(c.a,{id:"2825597131"},[".collapsed.jsx-2825597131{padding-bottom:14px;}","@media (min-width:768px){.border-top.jsx-2825597131{border-top:1px solid #DCDFE3;}}"]))}},"P7d+":function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return ue}));var n=a("vJKn"),o=a.n(n),i=a("rg98"),r=a("H+61"),s=a("UlJF"),c=a("+Css"),l=a("7LId"),d=a("VIvw"),p=a("iHvq"),u=a("cpVT"),m=a("MX0m"),f=a.n(m),h=a("q1tI"),g=a("2xA9"),b=a("RrNd"),C=a("Ftt6"),v=a("BX1O"),y=a("eI37"),k=a("xLlQ"),O=a("rk93"),S=a.n(O),x=a("ZnPn"),I=a.n(x),T=a("Ra6Z"),w=a("0wnb"),L=a("lIbG"),j=a("U/e8"),P=a("Da3r"),N=a("Vvt1"),D=a.n(N),M=a("cq7Z"),A=a("mOvS"),E=a.n(A),R=a("AGoX"),F=a("JNjH"),U=a("BTSr"),B=a("HW76"),H=a("mwIZ"),V=a.n(H),W=a("RBan"),z=a.n(W),G=a("MJIl"),Q=a.n(G),q=a("a9jo"),X=a.n(q),Z=a("ijCd"),K=a.n(Z),J=a("C3wX"),Y=a("0Yz8"),$=a("gNO3"),ee=a("Xugw"),te=a("J2m7"),ae=a.n(te),ne=a("zzUF"),oe=a("zd1r"),ie=a("LvDl"),re=a("BgAt"),se=h.createElement;function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(a),!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var pe=D()((function(){return Promise.resolve().then((function(){return a("zI6O")}))}),{loadableGenerated:{webpack:function(){return["zI6O"]},modules:["../src/pages/ProductDetailsUpAalPage/components/NextStepCta/NextStepCta.tsx -> ../../../../common/components/Tooltip"]}}),ue=function(t){Object(l.a)(n,t);var a=de(n);function n(t){var s;return Object(r.a)(this,n),s=a.call(this,t),Object(u.a)(Object(c.a)(s),"context",void 0),Object(u.a)(Object(c.a)(s),"reporting",void 0),Object(u.a)(Object(c.a)(s),"textContent",{dataConnectDeviceAddHeader:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.dataConnectDeviceAddHeader",P.d.nonCompatibleDeviceModal.dataConnectDeviceAddHeader),dataConnectConflictDescription:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.dataConnectConflictDescription",P.d.nonCompatibleDeviceModal.dataConnectConflictDescription),dataConnectKeepElseCTALabel:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.dataConnectKeepElseCTALabel",P.d.nonCompatibleDeviceModal.dataConnectKeepElseCTALabel),dataConnectKeepCTALabel:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.dataConnectKeepCTALabel",P.d.nonCompatibleDeviceModal.dataConnectKeepCTALabel),dataConnectConflictCode:P.d.nonCompatibleDeviceModal.dataConnectConflictCode}),Object(u.a)(Object(c.a)(s),"fnNonCompatibleModaltextContent",{Header:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.fnNonCompatibleModal.master.Header",P.d.fnNonCompatibleModal.Header),Description:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.fnNonCompatibleModal.master.Description",P.d.fnNonCompatibleModal.Description),CTALabel:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.fnNonCompatibleModal.master.CTALabel",P.d.fnNonCompatibleModal.CTALabel)}),Object(u.a)(Object(c.a)(s),"dataConnectPlanConflictTextContent",{dataConnectChangeCTALabel:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.dataConnectChangeCTALabel",P.d.nonCompatiblePlanModal.dataConnectChangeCTALabel),dataConnectCancelCTALabel:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.dataConnectCancelCTALabel",P.d.nonCompatiblePlanModal.dataConnectCancelCTALabel),dataConnectPlanConflictDesc:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.dataConnectPlanConflictDesc",P.d.nonCompatiblePlanModal.dataConnectPlanConflictDesc),dataConnectPlanConflictCode:P.d.nonCompatiblePlanModal.dataConnectPlanConflictCode}),Object(u.a)(Object(c.a)(s),"esimErrorModalTextContent",{header:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.eSimConflictModalHeader",P.d.esimConflictModal.header),description:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.eSimConflictModalDescription",P.d.esimConflictModal.description),elseCTALabel:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.eSimConflictModalElseCTALabel",P.d.esimConflictModal.elseCTALabel),keepCTALabel:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.eSimConflictModalKeepCTALabel",P.d.esimConflictModal.keepCTALabel),conflictCode:P.d.esimConflictModal.conflictCode}),Object(u.a)(Object(c.a)(s),"deviceLimitModalTextContent",{deviceLimitModalHeading:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.deviceLimitModalHeading",P.d.deviceLimitModal.deviceLimitModalHeading),deviceMultipleLimitModalText:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.deviceLimitModalText",P.d.deviceLimitModal.deviceMultipleLimitModalText),deviceSingleLimitModalText:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.deviceLimitModalText",P.d.deviceLimitModal.deviceSingleLimitModalText),deviceLimitModalRemove:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.deviceLimitModalRemove",P.d.deviceLimitModal.deviceLimitModalRemove),mixedDeviceMultipleLimitModalText:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.mixedDeviceLimitModalText",P.d.deviceLimitModal.mixedDeviceMultipleLimitModalText),sameDeviceMultipleLimitModalText:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.sameDeviceLimitModalText",P.d.deviceLimitModal.sameDeviceMultipleLimitModalText)}),Object(u.a)(Object(c.a)(s),"paymentTypeTextContext",{cartConflictLabelHeader:V()(s.props.modalsContent,"master.cartConflict.master.cartConflictLabelHeader",P.d.paymentTypes.conflictModal.cartConflictLabelHeader),type:"prepaid"===V()(s.props,"selectedSku.paymentType")?P.d.paymentTypes.conflictModal.cartConflictPrepaidService:P.d.paymentTypes.conflictModal.cartConflictPostpaidService,cartConflictPrimaryPrepaid1:V()(s.props.modalsContent,"master.cartConflict.master.cartConflictPrimaryPrepaid1",P.d.paymentTypes.conflictModal.cartConflictPrimaryPrepaid1),cartConflictPrimaryPrepaid2:V()(s.props.modalsContent,"master.cartConflict.master.cartConflictPrimaryPrepaid2",P.d.paymentTypes.conflictModal.cartConflictPrimaryPrepaid2),cartConflictPrimaryPostpaid1:V()(s.props.modalsContent,"master.cartConflict.master.cartConflictPrimaryPostpaid1",P.d.paymentTypes.conflictModal.cartConflictPrimaryPostpaid1),cartConflictPrimaryPostpaid2:V()(s.props.modalsContent,"master.cartConflict.master.cartConflictPrimaryPostpaid2",P.d.paymentTypes.conflictModal.cartConflictPrimaryPostpaid2),cartConflictPaymentTypeSubheader:V()(s.props.modalsContent,"master.cartConflict.master.cartConflictPaymentTypeSubheader",P.d.paymentTypes.conflictModal.cartConflictPaymentTypeSubheader)}),Object(u.a)(Object(c.a)(s),"wirelineConflictModalTextContent",{wirelineConfilctHeading:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.wirelineConfilctHeading",P.d.wirelineConfilctModal.wirelineConfilctHeading),wirelineConflictDescription:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.wirelineConflictDescription",P.d.wirelineConfilctModal.wirelineConflictDescription),wirelineConfilctStartOverLabel:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.wirelineConfilctStartOverLabel",P.d.wirelineConfilctModal.wirelineConfilctStartOverLabel),wirelineConfilctContinueCTALabel:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.wirelineConfilctContinueCTALabel",P.d.wirelineConfilctModal.wirelineConfilctContinueCTALabel)}),Object(u.a)(Object(c.a)(s),"maxLinesLimitModalTextContent",{maxLinesLimitModalHeader:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimitModal.master.maxLinesLimitModalHeader",P.d.maxLinesLimitModal.maxLinesLimitModalTooManyPhonesHeader),maxLinesLimitModalDescription:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimitModal.master.maxLinesLimitModalDescription",P.d.maxLinesLimitModal.maxLinesLimitModalMaxNumPhonesInGroup),maxLinesLimitModalCartCTALabel:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimitModal.master.maxLinesLimitModalCartCTALabel",P.d.maxLinesLimitModal.maxLinesLimitModalCartCTALabel),maxLinesLimitModalShopOtherDevicesCTALabel:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimitModal.master.maxLinesLimitModalShopOtherDevicesCTALabel",P.d.maxLinesLimitModal.maxLinesLimitModalShopOtherDevicesCTALabel),maxLinesLimitModalConflictCode:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimitModal.master.maxLinesLimitModalConflictCode",P.d.maxLinesLimitModal.maxLinesLimitModalConflictCode),maxLinesLimitModalTooManyPhonesHeader:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimitModal.master.maxLinesLimitModalTooManyPhonesHeader",P.d.maxLinesLimitModal.maxLinesLimitModalTooManyPhonesHeader),maxLinesLimitModalTooManyHeader:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimitModal.master.maxLinesLimitModalTooManyHeader",P.d.maxLinesLimitModal.maxLinesLimitModalTooManyHeader),maxLinesLimitModalCreateGroupHeader:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimitModal.master.maxLinesLimitModalCreateGroupHeader",P.d.maxLinesLimitModal.maxLinesLimitModalCreateGroupHeader),maxLinesLimitModalMaxNumPhonesInGroup:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimitModal.master.maxLinesLimitModalMaxNumPhonesInGroup",P.d.maxLinesLimitModal.maxLinesLimitModalMaxNumPhonesInGroup),maxLinesLimitModalAlreadyNumPhonesInGroup:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimitModal.master.maxLinesLimitModalAlreadyNumPhonesInGroup",P.d.maxLinesLimitModal.maxLinesLimitModalAlreadyNumPhonesInGroup),maxLinesLimitModalMaxNumDevicesInOrder:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimitModal.master.maxLinesLimitModalMaxNumDevicesInOrder",P.d.maxLinesLimitModal.maxLinesLimitModalMaxNumDevicesInOrder),maxLinesLimitModalMaxNumDevicesInGroup:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimitModal.master.maxLinesLimitModalMaxNumDevicesInGroup",P.d.maxLinesLimitModal.maxLinesLimitModalMaxNumDevicesInGroup),maxLinesLimitModalCreateNewPlanGroupCTALabel:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimitModal.master.maxLinesLimitModalCreateNewPlanGroupCTALabel",P.d.maxLinesLimitModal.maxLinesLimitModalCreateNewPlanGroupCTALabel)}),Object(u.a)(Object(c.a)(s),"maxLineNextUpModalContent",{maxLineNextUpHeader:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.maxLineNextUpConflictModalHeader",P.d.upgradeMaxLineNextUpConflictModal.maxLineNextUpHeader),maxLineNextUpDescription:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.maxLineNextUpConflictModalDescription",P.d.upgradeMaxLineNextUpConflictModal.maxLineNextUpDescription),maxLineNextUpCTALabel:V()(s.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.maxLineNextUpConflictModalCTALabel",P.d.upgradeMaxLineNextUpConflictModal.maxLineNextUpCTALabel)}),Object(u.a)(Object(c.a)(s),"handleWindowSizeChange",(function(){s.setState({width:window.innerWidth})})),Object(u.a)(Object(c.a)(s),"checkForPlanConstruct",function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.items,(n=Object.keys(a))&&n.length>0&&n.map((function(e){var t=V()(a,e),n=(V()(t,"_itemExtraAttributes.isLLP"),V()(t,"_itemExtraAttributes.isUnlimitedSharedDataGroup"));"true"===V()(t,"_itemExtraAttributes.dataConnectSharedPlan")&&s.setState({firstLineIsDataConnectSharedPlan:!0}),"true"===n&&s.setState({firstLineIsUYW:!0}),"4GBSTSDG"!==t.billingCode&&"LLGMS4GBB"!==t.billingCode||s.setState({firstLineIs4GB:!0})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(u.a)(Object(c.a)(s),"getPriceText",(function(){var e="",t=Object(j.j)(s.context.selectedContractTerm,s.context,!0);if(t&&t.displayPrice&&"FREE"!==t.displayPrice){var a=t.displayPrefix||"",n=t.displayPrice||"",o=t.displaySuffix||"";e=" (".concat(a).concat(n).concat(o,")")}return e})),Object(u.a)(Object(c.a)(s),"getButtonText",(function(){var e,t;return s.props.selectedSku.effectiveOutOfStock&&s.props.colorCapacitySelectionStatus?V()(s.props.priceBarCmsContent,"outOfStockCTAText",P.d.priceBar.outOfStockCTAText):s.props.selectedSku.isComingSoon||null!==(e=s.props)&&void 0!==e&&null!==(t=e.selectedSku)&&void 0!==t&&t.isPrePreOrder&&Object(j.Tb)()?V()(s.props.priceBarCmsContent,"comingSoonCTAText",P.d.priceBar.comingSoonCTAText):s.props.selectedSku.preOrderable?V()(s.props.priceBarCmsContent,"preOrderCTAText",P.d.priceBar.preOrderCTAText):s.isIdpEditAction()?"Update cart":s.shouldAddToCart()?"Add to Cart":"UP"===s.props.profileInfo.flowIndicator&&s.props.profileInfo.wirelessAuthenticated&&window.location.href.indexOf("phones/planchange/")>0?V()(s.props.priceBarCmsContent,"continueCTAText",P.d.priceBar.continueCTAText):"UP"===s.props.profileInfo.flowIndicator&&s.props.profileInfo.wirelessAuthenticated?"Upgrade":V()(s.props.priceBarCmsContent,"continueCTAText",P.d.priceBar.continueCTAText)})),Object(u.a)(Object(c.a)(s),"openPaymentTypeConflictModal",(function(){s.setState({showPaymentTypeConflictModal:!0})})),Object(u.a)(Object(c.a)(s),"closePaymentTypeConflictModal",(function(){s.setState({showPaymentTypeConflictModal:!1})})),Object(u.a)(Object(c.a)(s),"redirectToUpgradeComponent",(function(){s.props.cartDetails.editLosgId||s.props.cartDetails.customerIntent!==ee.losgType.Upgrade||(s.setContractTermSessionStorage(s.context.selectedContractTerm.name,s.props.selectedSku),window.location.href="/buy/postpaid/?wlsfi=up&sku="+s.props.selectedSku.skuId)})),Object(u.a)(Object(c.a)(s),"closeAddToCartErrorModal",(function(){s.setState({addToCartModalVisible:!1},(function(){s.redirectToUpgradeComponent()}))})),Object(u.a)(Object(c.a)(s),"openAddToCartErrorModal",(function(){s.setState({addToCartModalVisible:!0},(function(){s.IntentModalVisibility()}))})),Object(u.a)(Object(c.a)(s),"closeAccessoryRedirectModal",(function(){Object(j.Ac)(),s.setState({accessoryModalVisible:!1})})),Object(u.a)(Object(c.a)(s),"openAccessoryRedirectModal",(function(){s.setState({accessoryModalVisible:!0})})),Object(u.a)(Object(c.a)(s),"openEsimConflictModal",(function(){s.setState({showEsimConflictModal:!0}),setTimeout((function(){var e={url:"/buy/multisimerror/modal","page.pageInfo.friendlyPageName":"DS BYOD Multi SIM Error Modal Pg","page.pageInfo.flowCode":Object(J.b)(s.props.profileInfo.flowIndicator,s.props.profileInfo.subFlowType,s.props.selectedSku.paymentType,!0)};s.reporting.firePageLoadEvent(e)}),1e3)})),Object(u.a)(Object(c.a)(s),"cancelEsimConflictModal",(function(){var e,t,a={linkDestinationUrl:"/buy/".concat(s.props.deviceType,"/").concat(null!==(e=location)&&void 0!==e&&null!==(t=e.href)&&void 0!==t&&t.includes("config")?"config":"details"),linkName:"X - click",linkPosition:"Multi sim error modal"};s.reporting.fireLinkClickEvent(a),s.closeEsimConflictModal()})),Object(u.a)(Object(c.a)(s),"closeEsimConflictModal",(function(){s.setState({showEsimConflictModal:!1}),s.props.pageLoadEvent(void 0,s.context)})),Object(u.a)(Object(c.a)(s),"esimRemoveCurrentDevice",(function(){var e=s.esimErrorModalTextContent,t={linkDestinationUrl:"/buy/cart",linkName:"".concat(e.elseCTALabel," - click"),linkPosition:"Multi sim error modal"};s.reporting.fireLinkClickEvent(t),s.closeEsimConflictModal(),s.removeCurrentDevice()})),Object(u.a)(Object(c.a)(s),"esimRemoveAllOtherItems",Object(i.a)(o.a.mark((function e(){var t,a,n,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ee.initializeCart)();case 2:n="/buy/".concat(s.props.deviceType,"/").concat(null!==(t=location)&&void 0!==t&&null!==(a=t.href)&&void 0!==a&&a.includes("config")?"config":"details"),i=s.esimErrorModalTextContent,r={linkDestinationUrl:n,linkName:"".concat(i.keepCTALabel," - click"),linkPosition:"Multi sim error modal"},s.reporting.fireLinkClickEvent(r),s.closeEsimConflictModal(),s.addToCartAndRedirect();case 8:case"end":return e.stop()}}),e)})))),Object(u.a)(Object(c.a)(s),"EsimConflictModal",(function(){var e=s.esimErrorModalTextContent;return se(R.default,{isOpen:s.state.showEsimConflictModal,onRequestClose:s.cancelEsimConflictModal,width:6,modalCloseClassName:"close-button mar-t-sm-all mar-r-sm-all"},se(h.Fragment,null,se("h1",{className:"heading-md mar-b-xxs ".concat(g.headerText)},e.header),se("div",{className:"font-regular type-sm ".concat(g.modalSubText)},Object(j.gc)(e.description,{deviceName:s.props.selectedSku.shortDisplayName}),se("button",{type:"button",style:{height:"auto"},className:"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(g.nonCompatibleDeviceButton),onClick:s.esimRemoveCurrentDevice},se("div",{className:"type-sm font-regular ".concat(g.btnText)},e.elseCTALabel)),se("button",{type:"button",style:{height:"auto"},className:"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(g.nonCompatibleDeviceButton," ").concat(g.btnMargin),onClick:s.esimRemoveAllOtherItems},se("div",{className:"type-sm font-regular ".concat(g.btnText)},Object(j.gc)(e.keepCTALabel,{deviceName:s.props.selectedSku.shortDisplayName}))))))})),Object(u.a)(Object(c.a)(s),"openNonCompatibleDeviceModal",(function(){s.setState({showNonCompatibleDeviceModal:!0})})),Object(u.a)(Object(c.a)(s),"closeNonCompatibleDeviceModal",(function(){s.props.cartDetails.priceConfigContext.setConflictActionType(""),s.setState({showNonCompatibleDeviceModal:!1})})),Object(u.a)(Object(c.a)(s),"closeFNNonCompatibleDeviceModal",(function(){s.setState({showFNNonCompatibleDeviceModal:!1})})),Object(u.a)(Object(c.a)(s),"openNonCompatiblePlanModal",(function(){s.setState({showNonCompatiblePlanModal:!0})})),Object(u.a)(Object(c.a)(s),"closeNonCompatiblePlanModal",(function(){s.props.cartDetails.priceConfigContext.setConflictActionType(""),s.setState({showNonCompatiblePlanModal:!1})})),Object(u.a)(Object(c.a)(s),"openWirelineConfilctModal",(function(){s.setState({showWirelineConfilctModal:!0})})),Object(u.a)(Object(c.a)(s),"closeWirelineConfilctModal",(function(){s.setState({showWirelineConfilctModal:!1})})),Object(u.a)(Object(c.a)(s),"openDeviceLimitModal",(function(){s.setState({showDeviceLimitModal:!0})})),Object(u.a)(Object(c.a)(s),"closeDeviceLimitModal",(function(){s.setState({showDeviceLimitModal:!1})})),Object(u.a)(Object(c.a)(s),"closeMaxLineNextUpModal",(function(){s.setState({showMaxLineNextUpModal:!1})})),Object(u.a)(Object(c.a)(s),"redirectToLineSelection",(function(){var e="".concat(b.b.autheticatedRedirection.lineSelection);s.setState({showMaxLineNextUpModal:!1}),window.location.href=e})),Object(u.a)(Object(c.a)(s),"removeTheExtra",(function(){s.closeDeviceLimitModal(),s.redirectToCartPage()})),Object(u.a)(Object(c.a)(s),"removeCurrentDevice",(function(){s.fireLinkClick(s.textContent.dataConnectKeepElseCTALabel,"/buy/cart"),s.setState({showNonCompatibleDeviceModal:!1,showNonCompatiblePlanModal:!1}),window.location.href="/buy/cart"})),Object(u.a)(Object(c.a)(s),"removeAllOtherItems",(function(){s.fireLinkClick(s.textContent.dataConnectKeepCTALabel,window.location.href),s.setState({showNonCompatibleDeviceModal:!1}),sessionStorage.setItem("cartConflictFound","true"),s.addToCartAndRedirect()})),Object(u.a)(Object(c.a)(s),"wirelineRemoveCurrentDevice",(function(){s.setState({showWirelineConfilctModal:!1}),s.redirectToBundlePage()})),Object(u.a)(Object(c.a)(s),"redirectToListPage",(function(){window.location.href="/buy/accessories"})),Object(u.a)(Object(c.a)(s),"redirectToBundlePage",(function(){window.location.href="/buy/bundles/"})),Object(u.a)(Object(c.a)(s),"wirelineRemoveAllOtherItems",(function(e){return function(t){var a=b.b.deleteWirelineCart,n=e.lobListFound,o=[];for(var i in n)o.push(a+n[i]);$.a.removeAllOtherLobCarts(o),s.props.isAccessory?C.a.addItemsToCart(s.props.selectedSku.skuId,s.props.selectedSku.productId,s.props.quantity).then((function(e){var t=C.a.checkATCSuccess(e);s.setState({addToCartSuccess:t,showWirelineConfilctModal:!1}),s.props.events.handleSubmitReporting("/accessories/keepshopping/modal","Add to Cart",s.context,t?1:-1),s.openAccessoryRedirectModal()})):s.addToCartAndRedirect()}})),Object(u.a)(Object(c.a)(s),"redirectToCart",Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.state.paymentTypeConflict?window.location.href="/buy/cart?retrieveCart=true&expandedview=true":s.props.isIdpAccessoryRedirectOn&&"CRU"!==s.props.profileInfo.customerType?window.location.href="".concat(b.b.productDetailsUrls.idseUrl).concat(s.props.selectedSku.skuId):"CRU"===s.props.profileInfo.customerType?window.location.href="/cart/mycart.html":((t=JSON.parse(sessionStorage.getItem("userIntent")))||(t=j.e),t&&t.payload&&!0===t.payload.showIntentModal&&t.payload.userIntent.length>0?(s.closeAccessoryRedirectModal(),s.setState({intentsToShow:t.payload.userIntent,intentModalVisible:!0,showNewCustomerLink:t.payload.showNewCustomerLink})):!1===s.props.profileInfo.wirelessAuthenticated&&"authenticated"===s.props.profileInfo.customerState?(sessionStorage.setItem("userIntent",JSON.stringify(j.Db)),j.Db.response.redirectURL&&(window.location.href=j.Db.response.redirectURL)):window.location.href="/cart/mycart.html"),s.fireLinkClick("Check out","/cart/mycart.html");case 2:case"end":return e.stop()}}),e)})))),Object(u.a)(Object(c.a)(s),"fireReportingAndCloseModal",(function(){s.fireLinkClick("CloseKeepShoppingModal","/buy/accessories/details"),s.closeAccessoryRedirectModal(),s.props.pageLoadEvent(s.state.addToCartSuccess?"DSACC":null,s.context)})),Object(u.a)(Object(c.a)(s),"keepShopping",(function(){s.fireLinkClick("Keep Shopping","/buy/accessories/details"),s.closeAccessoryRedirectModal(),window.location.href="/buy/accessories"})),Object(u.a)(Object(c.a)(s),"keepShoppingPageLoadEvent",(function(){var e={"page.location.url":"/accessories/keepshopping/modal","page.pageInfo.friendlyPageName":"DS Accessories Keep Shopping Modal Pg","page.pageInfo.flowCode":s.state.addToCartSuccess?"DSACC":"DSUP"};s.reporting.firePageLoadEvent(e)})),Object(u.a)(Object(c.a)(s),"fireLinkClick",(function(e,t){var a={linkName:e,linkPosition:"Body",linkDestinationUrl:t};s.reporting.fireLinkClickEvent(a)})),Object(u.a)(Object(c.a)(s),"isSelectedCTNFNLineInWlsData",(function(e,t){if(e&&e.upgradeOptions&&e.upgradeOptions.upgradeEligibilityInfo&&e.upgradeOptions.upgradeEligibilityInfo.subscribers&&e.upgradeOptions.upgradeEligibilityInfo.subscribers.length>0)return void 0!==e.upgradeOptions.upgradeEligibilityInfo.subscribers.find((function(e){return t===e.subscriberNumber&&!0===e.isFirstNetLine}))})),Object(u.a)(Object(c.a)(s),"addToCartAndRedirect",Object(i.a)(o.a.mark((function t(){var a,n,i,r,c,l,d,p,u,m,f,h,g,b,C,v,y,k,O,S,x,I,T,w,L,P,N;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(j.Dc)("GET"),n=a&&V()(a,"wsceData",void 0),i=!1,!s.props.cartDetails.customerIntent||s.props.cartDetails.customerIntent.toUpperCase()!==ee.losgType.Upgrade){t.next=26;break}if((r=n&&n.selectedCTNforUpgrade)&&""!==r&&(i=s.isSelectedCTNFNLineInWlsData(a,r)),c=n&&V()(n,"nextUpSelection.selectedOption","REGULAR"),!s.props.cartDetails||!s.props.cartDetails.editLosgId){t.next=21;break}if(l=s.props.cartDetails.getItemByLosgId(s.props.cartDetails.editLosgId),d=l&&l.items&&ae()(l.items,{itemType:c}),p=d&&d.itemType?d.itemType:"REGULAR",(l&&l.extraParams&&l.extraParams.associatedCtn)===r&&p===c){t.next=19;break}return t.next=15,s.props.cartDetails.upgradeSelectionToCartService(r,c);case 15:if(t.sent){t.next=19;break}return s.setState({cartLoader:!1,buttonDisabled:!1}),t.abrupt("return",!1);case 19:t.next=26;break;case 21:return t.next=23,s.props.cartDetails.upgradeSelectionToCartService(r,c);case 23:if(t.sent){t.next=26;break}return t.abrupt("return",!1);case 26:if(!s.props.cartDetails||!s.props.cartDetails.editLosgId){t.next=32;break}if(u=s.props.cartDetails.getItemByLosgId(s.props.cartDetails.editLosgId),!(m=u&&u.items&&ae()(u.items,{itemType:"device"}))||!m.productSKU||s.props.selectedSku.skuId!==m.productSKU){t.next=32;break}return s.props.events.redirectToConfigView(),t.abrupt("return",!0);case 32:return i&&(f=!!(e&&localStorage&&localStorage.getItem("fnIntend")),h=null===a||void 0===a||null===(g=a.wirelessResponse)||void 0===g?void 0:g.isFirstNet),t.next=35,s.props.cartDetails.addDeviceToCart(s.props.selectedSku,void 0,void 0,void 0,f,h);case 35:if(b=t.sent,C=s.props.cartDetails.getItemByLosgId(s.props.cartDetails.editLosgId),v=V()(b,"content.payload.conflictingCartDetails",void 0),y=V()(b,"error.errorId",void 0),!v){t.next=81;break}if(k=s.maxLinesLimitModalTextContent.maxLinesLimitModalConflictCode,"WIRELESS"!==v.currentRequestLob||v.conflictCode!==k){t.next=51;break}return s.props.cartDetails.setChangePlanDevice(oe.b.Max_Phones),s.props.cartDetails.priceConfigContext.setLineConflict(!0),O=v.deviceLineLimits,S=O&&O.find((function(e){return"PHONE"===e.groupType})),s.setState({maxPhoneLimit:S&&S.groupLineLimit}),s.conflictModalPageLoad("DS Postpaid Maximum Lines Warning Modal Pg","/buy/postpaid/conflict/modal"),t.abrupt("return");case 51:if("WIRELESS"!==v.currentRequestLob||"WIRELESS_CART_CONFLICT_MAX_LINE_LIMIT_REMOVE_LINE"!==v.conflictCode){t.next=58;break}return s.props.cartDetails.setChangePlanDevice(oe.b.Max_Lines),s.props.cartDetails.priceConfigContext.setLineConflict(!0),s.conflictModalPageLoad("DS Postpaid Maximum Lines & Create new Modal Warning Modal Pg"),t.abrupt("return");case 58:if("WIRELESS"!==v.currentRequestLob||"WLS_CART_CONFLICT_MULTI_NEXTUP_REMOVE"!==v.conflictCode){t.next=62;break}s.setState({buttonDisabled:!1,cartLoader:!1,showMaxLineNextUpModal:!0}),t.next=79;break;case 62:if(v.conflictCode!==s.textContent.dataConnectConflictCode){t.next=69;break}return s.props.cartDetails.priceConfigContext.setConflictActionType("CLEAR_CONFLICT_CART"),s.setState({buttonDisabled:!1,cartLoader:!1,showNonCompatibleDeviceModal:!0}),s.conflictModalPageLoad("DS Postpaid Replace Cart Modal Pg","/buy/postpaid/replacecart/modal"),t.abrupt("return");case 69:if(v.conflictCode!==s.dataConnectPlanConflictTextContent.dataConnectPlanConflictCode){t.next=75;break}return s.props.cartDetails.priceConfigContext.setConflictActionType("REMOVE_CONFLICT_PLANS"),s.setState({buttonDisabled:!1,cartLoader:!1,showNonCompatiblePlanModal:!0}),t.abrupt("return");case 75:if(!v||v.conflictCode!==s.esimErrorModalTextContent.conflictCode){t.next=79;break}return s.props.cartDetails.priceConfigContext.setConflictActionType("CLEAR_CONFLICT_CART"),s.openEsimConflictModal(),t.abrupt("return");case 79:t.next=88;break;case 81:if(y!==re.v.code){t.next=86;break}return s.setState({cartLoader:!1,showFNNonCompatibleDeviceModal:!0}),t.abrupt("return");case 86:s.props.cartDetails.priceConfigContext.setLineConflict(!1),s.props.cartDetails.priceConfigContext.setConflictActionType("");case 88:if(x=s.props.configViewPath,s.props.cartDetails.customerIntent===ee.losgType.Al&&(w=null===a||void 0===a||null===(I=a.wsceData)||void 0===I?void 0:I.accountType,L=null===a||void 0===a||null===(T=a.wsceData)||void 0===T?void 0:T.eligibleForNewPlan,w===oe.f.MNM||w===oe.f.LLP||L?x=s.props.planConfigViewPath:"simcard"===s.props.deviceSubType&&(x="/buy/cart")),P=Object(j.Dc)("GET"),N=!Object(ie.isEmpty)(P)&&P.wsceData&&P.wsceData.wlsfi,s.props.events.handleSubmitReporting(x,s.getButtonText(),s.context,b?1:-1,N.toUpperCase()===ee.losgType.Upgrade?Object(J.b)(ee.losgType.Upgrade,null,null,null,null===C||void 0===C?void 0:C.losgType):Object(J.b)(ee.losgType.Al),!0),!b){t.next=100;break}return s.setState({shouldNotSetSelectedDeviceConfig:!0}),sessionStorage.removeItem("selectedDeviceConfig"),s.props.events.redirectToConfigView(),t.abrupt("return",!0);case 100:return s.setState({atcFired:0,cartLoader:!1},(function(){s.openAddToCartErrorModal()})),t.abrupt("return",!1);case 102:case"end":return t.stop()}}),t)})))),Object(u.a)(Object(c.a)(s),"renderAccessoryRedirectModalHeader",(function(){return s.state.addToCartSuccess?se("div",{className:g.addToCartModalAbove},se(k.a,{icon:S.a,size:"24px",style:{fill:"#008917"}}),se("span",{className:g.addToCartModalTextSuccess},se("h3",{className:"heading-md"},"You added ".concat(s.props.selectedSku.shortDisplayName," to your cart!")),se("p",null,"What would you like to do next?"))):se("div",{className:g.addToCartModalAbove},se("span",{className:"".concat(g.addToCartModalTextError," mar-b-xxs")},se("h3",null,"We've encountered an error adding\n                                ".concat(s.props.selectedSku.displayName||s.props.selectedSku.shortDisplayName,"\n                            to the cart, please try again"))))})),Object(u.a)(Object(c.a)(s),"renderAddToCartErrorModalHeader",(function(){return se(U.a.Consumer,null,(function(e){return se("div",{className:g.addToCartModalAbove},se("span",{className:"".concat(g.addToCartModalTextError," mar-b-xxs")},se("h3",null,e.errorModalHeaderContent?e.errorModalHeaderContent:"Oops, something went wrong! Please try adding that item to your cart again.")))}))})),Object(u.a)(Object(c.a)(s),"createAccessoryRedirectModalContent",(function(){return s.state.addToCartSuccess?se(h.Fragment,null,se("div",{className:g.intentSpace},se("hr",{className:g.modalDivider}),se("div",{className:g.addToCartModalButtonsContainer},se(v.a,{events:{onClick:s.keepShopping},buttonConfig:{disabled:!1,type:[y.b.GhostWhite]},className:"btn-small btn-full-width ".concat(g.intentButton)},"Keep shopping"),se(v.a,{events:{onClick:function(){return s.redirectToCart()}},buttonConfig:{disabled:!1,type:[y.b.GhostWhite]},className:"btn-small btn-full-width ".concat(g.intentButton)},"Go to cart")))):se(h.Fragment,null,se("div",{className:g.intentSpace},se("hr",{className:g.modalDivider}),se("div",{className:g.addToCartModalButtonsContainer},se(v.a,{events:{onClick:s.closeAccessoryRedirectModal},buttonConfig:{disabled:!1,type:[y.b.GhostWhite]},className:"btn-small btn-full-width ".concat(g.intentButton)},"Close"))))})),Object(u.a)(Object(c.a)(s),"createAddToCartErrorModalContent",(function(e){return se(h.Fragment,null,se("div",{className:g.intentSpace},se("hr",{className:g.modalDivider}),se("div",{className:g.addToCartModalButtonsContainer},se(v.a,{events:{onClick:e},buttonConfig:{disabled:!1,type:[y.b.GhostWhite]},className:"btn-small btn-full-width ".concat(g.intentButton)},"Close"))))})),Object(u.a)(Object(c.a)(s),"clearSessionStorageItems",(function(){sessionStorage.getItem("offerId")&&sessionStorage.removeItem("offerId"),sessionStorage.getItem("offerBOGOid")&&sessionStorage.removeItem("offerBOGOid"),sessionStorage.getItem("myFavstoreCurrentSku")&&sessionStorage.removeItem("myFavstoreCurrentSku")})),Object(u.a)(Object(c.a)(s),"setContractTermSessionStorage",(function(e,t){var a={};void 0!==s.context.isTradeInSelected&&(a.hylaTradeInIntentIndicator=s.context.isTradeInSelected),void 0!==s.context.isPortInSelected&&(a.portinIndicator=s.context.isPortInSelected),void 0!==s.context.isTradeInSelected&&void 0!==s.context.hylaOfferCodeInContext&&"DEFAULT"!==s.context.hylaOfferCodeInContext&&(a.shoppingContext={offerCode:s.context.hylaOfferCodeInContext});var n=t&&t.deviceSubType&&t.paymentType&&"postpaid"===t.paymentType&&"simcard"===t.deviceSubType?{extraData:{deviceTypeForByod:t.deviceType}}:{},o=le(le({},a),{},{commitmentTerm:Object(j.Zb)(e),sku:t},n);sessionStorage.setItem("selectedDeviceConfig",JSON.stringify(o))})),Object(u.a)(Object(c.a)(s),"planFirstBreakIntent",function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("phones"===(a=Object(j.M)(s.props.selectedSku.deviceType,s.props.selectedSku.deviceSubType,s.props.selectedSku.paymentType))||a===P.d.CONNECTED_DEVICES_AND_MORE||!t.isPartiallyCompleteLosgLines){e.next=6;break}return s.setState({showPlanFirstBreakIntentModal:!0}),e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(u.a)(Object(c.a)(s),"ctaClick",function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n,i,r,c,l,d,p,u,m,f,h,g,b,v,y,k,O,S,x,I,w;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.props.configViewPath.includes("choosenewplan")){e.next=3;break}return s.props.events.redirectToConfigView(),e.abrupt("return");case 3:if(s.state.buttonDisabled||s.setState({buttonDisabled:!0}),!t.wirelineLobsFound){e.next=7;break}return s.setState({showWirelineConfilctModal:!0}),e.abrupt("return");case 7:if(!s.state.paymentTypeConflict){e.next=9;break}return e.abrupt("return");case 9:if(a="prepaid"===s.props.selectedSku.paymentType&&T.prepaidRedirect.enabled,s.paymentTypeConflictRedirection(t,a)){e.next=13;break}return e.abrupt("return");case 13:if(n=new CustomEvent(P.b.INTENT_CONTINUE),window.dispatchEvent(n),i=T.IntentModalPDP&&window.location.href.includes("intent=NEW"),r="true"===Object(j.bb)()["pdp-plan-view-redirect"],c="true"===Object(j.bb)()["pdp-data-connect-llp"],!s.isIdpEditAction()){e.next=30;break}return l={losgId:s.props.idpAccessoryDetails.losgsId,itemId:s.props.idpAccessoryDetails.id,offerId:s.props.selectedSku.productId,productSKU:s.props.selectedSku.skuId,quantity:s.props.quantity},e.next=22,C.a.modifyIdpCart(l,a);case 22:return d=e.sent,p=C.a.checkATCIdpSuccess(d),s.setState({addToCartSuccess:p}),s.props.events.handleSubmitReporting("/accessories/keepshopping/modal","Update Cart",s.context,p?1:-1),s.openAccessoryRedirectModal(),e.abrupt("return");case 30:if(!s.props.isAccessory||!s.props.isIdpAccessoryRedirectOn||"CRU"===s.props.profileInfo.customerType){e.next=42;break}return u={offerId:s.props.selectedSku.productId,productSKU:s.props.selectedSku.skuId,quantity:s.props.quantity},e.next=34,C.a.addToIdpCart(u,a);case 34:return m=e.sent,f=C.a.checkATCIdpSuccess(m),s.setState({addToCartSuccess:f}),s.props.events.handleSubmitReporting("/accessories/keepshopping/modal","Add to Cart",s.context,f?1:-1),s.openAccessoryRedirectModal(),e.abrupt("return");case 42:if(!s.props.isAccessory){e.next=53;break}return e.next=45,C.a.addItemsToCart(s.props.selectedSku.skuId,s.props.selectedSku.productId,s.props.quantity);case 45:return h=e.sent,g=C.a.checkATCSuccess(h),s.setState({addToCartSuccess:g}),s.props.events.handleSubmitReporting("/accessories/keepshopping/modal","Add to Cart",s.context,g?1:-1),s.openAccessoryRedirectModal(),e.abrupt("return");case 53:if("simcard"!==s.props.deviceSubType){e.next=61;break}if(!s.props.selectedSku.deviceType||s.props.selectedSku.deviceType.toUpperCase()!==P.d.simDeviceTypes.Wearable){e.next=59;break}return b="/buy/wireless/byod/",s.fireLinkClick(s.getButtonText(),b),window.location.href=b,e.abrupt("return");case 59:e.next=79;break;case 61:if(!a){e.next=79;break}if("true"!==Object(j.bb)()["pdp-prepaid"]||!r||V()(t,"isPlanFirstMode")){e.next=76;break}if(!c){e.next=70;break}return e.next=66,s.displayConflictModal(t);case 66:!e.sent&&s.props.configViewPath&&(s.state.atcFired||s.setState({atcFired:s.state.atcFired+1},(function(){s.addToCartAndRedirect()}))),e.next=74;break;case 70:return e.next=72,s.conflictRedirection(t);case 72:e.sent&&s.props.configViewPath&&(s.state.atcFired||s.setState({atcFired:s.state.atcFired+1},(function(){s.addToCartAndRedirect()})));case 74:e.next=78;break;case 76:s.setContractTermSessionStorage(V()(s.context,"selectedContractTerm.name"),s.props.selectedSku),s.fireReportingAndNavigate("/buy/wireless/prepaid/?wlsview=devicesfirst&sku=".concat(V()(s.props,"selectedSku.skuId")),s.getButtonText(),-2);case 78:return e.abrupt("return");case 79:if(v=s.getUrlMap(),T.contractTermsPDP.enabled&&localStorage.removeItem("termPrevSelectedByUser"),!r||a||!i){e.next=95;break}if(!c){e.next=89;break}return e.next=85,s.displayConflictModal(t);case 85:e.sent||s.addToCartAndRedirect(),e.next=93;break;case 89:return e.next=91,s.conflictRedirection(t);case 91:e.sent&&s.addToCartAndRedirect();case 93:e.next=133;break;case 95:if(!T.IntentModalPDP||!window.location.href.includes("intent=NEW")){e.next=103;break}return e.next=98,s.conflictRedirection(t);case 98:return e.sent&&(window.location.href="CRU"===s.props.profileInfo.customerType?v.deviceConfigUrl:v.idseUrl),e.abrupt("return");case 103:if(!T.IntentModalPDP){e.next=127;break}if(y=Object(j.Dc)("GET"),k=y&&y.wirelessResponseAl&&y.wirelessResponseAl.isFirstNet||y&&y.wirelessResponse&&y.wirelessResponse.isFirstNet,O=!1,S=!1,!c||k){e.next=112;break}return e.next=111,s.displayConflictModal(t);case 111:O=e.sent;case 112:if(O){e.next=116;break}return e.next=115,s.displayDeviceLimitModal(t);case 115:S=e.sent;case 116:return e.next=118,s.conflictRedirection(t);case 118:if(x=e.sent,I=!0,!t.isPlanFirstMode){e.next=124;break}return e.next=123,s.planFirstBreakIntent(t);case 123:I=e.sent;case 124:x&&I&&!O&&!S&&s.handleIntentModalDeviceCTA(t),e.next=133;break;case 127:return w="",T.IDSERedirect?(w=v.idseUrl,sessionStorage.setItem(P.d.intentModalContent.sessionStorageKey,'{"intent": "DSUP"}')):w=screen.width<767?v.termSelectUrl:v.deviceConfigUrl,e.next=131,s.conflictRedirection(t);case 131:e.sent&&(s.props.events.handleSubmitReporting(w,s.getButtonText(),s.context,0),s.clearSessionStorageItems(),s.setContractTermSessionStorage(s.context.selectedContractTerm.name,s.props.selectedSku),!s.props.profileInfo||!0!==s.props.profileInfo.wirelessAuthenticated||"CRU"!==s.props.profileInfo.customerType||!0!==s.props.profileInfo.exAlFlow||"AL"!==s.props.profileInfo.flowIndicator&&"ALF"!==s.props.profileInfo.flowIndicator?s.props.profileInfo&&!0===s.props.profileInfo.wirelessAuthenticated&&"CRU"===s.props.profileInfo.customerType&&!0===s.props.profileInfo.exUpFlow&&"UP"===s.props.profileInfo.flowIndicator?window.location.href=v.upgradeEligibilityUrl:window.location.href=w:window.location.href=v.deviceRecommenderUrl);case 133:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(u.a)(Object(c.a)(s),"emptyCart",function(){var t=Object(i.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e&&document&&a)){t.next=5;break}return sessionStorage&&sessionStorage.getItem("addAnotherDevice")&&sessionStorage.removeItem("addAnotherDevice"),t.next=4,a.clearCart();case 4:window.location.reload();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(u.a)(Object(c.a)(s),"redirectLegacy",(function(e){if(e.clearCart(),"true"===Object(j.bb)()["pdp-data-connect-llp"])s.fireLinkClick("Keep connected device","Config view"),s.props.events.redirectToConfigView();else{var t="".concat(b.b.productDetailsUrls.deviceConfigUrl).concat(s.props.selectedSku.skuId);s.fireLinkClick("Keep connected device",t),s.setState({showConflictModal:!1}),window.location.href=t}})),Object(u.a)(Object(c.a)(s),"planFirstBreakIntentCancel",(function(){var e="".concat(b.b.plpUrl);s.fireLinkClick("Cancel",e),s.setState({showConflictModal:!1}),window.location.href=e})),Object(u.a)(Object(c.a)(s),"redirectToPLP",(function(){var e="".concat(b.b.autheticatedRedirection.postPaidPhones);s.setState({showFNNonCompatibleDeviceModal:!1}),window.location.href=e})),Object(u.a)(Object(c.a)(s),"planFirstBreakIntentContinue",(function(){s.setState({showConflictModal:!1}),s.addToCartAndRedirect()})),Object(u.a)(Object(c.a)(s),"hideConflictModal",(function(){s.setState({showConflictModal:!1})})),Object(u.a)(Object(c.a)(s),"hidePlanFirstBreakIntentModal",(function(){s.setState({showPlanFirstBreakIntentModal:!1})})),Object(u.a)(Object(c.a)(s),"getDataConnectConflictDescription",(function(){var e=Object(u.a)({deviceName:s.props.selectedSku.shortDisplayName},"name-of-device",s.props.selectedSku.shortDisplayName);return Object(j.gc)(s.textContent.dataConnectConflictDescription,e)})),Object(u.a)(Object(c.a)(s),"getDataConnectPlanConflictDescription",(function(){var e=Object(u.a)({deviceName:s.props.selectedSku.shortDisplayName},"name-of-device",s.props.selectedSku.shortDisplayName);return Object(j.gc)(s.dataConnectPlanConflictTextContent.dataConnectPlanConflictDesc,e)})),Object(u.a)(Object(c.a)(s),"getDeviceLimitModalText",(function(){var e={limitDeviceName:s.state.deviceLimit+" "+s.props.selectedSku.shortDisplayName},t={limit:s.state.deviceLimit},a={limitDeviceSubTypeName:s.state.deviceLimit+" "+s.state.dataConnectedDeviceName};return s.state.deviceLimit>1&&s.state.dataConnectedDeviceName?Object(j.gc)(s.deviceLimitModalTextContent.sameDeviceMultipleLimitModalText,a):s.state.deviceLimit>1?s.state.isMixedCount?Object(j.gc)(s.deviceLimitModalTextContent.mixedDeviceMultipleLimitModalText,t):Object(j.gc)(s.deviceLimitModalTextContent.deviceMultipleLimitModalText,e):Object(j.gc)(s.deviceLimitModalTextContent.deviceSingleLimitModalText,e)})),s.state={width:0,accessoryModalVisible:!1,addToCartSuccess:!1,buttonDisabled:!1,intentModalVisible:!1,intentsToShow:[],showNewCustomerLink:!1,addToCartModalVisible:!1,userIntentApiResponse:{payload:{},response:{}},showConflictModal:!1,showNonCompatibleDeviceModal:!1,showFNNonCompatibleDeviceModal:!1,showNonCompatiblePlanModal:!1,showDeviceLimitModal:!1,showMaxLineNextUpModal:!1,showPaymentTypeConflictModal:!1,paymentTypeConflict:!1,showPlanFirstBreakIntentModal:!1,shouldNotSetSelectedDeviceConfig:!1,firstDeviceDataConnect:!1,firstLineIs4GB:!1,firstLineIsUYW:!1,firstLineIsDataConnectSharedPlan:!1,atcFired:0,cartRedirect:!1,emptyCart:!1,deviceLimit:0,showWirelineConfilctModal:!1,isMixedCount:!1,dataConnectedDeviceName:"",cartLoader:!1,disableForFirstTimeUser:!1,maxPhoneLimit:void 0,showEsimConflictModal:!1},s.closeAccessoryRedirectModal=s.closeAccessoryRedirectModal.bind(Object(c.a)(s)),s.IntentModalVisibility=s.IntentModalVisibility.bind(Object(c.a)(s)),s.disabledButtonClick=s.disabledButtonClick.bind(Object(c.a)(s)),s.fireReportingAndNavigate=s.fireReportingAndNavigate.bind(Object(c.a)(s)),s.conflictRedirection=s.conflictRedirection.bind(Object(c.a)(s)),s.addToCartAndRedirect=s.addToCartAndRedirect.bind(Object(c.a)(s)),s.emptyCart=s.emptyCart.bind(Object(c.a)(s)),s.closePaymentTypeConflictModal=s.closePaymentTypeConflictModal.bind(Object(c.a)(s)),s.openPaymentTypeConflictModal=s.openPaymentTypeConflictModal.bind(Object(c.a)(s)),s.paymentTypeConflictRedirection=s.paymentTypeConflictRedirection.bind(Object(c.a)(s)),s.redirectToPlanView=s.redirectToPlanView.bind(Object(c.a)(s)),s.closePlanConflictModal=s.closePlanConflictModal.bind(Object(c.a)(s)),s.redirectToCartPage=s.redirectToCartPage.bind(Object(c.a)(s)),s.shopForOtherDevice=s.shopForOtherDevice.bind(Object(c.a)(s)),s.reporting=new M.a,s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(j.Dc)("GET"),Object(j.Mb)(t)||(a=t.wsceData.entryPoint)!==ne.a.ACCT_OVERVIEW_WITHOUT_CTN&&a!==ne.a.ACCT_OVERVIEW_WITH_CTN&&a!==ne.a.ACCT_OVERVIEW_AL||this.setState({disableForFirstTimeUser:!0}),!Object(j.Dc)("GET")&&this.context.selectedContractTerm&&this.setContractTermSessionStorage(this.context.selectedContractTerm.name,this.props.selectedSku),window.addEventListener("resize",this.handleWindowSizeChange);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e,t=(null===(e=sessionStorage)||void 0===e?void 0:e.getItem("selectedDeviceConfig"))&&JSON.parse(sessionStorage.getItem("selectedDeviceConfig"));this.context.selectedContractTerm&&null!==t&&void 0!==t&&t.commitmentTerm&&!this.state.buttonDisabled&&this.ctaClick(this.props.cartDetails)}},{key:"displayDeviceLimitModal",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n,i,r,s,c,l,d,p,u,m,f,h,g,b,C;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=2,n=1,r=[(i={harmanMake:"HARMAN",harmanModel:"Spark",aWIMake:"AT&T",aWIModel:"Wireless Internet",tablet:"tablet",camera:"connecteddevice",miFI:"hotspot",modem:"usbconnect"}).tablet,i.camera,i.miFI,i.modem],s=K()(this.props.selectedSku.manufacturer,i.harmanMake)&&K()(this.props.selectedSku.model,i.harmanModel),c=K()(this.props.selectedSku.manufacturer,i.aWIMake)&&K()(this.props.selectedSku.model,i.aWIModel),l=K()(r,this.props.selectedSku.deviceSubType),d=0,p=0,u=0,m=0,f=0,h=0,!(s||c||l)){e.next=42;break}if(!(t.cartItems.length>0)){e.next=41;break}if(t.cartItems.forEach((function(e){switch(V()(e,"device.hardGood.make")===i.harmanMake&&V()(e,"device.hardGood.model")===i.harmanModel&&d++,V()(e,"device.hardGood.make")===i.aWIMake&&V()(e,"device.hardGood.model")===i.aWIModel&&p++,V()(e,"device.hardGood.wirelessHardGoodCharacteristics._deviceSubType")){case i.tablet:u++;break;case i.modem:h++;break;case i.camera:f++;break;case i.miFI:m++}})),g=[{name:i.tablet,count:u},{name:i.camera,count:f},{name:i.miFI,count:m},{name:i.modem,count:h}],b=X()(g,"count"),!(s&&d>=a)){e.next=24;break}return this.setState({deviceLimit:a}),this.openDeviceLimitModal(),e.abrupt("return",!0);case 24:if(!(c&&p>=n)){e.next=30;break}return this.setState({deviceLimit:n}),this.openDeviceLimitModal(),e.abrupt("return",!0);case 30:if(s||!l||!Q()(g,(function(e){return e.count>=a}))){e.next=37;break}return C=_.find(g,(function(e){return e.count>=a})),this.props.deviceSubType===C.name?this.setState({deviceLimit:a,dataConnectedDeviceName:C.name+"s"}):this.setState({deviceLimit:a,isMixedCount:!0}),this.openDeviceLimitModal(),e.abrupt("return",!0);case 37:if(!(!s&&l&&b>=a)){e.next=41;break}return this.setState({deviceLimit:a,isMixedCount:!0}),this.openDeviceLimitModal(),e.abrupt("return",!0);case 41:case 42:return e.abrupt("return",!1);case 43:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"displayConflictModal",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n,i,r,s,c,l,d,p,u,m,f,h,g,b,C,v,y=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.cartItems.length>0&&(a=z()(t.cartItems),n=V()(a,"device.hardGood.wirelessHardGoodCharacteristics._deviceSubType",!1)),!n){e.next=52;break}return e.next=4,this.checkForPlanConstruct(a);case 4:if(r=[(i={harmanMake:"HARMAN",harmanModel:"Spark",aWIMake:"AT&T",aWIModel:"Wireless Internet",phone:"pda",tablet:"tablet",wearable:"wearable",camera:"connecteddevice",miFI:"hotspot",modem:"usbconnect"}).camera,i.miFI,i.modem],s=this.state.firstLineIsUYW,c=this.state.firstLineIs4GB,l=this.state.firstLineIsDataConnectSharedPlan,d=n===i.tablet,p=!1,u=!1,m=K()(this.props.selectedSku.manufacturer,i.harmanMake)&&K()(this.props.selectedSku.model,i.harmanModel),f=K()(this.props.selectedSku.manufacturer,i.aWIMake)&&K()(this.props.selectedSku.model,i.aWIModel),h=this.props.selectedSku.deviceSubType===i.tablet,g=this.props.selectedSku.deviceSubType===i.phone,b=this.props.selectedSku.deviceSubType===i.wearable,C=K()(r,this.props.selectedSku.deviceSubType)&&!m&&!f,a&&a.items?Object.keys(a.items).forEach((function(e){var t=V()(a.items,e);V()(t,"hardGood.make")===i.aWIMake&&V()(t,"hardGood.model")===i.aWIModel&&(p=!0,y.setState({firstDeviceDataConnect:!0})),V()(t,"hardGood.make")===i.harmanMake&&V()(t,"hardGood.model")===i.harmanModel&&(u=!0,y.setState({firstDeviceDataConnect:!0}))})):(K()(r,n)&&!d||d&&l)&&this.setState({firstDeviceDataConnect:!0}),v=!d&&(K()(r,n)&&!p&&!u),!p||f){e.next=25;break}return this.openNonCompatibleDeviceModal(),e.abrupt("return",!0);case 25:if(!u||m){e.next=30;break}return this.openNonCompatibleDeviceModal(),e.abrupt("return",!0);case 30:if(!v||!(f||m||g||b)){e.next=35;break}return this.openNonCompatibleDeviceModal(),e.abrupt("return",!0);case 35:if(!d){e.next=41;break}if(!(f||b&&!s&&!c||m&&!s)){e.next=39;break}return this.openNonCompatibleDeviceModal(),e.abrupt("return",!0);case 39:e.next=51;break;case 41:if(n!==i.phone){e.next=47;break}if(!(f||m&&!s||C&&!m&&!s||h&&!s&&!c)){e.next=45;break}return this.openNonCompatibleDeviceModal(),e.abrupt("return",!0);case 45:e.next=51;break;case 47:if(n!==i.wearable){e.next=51;break}if(!(f||m&&!s||h&&!s&&!c||C&&!m&&!s)){e.next=51;break}return this.openNonCompatibleDeviceModal(),e.abrupt("return",!0);case 51:case 52:return e.abrupt("return",!1);case 53:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isIdpEditAction",value:function(){return this.props.isAccessory&&this.props.isIdpEditAction&&"CRU"!==this.props.profileInfo.customerType&&this.props.isIdpAccessoryRedirectOn&&this.props.idpAccessoryDetails}},{key:"getButtonTypes",value:function(){var e,t,a=0!==this.state.width&&this.state.width<768,n=this.state.width<=1024&&this.state.width>=768,o=!0===a||!0===n?y.b.Small:y.b.Large,i=[y.b.Blue,o];return!this.props.isContinueEnabled||this.state.buttonDisabled?(i[0]=y.b.DarkDisabled,i):((this.context.selectedContractTerm&&this.context.selectedContractTerm.monthlyNextUpCharge&&!this.context.isContractTermSelected||this.props.selectedSku.effectiveOutOfStock||this.props.selectedSku.isComingSoon||null!==(e=this.props)&&void 0!==e&&null!==(t=e.selectedSku)&&void 0!==t&&t.isPrePreOrder&&Object(j.Tb)()||this.state.cartLoader)&&(i[0]=y.b.DarkDisabledBackground),i)}},{key:"getFlowType",value:function(e){return e&&e.wirelessAuthenticated&&("AL"===e.flowIndicator||"ALF"===e.flowIndicator)||e.exAlFlow?"AAL":e&&e.wirelessAuthenticated&&"UP"===e.flowIndicator?"UP":null}},{key:"shouldAddToCart",value:function(){return this.props.isAccessory||T.IntentModalPDP&&"prepaid"===this.props.selectedSku.paymentType||("AAL"===this.getFlowType(this.props.profileInfo)||this.props.cartDetails.customerIntent===ee.losgType.Al)&&T.contractTermsPDP.enabled&&"CRU"!==this.props.profileInfo.customerType}},{key:"IntentModalVisibility",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({intentModalVisible:e})}},{key:"changePlan",value:function(){this.setState({showNonCompatiblePlanModal:!1})}},{key:"paymentTypeConflictRedirection",value:function(e,t){if(!e)return!0;var a,n,o=e.cartItems;if(!o||!Array.isArray(o))return!0;o.forEach((function(e){if(e){var t=e.items;if(t&&"object"===typeof t){var o=Object.keys(t);if(o&&Array.isArray(o)){var i=o.filter((function(e){if(e&&-1!==e.indexOf(P.d.paymentTypes.prepaidItemIdPrefix))return!0})),r=o.filter((function(e){if(e&&-1===e.indexOf(P.d.paymentTypes.prepaidItemIdPrefix))return!0}));n||(n=!!i.length),a||(a=!!o.length&&!!r.length)}}}}));var i=t?a:n;return i&&this.openPaymentTypeConflictModal(),!i}},{key:"conflictRedirection",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n,i,r,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(j.M)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),n=this.state.userIntentApiResponse,i=this.props.profileInfo,r="true"===Object(j.bb)()["pdp-data-connect-llp"],s=n&&n.payload&&!1===n.payload.showIntentModal&&0===n.payload.userIntent.length&&this.isEligibleForATC(a),c="UP"===this.getFlowType(i)||"AAL"===this.getFlowType(i),!s&&!c){e.next=12;break}if(a!==P.d.CONNECTED_DEVICES_AND_MORE||0!=t.cartItems.length||r){e.next=10;break}return this.redirectLegacy(t),e.abrupt("return",!1);case 10:e.next=15;break;case 12:if(!(a===P.d.CONNECTED_DEVICES_AND_MORE&&t.cartItems.length>0)||r){e.next=15;break}return this.setState({showConflictModal:!0}),e.abrupt("return",!1);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fireDeviceATC",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={contractLength:"regular"===this.context.selectedContractTerm.type?this.context.selectedContractTerm.name:this.context.selectedContractTerm.leaseTotalMonths,contractType:"regular"===this.context.selectedContractTerm.type?this.context.selectedContractTerm.type:this.context.selectedContractTerm.name,downPaymentAmt:0},e.next=3,C.a.addItemToCart(this.props.selectedSku.skuId,this.props.selectedSku.productId,this.props.profileInfo.flowIndicator,"deviceDetails",a);case 3:n=e.sent,Object(j.Ac)(),C.a.checkATCSuccess(n)&&""!==n.addToCartResultHolder.redirectionURLValue?(localStorage.setItem("rexDeviceSkuId",JSON.stringify(this.props.selectedSku.skuId)),i=n.addToCartResultHolder.redirectionURLValue,"prepaid-phones"===t&&screen.width<767&&(i=b.b.productDetailsUrls.plansServicesHubUrl),i.endsWith("deviceconfigurator.html")&&(i+="?sku=".concat(this.props.selectedSku.skuId,"&hideTerms=true&term=").concat(this.context.selectedContractTerm.name)),this.props.events.handleSubmitReporting(i,this.getButtonText(),this.context,1),window.location.href=i):(this.setState({accessoryModalVisible:!0,addToCartSuccess:!1}),this.props.events.handleSubmitReporting("/product/details/modal/error",this.getButtonText(),this.context,-1));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"processUserIntentApi",value:function(){var e=Object(i.a)(o.a.mark((function e(t,a){var n,i,r,s,c,l,d,p=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,i=t.response,r=Object(j.M)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),s=JSON.parse(sessionStorage.getItem("addAnotherDevice")),c="true"===Object(j.bb)()["pdp-data-connect-llp"],!(n.showIntentModal&&n.userIntent&&n.userIntent.length>0)||s||this.props.cartDetails.isPlanFirstMode||!(0===a.cartItems.length||V()(this.props,"profileInfo.flowIndicator")&&"authenticated"===V()(this.props,"profileInfo.customerState"))){e.next=10;break}this.props.events.handleSubmitReporting("/devices/intent/modal",this.getButtonText(),this.context,0),this.setState({intentsToShow:n.userIntent,intentModalVisible:!0,showNewCustomerLink:n.showNewCustomerLink}),e.next=48;break;case 10:if(c||"tablets"!==r||"simcard"===this.props.selectedSku.deviceSubType||!this.props.cartDetails.isPlanFirstMode){e.next=14;break}this.redirectLegacy(a),e.next=48;break;case 14:if("true"!==Object(j.bb)()["pdp-plan-view-redirect"]){e.next=25;break}if(!c){e.next=22;break}return e.next=18,this.displayConflictModal(a);case 18:e.sent||this.state.atcFired||this.setState({atcFired:this.state.atcFired+1},(function(){p.addToCartAndRedirect()})),e.next=23;break;case 22:this.state.atcFired||this.setState({atcFired:this.state.atcFired+1},(function(){p.addToCartAndRedirect()}));case 23:e.next=48;break;case 25:if(!i.redirect||null===i.redirectURL){e.next=30;break}this.props.events.handleSubmitReporting(i.redirectURL,this.getButtonText(),this.context,0),window.location.href=i.redirectURL,e.next=48;break;case 30:if(l=this.getUrlMap(),d="",T.contractTermsPDP.enabled&&localStorage.removeItem("termPrevSelectedByUser"),!T.IDSERedirect||"CRU"===this.props.profileInfo.customerType){e.next=38;break}d=l.idseUrl,sessionStorage.setItem(P.d.intentModalContent.sessionStorageKey,'{"intent": "DSUP"}'),e.next=44;break;case 38:if("CRU"!==this.props.profileInfo.customerType){e.next=43;break}return this.fireDeviceATC(r),e.abrupt("return");case 43:d=screen.width<767?l.termSelectUrl:l.deviceConfigUrl;case 44:this.props.events.handleSubmitReporting(d,this.getButtonText(),this.context,0),this.clearSessionStorageItems(),this.setContractTermSessionStorage(this.context.selectedContractTerm.name,this.props.selectedSku),window.location.href=d;case 48:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"isNextUpTerm",value:function(){return!0!==this.isSMBDefaultTermSelected()&&!this.context.selectedPricingIndex&&(this.context.selectedContractTerm&&Object(j.jc)(this.props.selectedSku.priceList)&&!this.context.isContractTermSelected)}},{key:"isSMBDefaultTermSelected",value:function(){return"CRU"===this.props.profileInfo.customerType&&this.props.selectedSku.defaultCommitmentTerm&&this.props.selectedSku.includedCommitmentTerm}},{key:"isButtonDisabled",value:function(){var e,t;return this.props.selectedSku.effectiveOutOfStock||this.props.selectedSku.isComingSoon||(null===(e=this.props)||void 0===e||null===(t=e.selectedSku)||void 0===t?void 0:t.isPrePreOrder)&&Object(j.Tb)()}},{key:"disabledButtonClick",value:function(){this.isNextUpTerm()&&this.context.setShowProductPricingError(!0)}},{key:"getConflictModalContent",value:function(e){var t="[[maxDevicesGroup]]",a=10;if("maxLinesLimitModalMaxNumPhonesInGroup"===e&&(t="[[maxLinesLimit]]",a=this.state.maxPhoneLimit),"maxLinesLimitModalAlreadyNumPhonesInGroup"===e&&(t="[[numPhones]]",a=this.state.maxPhoneLimit),"maxLinesLimitModalAlreadyNumDevicesInGroup"===e)return P.d.maxLinesLimitModal.maxLinesLimitModalAlreadyNumDevicesInGroup;var n=this.maxLinesLimitModalTextContent[e];return n&&n.replace(t,a)}},{key:"isMobileOrTablet",value:function(){var e=0!==window.innerWidth&&window.innerWidth<768,t=window.innerWidth<=962&&window.innerWidth>=768;return e||t}},{key:"isMobile",value:function(){var e=window.innerWidth||0,t=window.innerHeight||0;return e<767&&t<=812}},{key:"renderButtonContent",value:function(){var e=this,t="maxLinesLimitModalMaxNumDevicesInGroupAAL",a="maxLinesLimitModalTooManyHeader",n="maxLinesLimitModalCartCTALabel",o=this.redirectToCartPage;return this.props.cartDetails.changePlanDevice===oe.b.Max_Phones&&(t="maxLinesLimitModalAlreadyNumPhonesInGroup",a="maxLinesLimitModalTooManyPhonesHeader",o=this.shopForOtherDevice,n="maxLinesLimitModalShopOtherDevicesCTALabel"),this.props.cartDetails.changePlanDevice===oe.b.Max_Lines&&(t="maxLinesLimitModalAlreadyNumDevicesInGroup"),se(h.Fragment,null,se(pe,{disabled:!this.isNextUpTerm()||this.isButtonDisabled(),tooltipContent:P.d.nextStepCTA.tooltipErrorMessage},(function(i,r){return se("div",{"data-qa":e.props.dataQa,ref:function(e){i(e),r(e)},onClick:function(){return e.disabledButtonClick()},className:"jsx-1229449828"},se(U.a.Consumer,null,(function(i){return se(h.Fragment,null,se(v.a,{events:{onClick:function(){e.ctaClick(i)}},buttonConfig:{disabled:!e.props.isContinueEnabled||e.state.buttonDisabled||e.props.cartDetails.loading||e.state.cartLoader||e.isButtonDisabled()||e.isNextUpTerm(),primary:!0,type:e.getButtonTypes()},className:"btn-large btn-full-width cta-btn-mbl",dataQa:"".concat(e.props.dataQa,"-Button")},e.props.cartDetails.loading||e.state.cartLoader?se(Y.a,{config:{size:"20px"}}):e.getButtonText()),se(R.default,{isOpen:e.props.cartDetails.priceConfigContext.lineConflict,onRequestClose:e.closePlanConflictModal,width:e.isMobileOrTablet()?void 0:4},se(h.Fragment,null,se("h1",{className:"jsx-1229449828 heading-md mar-b-xxs"},e.getConflictModalContent(a)),se("div",{className:"jsx-1229449828 font-regular type-base mar-t-xs"},e.getConflictModalContent(t),se(v.a,{events:{onClick:e.redirectToPlanView},buttonConfig:{disabled:!1,primary:!1,type:[y.b.Square]},className:"btn btn-large btn-full-width mar-t-xs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg",dataQa:"".concat(e.props.dataQa,"-Button")},e.getConflictModalContent("maxLinesLimitModalCreateNewPlanGroupCTALabel")),e.props.cartDetails.changePlanDevice===oe.b.Max_Phones&&se(v.a,{events:{onClick:o},buttonConfig:{disabled:!1,primary:!1,type:[y.b.Square,y.b.GhostWhite]},className:"btn btn-large btn-full-width mar-t-xs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg",dataQa:"".concat(e.props.dataQa,"-Button")},e.getConflictModalContent(n)),e.props.cartDetails.changePlanDevice===oe.b.Max_Lines&&se(v.a,{events:{onClick:e.redirectToCartPage},buttonConfig:{disabled:!1,primary:!1,type:[y.b.Square]},className:"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-center",dataQa:"".concat(e.props.dataQa,"-Button")},e.getConflictModalContent("maxLinesLimitModalCartCTALabel"))))))})))})),se(f.a,{id:"1229449828"},["@media (max-width:767px){.modal{padding:0px !important;}}"]))}},{key:"closeCartContextErrorModal",value:function(e){e.closeAddToCartErrorModal(),this.redirectToUpgradeComponent()}},{key:"render",value:function(){var e=this;return se(h.Fragment,null,se("div",{"data-qa":this.props.dataQa,className:"jsx-38545985 "+"text-center-mbl ".concat(g.deviceCta)},this.renderButtonContent()),se(U.a.Consumer,null,(function(t){return se(B.a,{show:e.state.showConflictModal,title:"Hmm...we ran into a snag",description:"You\u2019ve selected connected device that must be purchased separately from the rest of your order. What do you want to do?",action1Label:"Remove all other items",action2Label:"Remove the connected device",action1:function(){return e.redirectLegacy(t)},onClose:e.hideConflictModal})})),se(B.a,{show:this.state.showPlanFirstBreakIntentModal,title:"Before you checkout...",description:"You added a device that's not a phone, so the prices shown at the start of your order no longer apply. Therefore, we updated your price per line.",action1Label:"Cancel",action2Label:"Continue",action1:function(){return e.planFirstBreakIntentCancel()},action2:function(){return e.planFirstBreakIntentContinue()},onClose:this.hidePlanFirstBreakIntentModal}),se("div",{className:"jsx-38545985 "+(g.addToCartModalStyles||"")},"undefined"!==typeof document&&se(R.default,{isOpen:this.state.accessoryModalVisible,onRequestClose:this.fireReportingAndCloseModal,onAfterOpen:this.keepShoppingPageLoadEvent,header:this.renderAccessoryRedirectModalHeader(),width:6},this.createAccessoryRedirectModalContent())),se("div",{className:"jsx-38545985 "+(g.addToCartModalStyles||"")},"undefined"!==typeof document&&se(R.default,{isOpen:this.state.addToCartModalVisible,onRequestClose:this.closeAddToCartErrorModal,header:this.renderAddToCartErrorModalHeader(),width:6},this.createAddToCartErrorModalContent(this.closeAddToCartErrorModal))),!this.props.isAccessory&&se(w.a,{intentsToShow:this.state.intentsToShow,isIntentModalOpen:this.state.intentModalVisible,showNewCustomerLink:this.state.showNewCustomerLink,closeModal:this.IntentModalVisibility,selectedSku:this.props.selectedSku,selectedContractTerm:this.context.selectedContractTerm,deviceSubType:this.props.deviceSubType,profileInfo:this.props.profileInfo,bgPageLoadEvent:function(){return e.props.pageLoadEvent(void 0,e.context)},isAccessory:this.props.isAccessory,intentModalContent:this.props.modalsContent,priceOptions:this.context.priceOptions,selectedPricingIndex:this.context.selectedPricingIndex,redirectToConfigView:this.addToCartAndRedirect}),this.props.isAccessory&&se(L.a,{intentsToShow:this.state.intentsToShow,isIntentModalOpen:this.state.intentModalVisible,showNewCustomerLink:this.state.showNewCustomerLink,closeModal:this.IntentModalVisibility,selectedSku:this.props.selectedSku,selectedContractTerm:this.context.selectedContractTerm,deviceSubType:this.props.deviceSubType,profileInfo:this.props.profileInfo,bgPageLoadEvent:function(){return e.props.pageLoadEvent(void 0,e.context)},isAccessory:this.props.isAccessory,fireReportingAndNavigate:this.fireReportingAndNavigate}),se(R.default,{isOpen:this.state.showNonCompatibleDeviceModal,onRequestClose:this.closeNonCompatibleDeviceModal,width:6},se(h.Fragment,null,se("h1",{className:"jsx-38545985 "+"heading-md mar-b-xxs ".concat(g.headerText)},this.textContent.dataConnectDeviceAddHeader),se("div",{className:"jsx-38545985 "+"font-regular type-sm ".concat(g.modalSubText)},this.getDataConnectConflictDescription(),se("button",{type:"button",onClick:this.removeAllOtherItems,className:"jsx-38545985 "+"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(g.nonCompatibleDeviceButton)},se("div",{className:"jsx-38545985 "+"type-sm font-regular ".concat(g.btnText)},this.textContent.dataConnectKeepCTALabel)),se("button",{type:"button",onClick:this.removeCurrentDevice,className:"jsx-38545985 "+"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(g.nonCompatibleDeviceButton," ").concat(g.btnMargin)},se("div",{className:"jsx-38545985 "+"type-sm font-regular ".concat(g.btnText)},this.textContent.dataConnectKeepElseCTALabel))))),se(R.default,{isOpen:this.state.showFNNonCompatibleDeviceModal,onRequestClose:this.closeFNNonCompatibleDeviceModal,width:6},se(h.Fragment,null,se("h1",{className:"jsx-38545985 "+"heading-md mar-b-xxs ".concat(g.headerText)},this.fnNonCompatibleModaltextContent.Header),se("div",{className:"jsx-38545985 "+"font-regular type-sm ".concat(g.modalSubText)},this.fnNonCompatibleModaltextContent.Description,se("button",{type:"button",onClick:this.redirectToPLP,className:"jsx-38545985 "+"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(g.nonCompatibleDeviceButton)},se("div",{className:"jsx-38545985 "+"type-sm font-regular ".concat(g.btnText)},this.fnNonCompatibleModaltextContent.CTALabel))))),se(R.default,{isOpen:this.state.showNonCompatiblePlanModal,onRequestClose:this.closeNonCompatiblePlanModal,width:6},se("h1",{className:"jsx-38545985 "+"heading-md mar-b-xxs ".concat(g.headerText)},this.textContent.dataConnectDeviceAddHeader),se("div",{className:"jsx-38545985 "+"font-regular type-sm ".concat(g.modalSubText)},se("span",{dangerouslySetInnerHTML:{__html:this.getDataConnectPlanConflictDescription()},className:"jsx-38545985"}),se("button",{type:"button",onClick:this.changePlan,className:"jsx-38545985 "+"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(g.nonCompatibleDeviceButton)},se("div",{className:"jsx-38545985 "+"type-sm font-regular ".concat(g.btnText)},this.dataConnectPlanConflictTextContent.dataConnectChangeCTALabel)),se("button",{type:"button",onClick:this.removeCurrentDevice,className:"jsx-38545985 "+"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(g.nonCompatibleDeviceButton," ").concat(g.btnMargin)},se("div",{className:"jsx-38545985 "+"type-sm font-regular ".concat(g.btnText)},this.dataConnectPlanConflictTextContent.dataConnectCancelCTALabel)))),se(R.default,{isOpen:this.state.showMaxLineNextUpModal,onRequestClose:this.closeMaxLineNextUpModal,width:6},se(h.Fragment,null,se("h1",{className:"jsx-38545985 "+"heading-md mar-b-xxs ".concat(g.headerText)},this.maxLineNextUpModalContent.maxLineNextUpHeader),se("div",{className:"jsx-38545985 "+"font-regular type-sm ".concat(g.modalSubText)},se(k.a,{icon:I.a,size:"24px",style:{fill:"#C70032"}}),this.maxLineNextUpModalContent.maxLineNextUpDescription,se("button",{type:"button",onClick:this.redirectToLineSelection,className:"jsx-38545985 "+"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(g.nonCompatibleDeviceButton)},se("div",{className:"jsx-38545985 "+"type-sm font-regular ".concat(g.btnText)},this.maxLineNextUpModalContent.maxLineNextUpCTALabel))))),se(this.EsimConflictModal,null),se(U.a.Consumer,null,(function(t){return!!t&&se(R.default,{isOpen:e.state.showWirelineConfilctModal,onRequestClose:e.closeWirelineConfilctModal,width:6},se(h.Fragment,null,se("h1",{className:"jsx-38545985 "+"heading-md mar-b-xxs ".concat(g.headerText)},e.wirelineConflictModalTextContent.wirelineConfilctHeading),se("div",{className:"jsx-38545985 "+"font-regular type-sm ".concat(g.modalSubText)},se("div",{dangerouslySetInnerHTML:{__html:e.wirelineConflictModalTextContent.wirelineConflictDescription},className:"jsx-38545985"}),se("button",{type:"button",onClick:e.wirelineRemoveAllOtherItems(t),className:"jsx-38545985 "+"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(g.nonCompatibleDeviceButton)},se("div",{className:"jsx-38545985 "+"type-sm font-regular ".concat(g.wirelineButtonText)},e.wirelineConflictModalTextContent.wirelineConfilctStartOverLabel)),se("button",{type:"button",onClick:e.wirelineRemoveCurrentDevice,className:"jsx-38545985 "+"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(g.nonCompatibleDeviceButton," ").concat(g.btnMargin)},se("div",{className:"jsx-38545985 "+"type-sm font-regular ".concat(g.wirelineButtonText)},e.wirelineConflictModalTextContent.wirelineConfilctContinueCTALabel)))))})),se(R.default,{isOpen:this.state.showDeviceLimitModal,onRequestClose:this.closeDeviceLimitModal,width:6},se(h.Fragment,null,se("h1",{className:"jsx-38545985 heading-md mar-b-xxs"},this.deviceLimitModalTextContent.deviceLimitModalHeading),se("div",{className:"jsx-38545985 font-regular type-base"},this.getDeviceLimitModalText(),se("button",{type:"button",onClick:this.removeTheExtra,className:"jsx-38545985 btn btn-large btn-full-width btn-secondary btn-arrow mar-t-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg"},se("div",{className:"jsx-38545985 type-base font-regular"},this.deviceLimitModalTextContent.deviceLimitModalRemove))))),se(U.a.Consumer,null,(function(t){return!!t&&se(R.default,{isOpen:e.state.showPaymentTypeConflictModal,onRequestClose:e.closePaymentTypeConflictModal,width:6,modalTextClassName:"inline-flex"},se("div",{className:"jsx-38545985"},se("div",{className:"jsx-38545985 "+"mar-b-xxs type-md font-medium ".concat(g.paymentTypeConflictModalHeader)},e.paymentTypeTextContext.cartConflictLabelHeader),se("div",{dangerouslySetInnerHTML:{__html:Object(j.gc)(e.paymentTypeTextContext.cartConflictPaymentTypeSubheader,e.paymentTypeTextContext)},className:"jsx-38545985 type-sm font-regular"}),se("button",{"data-qa":"PDP-paymentType-conflictModal-emptyCart",type:"button",onClick:function(){e.state.paymentTypeConflict||e.setState({paymentTypeConflict:!0,emptyCart:!0},(function(){return e.emptyCart(t)}))},className:"jsx-38545985 btn btn-small btn-full-width btn-primary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg"},se("div",{className:"jsx-38545985 type-xs"},e.state.emptyCart?se(Y.a,{config:{size:"20px"}}):Object(j.gc)(t&&t.prepaidFlow?e.paymentTypeTextContext.cartConflictPrimaryPostpaid1:e.paymentTypeTextContext.cartConflictPrimaryPrepaid1,e.paymentTypeTextContext))),se("button",{"data-qa":"PDP-paymentType-conflictModal-cartRedirect",type:"button",onClick:function(){e.state.paymentTypeConflict||e.setState({paymentTypeConflict:!0,cartRedirect:!0},(function(){return e.redirectToCart()}))},className:"jsx-38545985 btn btn-small btn-full-width btn-secondary mar-t-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg"},se("div",{className:"jsx-38545985 type-xs"},e.state.cartRedirect?se(Y.a,{config:{size:"20px"}}):Object(j.gc)(t&&t.prepaidFlow?e.paymentTypeTextContext.cartConflictPrimaryPostpaid2:e.paymentTypeTextContext.cartConflictPrimaryPrepaid2,e.paymentTypeTextContext)))))})),se(U.a.Consumer,null,(function(t){return se("div",{className:"jsx-38545985 "+(g.addToCartModalStyles||"")},"undefined"!==typeof document&&se(R.default,{isOpen:t.addToCartErrorModalVisible,onRequestClose:function(){return e.closeCartContextErrorModal(t)},header:e.renderAddToCartErrorModalHeader(),width:6},e.createAddToCartErrorModalContent((function(){return e.closeCartContextErrorModal(t)}))))})),se(f.a,{id:"38545985"},["@media (max-width:767px){.cta-btn-mbl{min-width:230px;margin:0 auto;}.text-center-mbl{text-align:center;}}","@media (max-width:480px){.cta-btn-mbl{min-width:170px;margin:0 auto;}}","@media (max-width:340px){.cta-btn-mbl{min-width:110px;margin:0 auto;}}"]))}},{key:"getUrlMap",value:function(){var e="".concat(b.b.productDetailsUrls.deviceRecommenderUrl).concat(this.props.selectedSku.skuId),t="".concat(b.b.productDetailsUrls.upgradeEligibilityUrl),a="".concat(b.b.productDetailsUrls.idseUrl).concat(this.props.selectedSku.skuId),n="".concat(b.b.productDetailsUrls.deviceConfigUrl).concat(this.props.selectedSku.skuId);T.contractTermsPDP.enabled&&(n+="&hideTerms=true&term=".concat(this.context.selectedContractTerm.name));var o="".concat(b.b.productDetailsUrls.termSelectUrl).concat(this.props.selectedSku.skuId);T.IntentModalPDP||"prepaid"===this.props.selectedSku.paymentType||(o+="&checkintent=true");var i=window.location.host;return"www.att.com"===i?o="https://m.att.com".concat(o):i.indexOf("finalstage")>-1?o="https://fs.att.com".concat(o):i.startsWith("m")||(o="https://m".concat(i).concat(o)),{idseUrl:a,termSelectUrl:o,deviceConfigUrl:n,deviceRecommenderUrl:e,upgradeEligibilityUrl:t}}},{key:"fireReportingAndNavigate",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.props.events.handleSubmitReporting(e,t,this.context,a),window.location.href=e}},{key:"isEligibleForATC",value:function(e){return"CRU"===this.props.profileInfo.customerType&&window.location.href.includes("invalidateAuthCRUSession=true")||"prepaid-phones"===e||"connected-devices-and-more"===e}},{key:"redirectToPlanView",value:function(){var e=this.getConflictModalContent("maxLinesLimitModalCreateNewPlanGroupCTALabel");this.props.cartDetails.setChangePlanDevice(void 0),this.closePlanConflictModal(),this.fireLinkClick(e,window.location.href),this.setState({cartLoader:!0}),this.addToCartAndRedirect()}},{key:"shopForOtherDevice",value:function(){var e=this.getConflictModalContent("maxLinesLimitModalShopOtherDevicesCTALabel");this.fireLinkClick(e,"/buy/postpaid/tablets"),window.location.href="/buy/postpaid/tablets"}},{key:"redirectToCartPage",value:function(){var e=this.getConflictModalContent("maxLinesLimitModalCartCTALabel");this.fireLinkClick(e,"/buy/cart"),window.location.href="/buy/cart"}},{key:"closePlanConflictModal",value:function(){this.fireLinkClick("Close",window.location.href),this.setState({maxPhoneLimit:void 0,cartLoader:!1,buttonDisabled:!1}),this.props.cartDetails.priceConfigContext.setLineConflict(!1)}},{key:"conflictModalPageLoad",value:function(e,t){var a={"page.location.url":t,"page.pageInfo.friendlyPageName":e,"page.pageInfo.flowCode":"DSAAL"};this.reporting.firePageLoadEvent(a)}},{key:"handleIntentModalDeviceCTA",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n,i,r,s,c,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.profileInfo,n=this.getUrlMap(),this.clearSessionStorageItems(),i=Object(j.M)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),r=this.state.userIntentApiResponse,t.changePlanDevice!==oe.b.Max_Lines){e.next=9;break}return this.props.cartDetails.priceConfigContext.setLineConflict(!0),this.conflictModalPageLoad("DS Postpaid Maximum Lines Warning Modal Pg","/buy/postpaid/conflict/modal"),e.abrupt("return");case 9:if(t.customerIntent!==ee.losgType.Upgrade&&t.customerIntent!==ee.losgType.Al){e.next=13;break}return this.setState({cartLoader:!0}),this.addToCartAndRedirect(),e.abrupt("return");case 13:if(s=E()().publicRuntimeConfig,c=Object(j.b)(s,this.props.profileInfo.customerType,this.props.profileInfo.flowIndicator),"UP"!==this.getFlowType(a)){e.next=24;break}return l=this.context.selectedContractTerm.name,this.context.selectedContractTerm.leaseTotalMonths,"1"!==l&&"24"!==l||(l,l="regular"),sessionStorage.setItem("userIntent",JSON.stringify(j.Db)),this.fireReportingAndNavigate(n.upgradeEligibilityUrl,this.getButtonText()),e.abrupt("return");case 24:if("AAL"!==this.getFlowType(a)||"CRU"!==a.customerType){e.next=29;break}return this.fireReportingAndNavigate(n.deviceRecommenderUrl,this.getButtonText()),e.abrupt("return");case 29:if("AAL"!==this.getFlowType(a)){e.next=34;break}return c?this.fireReportingAndNavigate("".concat(n.idseUrl,"&wlsfi=al"),this.getButtonText()):this.fireDeviceATC(i),e.abrupt("return");case 34:this.processUserIntentApi(r,t);case 35:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(h.Component);Object(u.a)(ue,"contextType",F.a)}).call(this,a("8oxB"))},P9a0:function(e,t,a){"use strict";a.d(t,"a",(function(){return $}));var n=a("H+61"),o=a("UlJF"),i=a("+Css"),r=a("7LId"),s=a("VIvw"),c=a("iHvq"),l=a("cpVT"),d=a("q1tI"),p=a("KFTT"),u=a("8bTO"),m=a("vyOo"),f=a("wbWO"),h=a("MX0m"),g=a.n(h),b=a("kjGT"),C=a("ZOEe"),v=a("U/e8"),y=a("bMCe"),k=a("Vvt1"),O=a.n(k),S=a("jqru"),x=a("7naU"),I=a("N1Ph"),T=a("cq7Z"),w=a("BTSr"),L=a("uVxl"),j=a("Da3r"),P=a("mwIZ"),N=a.n(P),D=a("KsW1"),M=a("zKQ6"),A=d.createElement;function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var R=function(e){Object(r.a)(a,e);var t=E(a);function a(e){var o;Object(n.a)(this,a),o=t.call(this,e),Object(l.a)(Object(i.a)(o),"reporting",void 0);var r={deviceTypeCollapsed:!!o.props.configView,selectedDeviceType:JSON.parse(N()(N()(o.props.planCmsContent,"idp-cms-feed.productselectionconfig.contentFragments",void 0),'byod.master["deviceTypes"][0]',{})).deviceType?JSON.parse(N()(N()(o.props.planCmsContent,"idp-cms-feed.productselectionconfig.contentFragments",void 0),'byod.master["deviceTypes"][0]',{})).deviceType:j.d.simDeviceTypes.Phone};return o.reporting=new T.a,o.state=r,o.translateDeviceType=o.translateDeviceType.bind(Object(i.a)(o)),o.onDeviceTypeChange=o.onDeviceTypeChange.bind(Object(i.a)(o)),o}return Object(o.a)(a,[{key:"translateDeviceType",value:function(e){var t;return e===j.d.simDeviceTypes.Phone?t="Phone":e===j.d.simDeviceTypes.Tablet?t="Tablet":e===j.d.simDeviceTypes.Wearable&&(t="Smartwatch"),t}},{key:"onDeviceTypeChange",value:function(e){this.setState({selectedDeviceType:e}),"Phone"===e?(sessionStorage.setItem("selectedByodDeviceType","phones"),window.location.href=Object(v.Eb)(D.a.simCardUrlUpAal,["phones","phone"])):"Tablet"===e?(sessionStorage.setItem("selectedByodDeviceType","tablets"),window.location.href=Object(v.Eb)(D.a.simCardUrlUpAal,["tablets","tablet"])):"Smartwatch"===e&&(sessionStorage.setItem("selectedByodDeviceType","wearables"),window.location.href=Object(v.Eb)(D.a.simCardUrlUpAal,["wearables","wearable"]))}},{key:"generateBYODDeviceTypes",value:function(e){var t=this,a=Object(v.S)(e,"deviceTypes",j.d.byodView.deviceTypes),n=[];return a.map((function(e){"string"===typeof e&&(e=JSON.parse(e)),n.push(A(b.a,{key:e.deviceType,value:e.deviceType,name:"DeviceType",displayName:e.deviceType,id:e.deviceType,ariaLabel:e.deviceType,ariaControls:e.deviceType,ariaHidden:t.state.deviceTypeCollapsed,options:{fullWidth:!0,buttonClasses:"flex-column pad-xs",zIndex:1},deviceType:t.props.deviceType,dataQa:"".concat(t.props.dataQa,"-BYOD-DeviceType")},(function(t){return A(S.a,{isSelected:t,skuId:"",displayValue:e.deviceType,hidePrice:!0,radioSubContent:function(t){return A(d.Fragment,null,A(L.a,{space:16,topSpace:16}),A("h4",{className:"mar-t-xxs type-xs color-ui-black font-regular"},e.description))}})})))})),n}},{key:"handleAccordionToggleForDeviceTypes",value:function(){this.setState({deviceTypeCollapsed:!this.state.deviceTypeCollapsed},(function(){this.props.events&&this.props.events.onDeviceTypeAccordionClick&&this.props.events.onDeviceTypeAccordionClick("DeviceTypeBYOD"+(this.state.deviceTypeCollapsed?"_Collapse":"_Expand"))}))}},{key:"render",value:function(){var e=N()(this.props.planCmsContent,"idp-cms-feed.productselectionconfig.contentFragments",void 0),t=this.props.selecetdSku.deviceType?this.translateDeviceType(this.props.selecetdSku.deviceType.toUpperCase()):"Phone";return A(d.Fragment,null,A("div",{className:"flex flex-column ".concat(M.boxWidget),"data-qa":"".concat(this.props.dataQa,"-BYOD-DeviceType")},"prepaid"!==this.props.selecetdSku.paymentType&&A("div",null,A(b.b,{defaultSelection:t,ariaLabel:"Device type",ariaExpanded:!this.state.deviceTypeCollapsed,id:"Device type",dataQa:"".concat(this.props.dataQa,"-BYOD-DeviceType"),onChange:this.onDeviceTypeChange},!this.props.configView&&A(d.Fragment,null,A(b.c,{inlineStyling:{width:"100%"}},A("h3",{className:"formfield-label",onClick:this.handleAccordionToggleForDeviceTypes.bind(this)},A("span",{className:"configured-label type-base ".concat(this.state.deviceTypeCollapsed?"font-regular":"font-bold"," color-ui-black mar-b-none pad-r-xxxs"),style:{width:"100%"}},this.state.deviceTypeCollapsed?Object(v.S)(e,"subheadingCollapsed",j.d.byodView.subheadingCollapsed):Object(v.S)(e,"subheading",j.d.byodView.subheading)),A(I.a,{expanded:!this.state.deviceTypeCollapsed,iconLabel:N()(this.props.planCmsContent,"".concat(j.d.configView.pscCMSFeedRootPath,".commonLabels.master.editLinkLabel"),"Edit")})),this.state.deviceTypeCollapsed&&A("div",{className:"full-width text-left"},A("div",{className:"flex full-width font-bold type-base color-ui-black mar-b-none"},A("div",{className:"font-subheader"},A("span",null,this.state.selectedDeviceType))))),!this.state.deviceTypeCollapsed&&A(d.Fragment,null,A("div",{className:"flex flex-column"},this.generateBYODDeviceTypes(e))))))))}}]),a}(d.Component),F=a("NWal"),U=a("E+oP"),B=a.n(U),H=a("R1/N"),_=d.createElement;function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var W,z=O()((function(){return Promise.resolve().then((function(){return a("zI6O")}))}),{loadableGenerated:{webpack:function(){return["zI6O"]},modules:["../src/pages/ProductDetailsUpAalPage/components/ConfigOptions/ConfigOptions.tsx -> ../../../../common/components/Tooltip"]}}),G=function(e){Object(r.a)(a,e);var t=V(a);function a(e){var o;Object(n.a)(this,a),o=t.call(this,e),Object(l.a)(Object(i.a)(o),"context",void 0),Object(l.a)(Object(i.a)(o),"dropdownRef",void 0),Object(l.a)(Object(i.a)(o),"reporting",void 0),Object(l.a)(Object(i.a)(o),"getCurrentPriceForSku",(function(e){var t,a=o.context.priceConfigContext.priceOptions,n=a&&a[e];if(n){var i,r=n[o.context.priceConfigContext.selectedPricingIndex],s=n[o.context.priceConfigContext.prevSelectedIndex];t=0===(null===(i=n[o.context.priceConfigContext.selectedPricingIndex])||void 0===i?void 0:i.monthlyNextUpCharge)?r:s}var c=Object(v.j)(t,o.context.priceConfigContext,!0);return{prefix:c.displayPrefix,itemPrice:c.displayPrice,suffix:c.displaySuffix}})),o.dropdownRef=d.createRef(),o.reporting=new T.a;var r={conditionCollapsed:!!o.props.configView,capacityCollapsed:!!o.props.configView,colorCollapsed:!!o.props.configView||!!o.props.collapseColor,upgradeOptionCollapsed:!!o.props.configView,disableComp:!1,defaultColorSelection:null,defaultCapacitySelected:!1,selectedColor:null,selectedCapacity:null};return o.deviceType=o.deviceType.bind(Object(i.a)(o)),o.onDeviceTypeAccordionClick=o.onDeviceTypeAccordionClick.bind(Object(i.a)(o)),o.handleAccordionToggleForColor=o.handleAccordionToggleForColor.bind(Object(i.a)(o)),o.handleAccordionToggleForCapacity=o.handleAccordionToggleForCapacity.bind(Object(i.a)(o)),o.handleEnterKeyPressedForColor=o.handleEnterKeyPressedForColor.bind(Object(i.a)(o)),o.handleEnterKeyPressedForCapacity=o.handleEnterKeyPressedForCapacity.bind(Object(i.a)(o)),o.state=r,o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.Dc)("GET");if(!Object(v.Mb)(e)){var t=!1,a=!1,n=null,o=!1;this.props.collapseColor?(t=!0,n=this.props.data.selectedSku.skuId):(t=!1,n=null),this.props.collapseCapacity?(t=!0,a=!1,o=!0):(t=!1,a=!0,o=!1),this.setState({conditionCollapsed:t,capacityCollapsed:t,colorCollapsed:t,upgradeOptionCollapsed:t,disableComp:a,defaultColorSelection:n,defaultCapacitySelected:o})}!0===this.props.collapseColor?this.setState({colorCollapsed:!0,defaultColorSelection:this.props.data.selectedSku.skuId}):this.setState({colorCollapsed:!1,defaultColorSelection:null}),!0===this.props.collapseCapacity?this.setState({capacityCollapsed:!0,defaultCapacitySelected:!0,disableComp:!1}):this.setState({capacityCollapsed:!1,defaultCapacitySelected:!1,disableComp:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.colorChanged,a=Object(v.Dc)("GET");if(!Object(v.Mb)(a)){var n=null,o=!1;t=!0,n=e.colorChanged?this.props.data.selectedSku.skuId:null,o=!!e.capacityChanged,!0===e.collapseColor?n=this.props.data.selectedSku.skuId:e.colorChanged||(n=null),!0===e.collapseCapacity&&(o=!0,t=!1),this.setState({disableComp:t,defaultColorSelection:n,defaultCapacitySelected:o})}this.props.colorChanged&&this.setState({disableComp:!1}),("COLOR"!==e.widgetInFocus&&this.state.selectedColor||"COLOR"!==e.widgetInFocus&&this.state.defaultCapacitySelected)&&this.setState({colorCollapsed:!0}),("CAPACITY"!==e.widgetInFocus&&this.state.selectedCapacity||"CAPACITY"!==e.widgetInFocus&&this.state.defaultCapacitySelected)&&this.setState({capacityCollapsed:!0}),e.colorChanged&&this.setState({disableComp:!1})}},{key:"deviceType",value:function(){var e=this.props.data.selectedSku;return Object(v.M)(e.deviceType,e.deviceSubType,e.paymentType)}},{key:"render",value:function(){var e=this,t=(this.context,Object(v.j)(this.context.priceConfigContext.getNonNextupPriceOption(),this.context.priceConfigContext,!0,!1)),a=this.props.data.selectedSku.condition.alternateName||this.props.data.selectedSku.condition.displayName,n=a.charAt(0).toUpperCase()+a.slice(1),o=this.state.capacityCollapsed&&this.props.data.selectedSku.capacity||this.props.capacityChanged||this.state.defaultCapacitySelected,i=this.state.colorCollapsed&&this.props.data.selectedSku.color||this.props.colorChanged||this.state.defaultColorSelection;return _("div",{"data-qa":this.props.dataQa,className:"jsx-3092643611 "},!this.props.isAccessory&&!("simcard"===this.props.data.selectedSku.deviceSubType&&"prepaid"===this.props.data.selectedSku.paymentType)&&!(this.props.skuInContext.condition.key===j.d.deviceCondition.preOwnedKey&&"postpaid"===this.props.data.selectedSku.paymentType)&&this.showDeviceCondition(this.props.data.allConfigs.conditions)&&_("div",{"data-qa":"".concat(this.props.dataQa,"-Condition"),className:"jsx-3092643611 "+"flex flex-column ".concat(this.state.defaultColorSelection||this.state.selectedColor?M.boxWidget:M.boxWidgetInFocus)},!this.props.configView&&_(d.Fragment,null,_(b.b,{id:"StackedCondition",defaultSelection:this.state.defaultColorSelection,ariaLabel:"Condition",ariaExpanded:!this.state.conditionCollapsed,onChange:function(t){e.handleAccordionForRadio(t,"color_change")}},_(b.c,{inlineStyling:{width:"100%"}},_("span",{style:{cursor:"pointer"},onClick:this.handleAccordionToggleForCondition.bind(this),className:"jsx-3092643611 formfield-label pad-b-xs pad-b-xxs-sm cursor"},_("span",{style:{width:"100%"},className:"jsx-3092643611 "+"type-base color-ui-black mar-b-none pad-r-xxxs line-h-md ".concat(this.state.conditionCollapsed?"":"font-bold")},"Condition"),_(I.a,{expanded:!this.state.conditionCollapsed})),this.state.conditionCollapsed&&t&&_("div",{className:"jsx-3092643611 full-width text-left"},_("div",{className:"jsx-3092643611 flex full-width font-bold type-base color-ui-black mar-b-none"},_("div",{className:"jsx-3092643611 type-base"},n),_("div",{className:"jsx-3092643611 margin-left-auto"},_("span",{className:"jsx-3092643611 type-base font-bold text-right"},"".concat(t.displayPrefix+t.displayPrice)),_("span",{className:"jsx-3092643611 type-sm font-bold"},t.displaySuffix))))),!this.state.conditionCollapsed&&_("div",{className:"jsx-3092643611 flex flex-column"},this.generateConditions(this.props.data.allConfigs.conditions))))),this.props.urgencyMessage&&this.props.rtiDisplayFlag&&this.props.rtiFunctionFlag&&!this.props.configView&&"prepaid"!==this.props.data.selectedSku.paymentType&&_(d.Fragment,null,_("div",{tabIndex:0,"data-qa":"".concat(this.props.dataQa,"-UrgencyMsg"),className:"jsx-3092643611 mar-t-sm-sm mar-t-md mar-b-md-md mar-b-lg-sm"},_("svg",{"aria-label":"Alert message",focusable:"false",height:"15px",width:"15px",viewBox:"0 0 32 32",className:"jsx-3092643611 inline-block"},_("path",{d:"M16 1a15 15 0 1015 15A15 15 0 0016 1zm1 22h-2v-2h2zm0-4h-2V9h2z",fill:"#EA712F",className:"jsx-3092643611 svg-base"})),_("span",{className:"jsx-3092643611 urgency-notes mar-l-xxs"},this.props.urgencyMessage))),"simcard"!==this.props.deviceSubType&&!this.props.configView&&(this.props.data.appleWatchColorDetails&&Object.values(this.props.data.appleWatchColorDetails).length>0&&Object(F.d)(this.props.data.appleWatchColorDetails)?_("div",{className:"jsx-3092643611 "+(M.appleWatchContainer||"")},_(H.a,{isCollapsed:this.state.colorCollapsed,onAccordionClick:this.handleAccordionToggleForColor,appleWatchColorDetails:Object(F.a)(this.props.data.appleWatchColorDetails,this.props.data.skuItems),dataQa:this.props.dataQa+"-AppleWatchColor",aria:"apple watch color config options",label:"AppleWatchColor",handleItemClick:function(t){return e.handleAccordionForRadio(t,"color_change")},planCmsContent:this.props.planCmsContent,isAalUp:!0,selectedSkuId:this.props.data.selectedSku.skuId,updateHeroImgWithoutUpdatingSku:this.props.data.updateHeroImgWithoutUpdatingSku})):_("div",{"data-qa":"".concat(this.props.dataQa,"-Color"),"aria-label":"color config options",className:"jsx-3092643611 "+"flex flex-column ".concat(this.state.defaultColorSelection||this.state.selectedColor?M.boxWidget:M.boxWidgetInFocus)},_("div",{"data-qa":"edit"+this.props.dataQa+"colorLabel",id:"colorLabel",onClick:this.handleAccordionToggleForColor,onKeyDown:this.handleEnterKeyPressedForColor,tabIndex:i?0:null,"aria-hidden":"false","aria-controls":"color config options",role:"button","aria-expanded":!this.state.colorCollapsed,className:"jsx-3092643611 formfield-label pad-b-xs pad-b-xxs-sm cursor edit-header-colorcapacity"},_("span",{style:{width:"100%"},className:"jsx-3092643611 "+"type-base color-ui-black mar-b-none pad-r-xxxs ".concat(this.state.colorCollapsed?"font-regular":"font-bold")},this.state.defaultColorSelection||this.state.colorCollapsed?"".concat(N()(this.props.planCmsContent,"".concat(j.d.configView.pscCMSFeedRootPath,".common.master.labels.master.colorLabel"),"Color")," "):N()(this.props.planCmsContent,"".concat(j.d.configView.pscCMSFeedRootPath,".common.master.labels.master.selectColorLabel"),"What color do you want?"),!this.state.colorCollapsed&&this.state.defaultColorSelection&&_(d.Fragment,null,_("span",{className:"jsx-3092643611 font-regular type-base"},this.props.data.selectedSku.color))),i&&_(I.a,{expanded:!this.state.colorCollapsed,iconLabel:"Edit",isAriaButton:!1})),this.state.colorCollapsed&&_(d.Fragment,null,_("div",{className:"jsx-3092643611 flex full-width font-bold type-base color-ui-black mar-b-none"},_("span",{className:"jsx-3092643611 type-base"},this.props.data.selectedSku.color))),!this.state.colorCollapsed&&_(b.b,{id:"Color",ariaLabel:"Color",defaultSelection:this.state.defaultColorSelection,onChange:function(t){e.handleAccordionForRadio(t,"color_change")}},_("div",{"data-qa":this.props.dataQa,className:"jsx-3092643611"},this.generateColors(this.props.data.allConfigs.colors,this.deviceType()))))),this.props.data.selectedSku.capacity?_("div",{"data-qa":"".concat(this.props.dataQa,"-Capacity"),id:"CAPACITY-anchor","aria-label":"capacity config options",className:"jsx-3092643611 "+"flex flex-column ".concat(this.state.disableComp?M.boxWidgetDisabled:"CAPACITY"===this.props.widgetInFocus?M.boxWidgetInFocus:M.boxWidget)},_(b.b,{defaultSelection:!0!==this.state.disableComp&&!1!==this.state.defaultCapacitySelected?this.props.data.selectedSku.skuId:null,onChange:function(t){e.handleAccordionForRadio(t,"capacity_change")},ariaLabel:"".concat(t.displayPrice),ariaExpanded:!this.state.capacityCollapsed,id:"Capacity",dataQa:"".concat(this.props.dataQa,"-Capacity")},!this.props.configView&&_(d.Fragment,null,_(b.c,{inlineStyling:{width:"100%"}},_("span",{tabIndex:o?0:null,"aria-hidden":"false","aria-controls":"capacity config options",onClick:this.handleAccordionToggleForCapacity,onKeyDown:this.handleEnterKeyPressedForCapacity,role:"button","aria-expanded":!this.state.capacityCollapsed,className:"jsx-3092643611 formfield-label pad-b-xs pad-b-xxs-sm cursor edit-header-colorcapacity"},_("span",{style:{width:"100%"},className:"jsx-3092643611 "+"type-base color-ui-black mar-b-none pad-r-xxxs line-h-md ".concat(this.state.capacityCollapsed?"font-regular":"font-bold")},null!==this.props.data.selectedSku.skuSize||this.state.capacityCollapsed?N()(this.props.planCmsContent,"".concat(j.d.configView.pscCMSFeedRootPath,".common.master.labels.master.capacityLabel"),"Capacity"):N()(this.props.planCmsContent,"".concat(j.d.configView.pscCMSFeedRootPath,".common.master.labels.master.selectCapacityLabel"),"How much capacity?")),o&&_(I.a,{expanded:!this.state.capacityCollapsed,iconLabel:"Edit",isAriaButton:!1})),this.state.capacityCollapsed&&_("div",{className:"jsx-3092643611 full-width text-left"},_("div",{className:"jsx-3092643611 flex full-width font-bold type-base color-ui-black mar-b-none"},_("div",{className:"jsx-3092643611 type-base"},this.props.data.selectedSku.capacity),_("div",{className:"jsx-3092643611 margin-left-auto"},_("span",{className:"jsx-3092643611 type-base font-bold text-right"},"".concat(t.displayPrefix+t.displayPrice)),_("span",{className:"jsx-3092643611 type-sm font-bold"},t.displaySuffix))))),!this.state.capacityCollapsed&&_(d.Fragment,null,_("div",{className:"jsx-3092643611 flex flex-column"},this.generateCapacities(this.props.data.allConfigs.capacities)))))):"","simcard"===this.props.deviceSubType&&!this.props.configView&&_(R,{planCmsContent:this.props.planCmsContent,configView:this.props.configView,dataQa:"".concat(this.props.dataQa,"-BYOD-DeviceType"),deviceType:this.deviceType(),devicePageUrl:this.props.data.selectedSku.devicePageURL,selecetdSku:this.props.data.selectedSku,events:{onDeviceTypeAccordionClick:this.onDeviceTypeAccordionClick}}),this.props.isAccessory&&!this.props.configView&&_("div",{"data-qa":"".concat(this.props.dataQa,"-Quantity"),className:"jsx-3092643611 mar-b-md"},_(y.a,{defaultSelectedIndex:this.props.data.accessoryQuantity-1,label:"Quantity",choices:this.getQuantityDropdownItems(4),dataQa:"".concat(this.props.dataQa,"-Dropdown"),onChange:function(t){return e.props.events.updateQuantity(t)},ref:this.dropdownRef,placeholder:"Choose an option",showError:!1,errorText:"Select a pricing option",width:"50%",id:"quantity"})),_(g.a,{id:"3092643611"},[".margin-left-auto.jsx-3092643611{margin-left:auto;}",".configured-label.jsx-3092643611{font-size:16px;margin-bottom:24px;line-height:1.6;}",".font-subheader.jsx-3092643611{font-size:16px;}",".font-monthly.jsx-3092643611{font-size:14px;}",".pricing-prefix.jsx-3092643611{font-size:14px;}",".mar-t-md-all.jsx-3092643611{margin-top:32px;}",".urgency-notes.jsx-3092643611{vertical-align:top;font-size:15px;-webkit-letter-spacing:-0.59px;-moz-letter-spacing:-0.59px;-ms-letter-spacing:-0.59px;letter-spacing:-0.59px;color:#1d2329;line-height:20px;}",".edit-header-colorcapacity.jsx-3092643611:focus{outline:0.7px dotted #0057b8;}"]))}},{key:"handleAccordionForRadio",value:function(e,t){this.props.events.updateSelectedSku(e),this.props.updateChildCompStatusChange(t),"capacity_change"===t&&this.setState({capacityCollapsed:!0,selectedCapacity:e}),"color_change"===t&&(this.setState({colorCollapsed:!0,selectedColor:e}),this.props.data.updateHeroImgWithoutUpdatingSku(e))}},{key:"handleAccordionToggleForColor",value:function(){this.setState({colorCollapsed:!this.state.colorCollapsed},(function(){this.fireLinkClickEvent(this.props.data.selectedSku.devicePageURL,"Color"+(this.state.colorCollapsed?"_Collapse":"_Expand")),this.state.colorCollapsed&&this.props.updateChildCompStatusChange("color_change",!1)})),this.props.updateWidgetinFocus("color")}},{key:"handleEnterKeyPressedForColor",value:function(e){"Enter"!==e.key&&" "!==e.key||(this.handleAccordionToggleForColor(),e.preventDefault(),e.stopPropagation())}},{key:"handleEnterKeyPressedForCapacity",value:function(e){"Enter"!==e.key&&" "!==e.key||(this.handleAccordionToggleForCapacity(),e.preventDefault(),e.stopPropagation())}},{key:"handleAccordionToggleForCapacity",value:function(){var e=null!==this.props.data.selectedSku.skuSize?"Size":"Capacity";this.setState({capacityCollapsed:!this.state.capacityCollapsed},(function(){this.fireLinkClickEvent(this.props.data.selectedSku.devicePageURL,e+(this.state.capacityCollapsed?"_Collapse":"_Expand")),this.state.capacityCollapsed&&this.props.updateChildCompStatusChange("capacity_change",!1)})),this.props.updateWidgetinFocus("capacity")}},{key:"handleAccordionToggleForCondition",value:function(){this.setState({conditionCollapsed:!this.state.conditionCollapsed},(function(){this.fireLinkClickEvent(this.props.data.selectedSku.devicePageURL,"Condition"+(this.state.conditionCollapsed?"_Collapse":"_Expand"))}))}},{key:"onDeviceTypeAccordionClick",value:function(e){this.fireLinkClickEvent(this.props.data.selectedSku.devicePageURL,e)}},{key:"fireLinkClickEvent",value:function(e,t){var a={linkDestinationUrl:e,linkName:t,linkPosition:"Body"};this.reporting.fireLinkClickEvent(a)}},{key:"showDeviceCondition",value:function(e){return Object.keys(e).length>1}},{key:"getQuantityDropdownItems",value:function(e){for(var t=[],a=0;a<e;a++)t.push({displayValue:"".concat(a+1),content:"".concat(a+1),value:"".concat(a+1)});return t}},{key:"generateColors",value:function(e,t){var a=this,n=function(e){return!(a.props.data.allConfigs.checkOutOfStockByColor[e.color].filter((function(e){return!1===e})).length>0)||e.effectiveOutOfStock&&!B()(a.state.selectedCapacity)||a.props.childSkusEffectiveOutOfStockStatus},o=[];for(var i in e)if(e[i].data){var r=e[i].data;(!r.isEndOfSku||r.skuId===this.props.data.selectedSku.skuId)&&o.push(_(C.a,{name:"color",value:r.skuId,swatch:r.patternColorImage?Object(v.g)(r,"-pattern-swatch"):r.hexValue,id:r.color&&r.color.replace(/ /g,""),dataQa:"".concat(this.props.dataQa,"-RadioColor"),ariaLabel:r.color,key:r.hexValue,disabled:n(r),deviceType:t,skuInContext:r,colorSelected:this.props.colorChanged,upAlRadioCustomLayout:this.props.upAlRadioCustomLayout},r.color))}return o}},{key:"generateCapacities",value:function(e){var t=this,a=[],n=function(){return _(d.Fragment,null,_("b",null,"Uh-oh!"),_("br",null)," This item is out of stock right now.")},o=function(e){return e.effectiveOutOfStock&&!B()(t.state.selectedColor)};for(var i in e)e[i].data&&function(){var r=e[i].data,s=r.isEndOfSku,c=!s||r.skuId===t.props.data.selectedSku.skuId,l=t.getCurrentPriceForSku(r.skuId),d=r.capacity+" "+l.prefix+l.itemPrice+l.suffix;c&&a.push(_(z,{disabled:!s||!r.effectiveOutOfStock,tooltipContent:_(n,null)},(function(e,a){return _(b.a,{key:r.skuId,value:r.skuId,name:"Capacity",displayName:r.capacity,id:r.skuId,ariaLabel:d,ariaControls:r.skuId,ariaHidden:t.state.capacityCollapsed,disabled:s||t.state.disableComp||o(r)||t.props.childSkusEffectiveOutOfStockStatus,options:{fullWidth:!0,buttonClasses:"flex-column pad-xs ".concat("CAPACITY"===t.props.widgetInFocus?"bg-ui-white":""),zIndex:1},ref:function(t){e(t),a(t)},deviceType:t.deviceType(),skuInContext:r,dataQa:"".concat(t.props.dataQa,"-Capacity-").concat(r.capacity.replace(/\s/g,""))},(function(e){return _(S.a,{isSelected:e,skuId:r.skuId,displayValue:r.capacity,radioSubContent:function(e,a){return _(x.a,{isSelected:e,isAccessory:t.props.isAccessory,priceOption:a,onLegalClick:t.props.onLegalClick,onOfferClick:t.props.onOfferClick})},selectedSku:t.props.skuInContext})}))})))}();return a}},{key:"generateConditions",value:function(e){var t=this,a=[],n=function(){return _(d.Fragment,null,_("b",null,"Uh-oh!"),_("br",null)," This item is out of stock right now.")};for(var o in e)e[o].data&&function(){var i=e[o].data,r=i.isEndOfSku,s=!r||i.skuId===t.props.data.selectedSku.skuId,c=N()(i,"condition.displayName",""),l=N()(i,"condition.key","");c=c&&"string"===typeof c?c.charAt(0).toUpperCase()+c.slice(1):"",s&&a.push(_(z,{disabled:!r||!i.effectiveOutOfStock,tooltipContent:_(n,null)},(function(e,a){return _(b.a,{key:i.condition.key,value:i.skuId,name:"Condition",displayName:N()(i,"condition.alternateName","")||c,id:l,ariaLabel:c,disabled:r,options:{fullWidth:!0,buttonClasses:"flex-column pad-xs",zIndex:1},ref:function(t){e(t),a(t)},deviceType:t.deviceType(),skuInContext:i,dataQa:"".concat(t.props.dataQa,"-Condition-").concat(c.replace(/\s/g,""))},(function(e){return _(S.a,{isSelected:e,skuId:i.skuId,displayValue:c,radioSubContent:function(e,a){return _(x.a,{isSelected:e,isAccessory:t.props.isAccessory,priceOption:a,onLegalClick:t.props.onLegalClick,onOfferClick:t.props.onOfferClick})},selectedSku:t.props.skuInContext})}))})))}();return a}}]),a}(d.Component);Object(l.a)(G,"contextType",w.a),function(e){e[e.SELECTED=1]="SELECTED",e[e.AVAILABLEINCONFIG=2]="AVAILABLEINCONFIG",e[e.NOTAVAILABLEINCONFIG=3]="NOTAVAILABLEINCONFIG",e[e.OUTOFSTOCK=4]="OUTOFSTOCK"}(W||(W={}));var Q=G,q=a("JNjH"),X=d.createElement;function Z(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return K(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==a.return||a.return()}finally{if(s)throw i}}}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var Y,$=function(e){Object(r.a)(a,e);var t=J(a);function a(e){var o;Object(n.a)(this,a),o=t.call(this,e),Object(l.a)(Object(i.a)(o),"reporting",void 0),Object(l.a)(Object(i.a)(o),"specialOffersLegalRef",void 0);var r={inTheBoxContent:[],isModalOpen:!1,overviewContent:[],showOffersRibbon:!1,specsContent:[],shouldShowMobileHeader:!0,selectedSku:e.data.selectedSku};return o.state=r,o.reporting=new T.a,o.updateQuantity=o.updateQuantity.bind(Object(i.a)(o)),o.specialOffersLegalRef=d.createRef(),o}return Object(o.a)(a,[{key:"updateQuantity",value:function(e){this.props.onQuantityUpdate(e+1),this.setState({selectedQuantity:e+1})}},{key:"displayEOLContent",value:function(){var e=this.props.data.selectedSku.model||this.props.data.selectedSku.shortDisplayName,t=" - ".concat(this.props.data.selectedSku.color)||!1,a=" - ".concat(this.props.data.selectedSku.capacity)||!1;return X(d.Fragment,null,X("div",{className:p.showOnMobile},X("hr",{className:[p.divider,p.eolDivider].join(" ")})),X("div",{className:[p.eolText].join(" ")},"".concat(e+t+a," isn't available.")),this.props.data.rexRecommendationProducts&&this.props.data.rexRecommendationProducts.length>0&&X(m.a,{ariaLabel:"Link to View similar devices",dataQa:"ProductRecommender-recommenderLink",events:{onClick:function(){return f.a.handleScrollToElement("recommender")}}},"View similar devices",X("span",{className:[u.attIcon,u.attIconStraightArrowRight,p.seeFeaturesArrow].join(" ")})),X("div",{className:p.showOnMobile},X("hr",{className:[p.divider,p.eolDivider].join(" ")})))}},{key:"render",value:function(){var e=this;return X(d.Fragment,null,this.props.data&&X(Q,{data:{selectedSku:this.props.data.selectedSku,allConfigs:this.generateAllConfigOptions(this.props.data.skuItems,this.props.data.selectedSku),accessoryQuantity:this.props.data.accessoryQuantity,appleWatchColorDetails:this.props.data.appleWatchColorDetails,updateHeroImgWithoutUpdatingSku:this.props.data.updateHeroImgWithoutUpdatingSku,skuItems:this.props.data.skuItems},deviceSubType:this.props.data.deviceSubType,deviceType:this.props.data.deviceType,dataQa:"".concat(this.props.dataQa,"-Options"),idpcmsCommonContent:Object(v.a)(this.props.data.idpcmsContentResponse,this.props.data.selectedSku).commonContent,planCmsContent:this.props.data.planCmsContent,isAccessory:this.props.data.isAccessory,configView:this.props.data.configView,learnViewPath:this.props.learnViewPath,tradeInConsented:this.props.tradeInConsented,portInConsented:this.props.portInConsented,nextUpConsented:this.props.nextUpConsented,hylaOfferCodeRetrieved:this.props.hylaOfferCodeRetrieved,events:{updateQuantity:this.updateQuantity,updateSelectedSku:function(t){return e.props.updateSelectedSku(t,e.context)}},skuInContext:this.props.data.selectedSku,onLegalClick:this.props.onLegalClick,onOfferClick:this.props.onOfferClick,widgetInFocus:this.props.widgetInFocus,collapseColor:this.props.collapseColor,collapseCapacity:this.props.collapseCapacity,updateChildCompStatusChange:this.props.updateChildCompStatusChange,colorChanged:this.props.colorChanged,capacityChanged:this.props.capacityChanged,cartDetails:this.props.cartDetails,updateWidgetinFocus:this.props.updateWidgetinFocus,rtiDisplayFlag:this.props.data.rtiDisplayFlag,rtiFunctionFlag:this.props.data.rtiFunctionFlag,urgencyMessage:this.props.data.urgencyMessage,upAlRadioCustomLayout:this.props.upAlRadioCustomLayout,childSkusEffectiveOutOfStockStatus:this.props.data.childSkusEffectiveOutOfStockStatus}),this.props.data.selectedSku.isEndOfSku&&this.displayEOLContent())}},{key:"generateAllConfigOptions",value:function(e,t){var a,n={},o={},i={},r=Z(e.sort(v.bc));try{for(r.s();!(a=r.n()).done;){var s=a.value;this.addSkuColor(s,t,n),this.addSkuCapacity(s,t,i),this.addSkuCondition(s,t,o)}}catch(u){r.e(u)}finally{r.f()}i=this.sortCapacitiesByMarketingPriority(e,i),o=this.sortConditionsByMarketingPriority(e,o);for(var c={},l=function(t,a){a[t]=e.filter((function(e){return e.color===t})).map((function(e){return e.effectiveOutOfStock}))},d=0,p=Object.keys(n);d<p.length;d++){l(p[d],c)}return{colors:n,capacities:i,conditions:o,checkOutOfStockByColor:c}}},{key:"sortConditionsByMarketingPriority",value:function(e,t){var a=new Set(Object.keys(t)),n=Array.from(a),o={};if(a.size>0){var i,r=Z(n=n.sort((function(e,t){return Y[e.toUpperCase()]-Y[t.toUpperCase()]})));try{for(r.s();!(i=r.n()).done;){var s,c=i.value,l=Z(e);try{for(l.s();!(s=l.n()).done;){s.value.condition.key===c&&(o[c]=t[c])}}catch(d){l.e(d)}finally{l.f()}}}catch(d){r.e(d)}finally{r.f()}}return o}},{key:"sortCapacitiesByMarketingPriority",value:function(e,t){var a=new Set(Object.keys(t)),n=Array.from(a),o={};if(a.size>0){var i,r=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}),s=Z(n=n.sort(r.compare));try{for(s.s();!(i=s.n()).done;){var c,l=i.value,d=Z(e);try{for(d.s();!(c=d.n()).done;){c.value.capacity===l&&(o[l]=t[l])}}catch(p){d.e(p)}finally{d.f()}}}catch(p){s.e(p)}finally{s.f()}}return o}},{key:"addSkuColor",value:function(e,t,a){var n={data:e,status:W.NOTAVAILABLEINCONFIG};e&&t&&N()(e,"condition.key")===N()(t,"condition.key")&&e.capacity===t.capacity&&(e.skuId===t.skuId&&(e.effectiveOutOfStock=t.effectiveOutOfStock),t.color===e.color?n.status=W.SELECTED:t.capacity===e.capacity&&t.condition.key===e.condition.key?n.status=W.AVAILABLEINCONFIG:n.status=W.NOTAVAILABLEINCONFIG,(!a[e.color]||e.uniqueURLName===t.uniqueURLName||a[e.color]&&a[e.color].status>n.status||a[e.color].data.effectiveOutOfStock&&!e.effectiveOutOfStock||a[e.color].data.isEndOfSku&&!e.isEndOfSku)&&(a[e.color]=n))}},{key:"addSkuCapacity",value:function(e,t,a){var n={data:e,status:W.NOTAVAILABLEINCONFIG};e&&t&&N()(e,"condition.key")===N()(t,"condition.key")&&e.color===t.color&&(e.skuId===t.skuId&&(e.effectiveOutOfStock=t.effectiveOutOfStock),t.capacity===e.capacity?n.status=W.SELECTED:t.color===e.color&&t.condition.key===e.condition.key?n.status=W.AVAILABLEINCONFIG:n.status=W.NOTAVAILABLEINCONFIG,(!a[e.capacity]||e.uniqueURLName===t.uniqueURLName||a[e.capacity]&&a[e.capacity].status>n.status||a[e.capacity].data.effectiveOutOfStock&&!e.effectiveOutOfStock||a[e.capacity].data.isEndOfSku&&!e.isEndOfSku)&&(a[e.capacity]=n))}},{key:"addSkuCondition",value:function(e,t,a){var n={data:e,status:W.NOTAVAILABLEINCONFIG};e&&t&&e.capacity===t.capacity&&e.color===t.color&&e.condition.key!==j.d.deviceCondition.preOwnedKey&&(e.skuId===t.skuId&&(e.effectiveOutOfStock=t.effectiveOutOfStock),t.condition.key===e.condition.key?n.status=W.SELECTED:t.color===e.color&&t.capacity===e.capacity?n.status=W.AVAILABLEINCONFIG:n.status=W.NOTAVAILABLEINCONFIG,(!a[e.condition.key]||e.uniqueURLName===t.uniqueURLName||a[e.condition.key]&&(a[e.condition.key].status>n.status||a[e.condition.key].data.effectiveOutOfStock&&!e.effectiveOutOfStock||a[e.condition.key].data.isEndOfSku&&!e.isEndOfSku))&&(a[e.condition.key]=n))}}]),a}(d.PureComponent);Object(l.a)($,"contextType",q.a),function(e){e[e.NEW=1]="NEW",e[e.REFURBISHED=2]="REFURBISHED",e[e.REFURB=2]="REFURB",e[e.PREOWNED=3]="PREOWNED",e[e.USED=3]="USED"}(Y||(Y={}))},Q8e8:function(e,t,a){"use strict";a.r(t);var n=a("+G8+");t.default=n.a},UwfX:function(e,t,a){"use strict";a.r(t);var n=a("H+61"),o=a("UlJF"),i=a("7LId"),r=a("VIvw"),s=a("iHvq"),c=a("q1tI"),l=a("/ZCH"),d=a("+Css"),p=a("QYB0"),u=a("vyOo"),m=c.createElement;function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var o=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var h=function(e){Object(i.a)(a,e);var t=f(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={showAllStoreHours:!1},o.toggleAllStoreHours=o.toggleAllStoreHours.bind(Object(d.a)(o)),o}return Object(o.a)(a,[{key:"renderAllStoreHours",value:function(e){var t=e.hours.split(","),a=[],n=new Date,o=0!==n.getDay()?n.getDay()-1:6;return t.forEach((function(t,n){var i=o===n?"type-sm font-medium":"type-sm font-regular";i+=" flex justify-between mar-b-none",o===n&&"Open "===e.storeStatus.slice(0,5)?a.push(m("p",{className:i,key:"".concat(e.id,"-").concat(n)},m("span",{className:"mar-r-lg"},t.substr(0,t.indexOf(" "))),m("span",null,e.storeStatus+" - "+e.todayshours.substr(e.todayshours.indexOf("-")+1)))):a.push(m("p",{className:i,key:"".concat(e.id,"-").concat(n)},m("span",{className:"mar-r-lg"},t.substr(0,t.indexOf(" "))),m("span",null,t.substr(t.indexOf(" ")+1))))})),e.notes&&a.push(m("p",{className:p.holidayMessage},e.notes)),a}},{key:"toggleAllStoreHours",value:function(){this.setState({showAllStoreHours:!this.state.showAllStoreHours})}},{key:"render",value:function(){return m("div",{className:"mar-t-xs"},m(u.a,{ariaLabel:"show or hide Store Hours",events:{onClick:this.toggleAllStoreHours},dataQa:"$-show/hideStoreHours",className:"color-ui-black"},"".concat(this.state.showAllStoreHours?"Hide":"Show all"," store hours"),m("span",{className:["mar-l-xs icon-chevron inline-block",this.state.showAllStoreHours?"rotate270":"rotate90"].join(" ")})),m("div",{className:"grid-col-10 ".concat(this.state.showAllStoreHours?"":p.hidden)},this.renderAllStoreHours(this.props.data.store).map((function(e){return e}))))}}]),a}(c.Component),g=a("eI37"),b=a("QYhm"),C=a.n(b),v=a("xLlQ"),y=a("Da3r"),k=a("U/e8"),O=c.createElement;function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var o=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var x=function(e){Object(i.a)(a,e);var t=S(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"formatTime",value:function(e,t){var a=e.split(":"),n=parseInt(a[0],10),o=n<12?"am":"pm",i=(n=0===n?12:n%12)+":"+a[1]+o,r=t.split(":"),s=parseInt(r[0],10);return o=s<12?"am":"pm",i+" - "+((s=0===s?12:s%12)+":"+r[1]+o)}},{key:"formatStandardTime",value:function(e){var t=e.split(":"),a=parseInt(t[0],10),n=a<12?" am":" pm";return(a=0===a?12:a%12)+":"+t[1]+n}},{key:"getTodaysHours",value:function(e){var t="";switch((new Date).getDay()){case 0:t=this.formatTime(e.sundayOpeningTime,e.sundayClosingTime);break;case 1:t=this.formatTime(e.mondayOpeningTime,e.mondayClosingTime);break;case 2:t=this.formatTime(e.tuesdayOpeningTime,e.tuesdayClosingTime);break;case 3:t=this.formatTime(e.wednesdayOpeningTime,e.wednesdayClosingTime);break;case 4:t=this.formatTime(e.thursdayOpeningTime,e.thursdayClosingTime);break;case 5:t=this.formatTime(e.fridayOpeningTime,e.fridayClosingTime);break;case 6:t=this.formatTime(e.saturdayOpeningTime,e.saturdayClosingTime)}return t}},{key:"getStoreHoursMessageUIS",value:function(e){var t="Now closed",a=l.closedMessage,n=e.storeStatus.toLowerCase();return"closing soon"===n||"opening soon"===n?(t=e.storeStatus,a=l.soonMessage):"open now"===n?(t=e.storeStatus,a=l.openMessage):"now closed"!==n&&"closed today"!==n||(t=e.storeStatus,a=l.closedMessage),O("p",null,O("span",{className:[a,l.storeHoursMessage].join(" ")},t),O("span",{className:"type-sm"}," "+e.todayshours))}},{key:"renderHours",value:function(){var e=this.getStoreHoursMessageUIS(this.props.data.currentStore);return O(c.Fragment,null,e,O(h,{data:{store:this.props.data.currentStore,storeHoursMessage:e.props.children}}))}},{key:"render",value:function(){var e=this;return O(c.Fragment,null,O("hr",{className:l.cardDivider}),O("div",{className:l.storeCardContainer},O("div",{className:l.cardHeader},O("span",{className:l.deliveryIcon},O(v.a,{icon:C.a,size:"45px"}),O("div",{className:l.iconText},this.props.data.index)),O("div",{className:l.storeTitleAndMiles},O("h3",{className:l.storeTitle},this.props.data.currentStore.mystore_name),O("p",{className:l.milesAway},this.props.data.currentStore.arcdist," miles from ",this.props.data.zipCode))),O("div",{className:"flex flex-column"},O("div",{className:l.storeAddressContainer},O("p",{className:l.subHeader},"address"),O("p",{className:l.storeAddress},this.props.data.currentStore.address1,this.props.data.currentStore.address2&&", "+this.props.data.currentStore.address2),O("p",{className:l.storeAddress},this.props.data.currentStore.city,", ",this.props.data.currentStore.region," ",this.props.data.currentStore.postal),O("p",{className:l.storeAddress},this.props.data.currentStore.phone),this.props.data.currentStore.addr_hint&&O("p",{className:l.stockMessage},this.props.data.currentStore.addr_hint),this.props.data.currentStore.availableQuantity<=this.props.data.displayQuantityThreshold&&O("p",{className:l.stockMessage},"Selling fast! Just ",this.props.data.currentStore.availableQuantity," left in stock."),this.props.data.currentStore.service.indexOf(231)>-1&&O("p",{className:l.curbsideAvailable},Object(k.U)(this.props.data.commonCmsContent,"curbsideAvailable",y.d.deliveryOptions.curbsideAvailable))),O("div",{className:"mar-t-xs mar-b-xs"},O("p",{className:l.subHeader},"today's hours"),this.renderHours())),O(g.c,{dataQa:"Click2StoreModal-StoreSelectButton",buttonConfig:{disabled:!1,primary:!0,type:[this.props.data.currentStore.id===this.props.data.activeStoreId?g.b.Ghost:g.b.Blue,g.b.Large]},events:{onClick:function(t){return e.props.data.updateStore(e.props.data.currentStore,"Pick this store",e.props.data.isAccessory?y.d.reporting.pageUrl.storeAvailModal.accessories:y.d.reporting.pageUrl.storeAvailModal.phones)}}},"Pick this store")))}}]),a}(c.Component);t.default=x},V91g:function(e,t,a){"use strict";var n=a("MX0m"),o=a.n(n),i=a("q1tI"),r=a.n(i),s=a("vJKn"),c=a.n(s),l=a("rg98"),d=a("H+61"),p=a("UlJF"),u=a("+Css"),m=a("7LId"),f=a("VIvw"),h=a("iHvq"),g=a("Bnuy"),b=a("vyOo"),C=a("AGoX"),v=a("buO3"),y=a("N1Ph"),k=a("xr5b"),O=a("eI37"),S=a("zm1R"),x=a("jXxo"),I=a("PoZn"),T=i.createElement;function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var L=function(e){Object(m.a)(a,e);var t=w(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={offerTitle:"",offerSubheading:"",offerDescription:"",offerImage:"",offerLegal:""},n.setStateWithOfferDetails=n.setStateWithOfferDetails.bind(Object(u.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;k.a.getOfferContent(this.props.data.offerId).then((function(t){e.setStateWithOfferDetails(t)}))}},{key:"setStateWithOfferDetails",value:function(e){this.setState({offerTitle:e.offername,offerSubheading:e.offerkey,offerDescription:e.shorttext,offerImage:"",offerLegal:e.longtext})}},{key:"render",value:function(){return T(S.b,{className:"rel nopad"},T(S.d,{className:"flex flex-items-stretch flex-column-sm"},T(S.a,{widthSm:12,width:8},T("div",{className:"jsx-2872593988 "+(v.offerContent||"")},T("h2",{dangerouslySetInnerHTML:{__html:this.state.offerTitle},className:"jsx-2872593988 "+(v.offerTitle||"")}),T("p",{dangerouslySetInnerHTML:{__html:this.state.offerSubheading},className:"jsx-2872593988 "+(v.offerDescriptionSmall||"")}),T("span",{dangerouslySetInnerHTML:{__html:this.state.offerDescription},className:"jsx-2872593988 "+(v.offerDescription||"")}))),T(S.a,{widthSm:12,width:4,className:"flex flex-items-center justify-center"},T("div",{className:"jsx-2872593988 full-width"},T(x.a,{imageProps:{src:this.props.data.imgUrl,alt:"Special Offer Device",placeholder:T(I.a,null)},shouldLazyLoad:!1})))),T(S.d,null,T(S.a,{className:"justify-center",widthSm:12},T("section",{className:"jsx-2872593988 "+(v.legalAccordion||"")},T(y.b,{title:"Legal",id:"specialOffersLegal",url:"",dataQa:"specialOffersLegal-Accordion"},T("div",{dangerouslySetInnerHTML:{__html:this.state.offerLegal},className:"jsx-2872593988 "+(v.offerLegal||"")}))))),T(S.d,null,T(S.a,{className:"justify-center flex",widthSm:12},T(O.c,{dataQa:"specialOffersModal",events:{onClick:this.props.data.closeModal},buttonConfig:{primary:!0,type:[O.b.Large,O.b.Short]}},"Continue"))),T(o.a,{id:"2872593988"},[".full-width.jsx-2872593988{height:330px;}"]))}}]),a}(i.Component),j=a("YSed"),P=a("8bTO"),N=i.createElement;function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var M=function(e){Object(m.a)(a,e);var t=D(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={activeOfferId:"",listOfOffers:[],specialOffersModalOpen:!1},n.openSpecialOffersModal=n.openSpecialOffersModal.bind(Object(u.a)(n)),n.closeSpecialOffersModal=n.closeSpecialOffersModal.bind(Object(u.a)(n)),n.populateListOfOffers=n.populateListOfOffers.bind(Object(u.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("prepaid"===this.props.data.paymentType){e.next=5;break}return e.next=3,this.populateListOfOffers(this.props.data.skuId).then((function(e){return e}));case 3:t=e.sent,this.setState({listOfOffers:t||[]});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.data.skuId===t.data.skuId||"prepaid"===this.props.data.paymentType){e.next=5;break}return e.next=3,this.populateListOfOffers(this.props.data.skuId).then((function(e){return e}));case 3:a=e.sent,this.setState({listOfOffers:a||[]});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"openSpecialOffersModal",value:function(e){this.setState({activeOfferId:e,specialOffersModalOpen:!0})}},{key:"closeSpecialOffersModal",value:function(){this.setState({specialOffersModalOpen:!1})}},{key:"populateListOfOffers",value:function(e){var t=this;this.props.onOffersApiComplete(!1);var a=[],n={};return j.a.getOffers(e).then((function(e){if(e&&e.methodReturnValues)return e.methodReturnValues.forEach((function(e,o){var r=e.offerDisplayName||e.description;"modal"!==(e.displayType||"")&&void 0===n[r]&&(n[r]=e.offerId,t.props.onOffersApiComplete(!0),a.push(N(i.Fragment,null,N("p",{className:g.offerMessageParagraph,"data-offerId":e.offerId,key:o},N(b.a,{events:{onClick:function(){return t.openSpecialOffersModal(e.offerId)}},dataQa:"SpecialOffers-offerLink",className:g.offerMessage,href:"#",reportingLinkUrl:"/products/offers/".concat(e.offerId,"/modal/")},r,N("span",{className:[P.attIcon,P.attIconStraightArrowRight,g.specialOffersArrow].join(" ")}))))))})),a.slice(0,2)}))}},{key:"render",value:function(){return N(i.Fragment,null,this.state.listOfOffers.length>0&&N("div",null,N("div",{className:g.listOfOffers},this.state.listOfOffers),"undefined"!==typeof document&&N(C.default,{isOpen:this.state.specialOffersModalOpen,onRequestClose:this.closeSpecialOffersModal},N(L,{data:{closeModal:this.closeSpecialOffersModal,imgUrl:this.props.data.imgUrl,offerId:this.state.activeOfferId}}))))}}]),a}(i.Component),A=a("O+sy"),E=a("k+ih"),R=i.createElement;function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var U=function(e){Object(m.a)(a,e);var t=F(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={offerLegal:"",offerSubheading:"",offerTitle:""},n.setStateWithOfferDetails=n.setStateWithOfferDetails.bind(Object(u.a)(n)),n}return Object(p.a)(a,[{key:"cmsOffersModalContent",value:function(){return R(i.Fragment,null,R("h2",{className:E.offerTitle,dangerouslySetInnerHTML:{__html:this.state.offerTitle}}),R("div",{className:"type-legal",dangerouslySetInnerHTML:{__html:this.state.offerLegal}}))}},{key:"componentDidMount",value:function(){var e=this;k.a.getCmsOfferLegal(this.props.data.cmsLegalPath).then((function(t){e.setStateWithOfferDetails(t)}))}},{key:"setStateWithOfferDetails",value:function(e){this.setState({offerLegal:e.longtext,offerSubheading:e.shorttext,offerTitle:e.offername})}},{key:"render",value:function(){return R(i.Fragment,null,this.cmsOffersModalContent())}}]),a}(i.Component),B=i.createElement;function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(f.a)(this,a)}}var _=function(e){Object(m.a)(a,e);var t=H(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={cmsLegalPath:"",cmsOffersModalOpen:!1,listOfOffers:[]},n.openCmsOffersModal=n.openCmsOffersModal.bind(Object(u.a)(n)),n.closeCmsOffersModal=n.closeCmsOffersModal.bind(Object(u.a)(n)),n.populateListOfOffers=n.populateListOfOffers.bind(Object(u.a)(n)),n.getCmsOfferCustomerType=n.getCmsOfferCustomerType.bind(Object(u.a)(n)),n}return Object(p.a)(a,[{key:"componentWillMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.populateListOfOffers(this.props.data.cmsOffersContent,this.props.data.customerProfile),this.setState({listOfOffers:t||[]});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.uniqueURLName!==t.uniqueURLName&&(a=this.populateListOfOffers(this.props.data.cmsOffersContent,this.props.data.customerProfile),this.setState({listOfOffers:a||[]}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"openCmsOffersModal",value:function(e,t,a){!0===e?this.setState({cmsLegalPath:a,cmsOffersModalOpen:!0}):!1===e&&""!==t&&(window.location.href=t)}},{key:"closeCmsOffersModal",value:function(){this.setState({cmsOffersModalOpen:!1})}},{key:"getCmsOfferCustomerType",value:function(e){var t=[];return e&&e.master&&!0===e.master.smbOffer&&t.push("CRU"),e&&e.master&&!0===e.master.iruOffer&&t.push("IRU"),e&&e.master&&!0===e.master.consumerOffer&&t.push("CON"),t}},{key:"checkCustomerType",value:function(e,t){return this.getCmsOfferCustomerType(e).includes(t.customerType)}},{key:"populateListOfOffers",value:function(e,t){var a=this;if(!e)return null;var n=[],o=!0,i="";return e&&e.master&&e.master.offerContainers&&e.master.offerContainers.forEach((function(e,r){var s=a.checkCustomerType(e,t);e&&e.master&&e.master.heading&&!0===e.master.showOffer&&!0===s&&(e.master.linkType&&e.master.linkURL&&"link"===e.master.linkType&&""!==e.master.linkURL&&(o=!1,i=e.master.linkURL),n.push(B("p",{className:A.offerMessageParagraph,"data-offerId":e.offerId,key:r},B(b.a,{events:{onClick:function(){return a.openCmsOffersModal(o,i,e.master.legal)}},dataQa:"CmsOffers-offerLink",className:A.offerMessage,href:"#"},e.master.heading,B("span",{className:[P.attIcon,P.attIconStraightArrowRight,A.cmsOffersArrow].join(" ")})))))})),n}},{key:"render",value:function(){return B(i.Fragment,null,this.state.listOfOffers.length>0&&B("div",null,"undefined"!==typeof document&&B(i.Fragment,null,B("div",{className:A.listOfOffers},this.state.listOfOffers),B(C.default,{isOpen:this.state.cmsOffersModalOpen,onRequestClose:this.closeCmsOffersModal},B(U,{data:{closeModal:this.closeCmsOffersModal,cmsLegalPath:this.state.cmsLegalPath}})))))}}]),a}(i.Component),V=a("U/e8"),W=r.a.createElement;t.a=function(e){var t=e.selectedSku,a=e.onShouldShowRibbon,n=e.deviceType,s=e.cmsData,c=e.customerProfile,l=e.hasCmsOffers,d=Object(i.useState)(""),p=d[0],u=d[1],m=Object(i.useState)(!1),f=m[0],h=m[1];return Object(i.useEffect)((function(){return function(){sessionStorage.getItem("offerId")?u(sessionStorage.getItem("offerId")):sessionStorage.getItem("offerBOGOid")&&u(sessionStorage.getItem("offerBOGOid"))}}),[]),Object(i.useEffect)((function(){a(f)}),[f]),""===p||s&&!t.effectiveOutOfStock&&!t.isEndOfSku?W("section",{className:"jsx-1863495496"},(l||f)&&W("div",{id:"specialOffersSection",className:"jsx-1863495496 offers block grad-purple-cobalt-135 color-ui-white text-center line-h-lg mar-b-xs"},"Special Offers"),""===p&&W(r.a.Fragment,null,W(M,{data:{imgUrl:Object(V.g)(t),skuId:t.skuId,paymentType:t.paymentType},onOffersApiComplete:h}),W(_,{data:{cmsOffersContent:s,customerProfile:c},deviceType:n,uniqueURLName:t.uniqueURLName})),W(o.a,{id:"1863495496"},[".offers.jsx-1863495496{width:100%;height:24px;font-size:14px;font-weight:600;}"])):null}},Wazr:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return J}));var n=a("HALo"),o=a("vJKn"),i=a.n(o),r=a("cpVT"),s=a("rg98"),c=a("xvhg"),l=a("q1tI"),d=a("Vvt1"),p=a.n(d),u=a("zm1R"),m=a("qUTq"),f=a("aJ4A"),h=a("jKe7"),g=a("2INN"),b=a("de9S"),C=a("U/e8"),v=a("Da3r"),y=a("BTSr"),k=a("JNjH"),O=a("RrNd"),S=a("mwIZ"),x=a.n(S),I=a("OFL0"),T=a.n(I),w=a("E+oP"),L=a.n(w),j=a("psIL"),P=a("1LDu"),N=a("J2m7"),D=a.n(N),M=a("cq7Z"),A=a("Xugw"),E=a("m/R5"),R=a("zd1r"),F=a("Xzge"),U=a("BgAt"),B=a("LvDl"),H=a("kwE9"),_=l.createElement;function V(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return W(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==a.return||a.return()}finally{if(s)throw i}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Q=p()((function(){return Promise.resolve().then((function(){return a("Q8e8")}))}),{loadableGenerated:{webpack:function(){return["Q8e8"]},modules:["../src/pages/ProductDetailsUpAalPage/components/PscRouter/PscRouter.tsx -> ../ConfigView"]}}),q=p()((function(){return Promise.resolve().then((function(){return a("I4GN")}))}),{loadableGenerated:{webpack:function(){return["I4GN"]},modules:["../src/pages/ProductDetailsUpAalPage/components/PscRouter/PscRouter.tsx -> ../../../../common/components/EmailCaptureForm"]}}),X=p()((function(){return Promise.resolve().then((function(){return a("sKpN")}))}),{loadableGenerated:{webpack:function(){return["sKpN"]},modules:["../src/pages/ProductDetailsUpAalPage/components/PscRouter/PscRouter.tsx -> ../../../../common/components/AlertBox"]}}),Z=p()((function(){return Promise.resolve().then((function(){return a("9yiW")}))}),{loadableGenerated:{webpack:function(){return["9yiW"]},modules:["../src/pages/ProductDetailsUpAalPage/components/PscRouter/PscRouter.tsx -> ../PlansConfig"]}}),K=Object.freeze({PAY_OFF:"PAYOFF",PAY_UP:"PAYUP",RETURN_DEVICE:"RETURN_DEVICE"});function J(t){var a,o,r,d,p=t.pdpProps,S=t.pdpState,I=t.events,w="PDP",N=l.useState(!1),W=Object(c.a)(N,2),z=W[0],J=W[1],Y=l.useState(void 0),$=Object(c.a)(Y,2),ee=$[0],te=$[1],ae=l.useState(!0),ne=Object(c.a)(ae,2),oe=ne[0],ie=ne[1],re=l.useState(""),se=Object(c.a)(re,2),ce=se[0],le=se[1],de=l.useState(!0),pe=Object(c.a)(de,2),ue=pe[0],me=pe[1],fe=l.useState(""),he=Object(c.a)(fe,2),ge=he[0],be=he[1],Ce=l.useState(void 0),ve=Object(c.a)(Ce,2),ye=ve[0],ke=ve[1],Oe=l.useState(void 0),Se=Object(c.a)(Oe,2),xe=Se[0],Ie=Se[1],Te=l.useState(void 0),we=Object(c.a)(Te,2),Le=we[0],je=we[1],Pe=l.useState(void 0),Ne=Object(c.a)(Pe,2),De=Ne[0],Me=Ne[1],Ae=l.useState(void 0),Ee=Object(c.a)(Ae,2),Re=Ee[0],Fe=Ee[1],Ue=l.useState(void 0),Be=Object(c.a)(Ue,2),He=Be[0],_e=Be[1],Ve=l.useState(!1),We=Object(c.a)(Ve,2),ze=We[0],Ge=We[1],Qe=l.useState(!1),qe=Object(c.a)(Qe,2),Xe=qe[0],Ze=qe[1],Ke=l.useContext(y.a),Je=l.useContext(k.a),Ye=new M.a;l.useEffect((function(){p.isAuthenticated||console.log(" PSC ROUTER---Not Authenticated redirecting to postpaid home (/buy/postpaid/?wlsfi=up), auth flag",p.isAuthenticated)}),[]),l.useEffect((function(){if(!Object(C.Dc)("GET")){var e=p.editLosgId&&Ke.getItemByLosgId(p.editLosgId);p.editLosgId?e&&e.losgType&&Je.selectedContractTerm&&Je.selectedContractTerm.name&&(Object(C.sc)(Je),window.location.href=Object(C.Eb)(R.h,[e.losgType.toLowerCase(),S.selectedSku.skuId,p.editLosgId])):window.location.href=R.a}}),[p.editLosgId,Ke.cartItems,Je.selectedContractTerm]);var $e=function(){var t=Object(s.a)(i.a.mark((function t(a){var n,o,r,s,c,l,d,p,u,m;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Ke.getItemByLosgId(Ke.editLosgId),!(o=n&&n.items&&D()(n.items,{itemType:"device"}))||!o.productSKU){t.next=14;break}return a&&a.eventCode&&(r=G(G({},a),Object(C.tb)()),Ye.fireFormSubmitEvent(r.eventCode,r)),s=!1,c=!1,l=bt&&x()(bt,"wsceData",void 0),(d=l&&(null===l||void 0===l?void 0:l.selectedCTNforUpgrade))&&""!==d&&ct(bt,d)&&(c=!!(e&&localStorage&&localStorage.getItem("fnIntend")&&"existing"===localStorage.getItem("fnIntend")),s=null===bt||void 0===bt||null===(p=bt.wirelessResponse)||void 0===p?void 0:p.isFirstNet),t.next=11,Ke.addDeviceToCart(S.selectedSku,void 0,void 0,void 0,c,s);case 11:u=t.sent,a&&a.eventCode&&(m=G(G({},a),Object(C.tb)(u?1:-1)),Ye.fireFormResponseEvent(m.eventCode,m)),u||Ke.openAddToCartErrorModal();case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),et=function(e,t){I.pageLoadEvent(e,t,Ke)},tt=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,n,o,r,s,c,l,d,u,m,f,h,g;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=Object(C.Dc)("GET"),c=null===s||void 0===s||null===(t=s.wsceData)||void 0===t?void 0:t.selectedCTNforUpgrade,l=null===s||void 0===s||null===(a=s.wsceData)||void 0===a||null===(n=a.wlsfi)||void 0===n?void 0:n.toUpperCase(),d="",l===R.e.UP.toUpperCase()&&(null===p||void 0===p||null===(o=p.editLosgId)||void 0===o?void 0:o.length)>0&&T()(null===p||void 0===p?void 0:p.skinnyCartResponse,"content.payload.wirelessCart.losgs")&&(u=x()(null===p||void 0===p?void 0:p.skinnyCartResponse,"content.payload.wirelessCart.losgs"),m=null!==p&&void 0!==p&&p.editLosgId?u[null===p||void 0===p?void 0:p.editLosgId]:null,d=x()(m,"_extraParams.associatedCtn",""),L()(d)||(s.wsceData.selectedCTNforUpgrade=d,Object(C.Dc)("SET",s))),f=(null===(r=d)||void 0===r?void 0:r.length)>0?d:c,h=Object(C.Eb)(O.b.productDetailsUrls.userSpecificPricing,[S.selectedSku.productId,S.selectedSku.skuId,l]),l){e.next=9;break}return e.abrupt("return",Promise.reject.bind(Promise));case 9:return l===R.e.UP.toUpperCase()&&(h+="&subscriber=".concat(f)),g={"content-type":"application/json"},e.next=13,Object(C.p)(h,{method:"get",headers:g}).then((function(e){return e.ok?e.json():(Ze(!0),Promise.reject.bind(Promise))})).then((function(e){return e})).catch((function(e){return Promise.reject(e)}));case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),at=function(e){var t;if(e)for(var a in e)e[a].product.childSkus.forEach((function(e){e.skuId===S.selectedSku.skuId&&(t=e.marketingContent&&0!==e.marketingContent.length&&e.marketingContent[0].offerText)}));return t},nt=function(e,t,a){var n,o=Je.selectedPricingIndex,i=a&&a[S.selectedSku.skuId],r=i?i[o]:null;if((n=r&&r.promoPricing)&&0!==n.length){var s,c,l,d=null===(s=t[Object.keys(t)[0]].product.childSkus[0])||void 0===s||null===(c=s.price[0])||void 0===c?void 0:c.promoPricing;!function(e,t,a){var n,o,i=e&&e.find((function(e){return e.id===t}));i?i&&i.isOfferTrayEnabled?((n=i.marketingContent&&0!==i.marketingContent.length&&i.marketingContent[0].offerText)||(n=at(a)),o=!0):i&&!i.isOfferTrayEnabled&&((n=i.marketingContent&&0!==i.marketingContent.length&&i.marketingContent[0].offerText)||(n=at(a)),o=!1):(n=at(a),o=!1),n?(ie(!0),me(o),le(n),be(t)):ie(!1)}(e,null===(l=(Object(C.xc)(d)||"")[0])||void 0===l?void 0:l.promoReference,t)}else ie(!1)},ot=function(){var e=Object(s.a)(i.a.mark((function e(a,n){var o,r,s,c,l,d,p,u,m,f,h,g,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o="selectedstore",!1!==(r=Object(C.W)(document.cookie,o))&&(r=(r=r.replace("selectedstore=","")).split("|"),s=r[0].split("=")[1],c=r[1].split("=")[1]),l=t.pdpProps.skuInContext.paymentType,d="",(p=Object(C.X)(document.cookie,"attPersistantLocalization"))&&(null===(h=null===p||void 0===p||null===(f=p.replaceAll('"',""))||void 0===f?void 0:f.split("|"))||void 0===h||h.forEach((function(e){if(e.includes("zipCode=")){var t=e.split("=");m=t[1]}else if(e.includes("zip=")){var a=e.split("=");u=a[1]}}))),d=m||(r?c:u||t.pdpProps.userZipCodeResponse),g=a.join(","),b={},!g.length){e.next=13;break}return e.next=13,E.a.getProductfulfillment(g,d,!1,s,l).then((function(e){var t;if(ke(e),null!==e&&void 0!==e&&null!==(t=e.content)&&void 0!==t&&t.fulfillmentOptions){var a=function(t){var a,n,o;if((null===e||void 0===e||null===(a=e.content)||void 0===a||null===(n=a.fulfillmentOptions)||void 0===n||null===(o=n[t])||void 0===o?void 0:o.length)>0){var i=e.content.fulfillmentOptions[t].find((function(e){return"DF"===e.fulfillmentMethod}));return!(!i||void 0===i.available)&&i.available}return!1};for(var o in n.skuItems)b[n.skuItems[o].skuId]={isComingSoon:n.skuItems[o].isComingSoon,isPrePreOrder:n.skuItems[o].isPrePreOrder,effectiveOutOfStock:!n.skuItems[o].isComingSoon&&!a(n.skuItems[o].skuId)}}}));case 13:te(b);case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),it=function(e,t){if("object"!==typeof t)return!1;if(e&&t){var a=[],n=x()(e,"content.wireless.promotions");return Array.isArray(n)&&(a=n.filter((function(e){return!!e&&("standalone"===e.offerType&&T()(t,"".concat(e.id)))}))),!!a.length}return!1},rt=function(e){var t=[];e&&Object.keys(e).forEach((function(a){var n=e[a];t.push(n)})),Fe(t)},st=function(e,t){try{var a=Object(C.T)(e,!1);return!!j.a.fetchPricingLegalPathsFromCMS(t,a)}catch(n){return console.log("containsPricingLegalContent: Error fetching pricing legal paths: ",n),!1}},ct=function(e,t){if(e&&e.upgradeOptions&&e.upgradeOptions.upgradeEligibilityInfo&&e.upgradeOptions.upgradeEligibilityInfo.subscribers&&e.upgradeOptions.upgradeEligibilityInfo.subscribers.length>0)return void 0!==e.upgradeOptions.upgradeEligibilityInfo.subscribers.find((function(e){return t===e.subscriberNumber&&!0===e.isFirstNetLine}))},lt=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,n,o,r,s,c,l,d,u,m,f,h,g,b,v,y,k,O;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,Promise.resolve(tt()).then((function(e){e&&(t=e)}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("pricing.: Unable to get to",e.t0.message),Ze(!0);case 10:if(a=T()(t,"content.wireless.devices")&&!L()(t.content.wireless.devices)?t.content.wireless.devices:null,n=T()(t,"content.wireless.promotions")&&!L()(t.content.wireless.promotions)?t.content.wireless.promotions:null,o=T()(t,"content.wireless.features")&&!L()(t.content.wireless.features)?t.content.wireless.features:null,r=p.productField.details,s=function(e){return e.map((function(e){if(e&&e.promoPricing){var t=e.promoPricing.map((function(e){if(n&&e.promoReference&&n.length>0){var t=n.find((function(t){return t.id===e.promoReference}));if(t)return G(G({},e),{},{hylaOfferCode:t.hylaOfferCode})}return e}));return G(G({},e),{},{promoPricing:t})}return e}))},c=[],l={},d={},a){for(u in a)a[u].product.childSkus.forEach((function(e){r&&r.skuItems&&r.skuItems[e.skuId]&&r.skuItems[e.skuId].priceList&&(e&&e.price&&Object(B.isArray)(e.price)&&(r.skuItems[e.skuId].priceList=s(dt(e.price))),l[e.skuId]={isComingSoon:r.skuItems[e.skuId].isComingSoon,isPrePreOrder:r.skuItems[e.skuId].isPrePreOrder,effectiveOutOfStock:r.skuItems[e.skuId].effectiveOutOfStock}),c.push(e.skuId),d[e.skuId]=e.applicableFeatures}));_e(d)}m=window.location.search,f=new URLSearchParams(m),h=f.get("promoId")||void 0,g=f.get("promoType")||void 0,b=P.a.getProductPricing(r,p.idpcmsContent,p.commonCmsContent,t,S.selectedSku.skuId,p.IXPFeatureFlags,!0,h,g,p.planCmsContent),v=b.priceOptions,y=b.offerLegal,(k=Object(C.Dc)("GET"))&&k.wsceData&&k.wsceData.nextUpSelection&&k.wsceData.nextUpSelection.selectedOption&&(k.wsceData.nextUpSelection.selectedOption===K.PAY_UP||k.wsceData.nextUpSelection.selectedOption===K.RETURN_DEVICE)&&function(){var e=function(e){var t,a=[];if((a=e.filter((function(e){return("generictradein"===e.promoType||"tradein"===e.promoType)&&"nextTradeIn"===e.tradeInEligibilityReason})))&&a.length>0){var n=a.sort((function(e,t){return e.marketingPriority>t.marketingPriority?1:-1}));t=n&&n[0]&&n[0].monthlyPromoPrice}return t};for(var t in v){var a;null===(a=v[t])||void 0===a||a.map((function(t){if(t.promoPricing&&t.promoPricing.length>0){var a=e(t.promoPricing);a&&(t.displayPrice=a)}}))}}(),je(n),Me(a),Je.setPriceOptions(v),O=v&&v[Je.selectedSku.skuId]?v[Je.selectedSku.skuId][Je.selectedPricingIndex||0]:null,Je.setSelectedContractTerm(O),Ie(y),rt(o),Je.setContainsStandaloneOffers(it(t,y)),Je.setContainsPricingLegalContent(st(v,p.idpcmsContent)),te(l),nt(n,a,v),p.IXPFeatureFlags&&"true"===p.IXPFeatureFlags["pdp-rti-functionality"]&&ot(c,r);case 38:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();function dt(e){var t=[];return e&&e.length&&e.map((function(e){0===e.termLength?e.name="0":1===e.termLength?e.name="1":24===e.termLength?e.name="24":e.name=e.commitmentTerm,e.leaseTotalMonths=1===e.termLength||24===e.termLength?0:e.termLength,e.monthlyLeasePrice="monthly"===e.type?e.netPrice:0,e.type="monthly"===e.type?"lease":"regular",t.push(e)})),0===t.length?null:t}l.useEffect((function(){Je.priceOptions&&Object(C.m)(Je,Ke)}),[Je.priceOptions,Ke.cartItems,Ke.editLosgId]),l.useEffect((function(){var e=Ke.cartItems?Ke.cartItems:null,t=e&&e[0]&&e[0].device&&e[0].device;t&&t._prePreOrderIndicator&&Object(C.ic)("SET","true")}),[Ke.cartItems]),l.useEffect((function(){Object(C.Mb)(Le)||Object(C.Mb)(De)||Object(C.Mb)(Je.priceOptions)||nt(Le,De,Je.priceOptions)}),[S.selectedSku]),l.useEffect((function(){Object(C.Kb)()||lt()}),[]),l.useEffect((function(){if(Object(C.Kb)()){var e=Ke.cartItems?Ke.cartItems:null,t=e&&e.length>0&&e[0];t&&t.losgSubType&&!["AAL_OFF_EAP","AAL_ON_EAP"].includes(t.losgSubType)&&lt()}}),[Ke.cartItems]),l.useEffect((function(){Ke.customerIntent&&!Ke.editLosgId&&Ke.setChangePlanDevice(void 0)}),[Ke.isInitialized,Ke.customerIntent]);l.useEffect((function(){if(Ke.editLosgId){var e=Ke.getItemByLosgId(Ke.editLosgId),t=e&&e.items&&D()(e.items,{itemType:"device"});t&&t.productSKU&&t.productSKU===Je.selectedSku.skuId&&Ge(!0)}}),[Ke.isInitialized,Ke.editLosgId,Ke.cartItems]),l.useEffect((function(){if(Ke.editLosgId){var e=Ke.getItemByLosgId(Ke.editLosgId),t=e&&e.items&&D()(e.items,{itemType:"device"});t&&t.productSKU&&Ke.customerIntent===A.losgType.Upgrade&&t.productSKU!==Je.selectedSku.skuId&&Ke.removeDevice(t.id,Ke.editLosgId)}}),[Ke.isInitialized,Ke.editLosgId]);var pt=function(e){var t;return e&&e.details&&e.details.skuItems&&!Object(C.Mb)(ee)&&(t=Object.keys(e.details.skuItems).map((function(t){var a=e.details.skuItems[t].skuId;return ee&&ee[a]?G(G({},e.details.skuItems[t]),{},{effectiveOutOfStock:ee[a].effectiveOutOfStock}):G(G({},e.details.skuItems[t]),{},{effectiveOutOfStock:!0})})))?G(G({},e),{},{details:G(G({},e.details),{},{skuItems:t})}):e},ut=function(){var e,t=[];if(null!==S&&void 0!==S&&null!==(e=S.selectedSku)&&void 0!==e&&e.skuId&&He&&Re){var a,n,o=He[S.selectedSku.skuId],i=V(Re);try{for(i.s();!(n=i.n()).done;){var r;a=n.value,o&&o.indexOf(null===(r=a)||void 0===r?void 0:r.offerId)>-1&&t.push(a)}}catch(s){i.e(s)}finally{i.f()}}return Re},mt=Object(C.a)(p.idpcmsContent,S.selectedSku).commonContent,ft=p.IXPFeatureFlags&&"true"===p.IXPFeatureFlags["enable-uc2-firstnet"],ht=Object(C.lc)("fnIntend"),gt=["true","eligible","ineligible","eligible-pending"].indexOf(ht)>-1,bt=Object(C.Dc)("GET"),Ct=null===bt||void 0===bt||null===(a=bt.wsceData)||void 0===a?void 0:a.wlsfi,vt=Ct===R.e.UP?null===bt||void 0===bt||null===(o=bt.wirelessResponse)||void 0===o?void 0:o.isFirstNet:Ct===R.e.AL&&(null===bt||void 0===bt||null===(r=bt.wirelessResponseAl)||void 0===r?void 0:r.isFirstNet),yt={errorHeaderForExistingAttUser:x()(mt,"[0].master.modals.master.fnCtoErrorModal.master.existingAttUserheading",v.d.fnCtoErrorModal.existingAttUserheading),errorHeader:x()(mt,"[0].master.modals.master.fnCtoErrorModal.master.heading",v.d.fnCtoErrorModal.heading),errorBody:x()(mt,"[0].master.modals.master.fnCtoErrorModal.master.description",v.d.fnCtoErrorModal.description),errorButton:x()(mt,"[0].master.modals.master.fnCtoErrorModal.master.CTALabel",v.d.fnCtoErrorModal.CTALabel)},kt={errorHeader:x()(mt,"[0].master.modals.master.ctoErrorModal.master.heading",v.d.ctoErrorModal.heading),errorBody:x()(mt,"[0].master.modals.master.ctoErrorModal.master.description",v.d.ctoErrorModal.description),errorButton:x()(mt,"[0].master.modals.master.ctoErrorModal.master.CTALabel",v.d.ctoErrorModal.CTALabel)};return _(u.b,{type:u.c.FullWidth,className:"bg-ui-background-gray clearfix"},!ft&&!1===vt&&gt&&_(F.a,{isOpen:!0,headerMessage:yt.errorHeaderForExistingAttUser,bodyMessage:yt.errorBody,buttonText:yt.errorButton,buttonHandler:function(){return document.location.reload()},errorCode:""}),Xe&&1==vt&&_(F.a,{isOpen:Xe,headerMessage:yt.errorHeader,bodyMessage:yt.errorBody,buttonText:yt.errorButton,buttonHandler:function(){return document.location.reload()},errorCode:U.r.code}),Xe&&_(F.a,{isOpen:Xe,headerMessage:kt.errorHeader,bodyMessage:kt.errorBody,buttonText:kt.errorButton,buttonHandler:function(){return document.location.reload()},errorCode:U.r.code}),!Xe&&_(u.b,{className:"rel nopad"},z&&_(X,{data:{message:v.d.alertBoxMessages.alertMessageCRU,icon:v.a.alertIcon,closeAlertBox:function(){J(!1)}},dataQa:"".concat(w,"-DeviceConfig")}),(S.selectedSku.isComingSoon||(null===(d=S.selectedSku)||void 0===d?void 0:d.isPrePreOrder)&&Object(C.Tb)())&&_(q,{deviceName:S.selectedSku.model,manufacturer:S.selectedSku.manufacturer,content:function(){var e=x()(p.planCmsContent,"idp-cms-feed.productselectionconfig.contentFragments.common.master.emailSubscription",v.d.emailCapture),t="undefined";if(S.selectedSku.skuRelations.forEach((function(e){"conditionGroup"===e.key&&(t=e.value)})),e&&e.length&&e.length>0){var a=e.filter((function(e){return void 0!==e.master.conditionGroup}));if(a&&a.length>0&&a[0].master.conditionGroup.split(",").indexOf(t)>-1)return a[0].master;var n=e.filter((function(e){var t;return(null===(t=e.master.skuIds)||void 0===t?void 0:t.indexOf(S.selectedSku.skuId))>=0}));if(n&&n.length>0)return n[0].master;var o=e.filter((function(e){return"default"===e.master.skuIds}));return o&&o.length>0?o[0].master:v.d.emailCapture}return v.d.emailCapture}(),isAccessory:!1,skuInContext:S.selectedSku})),!Xe&&_(f.a,{history:S.history},_(h.a,null,_(g.a,{path:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName,"planconfig"),render:function(e){return _(Z,Object(n.a)({},e,{IXPFeatureFlags:p.IXPFeatureFlags,learnViewPath:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName),planCmsContent:p.planCmsContent,idpcmsContent:p.idpcmsContent,commonCmsContent:p.commonCmsContent,selectedSku:S.selectedSku,editLosgId:S.editLosgId,configViewPath:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName,m.a),dataQa:w,pageLoadEvent:et,customerProfile:p.profileInfo,catalogOffers:S.catalogOffers,isSmb:p.dtabCookieExists,updateEditLosgId:I.updateEditLosgId,deviceType:p.deviceType,deviceSubType:p.deviceSubType,priceOptions:Je.priceOptions,spoPromotions:Le,isFirstNetOn:p.isFirstNetOn,campaignId:p.campaignId}))}}),_(g.a,{path:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName,"choosenewplan"),render:function(e){return _(Z,Object(n.a)({},e,{IXPFeatureFlags:p.IXPFeatureFlags,learnViewPath:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName),planCmsContent:p.planCmsContent,idpcmsContent:p.idpcmsContent,selectedSku:S.selectedSku,editLosgId:S.editLosgId,configViewPath:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName,m.a),planChangeConfigViewPath:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName,"planchange"),chooseNewPlanConfigViewPath:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName,"choosenewplan"),dataQa:w,pageLoadEvent:et,customerProfile:p.profileInfo,catalogOffers:S.catalogOffers,isSmb:p.dtabCookieExists,updateEditLosgId:I.updateEditLosgId,deviceType:p.deviceType,deviceSubType:p.deviceSubType,priceOptions:Je.priceOptions,spoPromotions:Le,isFirstNetOn:p.isFirstNetOn,devices:De,campaignId:p.campaignId}))}}),_(g.a,{path:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName,"planchange"),render:function(e){return _(H.a,Object(n.a)({},e,{IXPFeatureFlags:p.IXPFeatureFlags,learnViewPath:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName),planCmsContent:p.planCmsContent,idpcmsContent:p.idpcmsContent,selectedSku:S.selectedSku,editLosgId:S.editLosgId,configViewPath:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName,m.a),chooseNewPlanConfigViewPath:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName,"choosenewplan"),dataQa:w,pageLoadEvent:et,customerProfile:p.profileInfo,catalogOffers:S.catalogOffers,isSmb:p.dtabCookieExists,updateEditLosgId:I.updateEditLosgId,deviceType:p.deviceType,deviceSubType:p.deviceSubType,priceOptions:Je.priceOptions,spoPromotions:Le,devices:De}))}}),_(g.a,{path:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName,m.a),render:function(e){return _(Q,Object(n.a)({},e,{IXPFeatureFlags:p.IXPFeatureFlags,customerProfile:p.profileInfo,isAccessory:!1,deviceType:p.deviceType,deviceSubType:p.deviceSubType,selectedSku:S.selectedSku,idpcmsContent:p.idpcmsContent,planCmsContent:p.planCmsContent,commonCmsContent:p.commonCmsContent,product:p.productField,dataQa:w,pageLoadEvent:et,learnViewPath:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName),dtabCookieExists:p.dtabCookieExists,updateSelectedSku:I.updateSelectedSku,editLosgId:S.editLosgId,updateEditLosgId:I.updateEditLosgId,planConfigViewPath:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName,"planconfig"),planChangeConfigViewPath:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName,"planchange"),chooseNewPlanConfigViewPath:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName,"choosenewplan"),insuranceList:ut(),priceOptions:Je.priceOptions,spoPromotions:Le,isFirstNetOn:p.isFirstNetOn,devices:De,campaignId:p.campaignId}))}}),_(g.a,{render:function(e){return _(b.a,Object(n.a)({},e,{IXPFeatureFlags:p.IXPFeatureFlags,configViewPath:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName,m.a),planConfigViewPath:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName,"planconfig"),planChangeConfigViewPath:I.generateNewAsUrl(p.deviceType,S.selectedSku.uniqueURLName,"planchange"),product:pt(p.productField),deviceType:p.deviceType,deviceSubType:p.deviceSubType,customerProfile:p.profileInfo,flowType:Object(C.cb)(p.deviceType),dataQa:w,pageLoadEvent:et,selectedSku:(a=S.selectedSku,Object(C.Mb)(ee)?G({},a):a.skuId&&ee&&ee[a.skuId]?G(G({},a),{},{effectiveOutOfStock:ee[a.skuId].effectiveOutOfStock}):G(G({},a),{},{effectiveOutOfStock:!0})),idpcmsContent:S.idpcmsContent?S.idpcmsContent:p.idpcmsContent,updateSelectedSku:I.updateSelectedSku,standaloneOffers:p.standaloneOffers,deviceLegalContent:p.deviceLegalContent,pricingLegalContent:p.pricingLegalContent,offerId:p.offerId,selectedPricingIndex:I.getSelectedPricingIndex(),priceOptions:Je.priceOptions,offerLegal:xe,hasCmsOffers:p.hasCmsOffers,isIdpEditAction:p.isIdpEditAction,openOfferTray:p.openOfferTray,openLegalModal:p.openLegalModal,isSkuOutOfStock:S.selectedSku.effectiveOutOfStock,dtabCookieExists:p.dtabCookieExists,commonCmsContent:p.commonCmsContent,planCmsContent:p.planCmsContent,updateEditLosgId:I.updateEditLosgId,cartContext:Ke,paymentInFull:p.paymentInFull,updateCart:$e,isAuthenticated:p.isAuthenticated,skusAvailabilityStatus:ee,showRibbon:oe,ribbonClickable:ue,ribbonContent:ce,promoOfferId:ge,userZipCodeResponse:t.pdpProps.userZipCodeResponse,fullFilmentDetails:ye,spoPromotions:Le,configOptionSelections:ze,editLosgId:S.editLosgId,customerOffers:p.customerOffers,isGreenroomCookie:p.isGreenroomCookie,isFirstNetOn:p.isFirstNetOn,devices:De,appleWatchColorDetails:p.appleWatchColorDetails,campaignId:p.campaignId}));var a}}))))}}).call(this,a("8oxB"))},cLnv:function(e,t,a){"use strict";var n=a("H+61"),o=a("UlJF"),i=a("7LId"),r=a("VIvw"),s=a("iHvq"),c=a("q1tI"),l=a("g4pe"),d=a.n(l),p=a("zd1r"),u=c.createElement;function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var o=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var f=function(e){Object(i.a)(a,e);var t=m(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"renderMetaData",value:function(){var e="AT&T",t="AT&T";this.props.postpaidIntent===p.e.UP.toUpperCase()?(e="phone upgrade, phone plan upgrade, tablet upgrade, smartwatch upgrade, line upgrade",t="Upgrade your AT&T cell phone, tablet, or smartwatch."):this.props.postpaidIntent===p.e.AL.toUpperCase()&&(e="add a line, add new phone, add a tablet, add a new line, add a smartwatch, add a hotspot",t="Add a new line for your AT&T cell phone, tablet, hotspot or smartwatch.");return u(c.Fragment,null,u("meta",{name:"keywords",content:e}),u("meta",{name:"description",content:t}),u("meta",{name:"robots",content:"NOINDEX,NOFOLLOW",key:"robotsKey"}))}},{key:"renderMetaOGData",value:function(){var e="AT&T",t="AT&T";this.props.postpaidIntent===p.e.UP.toUpperCase()?(e="AT&T | Upgrade",t="Upgrade your AT&T cell phone, tablet, or smartwatch."):this.props.postpaidIntent===p.e.AL.toUpperCase()&&(e="AT&T | Add A Line",t="Add a new line for your AT&T cell phone, tablet, hotspot or smartwatch.");return u(c.Fragment,null,u("meta",{property:"og:title",content:e}),u("meta",{property:"og:description",content:t}),u("meta",{property:"og:type",content:"website"}))}},{key:"render",value:function(){return u(d.a,null,this.renderMetaData(),this.renderMetaOGData())}}]),a}(c.Component);t.a=f},cWkm:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return Ne}));var n=a("HALo"),o=a("z7pX"),i=a("vJKn"),r=a.n(i),s=a("rg98"),c=a("H+61"),l=a("UlJF"),d=a("+Css"),p=a("7LId"),u=a("VIvw"),m=a("iHvq"),f=a("cpVT"),h=a("MX0m"),g=a.n(h),b=a("cr+I"),C=a.n(b),v=a("q1tI"),y=a("Vvt1"),k=a.n(y),O=a("0Yz8"),S=a("cq7Z"),x=a("wbWO"),I=a("lNN+"),T=a("maZt"),w=a("zm1R"),L=a("KSu9"),j=a("Da3r"),P=a("K+kS"),N=a("6A72"),D=a("Tewe"),M=a("n212"),A=a("J2m7"),E=a.n(A),R=a("zd1r"),F=a("n206"),U=a("kxwu"),B=a("U/e8"),H=a("P9a0"),_=a("kB7X"),V=a("BDI3"),W=a("Iia/"),z=a("P7d+"),G=a("V91g"),Q=a("8+N8"),q=a("7Okf"),X=a("JE1H"),Z=a("mwIZ"),K=a.n(Z),J=a("DzJC"),Y=a.n(J),$=a("BTSr"),ee=a("Ng6Z"),te=a("la6/"),ae=a("OS9q"),ne=a("yuA4"),oe=a("etCC"),ie=a("LEk/"),re=a("Xugw"),se=a("uVxl"),ce=a("C3wX"),le=a("nYSu"),de=a("7prA"),pe=a("l1Gu"),ue=a("LvDl"),me=a("EPIg"),fe=a("Yteo"),he=a("4rSl"),ge=a("KP4y"),be=v.createElement;function Ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(a),!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ye(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var ke,Oe=k()((function(){return Promise.resolve().then((function(){return a("JvuP")}))}),{ssr:!1,loadableGenerated:{webpack:function(){return["JvuP"]},modules:["../src/pages/ProductDetailsUpAalPage/components/PDP/PDP.tsx -> ../DeliveryMethods/FulfillmentOptions"]}}),Se=k()((function(){return Promise.resolve().then((function(){return a("4OqH")}))}),{ssr:!1,loadableGenerated:{webpack:function(){return["4OqH"]},modules:["../src/pages/ProductDetailsUpAalPage/components/PDP/PDP.tsx -> ../DeviceDetailsTab"]}}),xe=k()((function(){return Promise.resolve().then((function(){return a("/Q9M")}))}),{ssr:!1,loadableGenerated:{webpack:function(){return["/Q9M"]},modules:["../src/pages/ProductDetailsUpAalPage/components/PDP/PDP.tsx -> ../TradeIn"]}}),Ie=k()((function(){return Promise.resolve().then((function(){return a("JpNp")}))}),{ssr:!1,loadableGenerated:{webpack:function(){return["JpNp"]},modules:["../src/pages/ProductDetailsUpAalPage/components/PDP/PDP.tsx -> ../PortIn"]}}),Te=k()((function(){return Promise.resolve().then((function(){return a("nsYm")}))}),{ssr:!1,loadableGenerated:{webpack:function(){return["nsYm"]},modules:["../src/pages/ProductDetailsUpAalPage/components/PDP/PDP.tsx -> ../PricingTermsConfig"]}}),we=k()((function(){return Promise.resolve().then((function(){return a("74H1")}))}),{ssr:!1,loadableGenerated:{webpack:function(){return["74H1"]},modules:["../src/pages/ProductDetailsUpAalPage/components/PDP/PDP.tsx -> ../OfferTrayLoader/OfferTrayLoader"]}}),Le=k()((function(){return Promise.resolve().then((function(){return a("JSxr")}))}),{ssr:!1,loadableGenerated:{webpack:function(){return["JSxr"]},modules:["../src/pages/ProductDetailsUpAalPage/components/PDP/PDP.tsx -> ../PDPLinkFarms"]}}),je=k()((function(){return Promise.resolve().then((function(){return a("AGoX")}))}),{loadableGenerated:{webpack:function(){return["AGoX"]},modules:["../src/pages/ProductDetailsUpAalPage/components/PDP/PDP.tsx -> ../../../../common/components/Modal/Modal"]}}),Pe=k()((function(){return Promise.resolve().then((function(){return a("t6SV")}))}),{ssr:!1,loadableGenerated:{webpack:function(){return["t6SV"]},modules:["../src/pages/ProductDetailsUpAalPage/components/PDP/PDP.tsx -> ../OfferLegalModal"]}}),Ne=function(t){Object(p.a)(u,t);var i=ye(u);function u(e){var t;return Object(c.a)(this,u),t=i.call(this,e),Object(f.a)(Object(d.a)(t),"deviceConfig",void 0),Object(f.a)(Object(d.a)(t),"pdpMetaTags",void 0),Object(f.a)(Object(d.a)(t),"breadCrumbs",void 0),Object(f.a)(Object(d.a)(t),"pageTitle",void 0),Object(f.a)(Object(d.a)(t),"socialMedia",void 0),Object(f.a)(Object(d.a)(t),"productRecommender",void 0),Object(f.a)(Object(d.a)(t),"reporting",void 0),Object(f.a)(Object(d.a)(t),"offerTrayAnchor",void 0),Object(f.a)(Object(d.a)(t),"commonCmsContent",void 0),Object(f.a)(Object(d.a)(t),"configScroll",void 0),Object(f.a)(Object(d.a)(t),"tradeInEligible",void 0),Object(f.a)(Object(d.a)(t),"scrollCallBack",void 0),Object(f.a)(Object(d.a)(t),"nextUpRef",void 0),Object(f.a)(Object(d.a)(t),"fnIntendInd",ke.False),Object(f.a)(Object(d.a)(t),"updateChildCompStatusChange",(function(e){var a,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=Object(B.Dc)("GET"),i=null,r=null,s=null,c=null,l=null,d=null,p=function(){var e=window&&window.sessionStorage&&window.sessionStorage.getItem("selectedDeviceConfig");return!(!t.props.configOptionSelections&&!e)};if(!Object(B.Mb)(o)&&("color_change"===e?(a="Color_Configurator",t.state.capacityChanged&&t.state.priceChanged&&t.state.tradeinChanged&&t.state.portinChanged?d=null:t.state.capacityChanged&&t.state.priceChanged&&t.state.tradeinChanged?d="PORT-IN":t.state.capacityChanged&&t.state.priceChanged?d=t.state.showNextUp&&!t.state.nextUpConsented?"PDP-NEXTUP":"TRADE-IN":t.state.capacityChanged?d="PRICING-TERMS":t.props.selectedSku.capacity?d="CAPACITY":(d=t.state.priceChanged?t.state.showNextUp&&!t.state.nextUpConsented?"PDP-NEXTUP":"TRADE-IN":t.state.priceChanged&&t.state.tradeinChanged?null:"PRICING-TERMS",t.setState({collapseColor:!0}),r=!0),i=!0):"capacity_change"===e?(a="Capacity_Configurator",d=t.state.priceChanged&&t.state.tradeinChanged?null:t.state.priceChanged?t.state.showNextUp&&!t.state.nextUpConsented?"PDP-NEXTUP":"TRADE-IN":"PRICING-TERMS",r=!0):"price_change"===e&&t.state.showNextUp?(a="Price_Configurator",d="PDP-NEXTUP",s=!0):"pdp_nextup"===e&&t.state.showNextUp?(a="PDPNextUp_Configurator",d=t.state.tradeinChanged?null:"TRADE-IN",s=!0):"price_change"!==e||t.state.showNextUp?"tradein_change"===e?(a="TradeIn_Configurator",c=!0):"portin_change"===e&&(a="PortIn_Configurator",l=!0):(a="Price_Configurator",d=t.state.tradeinChanged?null:"TRADE-IN",s=!0),p()&&(i=!0,r=!0,s=!0,c=!0,l=!0,d=null),t.setState((function(e){return{colorChanged:null!==i?i:e.colorChanged,capacityChanged:null!==r?r:e.capacityChanged,priceChanged:null!==s?s:e.priceChanged,tradeinChanged:null!==c?c:e.tradeinChanged,portinChanged:null!==l?l:e.portinChanged,widgetInFocus:d}})),Object(B.Dc)("SET",o),"color_change"===e?a="Color_Configurator":"capacity_change"===e?a="Capacity_Configurator":"price_change"===e?a="Price_Configurator":"pdp_nextup"===e?a="PDPNextUp_Configurator":"tradein_change"===e?a="TradeIn_Configurator":"portin_change"===e&&(a="PortIn_Configurator"),a&&n))if(t.cartExisting()){var u=Object(B.Dc)("GET"),m=!Object(ue.isEmpty)(u)&&u.wsceData&&u.wsceData.wlsfi,f=t.props.cartContext&&t.props.cartContext.getItemByLosgId(t.props.cartContext.editLosgId),h=f&&f.losgType,g=m&&m.toUpperCase()===re.losgType.Upgrade?Object(ce.b)(re.losgType.Upgrade,null,null,null,h):Object(ce.b)(re.losgType.Al);t.updateCart(window.location.href,a,t.props.cartContext.priceConfigContext,g)}else t.fireLinkClickEvent(window.location.href,a)})),Object(f.a)(Object(d.a)(t),"showSeeAllDevicesLink",(function(){var e=Object(B.Dc)("GET"),a=t.props.cartContext&&t.props.cartContext.getItemByLosgId(t.props.cartContext.editLosgId);!Object(B.Mb)(e)&&e.wsceData&&e.wsceData.wlsfi&&e.wsceData.wlsfi===R.e.UP&&a&&a.losgType.toUpperCase()===re.losgType.Al?t.setState({showSeeAllDevicesLinkFlag:!1}):t.setState({showSeeAllDevicesLinkFlag:!0})})),Object(f.a)(Object(d.a)(t),"updateTradeInStatusChange",(function(e){var a=Object(B.Dc)("GET");Object(B.Mb)(a)||("tradein_change"===e&&("TradeIn_Configurator",t.setState({tradeinChanged:!0,widgetInFocus:"PORT-IN"})),Object(B.Dc)("SET",a))})),Object(f.a)(Object(d.a)(t),"updatePortInStatusChange",(function(e){var a=Object(B.Dc)("GET");Object(B.Mb)(a)||("portin_change"===e&&("PortIn_Configurator",t.setState({portinChanged:!0,widgetInFocus:null})),Object(B.Dc)("SET",a))})),Object(f.a)(Object(d.a)(t),"updateWidgetinFocus",(function(e){"color"===e?t.setState({widgetInFocus:"COLOR"}):"capacity"===e?t.setState({widgetInFocus:"CAPACITY"}):"price"===e?t.setState({widgetInFocus:"PRICING-TERMS"}):"tradein"===e?t.setState({widgetInFocus:"TRADE-IN"}):"portin"===e?t.setState({widgetInFocus:"PORT-IN"}):"pdpnextup"===e&&t.setState({widgetInFocus:"PDP-NEXTUP"})})),Object(f.a)(Object(d.a)(t),"handleNextUpSelection",(function(e,a){var n,o,i,r;t.setState({pdpNextUpValue:a});null===(n=Object(d.a)(t))||void 0===n||null===(o=n.props)||void 0===o||null===(i=o.cartContext)||void 0===i||null===(r=i.cartItems)||void 0===r||r.find((function(e){var t,a;if(null!==e&&void 0!==e&&null!==(t=e.extraParams)&&void 0!==t&&t.associatedCtn)return null===e||void 0===e||null===(a=e.extraParams)||void 0===a?void 0:a.associatedCtn}));t.state.showNextUp&&(0!==a&&1!==a||(t.setState({priceChanged:!0}),t.setState({nextUpConsented:!0})))})),Object(f.a)(Object(d.a)(t),"findMatchingPromoOfferId",(function(e,t){var a,n;return!!e.priceOptions&&(null===(a=e.priceOptions[null===(n=e.product)||void 0===n?void 0:n.id])||void 0===a?void 0:a.some((function(e){var a;return null===(a=e.promoPricing)||void 0===a?void 0:a.some((function(e){return e.promoReference===t}))})))})),Object(f.a)(Object(d.a)(t),"isPersonalizedCitiBankOfferApproved",(function(){var e,a,n,o,i,r,s,c;return(null===(e=t.props)||void 0===e||null===(a=e.customerProfile)||void 0===a?void 0:a.flowIndicator)===he.b.NEW||(null===(n=t.props)||void 0===n||null===(o=n.customerProfile)||void 0===o?void 0:o.flowIndicator)===he.b.UP||(null===(i=t.props)||void 0===i||null===(r=i.customerProfile)||void 0===r?void 0:r.flowIndicator)===he.b.AL&&!(null!==(s=t.props)&&void 0!==s&&null!==(c=s.customerProfile)&&void 0!==c&&c.applicationStatus)})),Object(f.a)(Object(d.a)(t),"invokePageFromHeader",(function(e,t){console.log("Clicked PDP link "+e+" url "+t)})),Object(f.a)(Object(d.a)(t),"headerLinkClick",(function(){Object(B.pc)(),t.reporting.fireLinkClickEvent({linkDestinationUrl:"/buy/postpaid/line-selection",linkName:"Edit",linkPosition:"Header"})})),Object(f.a)(Object(d.a)(t),"handleMakePaymentLinkClick",(function(){t.reporting.fireLinkClickEvent({linkDestinationUrl:"/acctmgmt/passthrough/makepayment",linkName:"Make a payment",linkPosition:"Body"})})),Object(f.a)(Object(d.a)(t),"getSeeAllDevicesLabel",(function(){var e=Object(B.a)(t.props.idpcmsContent,t.props.selectedSku).commonContent,a="";switch(t.props.selectedSku.deviceType){case"netbook":a=Object(B.U)(e,"seeAllTabletsLabel",j.d.seeAllDevices.seeAllTabletsLabel);break;case"network":a=t.props.selectedSku.deviceSubType&&"wearable"===t.props.selectedSku.deviceSubType?Object(B.U)(e,"seeAllSmartwatchesLabel",j.d.seeAllDevices.seeAllSmartwatchesLabel):t.props.selectedSku.deviceSubType&&"hotspot"===t.props.selectedSku.deviceSubType||"connecteddevice"===t.props.selectedSku.deviceSubType||"usbconnect"===t.props.selectedSku.deviceSubType||"gaming"===t.props.selectedSku.deviceSubType||"locator"===t.props.selectedSku.deviceSubType?Object(B.U)(e,"seeAllHotspotsLabel",j.d.seeAllDevices.seeAllHotspotsLabel):Object(B.U)(e,"seeAllSmartwatchesLabel",j.d.seeAllDevices.seeAllSmartwatchesLabel);break;default:a=Object(B.U)(e,"seeAllPhonesLabel",j.d.seeAllDevices.seeAllPhonesLabel)}return a})),Object(f.a)(Object(d.a)(t),"legalModalLinkClick",(function(e,a,n,o,i){var r={linkDestinationUrl:window.location.href,linkName:"see offers",linkPosition:"Body"};t.reporting.fireLinkClickEvent(r)})),Object(f.a)(Object(d.a)(t),"bannerPanelOnClick",(function(e,a,n){var o;o=a?e+" banner open":e+" banner closed";var i={linkDestinationUrl:window.location.href,linkName:o,linkPosition:"Body"};t.reporting.fireLinkClickEvent(i)})),Object(f.a)(Object(d.a)(t),"bannerCloseIconClick",(function(e){var a={linkDestinationUrl:window.location.href,linkName:e+" banner closed",linkPosition:"Body"};t.reporting.fireLinkClickEvent(a)})),Object(f.a)(Object(d.a)(t),"legalModalCloseIconClick",(function(e){var a={linkDestinationUrl:window.location.href,linkName:e+"legal modal closed",linkPosition:"Body"};t.reporting.fireLinkClickEvent(a)})),Object(f.a)(Object(d.a)(t),"onLegalModalLoadComplete",(function(e){var a={url:"/buy/postpaid/".concat(t.props.deviceType,"/details"),"page.pageInfo.friendlyPageName":e+" Banner Legal Modal","page.attributes.productType":"Postpaid"};t.reporting.firePageLoadEvent(a)})),Object(f.a)(Object(d.a)(t),"onBannerLoadComplete",(function(e,a){var n=[];a.map((function(e){"default"!==e.offerID&&n.push(e.offerID)})),t.setState({bannerOfferCategory:e}),t.setState({bannerOfferId:n});var o={url:window.location.href,contentFriendlyName:e+" banner"};t.reporting.fireImpression(o)})),Object(f.a)(Object(d.a)(t),"cartExisting",(function(){if(t.props.cartContext.editLosgId){var e=t.props.cartContext.getItemByLosgId(t.props.cartContext.editLosgId),a=e&&e.items&&E()(e.items,{itemType:"device"});return!(!a||!a.productSKU||a.productSKU!==t.props.selectedSku.skuId)}})),Object(f.a)(Object(d.a)(t),"validateTradeInSelection",(function(){return!t.tradeInEligible||!document.getElementById("TRADE-IN-anchor")||!(!document.getElementById("TRADE-IN-anchor")||!t.state.tradeinChanged)})),t.setShowSpecialOffersSection=t.setShowSpecialOffersSection.bind(Object(d.a)(t)),t.checkUserOptedForTradein=t.checkUserOptedForTradein.bind(Object(d.a)(t)),t.fireDisplayEvent=t.fireDisplayEvent.bind(Object(d.a)(t)),t.calcHeroBumper=t.calcHeroBumper.bind(Object(d.a)(t)),t.fireCtaReportingService=t.fireCtaReportingService.bind(Object(d.a)(t)),t.updateQuantity=t.updateQuantity.bind(Object(d.a)(t)),t.updateShowOfferTray=t.updateShowOfferTray.bind(Object(d.a)(t)),t.handleOfferTrayClose=t.handleOfferTrayClose.bind(Object(d.a)(t)),t.handleOfferVisible=t.handleOfferVisible.bind(Object(d.a)(t)),t.handleSeeLegalClick=t.handleSeeLegalClick.bind(Object(d.a)(t)),t.handleRibbonClick=t.handleRibbonClick.bind(Object(d.a)(t)),t.handleOfferLegalModalOpen=t.handleOfferLegalModalOpen.bind(Object(d.a)(t)),t.handleOfferLegalModalClose=t.handleOfferLegalModalClose.bind(Object(d.a)(t)),t.handleLongLegalModalOpen=t.handleLongLegalModalOpen.bind(Object(d.a)(t)),t.handleLongLegalModalClose=t.handleLongLegalModalClose.bind(Object(d.a)(t)),t.focus=t.focus.bind(Object(d.a)(t)),t.redirectToConfigView=t.redirectToConfigView.bind(Object(d.a)(t)),t.getLinkFarmDeviceType=t.getLinkFarmDeviceType.bind(Object(d.a)(t)),t.filterLinkFarmsContent=t.filterLinkFarmsContent.bind(Object(d.a)(t)),t.handleZoomBoxModalOpen=t.handleZoomBoxModalOpen.bind(Object(d.a)(t)),t.handleZoomBoxModalClose=t.handleZoomBoxModalClose.bind(Object(d.a)(t)),t.fireZoomBoxImageEvent=t.fireZoomBoxImageEvent.bind(Object(d.a)(t)),t.zoomBoxEvent=t.zoomBoxEvent.bind(Object(d.a)(t)),t.updateCart=t.updateCart.bind(Object(d.a)(t)),t.updateTradeInStatusChange=t.updateTradeInStatusChange.bind(Object(d.a)(t)),t.handlePersonalizedOfferCtaClick=t.handlePersonalizedOfferCtaClick.bind(Object(d.a)(t)),t.handlePersonalizedOfferVisible=t.handlePersonalizedOfferVisible.bind(Object(d.a)(t)),t.handlePersonalizedOfferModalCheckboxChanged=t.handlePersonalizedOfferModalCheckboxChanged.bind(Object(d.a)(t)),t.handlePersonalizedOfferModalCloseX=t.handlePersonalizedOfferModalCloseX.bind(Object(d.a)(t)),t.handlePersonalizedOfferModalVisible=t.handlePersonalizedOfferModalVisible.bind(Object(d.a)(t)),t.handlePersonalizedOfferModalCtaClicked=t.handlePersonalizedOfferModalCtaClicked.bind(Object(d.a)(t)),t.handlePersonalizedOfferModalImgLoad=t.handlePersonalizedOfferModalImgLoad.bind(Object(d.a)(t)),t.nextUpRef=v.createRef(),t.state={changeRatePlanRequired:!1,rexRecommendationProducts:[],showOfferTray:!1,showLongLegalModal:!1,showOfferLegalModal:!1,idpAccessoryDetails:null,showSpecialOffersSection:!1,selectedQuantity:1,heroBumper:0,heroHeight:0,ctaOffset:0,configScroll:void 0,isInitReportingTriggered:!1,isFirstNetCustomer:!1,showZoomBox:!1,zoomBoxActiveIndex:1,pdpNextUpValue:-1,sendZoomBoxSlideAnalytics:!1,impressionIndexList:[],bannerOfferId:[],bannerOfferCategory:void 0,widgetInFocus:e.editLosgId?"":"COLOR",collapseColor:!1,collapseCapacity:!1,collapseTradein:!1,collapsePricing:!1,collapseNextup:!1,collapsePortin:!1,colorChanged:!1,capacityChanged:!1,priceChanged:!1,tradeinChanged:!1,tradeinOpted:!1,portinChanged:!1,entryPoint:"",lastPage:"",urgencyMessage:"",showSeeAllDevicesLinkFlag:!0,nextUpConsented:!1,showAlertBanner:!1,hasRibbonBeenClicked:!1,isPriceOptionsLoaded:!1,heroImageSku:t.props.selectedSku.skuId,showNextUp:!1},t.offerTrayAnchor=v.createRef(),t.reporting=new S.a,t.scrollCallBack=null,Object(B.Cc)("simcard"===t.props.deviceSubType),t}return Object(l.a)(u,[{key:"calcHeroBumper",value:function(){return document.querySelector("#accordionGroup")?document.querySelector("#accordionGroup").offsetTop-10:0}},{key:"calcHeroMinHeight",value:function(){var e=document.querySelector(".sticky-container")?document.querySelector(".sticky-container").offsetHeight:0,t=document.querySelector(".header-section")?document.querySelector(".header-section").offsetHeight:0,a=document.querySelector(".ribbon-height")?document.querySelector(".ribbon-height").offsetHeight:0,n=document.querySelector(".config-section")?document.querySelector(".config-section").offsetHeight:0,o=document.querySelector(".sticky-cta")?document.querySelector(".sticky-cta").offsetHeight:0,i=document.querySelector(".features-section")?document.querySelector(".features-section").offsetHeight:0;return t+e+a>=n+o+i?e-i:0}},{key:"calcStickyOffset",value:function(){return window.innerHeight}},{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n,o,i,s,c,l,d,p,u,m,f,h,g,b,C,v,y,k,O,S,x,I,T,w,L,j,P=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Object(B.Dc)("GET"),s=null===i||void 0===i||null===(t=i.wirelessResponseAl)||void 0===t?void 0:t.isFirstNet,this.setState({isFirstNetCustomer:s}),window&&window.localStorage&&(this.fnIntendInd=window.localStorage.getItem("fnIntend")),this.props.isAuthenticated){e.next=7;break}return console.log(" PDP not authenticated "),e.abrupt("return");case 7:if(!(window.location.href.indexOf(".html")<0)){e.next=11;break}return e.next=10,Object(B.hb)();case 10:window.location.href=e.sent;case 11:Object(B.Mb)(i)||(this.tradeInEligible="PAYUP"!==(null===(c=i.wsceData.nextUpSelection)||void 0===c?void 0:c.selectedOption)&&"TRADEIN"!==(null===(l=i.wsceData.nextUpSelection)||void 0===l?void 0:l.selectedOption)&&"RETURNDEVICE-PAYOFF"!==(null===(d=i.wsceData.nextUpSelection)||void 0===d?void 0:d.selectedOption)&&"RETURN_DEVICE"!==(null===(p=i.wsceData.nextUpSelection)||void 0===p?void 0:p.selectedOption)),u=this.props.cartContext.priceConfigContext,m=null===u||void 0===u||null===(a=u.selectedContractTerm)||void 0===a||null===(n=a.commitmentTerm)||void 0===n?void 0:n.toUpperCase(),f=window&&window.sessionStorage&&window.sessionStorage.getItem("selectedDeviceConfig")&&JSON.parse(window.sessionStorage.getItem("selectedDeviceConfig")),h=null===u||void 0===u||null===(o=u.selectedSku)||void 0===o?void 0:o.priceList,g=null===h||void 0===h?void 0:h.find((function(e){return m===e.commitmentTerm})),b="lease"===(null===g||void 0===g?void 0:g.contractGroupType),C=m&&(m.startsWith("NE")||m.startsWith("SP")||m.startsWith("IP")),v=(null===g||void 0===g?void 0:g.monthlyNextUpCharge)>0,(this.props.configOptionSelections||f)&&(this.setState((function(){return{capacityChanged:!0}})),f&&f.commitmentTerm&&(this.setState((function(){return{tradeinChanged:!0}})),this.state.showNextUp&&(b&&C&&v?u.selectedPricingIndex=1:b&&C&&!v&&(u.selectedPricingIndex=0)),y=function(e){var t,a=u.priceOptions&&u.priceOptions[u.selectedSku.skuId]&&u.priceOptions[u.selectedSku.skuId][u.selectedPricingIndex];return a&&a.displayTradeIn&&a.displayTradeIn[e]?e:null===a||void 0===a||null===(t=a.displayTradeIn.DEFAULT)||void 0===t?void 0:t.hylaOfferCode},f.hylaTradeInIntentIndicator&&(k=f.hylaTradeInResponse,u.setIsTradeInSelected(!0),u.setHylaOfferCodeInContext(y(k.offerCode)),u.setHylaTradeInResponse(k)))),O=u&&u.selectedSku&&u.selectedSku.skuId?u.selectedSku.skuId:"",S=this.props.cartContext,x=S.getItemByLosgId(S.editLosgId),I=x&&x.items&&E()(x.items,{itemType:"device"}),T=I&&K()(I,"contractDetails._commitmentTermId",void 0),O&&T&&I&&I.productSKU===u.selectedSku.skuId&&"undefined"!==typeof(w=u&&u.priceOptions&&u.priceOptions[O]&&u.priceOptions[O].findIndex((function(e){return e.commitmentTermId===T})))&&w>-1&&(u.selectedPricingIndex=w,this.setState({nextUpConsented:!0})),this.updateQuantity(this.initialQuantityCheck()),Object(B.Sb)()&&(this.calcHeroBumper(),L={heroBumper:this.calcHeroBumper(),heroHeight:this.calcHeroMinHeight(),ctaOffset:this.calcStickyOffset()},this.setState(ve({},L)),window.addEventListener("scroll",Y()((function(){var e={heroBumper:P.calcHeroBumper(),heroHeight:P.calcHeroMinHeight(),ctaOffset:P.calcStickyOffset()};P.setState(ve({},e))}),1e3)),this.calcHeroMinHeight()),this.props.openOfferTray&&this.handleRibbonClick(),this.props.openLegalModal&&this.handleLongLegalModalOpen(),this.showSeeAllDevicesLink(),(j=x&&x.items&&E()(x.items,{itemType:"ATTNEXTUP_FEE"}))&&I&&(u.selectedPricingIndex=j?1:0),this.setState({showNextUp:Object(B.Qb)(this.props.cartContext)});case 35:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){this.state.widgetInFocus&&this.state.widgetInFocus!==t.widgetInFocus&&this.scrollToAnchorNeeded()&&this.scrollToAnchor(this.state.widgetInFocus),e.priceOptions!==this.props.priceOptions&&(this.setOfferTrayState(),this.setState({isPriceOptionsLoaded:!0}))}},{key:"componentWillReceiveProps",value:function(e){var t,a,n;this.state.showNextUp||Object(ue.isEmpty)(null===(t=e.cartContext)||void 0===t?void 0:t.cartItems)&&"al"!==(null===(a=Object(B.Dc)("GET"))||void 0===a||null===(n=a.wsceData)||void 0===n?void 0:n.wlsfi)||this.setState({showNextUp:Object(B.Qb)(e.cartContext)}),e.selectedSku.skuId!==this.props.selectedSku.skuId&&this.updateShowOfferTray(!1),e.cartContext.isInitialized&&!this.state.isInitReportingTriggered&&(this.setState({isInitReportingTriggered:!0}),this.showSeeAllDevicesLink(),this.props.pageLoadEvent("DSUP",void 0));var o=e.cartContext.priceConfigContext,i=o&&o.selectedSku&&o.selectedSku.skuId?o.selectedSku.skuId:"",r=e.cartContext,s=r.getItemByLosgId(r.editLosgId),c=s&&s.items&&E()(s.items,{itemType:"device"}),l=c&&K()(c,"contractDetails._commitmentTermId",void 0);if(i&&l&&c&&c.productSKU===o.selectedSku.skuId){var d=o&&o.priceOptions&&o.priceOptions[i]&&o.priceOptions[i].findIndex((function(e){return e.commitmentTermId===l}));"undefined"!==typeof d&&d>-1&&(o.selectedPricingIndex=d,this.setState({nextUpConsented:!0}))}}},{key:"fireLinkClickEvent",value:function(e,t){var a={linkDestinationUrl:e,linkName:t,linkPosition:"Body"};this.reporting.fireLinkClickEvent(a)}},{key:"redirectToConfigView",value:function(){var e=this,t=function(t){return e.props.cartContext.editLosgId?"".concat(t,"?edit=").concat(e.props.cartContext.editLosgId):t};if(this.props.cartContext.customerIntent===re.losgType.Al){var a,n,o=Object(B.Dc)("GET"),i=null===o||void 0===o||null===(a=o.wsceData)||void 0===a?void 0:a.accountType,r=null===o||void 0===o||null===(n=o.wsceData)||void 0===n?void 0:n.eligibleForNewPlan;i===R.f.MNM||i===R.f.LLP||r?this.props.history.push(t(this.props.planConfigViewPath)):"simcard"===this.props.deviceSubType?window.location.href="/buy/cart":this.props.history.push(t(this.props.configViewPath))}else!function(){if(e.props.IXPFeatureFlags&&"true"===e.props.IXPFeatureFlags["pdp-change-rate-plan"]){var a,n=e.props.cartContext||{},o=n.promotions,i=n.priceConfigContext,r=e.props,s=r.spoPromotions,c=r.devices,l=r.selectedSku,d=Object(B.Gb)(o,null===i||void 0===i||null===(a=i.selectedContractTerm)||void 0===a?void 0:a.commitmentTerm,s,c,l);e.props.cartContext.setIsCrpEligible(d),d?e.props.history.push(t(e.props.planChangeConfigViewPath)):e.props.history.push(t(e.props.configViewPath))}else e.props.history.push(t(e.props.configViewPath))}()}},{key:"scrollToAnchorNeeded",value:function(){return"CAPACITY"===this.state.widgetInFocus&&!this.state.capacityChanged||"PRICING-TERMS"===this.state.widgetInFocus&&!this.state.priceChanged||"PDP-NEXTUP"===this.state.widgetInFocus||"TRADE-IN"===this.state.widgetInFocus&&!this.state.tradeinChanged||"PORT-IN"===this.state.widgetInFocus&&!this.state.portinChanged}},{key:"scrollToAnchor",value:function(e){var t=document.getElementById("".concat(e,"-anchor"));t&&window.scrollTo({left:0,top:t.offsetTop,behavior:"smooth"})}},{key:"setOfferTrayState",value:function(){this.props.offerId&&""!==this.props.offerId&&this.findMatchingPromoOfferId(this.props,this.props.offerId)&&this.updateShowOfferTray(!0)}},{key:"zoomBoxEvent",value:function(e){var t=this.props.selectedSku.model;if("ZOOM_IN"===e.action){var a="".concat(this.props.selectedSku.manufacturer||"","_").concat(t,"_").concat(this.props.selectedSku.color,"_zoomIn");this.state.sendZoomBoxSlideAnalytics&&this.fireZoomBoxImageEvent(a),this.setState({sendZoomBoxSlideAnalytics:!1})}else if("SLIDE"===e.action){-1===this.state.impressionIndexList.indexOf(e.imageIndex)&&(this.reporting.fireImpression({componentName:"zoom",componentOrder:e.imageIndex+1,contentFriendlyName:"".concat(this.props.selectedSku.manufacturer||""," ").concat(t,"_").concat(this.props.selectedSku.color),contentProductGroup:this.getLinkFarmDeviceType(!1),contentSystem:"Static",contentSku:this.props.selectedSku.skuId,slotOrder:e.imageIndex+1}),this.setState({impressionIndexList:[].concat(Object(o.a)(this.state.impressionIndexList),[e.imageIndex])}))}}},{key:"fireZoomBoxImageEvent",value:function(e){var t={linkDestinationUrl:window.location.href,linkName:e,linkPosition:"Body"};this.reporting.fireLinkClickEvent(t)}},{key:"renderHeadContent",value:function(){return be(v.Fragment,null,this.props.IXPFeatureFlags&&"true"===this.props.IXPFeatureFlags["pdp-header-fallback"]?be(ie.a,{page:"simcard"===this.props.deviceSubType?M.b.PDP_BYOD:M.b.PDP,onEditClick:this.headerLinkClick}):be(pe.a,{currentPageId:"simcard"===this.props.deviceSubType?R.c.PSC_LEARN_BYOD:R.c.PSC_LEARN,invokePageFromHeader:this.invokePageFromHeader,losgId:this.props.editLosgId,deviceType:this.props.selectedSku.deviceType,deviceSubType:this.props.selectedSku.deviceSubType,uniqueURLName:this.props.selectedSku.uniqueURLName,history:this.props.history,priceOptions:this.props.priceOptions,spoPromotions:this.props.spoPromotions,IXPFeatureFlags:this.props.IXPFeatureFlags}))}},{key:"getUrgencyMessage",value:function(e){this.setState({urgencyMessage:e})}},{key:"fireDisplayEvent",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,n,o){var i,s,c,l,d,p,u,m,f,h,g,b,C,v,y=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(B.Sb)()&&setTimeout((function(){y.calcHeroMinHeight()}),100),s="",t.forEach((function(e){s="".concat(s?s+"|":"").concat(e)})),c="",this.props.IXPFeatureFlags&&"true"===this.props.IXPFeatureFlags["pdp-display-rti"]&&o&&(l=E()(o,{fulfillmentMethod:"DF"}),c=l&&K()(l,"statusMessage","")),d="details",p=R.g.friendlyPageName.PDPLearnPage,location.href.includes("planconfig")?(p=R.g.friendlyPageName.PDPPlanPage,d="planconfig"):location.href.includes("config")&&(d="config",p=R.g.friendlyPageName.PDPAddOnPage),u="/buy/postpaid/".concat(this.props.deviceType,"/").concat(d),this.getUrgencyMessage(c),m=Object(B.Dc)("GET"),f=!Object(ue.isEmpty)(m)&&m.wsceData&&m.wsceData.wlsfi,h=this.props.cartContext&&this.props.cartContext.getItemByLosgId(this.props.cartContext.editLosgId),g=h&&h.losgType,b=f&&f.toUpperCase()===re.losgType.Upgrade?Object(ce.b)(re.losgType.Upgrade,null,null,null,g):Object(ce.b)(re.losgType.Al),C=null!==m&&void 0!==m&&null!==(i=m.wirelessResponseAl)&&void 0!==i&&i.isFirstNet?1:0,v={cartFulfillmentMethodAvailable:s,cartFulfillmentMethodDefault:a,contractLength:n?n.leaseTotalMonths:null,contractType:n?n.name:null,deviceConditionAvailable:this.props.selectedSku.condition.displayName,displayedMessage:c||null,leadCaptureDisplayFlag:this.isDisplayingLeadCaptureContent(),statusCode:0,successFlag:1,eventCode:"DS_System_Device_Details_Displayed","page.location.url":u,"page.pageInfo.friendlyPageName":p,"page.pageInfo.flowCode":b,"page.attributes.productType":"Postpaid","user.firstNetFlag":C},this.reporting.fireSystemEvent(v.eventCode,v);case 18:case"end":return e.stop()}}),e,this)})));return function(t,a,n,o){return e.apply(this,arguments)}}()},{key:"focus",value:function(){this.offerTrayAnchor.current.focus()}},{key:"handleRibbonClick",value:function(){this.props.ribbonClickable&&(this.setState({hasRibbonBeenClicked:!0}),"true"===this.context.featureFlags["pdp-offertray"]?(this.updateShowOfferTray(!0),this.offerTrayAnchor.current&&focus()):Object(B.qc)("specialOffersSection"))}},{key:"updateShowOfferTray",value:function(e){this.setState({showOfferTray:e})}},{key:"handleOfferTrayClose",value:function(){this.updateShowOfferTray(!1),this.setState({isOfferTrayCloseIconClicked:!0})}},{key:"handleOfferVisible",value:function(e){var t=e.cms;this.reporting.fireImpression({contentFriendlyName:t.analytics_contentFriendlyName,contentProductGroup:t.analytics_contentProductGroup,variationID:t.variationID})}},{key:"handleSeeLegalClick",value:function(e){var t=e.cms;this.reporting.fireLinkClickEvent({linkPosition:"OfferTray-Carousel",linkDestinationUrl:"/buy/legal/".concat(t.offerId),linkName:t.legal.legalShortPath.master.shortLegalLinkLabel})}},{key:"handleLongLegalModalOpen",value:function(){this.setState({showLongLegalModal:!0})}},{key:"handleLongLegalModalClose",value:function(){this.fireLinkClickEvent(window.location.href,"Close"),this.setState({showLongLegalModal:!1})}},{key:"handleOfferLegalModalOpen",value:function(){this.setState({showOfferLegalModal:!0})}},{key:"handleOfferLegalModalClose",value:function(){this.fireLinkClickEvent(window.location.href,"Close"),this.setState({showOfferLegalModal:!1})}},{key:"handleZoomBoxModalOpen",value:function(e){this.setState({showZoomBox:!0,zoomBoxActiveIndex:e,sendZoomBoxSlideAnalytics:!0}),this.fireZoomBoxImageEvent("image_click"),this.zoomBoxEvent({action:"SLIDE",imageIndex:0})}},{key:"handleZoomBoxModalClose",value:function(){this.setState({showZoomBox:!1,impressionIndexList:[]});var e=this.props.selectedSku.model,t="".concat(this.props.selectedSku.manufacturer||"","_").concat(e,"_").concat(this.props.selectedSku.color,"_close");this.fireZoomBoxImageEvent(t)}},{key:"setShowSpecialOffersSection",value:function(e){this.setState({showSpecialOffersSection:e})}},{key:"checkUserOptedForTradein",value:function(e){e?this.setState({tradeinOpted:!0}):this.setState({tradeinOpted:!1})}},{key:"isDisplayingLeadCaptureContent",value:function(){var e,t;return this.props.selectedSku.isComingSoon||null!==(e=this.props)&&void 0!==e&&null!==(t=e.selectedSku)&&void 0!==t&&t.isPrePreOrder&&Object(B.Tb)()?1:0}},{key:"updateCart",value:function(e,t,a,n){var o=this.getReportingEventData(e,t,a,n);this.props.updateCart(o)}},{key:"fireCtaReportingService",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-2,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=this.getReportingEventData(e,t,a,o,i),s=ve(ve({},r),Object(B.tb)()),c=ve(ve({},r),Object(B.tb)(n));this.reporting.fireFormSubmitEvent(s.eventCode,s),this.reporting.fireFormResponseEvent(c.eventCode,c)}},{key:"getReportingEventData",value:function(e,t,a,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];function i(e){return e.preOrderable?"Pre-Order":e.preOwned||e.refurbished?e.preOwned&&!e.refurbished?"Pre-Owned":"Refurbished":"New"}var r="DEFAULT",s=a.isTradeInSelected?a.hylaOfferCodeInContext:r,c=a.priceOptions&&a.priceOptions[a.selectedSku.skuId]&&a.priceOptions[a.selectedSku.skuId][a.selectedPricingIndex],l=(c&&c.displayTradeIn[s],{});void 0!==a.isPortInSelected&&(l.itemLnpFlag=a.isPortInSelected?1:0);var d={},p={},u=sessionStorage.getItem("tempSharedOfferModalValues")&&JSON.parse(sessionStorage.getItem("tempSharedOfferModalValues"));void 0!==a.isTradeInSelected&&a.isTradeInSelected&&u&&(d.itemTradeInType=u.isHYLATradeIn?"tradeinpromotion":"generic",p.itemTradeInFlag=u.isHYLATradeIn?1:0);var m={"page.pageInfo.flowCode":n||"DSUP"},f="details";location.href.includes("planconfig")?f="planconfig":location.href.includes("config")&&(f="config");var h="/buy/postpaid/".concat(this.props.deviceType,"/").concat(f),g={"page.location.url":h},b=Object(B.Dc)("GET"),C=new Set,v=null;if(!Object(B.Mb)(b)&&b.wsceData&&b.wsceData.wlsfi&&b.wsceData.wlsfi===R.e.UP){var y,k=null===b||void 0===b||null===(y=b.wsceData)||void 0===y?void 0:y.selectedCTNforUpgrade,O=b.upgradeOptions&&b.upgradeOptions.upgradeEligibilityInfo&&b.upgradeOptions.upgradeEligibilityInfo.subscribers;O&&(v=O.find((function(e){return e.subscriberNumber===k})),O.forEach((function(e){e.availableUpgradeOptions&&e.availableUpgradeOptions.forEach((function(e){return C.add(e)}))})))}var S=this.state.isFirstNetCustomer?1:0,x=o?"DS_Add_To_Cart_Submit":"DS_Cart_Update_Submit",I="simcard"===this.props.deviceSubType?"postpaid BYOD":"postpaid",T=this.props.cartContext.getItemByLosgId(this.props.cartContext.editLosgId),w=(null===T||void 0===T?void 0:T.items)&&E()(T.items,{itemType:"ATTNEXTUP_FEE"}),L=[ve(ve(ve({itemCategory:"device",itemName:this.props.selectedSku.displayName,itemSku:this.props.selectedSku.skuId,itemQty:this.state.selectedQuantity||"1",itemOneTimePrice:this.props.selectedSku.priceList[0].listPrice,itemFullPrice:this.props.selectedSku.priceList[0].msrp,itemRecurringPrice:this.props.selectedSku.priceList[0].netPrice,itemOfferCategory:this.state.bannerOfferCategory,itemUpgradeTypeSelected:v&&v.availableUpgradeOptions?v.availableUpgradeOptions.join("|"):null,itemUpgradeTypeRecommended:C&&0===C.size?null:Array.from(C).join("|")},p),d),l)];w&&L.push({itemCategory:w.itemType,itemName:w.displayName,itemSku:w.productSKU,itemQty:w.quantity,itemRecurringPrice:w.price.amount,parentSku:a.selectedSku.skuId});var j=ve(ve({contractLength:a.selectedContractTerm?a.selectedContractTerm.leaseTotalMonths:null,contractType:a.selectedContractTerm?a.selectedContractTerm.name:null,eventCode:x,linkDestinationUrl:e,linkName:t,linkPosition:"Body","user.firstNetFlag":S,deviceConditionType:i(this.props.selectedSku),items:L,flowCode:n,productType:I},m),g);return j}},{key:"updateQuantity",value:function(e){this.setState({selectedQuantity:e})}},{key:"getRibbonContent",value:function(){if(""!==this.props.ribbonContent)return this.props.ribbonContent;var e=Object(B.a)(this.props.idpcmsContent,this.props.selectedSku).commonContent;return e&&e[0]&&e[0].master&&e[0].master.labels&&e[0].master.labels.master&&e[0].master.labels.master.offerRibbonTxt||"Special Offers"}},{key:"getCTAOffset",value:function(){if(screen)return screen.height-70}},{key:"initialQuantityCheck",value:function(){var e=this.state.selectedQuantity,t=C.a.parse(window.location.search),a=parseInt(t.quantity,10);return a?e=a:this.state.idpAccessoryDetails?this.state.idpAccessoryDetails.quantity:e}},{key:"getLinkFarmDeviceType",value:function(e){var t,a=K()(this.props,"deviceType",void 0);return Array.isArray(a)&&(a=a[0]),e?t="accessory":"devices"===a&&(t="device"),"prepaid"===K()(this.props,"selectedSku.paymentType",void 0)&&(t="prepaidpda"),t||(t=K()(this.props,"deviceSubType",void 0)),Array.isArray(t)&&(t=t[0]),t}},{key:"filterLinkFarmsContent",value:function(e){var t=[],a=K()(this.props,"commonCmsContent['idp-cms-feed'].pdpcommon.contentFragments.linkfarm",[]);if(Array.isArray(a))for(var n=0;n<a.length;n++){var o=a[n];if(K()(o,"master.productType",void 0)===e){t.push(o);break}if(-1!==K()(o,"master.deviceSubType",[]).indexOf(e)){t.push(o);break}if(void 0===K()(o,"master.deviceSubType",void 0)&&void 0===K()(o,"master.productType",void 0)){t.push(o);break}}return t}},{key:"renderPriceDetails",value:function(e,t,a){var n=Object(B.j)(e.priceConfigContext.selectedContractTerm,e.priceConfigContext,!0),o=Object(B.Dc)("GET"),i=!0;Object(B.Mb)(o)||this.state.colorChanged&&this.state.capacityChanged&&this.state.priceChanged||("0.00"===n.displayPrice||n.displayPrice<=0)&&(i=!1);var r=function(t){var a=function(e){return"monthly"===t?n.displayPrice&&"FREE"!==n.displayPrice&&"/mo."===n.displaySuffix&&i?n.displayPrice:"0.00":i&&"/mo."!==n.displaySuffix?n.displayPrice&&"FREE"!==n.displayPrice?n.displayPrice:"0.00":e?"string"===typeof e?e:Object(F.c)(e):"0.00"};if(e.editLosgId){var o=e.getItemByLosgId(e.editLosgId),r=o&&o.items&&E()(o.items,{itemType:"device"});return r&&r.productSKU===e.priceConfigContext.selectedSku.skuId&&e.orderPriceInfo?"monthly"===t&&void 0!==e.orderPriceInfo.dueMonthly?e.orderPriceInfo.dueMonthly?Object(F.c)(e.orderPriceInfo.dueMonthly):"0.00":"onetime"===t&&void 0!==e.orderPriceInfo.dueTodayTotalBeforeTax?e.orderPriceInfo.dueTodayTotalBeforeTax?Object(F.c)(e.orderPriceInfo.dueTodayTotalBeforeTax):"0.00":a():e.orderPriceInfo&&void 0!==e.orderPriceInfo.dueTodayTotalBeforeTax?a(e.orderPriceInfo.dueTodayTotalBeforeTax):a()}return a()},s=function(t){var a,n="string"!==typeof t?t.toString():t,o=e.priceConfigContext.selectedContractTerm;return o?n.indexOf(o.displayPrefix)>-1?n:(null!==(a=o.displayPrefix)&&void 0!==a?a:"$")+n:n};return be("div",{className:"flex ".concat(N.totalAmountContainer)},be("div",{className:"".concat(N.stickyBarTextMarginPDP," ").concat(N.stickybarTextStylePDP)},be("span",{className:"type-md font-bold color-ui-black"},s(r("monthly"))),be("span",{className:"type-xs uppercase color-ui-black font-medium mar-l-xxxs"},t)),be("span",{className:"".concat(N.dueTodayPartitionLine)},"|"),be("div",{className:"pad-l-xs ".concat(N.dueTodayText," ").concat(N.stickybarTextStylePDP)},be("span",{className:"type-md font-bold color-ui-black"},s(r("onetime"))),be("span",{className:"type-xs uppercase color-ui-black font-medium mar-l-xxxs"},a)))}},{key:"handlePersonalizedOfferVisible",value:function(e){var t=e.personalizedOffer;t&&this.reporting.fireImpression({componentName:"Offer Tile",contentFriendlyName:t.offerCategory+" tile",contentProductGroup:t.offerCategory,variationID:t.variationID,contentSystem:"AEM 6.4",slotOrder:t.offerSlotNumber,contentSku:this.props.selectedSku.skuId,segmentID:t.segmentID})}},{key:"handlePersonalizedOfferCtaClick",value:function(e){var t=e.personalizedOffer;t&&this.reporting.fireLinkClickEvent({componentName:"Offer Tile",contentFriendlyName:t.offerCategory+" tile",contentProductGroup:t.offerCategory,linkPosition:"Offer Tile",linkName:t.legalShortText,linkDestinationUrl:window.location.href,slotOrder:t.offerSlotNumber,contentSku:this.props.selectedSku.skuId,contentSystem:"AEM 6.4",variationID:t.variationID,segmentID:t.segmentID})}},{key:"handlePersonalizedOfferModalCheckboxChanged",value:function(e){var t=e.personalizedOffer;t&&this.reporting.fireLinkClickEvent({componentName:"Offer Modal (Checkbox changed)",contentFriendlyName:t.offerCategory+" Modal",contentProductGroup:t.offerCategory,linkPosition:"Offer Modal",linkName:t.modalCheckboxChecked?t.offerID+" Checked":t.offerID+" Unchecked",linkDestinationUrl:window.location.href,slotOrder:t.offerSlotNumber,contentSku:this.props.selectedSku.skuId,contentSystem:"AEM 6.4",variationID:t.variationID,segmentID:t.segmentID})}},{key:"handlePersonalizedOfferModalCloseX",value:function(e){var t=e.personalizedOffer;t&&this.reporting.fireLinkClickEvent({componentName:"Offer Modal (Close x)",contentFriendlyName:t.offerCategory+" Modal",contentProductGroup:t.offerCategory,linkPosition:"Offer Modal",linkName:t.offerID+" Modal Close",linkDestinationUrl:window.location.href,slotOrder:t.offerSlotNumber,contentSku:this.props.selectedSku.skuId,contentSystem:"AEM 6.4",variationID:t.variationID,segmentID:t.segmentID})}},{key:"handlePersonalizedOfferModalVisible",value:function(){this.reporting.firePageLoadEvent({url:"/citi/learnmore/modal","page.pageInfo.friendlyPageName":"DS Citibank Credit Card Learnmore Modal Pg"})}},{key:"handlePersonalizedOfferModalCtaClicked",value:function(e){var t=e.personalizedOffer;t&&this.reporting.fireLinkClickEvent({componentName:"Offer Modal (CTA clicked)",contentFriendlyName:t.offerCategory+" Modal",contentProductGroup:t.offerCategory,linkPosition:"Offer Modal",linkName:t.offerID+" "+t.buttonLabel,linkDestinationUrl:window.location.href,slotOrder:t.offerSlotNumber,contentSku:this.props.selectedSku.skuId,contentSystem:"AEM 6.4",variationID:t.variationID,segmentID:t.segmentID})}},{key:"handlePersonalizedOfferModalImgLoad",value:function(e){var t=e.personalizedOffer;t&&this.reporting.fireImpression({componentName:"Offer Modal (Img load)",contentFriendlyName:t.offerCategory+" Modal",contentProductGroup:t.offerCategory,variationID:t.variationID,contentSystem:"AEM 6.4",slotOrder:t.offerSlotNumber,contentSku:this.props.selectedSku.skuId,segmentID:t.segmentID})}},{key:"render",value:function(){var t,i,r,s,c,l,d,p,u,m,f=this,h=this.props.cartContext&&this.props.cartContext.priceConfigContext,b=h&&h.hylaOfferCodeInContext?h.hylaOfferCodeInContext:"DEFAULT",C=Object(B.z)(this.props.cartContext,this.props.priceOptions,this.props.spoPromotions),y=(null===(t=this.props.cartContext)||void 0===t||null===(i=t.customerIntent)||void 0===i?void 0:i.toUpperCase())===re.losgType.Al&&((null===C||void 0===C?void 0:C.hasTradeinOption)&&this.state.tradeinOpted&&C.hasPortinandTradeinOption||C&&C.hasPortinOption)&&"simcard"!==this.props.deviceSubType&&("pda"===this.props.selectedSku.deviceSubType||"basic"===this.props.selectedSku.deviceSubType||"smartphone"===this.props.selectedSku.deviceSubType),k=!1,S=this.props.selectedSku,M=this.props.selectedSku.manufacturer+" "+this.props.selectedSku.model,A=this.props.product&&this.props.product.compatibleDevices&&1===Object(B.xb)(this.props.product.compatibleDevices).length,E=this.getRibbonContent(),F=K()(this.props.planCmsContent,"idp-cms-feed.productselectionconfig.contentFragments",void 0),Z=K()(F,"priceBar.master.dueMonthlyText",j.d.priceBar.dueMonthlyText),J=K()(F,"priceBar.master.pscDueTodayText",j.d.priceBar.dueTodayText),Y=K()(F,"priceBar.master",{}),ie=K()(this.props,"commonCmsContent['idp-cms-feed'].pdpcommon.contentFragments.linkfarm",void 0),ce=this.getLinkFarmDeviceType(k),pe=K()(F,"modals"),ue=this.filterLinkFarmsContent(ce)[0],he=K()(F,"prePreOrder.master.pdppage.master",j.d.prePreOrder.time),Ce=K()(F,"prePreOrder.master.pdppage.master",j.d.prePreOrder.heading),ve=K()(F,"prePreOrder.master.pdppage.master",j.d.prePreOrder.description),ye=K()(F,"prePreOrder.master.pdppage.master",j.d.prePreOrder.eyebrowtext),ke=K()(F,"byod.master.heading",j.d.byodView.heading),Ne=K()(F,"byod.master.intro",j.d.byodView.intro),De=K()(F,"byod.master.priceLegalContent",j.d.byodView.priceLegalContent),Me=K()(F,"byod.master.activateSimHeader",j.d.byodView.activateSimHeader),Ae=K()(F,"byod.master.activateSimContent",j.d.byodView.activateSimContent),Ee=K()(F,"byod.master.activateSimLink",j.d.byodView.activateSimLink),Re=Ae.replace(Ee,'<a href="/buy/wireless/byod" class="color-ui-blue font-medium">'.concat(Ee,"</a>")),Fe=K()(F,"configLabels.master.pastDueAlertDesc",j.d.pastDueAmount.pastDueAlertDesc),Ue=this.props.IXPFeatureFlags&&"true"===this.props.IXPFeatureFlags["pdp-shippingicon"],Be=Object(o.a)(X.a.getCarouselImages(this.props.idpcmsContent,this.props.selectedSku.skuId)),He=Be.length>0?Be:[K()(this.props.selectedSku,"mediaTypes.images.masterImageUrl")],_e=this.props.IXPFeatureFlags&&"true"===this.props.IXPFeatureFlags["pdp-display-zoom"],Ve={};_e&&(Ve={imageClick:this.handleZoomBoxModalOpen});var We=K()(this.props.selectedSku,"mediaTypes.images.masterImageUrl"),ze=x.a.getDeviceImage(this.props.selectedSku),Ge=Object(B.eb)(We,ze),Qe=this.props.IXPFeatureFlags&&"true"===this.props.IXPFeatureFlags["pdp-signature-private-offer"],qe=this.props.IXPFeatureFlags&&"true"===this.props.IXPFeatureFlags["pdp-display-rti"],Xe=this.props.IXPFeatureFlags&&"true"===this.props.IXPFeatureFlags["pdp-rti-functionality"]&&"simcard"!==this.props.deviceSubType,Ze="postpaid"===this.props.selectedSku.paymentType,Ke=this.props.isAuthenticated,Je=Ze&&this.props.isFirstNetOn&&Ke&&Object(B.Nb)(),Ye=this.props.IXPFeatureFlags&&(this.props.isGreenroomCookie?"true"===this.props.IXPFeatureFlags["pdp-personalized-offer-greenroom"]:"true"===this.props.IXPFeatureFlags["pdp-personalized-offer"]),$e=this.props.IXPFeatureFlags&&(this.props.isGreenroomCookie?"true"===this.props.IXPFeatureFlags["pdp-personalized-citi-bank-offer-greenroom"]:"true"===this.props.IXPFeatureFlags["pdp-personalized-citi-bank-offer"]),et=this.props.IXPFeatureFlags&&"true"===this.props.IXPFeatureFlags["pdp-display-retailer-offers"],tt=K()(this.props,"commonCmsContent['idp-cms-feed'].pdpcommon.contentFragments.staticOffers.master",void 0),at=a("dxjd"),nt="undefined";null===(r=this.props.selectedSku)||void 0===r||null===(s=r.skuRelations)||void 0===s||s.forEach((function(e){"conditionGroup"===e.key&&(nt=e.value)}));var ot,it=function(){if(et){var e,t,a=window.sessionStorage.getItem("partnerAttributes");return t="UP"===Object(B.yb)()?"UP":"AL"===Object(B.yb)()?"AL":"NEW",a&&(null===(e=JSON.parse(a))||void 0===e?void 0:e.dealerCode)+"_"+t}},rt=function(){if(f.props.skusAvailabilityStatus){for(var e in f.props.skusAvailabilityStatus)if(!f.props.skusAvailabilityStatus[e].effectiveOutOfStock)return!1;return!0}},st=function(){return"simcard"===f.props.deviceSubType||!!(f.cartExisting()||dt(f.state.colorChanged)&&dt(f.state.capacityChanged)&&dt(f.state.priceChanged))&&(rt()||function(){if(f.props.skusAvailabilityStatus){for(var e in f.props.skusAvailabilityStatus)if(!(f.props.skusAvailabilityStatus[e].isComingSoon||f.props.skusAvailabilityStatus[e].isPrePreOrder&&Object(B.Tb)()))return!1;return!0}}()||f.cartExisting()||(dt(f.state.priceChanged)||f.props.selectedSku.isComingSoon)&&f.validateTradeInSelection()&&(!y||!document.getElementById("PORT-IN-anchor")||!(!document.getElementById("PORT-IN-anchor")||!f.state.portinChanged)))},ct=window&&window.sessionStorage&&window.sessionStorage.getItem("selectedDeviceConfig"),lt=ct&&(null===(c=JSON.parse(ct))||void 0===c?void 0:c.commitmentTerm),dt=function(e,t){var a=t?ct:lt;return!(!f.props.configOptionSelections&&!a)||e},pt=Object(de.b)(this.props.selectedSku.skuId,this.props.idpcmsContent),ut=pt&&this.props.IXPFeatureFlags&&"true"===this.props.IXPFeatureFlags["pdp-arvr"],mt=Object(B.Dc)("GET"),ft=(null!==(l=null===mt||void 0===mt||null===(d=mt.upgradeOptions)||void 0===d||null===(p=d.accountDetails)||void 0===p?void 0:p.pastDue)&&void 0!==l?l:0)>=35;(null===mt||void 0===mt||null===(u=mt.wsceData)||void 0===u?void 0:u.wlsfi)===R.e.UP&&null!==mt&&void 0!==mt&&null!==(m=mt.wsceData)&&void 0!==m&&m.selectedCTNforUpgrade&&(ot=mt.wsceData.selectedCTNforUpgrade);var ht=!this.props.paymentInFull&&"simcard"!==this.props.deviceSubType&&this.props.showRibbon&&(this.props.hasCmsOffers||""!==this.props.promoOfferId||this.state.showSpecialOffersSection),gt=this.props.IXPFeatureFlags&&this.props.IXPFeatureFlags["pdp-portin-aal"],bt="";bt=window.location.href;var Ct=function(e){f.setState({heroImageSku:e})};return be(v.Fragment,null,be(I.a.Consumer,null,(function(t){var a,i,r,s,c;return be(v.Fragment,null,Qe&&be(w.b,{className:"pad-l-none-md pad-l-none-sm pad-r-none-md pad-r-none-sm"},be(w.d,null,be(w.a,{width:12,className:"pad-t-none pad-b-none pad-l-none-md pad-l-none-sm pad-r-none-md pad-r-none-sm"},be(P.a,{pageID:"simcard"===f.props.deviceSubType?P.b.PSC_LEARN_BYOD:P.b.PSC_LEARN,id:"up_aal_psc_learn_sig_offer",expandOnLoad:!1,theme:P.c.DARK,legalModalLinkClick:f.legalModalLinkClick,onBannerLoadComplete:f.onBannerLoadComplete,bannerPanelOnClick:f.bannerPanelOnClick,bannerCloseIconClick:f.bannerPanelOnClick,legalModalCloseIconClick:f.legalModalCloseIconClick,onLegalModalLoadComplete:f.onLegalModalLoadComplete,selectedCTN:ot,fnIntent:Je,campaignIdHeader:f.props.campaignId})))),be("div",{className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])},Object(B.Ub)(f.props.selectedSku.saleStatus,f.props.IXPFeatureFlags)&&be(le.a,{endtime:null===he||void 0===he?void 0:he.time,fallbackText:Object(B.U)(f.props.commonCmsContent,"fallBackTextLabel",j.d.countDownTimerContent.fallBackTextLabel)||"",retainThemeOnFallback:!0,heading:null===Ce||void 0===Ce?void 0:Ce.heading,theme:le.b.LightBlue,eyebrowText:null===ye||void 0===ye?void 0:ye.eyebrowtext,description:null===ve||void 0===ve?void 0:ve.description})),f.props.IXPFeatureFlags&&"true"===f.props.IXPFeatureFlags["pdp-spo-device-details"]&&"true"===f.props.IXPFeatureFlags["pdp-alert-banner"]&&be(w.b,{className:"pad-l-md pad-r-md pad-l-none-md pad-l-none-sm pad-r-none-md pad-r-none-sm"},be(ee.a,{alertMessageContent:f.props.commonCmsContent,isAccessory:!1,selectedSku:f.props.selectedSku})),f.renderHeadContent(),!f.props.paymentInFull&&t&&t.featureFlags&&"true"===t.featureFlags["pdp-offertray"]&&"simcard"!==f.props.deviceSubType&&be(we,{showOfferTray:f.state.showOfferTray,skuId:f.props.selectedSku.skuId,customerType:f.props.customerProfile&&f.props.customerProfile.customerType,flowType:f.props.flowType,ref:f.offerTrayAnchor,offerId:f.props.offerId,events:{onCloseClicked:f.handleOfferTrayClose,onSeeLegalClicked:f.handleSeeLegalClick,onVisibleChanged:f.handleOfferVisible},promoOfferId:f.props.promoOfferId,commonCmsContent:f.props.commonCmsContent,displayOfferRibbon:ht,updateShowOfferTray:f.updateShowOfferTray,IXPFeatureFlags:f.props.IXPFeatureFlags,hasRibbonBeenClicked:f.state.hasRibbonBeenClicked,isPriceOptionsLoaded:f.state.isPriceOptionsLoaded,isOfferTrayCloseIconClicked:f.state.isOfferTrayCloseIconClicked,campaignId:f.props.campaignId}),be(je,{isOpen:f.state.showLongLegalModal,onRequestClose:f.handleLongLegalModalClose,modalContainerClassName:"banner-legal-borders",modalContentClassName:"modal-content pad-l-md pad-r-md pad-t-md pad-b-none type-base",modalRowClassName:"",modalCloseClassName:"close-button no-border",modalTextClassName:"type-legal",showSeperator:!0,width:6},be(ae.a.Consumer,null,(function(e){return be(te.a,{prop65Flag:!1,idpcmsContentResponse:f.props.idpcmsContent,priceOptions:f.props.priceOptions})}))),be(Pe,{data:{isOpen:f.state.showOfferLegalModal,onRequestClose:f.handleOfferLegalModalClose,containerClassName:"banner-legal-borders",contentClassName:"modal-content pad-l-md pad-r-md pad-t-md pad-b-none type-base",rowClassName:"",closeClassName:"close-button no-border",textClassName:"type-legal",showSeperator:!0,width:6},promoOfferId:f.props.promoOfferId,commonCms:f.props.commonCmsContent,conditionGroup:nt}),be("div",{className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])+" "+"container ".concat(N.bgContainer)},ft&&be("div",{key:Math.random(),className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])+" alert-pastdue"},be("div",{className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])},be(D.Alert,{type:"error"},be("div",{dangerouslySetInnerHTML:{__html:Fe},onClick:function(){return f.handleMakePaymentLinkClick()},className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])})))),lt?be("span",{className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])+" "+(N.spinner||"")},be(O.a,null)):be(w.a,{width:12,className:"pad-t-none pad-b-none ".concat(N.columnContainer)},be(w.b,{className:"ribbon-height bg-ui-white full-width-container z-index-1 nopad  mar-t-sm-lg mar-t-md-md mar-t-lg-sm"},be(w.d,{className:"flex ribbon-bumper col-pad-l"},be(w.a,{width:5,widthMd:6,widthSm:6,className:"header-section offset-desk mar-b-md flex pad-b-none pad-t-none rel flex-column nopad"},f.state.showSeeAllDevicesLinkFlag&&be("div",{className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])+" flex justify-between head-pad-l"},be(W.a,{deviceType:Object(B.M)(f.props.selectedSku.deviceType,f.props.selectedSku.deviceSubType,f.props.selectedSku.paymentType),seeAllDevicesLabel:f.getSeeAllDevicesLabel(),editLosgId:f.props.cartContext.editLosgId}),be("div",{className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])}))),be(w.a,{width:6,widthMd:6,widthSm:6,className:"rel nopad pad-l-xxs pad-r-md pad-r-none-md pad-r-none-sm left-col"},ht&&be("div",{className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])+" rel flex flex-items-center"},be(L.a,{onClick:f.handleRibbonClick,dataQa:"OffersRibbon-offerRibbonLink",reportingLinkName:E,isAccessory:!1,selectedSku:f.props.selectedSku,hasArrow:f.props.ribbonClickable,openOfferTray:"true"===t.featureFlags["pdp-offertray"]&&(f.props.hasCmsOffers||""!==f.props.promoOfferId)},E))))),be(je,{isOpen:f.state.showZoomBox,onRequestClose:f.handleZoomBoxModalClose,modalContainerClassName:"banner-legal-borders",modalContentClassName:"modal-content pad-l-md pad-r-md pad-t-md pad-b-none type-base",modalRowClassName:"",modalCloseClassName:"close-button no-border",modalTextClassName:"type-legal",showSeperator:!0,width:12},be(ne.a,{imageAlt:Object(B.Q)(f.props.selectedSku),imageArray:He,zoomScale:1.8,imageArrayActiveIndex:f.state.zoomBoxActiveIndex,events:{zoomBoxEvent:f.zoomBoxEvent}})),be(w.b,{id:"pageContainer",className:"bg-ui-white rel pad-t-xxs pad-r-none pad-l-none"},be(w.d,{className:"pad-l-none pad-r-none ".concat(N.configContainerRow)},be(w.a,{width:5,widthMd:6,widthSm:6,className:"offset-desk mar-b-md mar-b-sm-sm flex grid-col-5 grid-col-sm-12 pad-b-none pad-t-none rel flex-column nopad"},be(w.d,{className:"flex justify-center"},be("div",{className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])+" "+"productImageContainer grid-col-12 nopad ".concat("product")},be("div",{className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])+" "+"".concat(Object(B.Sb)()?"hero-wrapper":""," grid-col-12 full-width pad-t-none head-pad-r head-pad-l")},be("div",{className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])+" sticky-container pad-t-md pointer-enabled"},be("div",{className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])+" "+"full-width sticky-bumper ".concat(A&&"with-compatible"," grid-col-12 nopad ").concat(_e&&"zoomBoxEnable")},be(q.a,Object(n.a)({isConfig:!1,selectedSku:f.props.selectedSku,defaultImage:Ge,defaultAlt:Object(B.Q)(f.props.selectedSku),heroImages:Object(o.a)(X.a.getCarouselImages(f.props.idpcmsContent,f.state.heroImageSku))},Ve,{campaignId:f.props.campaignId})),(null!==(a=e)&&void 0!==a?ut:void 0)&&be(de.a,{productName:"3D ".concat(f.props.selectedSku.manufacturer," ").concat(f.props.selectedSku.model," model"),data:pt})),Ue&&be("div",{className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])+" flex flex-row justify-center"},Object(ge.a)(f.props.selectedSku.skuId,nt,f.props.deviceSubType,f.props.product.isAccessory?"accessory":"device",f.props.commonCmsContent).map((function(e){return be(fe.a,{text:e.master.text,icon:e.master.icon})})))))))),be(w.a,{width:5,widthMd:6,widthSm:6,className:"config-section ".concat(N.configSectionCol," ").concat(A&&"with-compatible")},be(w.d,{className:"flex-wrap"},be(w.a,{width:"simcard"===f.props.deviceSubType?10:8,widthMd:12,widthSm:12,className:"pad-l-none pad-t-none pad-b-none mobile-pad-l mobile-pad-r ".concat(A&&"with-compatible")},f.props.selectedSku.rating>0&&be("div",{className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])+" flex justify-between head-pad-r"},be(V.a,{data:{displayName:M||"",reviewCount:f.props.selectedSku.reviewCount?f.props.selectedSku.reviewCount:0,avgRating:f.props.selectedSku.rating?f.props.selectedSku.rating.toFixed(1):null,bvReviewsEnabled:f.props.selectedSku.hasBazaarVoiceReview},dataQa:"".concat(f.props.dataQa,"-Mobile-DeviceHeader")})),be(_.a,{data:{displayManufacturer:f.props.selectedSku.manufacturer,displayName:"simcard"===f.props.deviceSubType?ke:M||"",deviceCondition:f.props.selectedSku.condition,deviceIntro:"simcard"===f.props.deviceSubType?Ne:"",paymentType:f.props.selectedSku.paymentType},compatibleDevices:f.props.product&&f.props.product.compatibleDevices,dataQa:"".concat(f.props.dataQa,"-Mobile-DeviceHeader")})),be(w.a,{width:"simcard"===f.props.deviceSubType?2:4,widthMd:12,widthSm:12,className:"priceSummary-section pad-l-none pad-r-none pad-t-none pad-b-none mobile-pad-l mobile-pad-r ".concat(A&&"with-compatible")},!S.isEndOfSku&&be(Q.a,{selectedSku:f.props.selectedSku,isByod:"simcard"===f.props.deviceSubType,displayingLegalContent:!1,dataQa:f.props.dataQa,onLegalClick:f.handleLongLegalModalOpen,onOfferClick:f.handleOfferLegalModalOpen}))),!S.isEndOfSku&&be(Q.a,{selectedSku:f.props.selectedSku,displayingLegalContent:!0,dataQa:f.props.dataQa,onLegalClick:f.handleLongLegalModalOpen,onOfferClick:f.handleOfferLegalModalOpen,shortLegalOverride:"simcard"===f.props.deviceSubType?De:""}),(Ye||et)&&be(me.b,{externalStaticOffers:tt,externalCustomerOffers:f.props.customerOffers,pageId:"PSC_LEARN",offerType:"offertile",segments:[it()],campaignId:f.props.campaignId},be(me.a,{personalizedCitiBankOffer:$e&&f.isPersonalizedCitiBankOfferApproved(),personalizedOfferRibbon:Object(B.U)(Object(B.a)(f.props.idpcmsContent,f.props.selectedSku).commonContent,"personalizedOfferRibbon",j.d.personalizedOffers.personalizedOfferRibbon),personalizedOffersRibbon:Object(B.U)(Object(B.a)(f.props.idpcmsContent,f.props.selectedSku).commonContent,"personalizedOffersRibbon",j.d.personalizedOffers.personalizedOffersRibbon),personalizedOffersDescription:Object(B.U)(Object(B.a)(f.props.idpcmsContent,f.props.selectedSku).commonContent,"personalizedOffersDescription",j.d.personalizedOffers.personalizedOffersDescription),events:{onSeeLegalClicked:f.handlePersonalizedOfferCtaClick,onVisibleChanged:f.handlePersonalizedOfferVisible,onModalCheckboxChanged:f.handlePersonalizedOfferModalCheckboxChanged,onModalCloseX:f.handlePersonalizedOfferModalCloseX,onSeeModal:f.handlePersonalizedOfferModalVisible,onModalCtaClicked:f.handlePersonalizedOfferModalCtaClicked,onModalImgLoad:f.handlePersonalizedOfferModalImgLoad},offerTilesContainerClassName:N.fullBleed,parentDivClassName:"mar-t-sm-all",modalData:{unauthenticatedByDefault:!1,appName:"IDSE",attReturnUrl:"".concat(bt),checkboxLegalCtaButtonContainerClassName:"",checkboxLegalContainerClassName:"pad-t-sm",checkboxLabelClassName:"checkbox pad-none-all text-left flex-items-top inline-flex",checkboxSkinClassName:"checkbox-skin",checkboxLegalClassName:"type-legal",buttonContainerClassName:"flex flex-items-center justify-end pad-t-md",buttonClassName:"btn-primary-2",buttonBorderRadiusDesktop:"48px",buttonWidthDesktop:"152px",buttonBorderRadiusTablet:"201px",buttonBorderRadiusMobile:"32px",buttonWidthMobile:"100%",buttonHeightMobile:"32px"},applicationStatus:null===(i=f.props)||void 0===i||null===(r=i.customerProfile)||void 0===r?void 0:r.applicationStatus,campaignId:f.props.campaignId})),be($.a.Consumer,null,(function(e){return be(v.Fragment,null,be("div",{id:"COLOR-anchor",className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])}),be(H.a,{data:{idpcmsContentResponse:f.props.idpcmsContent,deviceType:f.props.deviceType,displayName:S.shortDisplayName,isAccessory:!1,selectedSku:S,skuItems:f.props.product&&f.props.product.details&&Object(B.yc)(f.props.product.details.skuItems),deviceSubType:f.props.deviceSubType,videoPromises:f.props.product&&f.props.product.videoPromises,rexRecommendationProducts:f.state.rexRecommendationProducts,accessoryQuantity:f.state.selectedQuantity,configView:!1,planCmsContent:f.props.planCmsContent,rtiDisplayFlag:qe,rtiFunctionFlag:Xe,urgencyMessage:f.state.urgencyMessage,childSkusEffectiveOutOfStockStatus:rt(),appleWatchColorDetails:f.props.appleWatchColorDetails,updateHeroImgWithoutUpdatingSku:Ct},dataQa:"".concat(f.props.dataQa,"-DeviceConfig"),pageLoadEvent:f.props.pageLoadEvent,updateSelectedSku:f.props.updateSelectedSku,onQuantityUpdate:f.updateQuantity,onLegalClick:f.handleLongLegalModalOpen,onOfferClick:f.handleOfferLegalModalOpen,widgetInFocus:f.state.widgetInFocus,collapseColor:dt(f.state.collapseColor,!0),collapseCapacity:dt(f.state.collapseCapacity,!0),updateChildCompStatusChange:f.updateChildCompStatusChange,colorChanged:f.state.colorChanged,capacityChanged:f.state.capacityChanged,cartDetails:e,updateWidgetinFocus:f.updateWidgetinFocus,upAlRadioCustomLayout:!0}))})),!S.isEndOfSku&&"simcard"!==f.props.deviceSubType&&be(v.Fragment,null,be("div",{id:"PRICING-TERMS-anchor",className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])}),be(Te,{selectedSku:f.props.selectedSku,dataQa:"".concat(f.props.dataQa,"-PricingTerms"),onLegalClick:f.handleLongLegalModalOpen,onOfferClick:f.handleOfferLegalModalOpen,widgetInFocus:f.state.widgetInFocus,collapsePricing:dt(f.state.collapsePricing),updateChildCompStatusChange:f.updateChildCompStatusChange,capacityChanged:f.state.capacityChanged,updateWidgetinFocus:f.updateWidgetinFocus})),!f.props.selectedSku.isEndOfSku&&f.state.showNextUp&&be(v.Fragment,null,be("div",{id:"PDP-NEXTUP-anchor",className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])}),be(U.a,{dataQa:"".concat(f.props.dataQa,"-PDPNextUp"),nextUpConsented:f.state.nextUpConsented,planCmsContent:f.props.planCmsContent,variantFlag:1,widgetInFocus:f.state.widgetInFocus,onSelection:f.handleNextUpSelection,refObj:f.nextUpRef,plansCmsFeed:f.props.planCmsContent,priceChanged:f.state.priceChanged,updateWidgetinFocus:f.updateWidgetinFocus,collapseNextup:dt(f.state.collapseNextup),updateChildCompStatusChange:f.updateChildCompStatusChange})),f.tradeInEligible&&be(v.Fragment,null,be(xe,{dataQa:"".concat(f.props.dataQa,"-TradeIn"),dtabCookieExists:f.props.dtabCookieExists,learnViewPropsState:f.props.location.state,skuId:f.props.selectedSku.skuId,onLegalClick:f.handleLongLegalModalOpen,onOfferClick:f.handleOfferLegalModalOpen,profileInfo:f.props.customerProfile,skuInContext:f.props.selectedSku,idpcmsContent:f.props.idpcmsContent,bgPageLoadEvent:f.props.pageLoadEvent,widgetInFocus:f.state.widgetInFocus,collapseTradein:dt(f.state.collapseTradein),updateChildCompStatusChange:f.updateChildCompStatusChange,priceChanged:f.state.priceChanged,updateWidgetinFocus:f.updateWidgetinFocus,updateTradeInStatusChange:f.updateTradeInStatusChange,optedForTradein:f.checkUserOptedForTradein,pdpNextUpValue:f.state.pdpNextUpValue,campaignId:f.props.campaignId})),gt&&y&&be(v.Fragment,null,be(Ie,{dataQa:"".concat(f.props.dataQa,"-PortIn"),IXPFeatureFlags:f.props.IXPFeatureFlags,learnViewPropsState:f.props.location.state,hylaOfferCodeRetrieved:b,onLegalClick:f.handleLongLegalModalOpen,onOfferClick:f.handleOfferLegalModalOpen,collapsePortin:dt(f.state.collapsePortin),updateChildCompStatusChange:f.updateChildCompStatusChange,widgetInFocus:f.state.widgetInFocus,updateWidgetinFocus:f.updateWidgetinFocus,updatePortInStatusChange:f.updatePortInStatusChange,displayPortin:y,priceChanged:f.state.priceChanged,tradeinChanged:f.state.tradeinChanged,selectedSku:f.props.selectedSku})))),"simcard"===f.props.deviceSubType&&"prepaid"!==f.props.selectedSku.paymentType&&f.props.IXPFeatureFlags&&"true"===f.props.IXPFeatureFlags["pdp-byod-show-activation-section"]&&be(w.d,null,be(w.a,{width:5,offset:6,widthMd:6,"grid-col-5":!0,"grid-col-6-md":!0,className:"pad-none-sm pad-t-none pad-r-none pad-b-none mar-b-sm mar-t-xs"},be("div",{className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])},be(se.a,{space:24,topSpace:0}),be("div",{className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])+" pad-l-lg-sm pad-r-lg-sm"},be("div",{className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])+" type-base font-medium"},Me),be("div",{dangerouslySetInnerHTML:{__html:Re},className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])+" mar-t-sm font-regular activate-sim-link type-sm"})),be(se.a,{space:0,topSpace:32})))),be(w.d,{className:"col-pad-l row-pad-r margin-custom"},be(w.a,{width:5,offset:1,widthMd:5,className:"pad-b-none pad-t-none hero-min-height"}),be(w.a,{width:5,widthMd:6,className:"features-section pad-b-none pad-t-none mobile-pad-l mobile-pad-r"},!f.props.selectedSku.isEndOfSku&&"simcard"!==f.props.deviceSubType&&(!Xe||f.props.fullFilmentDetails&&f.props.fullFilmentDetails.content)&&!(null!==(s=f.props)&&void 0!==s&&null!==(c=s.selectedSku)&&void 0!==c&&c.isPrePreOrder)&&be(Oe,{billCode:f.props.selectedSku.billCode,deviceName:f.props.selectedSku.model,skuId:f.props.selectedSku.skuId,effectiveOutOfStock:f.props.selectedSku.effectiveOutOfStock,isComingSoon:f.props.selectedSku.isComingSoon,isPrePreOrder:f.props.selectedSku.isPrePreOrder,isEndOfSku:f.props.selectedSku.isEndOfSku,rtiFunctionFlag:Xe,onFinished:f.fireDisplayEvent,dataQa:"".concat(f.props.dataQa,"-DeliveryMethods"),disableC2S:f.props.selectedSku.preOrderable||f.props.product&&f.props.product.details&&f.props.product.details.suppressClickToStore||"true"!==t.featureFlags["pdp-bopis-ignoreflow"]&&f.props.selectedSku.skuExcludedFromBOPISForFlow||!f.props.selectedSku.retailAvailable,disableSDD:f.props.selectedSku.preOrderable||f.props.product&&f.props.product.details&&f.props.product.details.suppressEnjoyShipping||!f.props.selectedSku.rtgPremiumQualifying&&!f.props.selectedSku.rtgDropOffQualifying,ignoreFlowForBopis:"true"===t.featureFlags["bopis-ignoreflow"],isAccessory:!1,sku:f.props.selectedSku,commonCmsContent:Object(B.a)(f.props.idpcmsContent,f.props.selectedSku).commonContent,planCmsContent:f.props.planCmsContent,userZipCodeResponse:f.props.userZipCodeResponse,fullFilmentDetails:f.props.fullFilmentDetails}),"true"===t.featureFlags["pdp-specialoffers"]&&be(G.a,{selectedSku:f.props.selectedSku,onShouldShowRibbon:f.setShowSpecialOffersSection,isAccessory:!1,cmsData:Object(B.a)(f.props.idpcmsContent,S).cmsOffersContent,customerProfile:f.props.customerProfile,hasCmsOffers:f.props.hasCmsOffers}))),be(w.d,{className:"".concat(""),id:"accordionGroup"},be(w.a,{width:10,offset:1,widthMd:12,className:"mar-l-none-md ".concat(N.accordionGroup)},be("div",{id:"specsAndFeaturesID",className:g.a.dynamic([["2683465446",[f.state.heroBumper]],["3058421870",[f.state.heroHeight]]])},be(Se,{galleryContent:Object(B.a)(f.props.idpcmsContent,f.props.selectedSku).galleryContent,devicePageUrl:f.props.selectedSku.devicePageURL,specsContent:Object(B.a)(f.props.idpcmsContent,f.props.selectedSku).specsContent,inTheBoxContent:Object(B.a)(f.props.idpcmsContent,f.props.selectedSku).inTheBoxContent,keyFeaturesHeading:Object(B.U)(Object(B.a)(f.props.idpcmsContent,f.props.selectedSku).commonContent,"keyFeaturesHeading",j.d.keyFeaturesHeading),keyFeaturesContent:Object(B.a)(f.props.idpcmsContent,f.props.selectedSku).overviewContent,prop65Flag:!0,dataQa:"".concat(f.props.dataQa,"-DeviceDetailsTab"),deviceType:f.props.deviceType,isAccessory:!1,deviceLegalContent:f.props.deviceLegalContent,overviewContent:Object(B.a)(f.props.idpcmsContent,f.props.selectedSku).cmsOverview,selectedSku:f.props.selectedSku,uniqueURLName:f.props.selectedSku.uniqueURLName,videoPromises:f.props.product&&f.props.product.videoPromises,featureFlags:t.featureFlags,drawerNamesForAccordionGroup:Object(B.ab)(f.props.idpcmsContent),prop65LegalAccordian:Object(B.qb)(f.props.idpcmsContent),idpcmsContentResponse:f.props.idpcmsContent,eSimTitle:Object(B.U)(Object(B.a)(f.props.idpcmsContent,f.props.selectedSku).commonContent,"eSimTitle",j.d.eSimAccordion.eSimTitle),eSimContent:Object(B.U)(Object(B.a)(f.props.idpcmsContent,f.props.selectedSku).commonContent,"eSimContent",j.d.eSimAccordion.eSimContent),eSimImageUrl:Object(B.U)(Object(B.a)(f.props.idpcmsContent,f.props.selectedSku).commonContent,"eSimImageUrl",at)}))))))),!f.props.selectedSku.isEndOfSku&&be(oe.a,{priceSection:be($.a.Consumer,null,(function(e){return f.renderPriceDetails(e,Z,J)})),ctaSection:be(T.a.Consumer,null,(function(e){return be($.a.Consumer,null,(function(a){return be(z.a,{deviceType:f.props.deviceType,isContinueEnabled:st(),uniqueURLName:f.props.selectedSku.uniqueURLName,selectedSku:f.props.selectedSku,deviceSubType:f.props.deviceSubType,isAccessory:!1,idpAccessoryDetails:f.state.idpAccessoryDetails,events:{handleSubmitReporting:f.fireCtaReportingService,sendErrorSignal:f.showProductPricingError,redirectToConfigView:f.redirectToConfigView},modalsContent:pe,profileInfo:f.props.customerProfile,selectedContractTerm:f.state.selectedContractTerm,dataQa:"".concat(f.props.dataQa,"-NextStepCTA"),quantity:1,pageLoadEvent:f.props.pageLoadEvent,goldenEyeContext:e,isContractTermSelected:f.state.isContractTermSelected,priceOptions:f.props.priceOptions,idpcmsCommonContent:Object(B.a)(f.props.idpcmsContent,f.props.selectedSku).commonContent,isIdpAccessoryRedirectOn:"true"===t.featureFlags["pdp-accessory-idp-atc"],isIdpEditAction:f.props.isIdpEditAction,cartDetails:a,updateEditLosgId:f.props.updateEditLosgId,configViewPath:f.props.configViewPath,planConfigViewPath:f.props.planConfigViewPath,priceBarCmsContent:Y,colorCapacitySelectionStatus:rt()||f.state.capacityChanged&&f.state.colorChanged})}))})),taxNote:K()(F,"priceBar.master.taxNoteText",j.d.priceBar.taxNoteText)}),ie&&ue&&Array.isArray(K()(ue,"master.linkSections",[]))&&be(Le,{dataQa:"".concat(f.props.dataQa,"-PDPLinkFarms"),defaultSubheadings:!0,linkFarmsContent:ue,deviceType:ce}))})),be(g.a,{id:"2683465446",dynamic:[f.state.heroBumper]},[".hero-wrapper-images.__jsx-style-dynamic-selector{padding-top:0;}",".productImageContainer.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","@media (max-width:1024px){.hero-wrapper-images.__jsx-style-dynamic-selector{padding-right:0;}.productImageContainer.__jsx-style-dynamic-selector{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%;padding:0;}}","@media (min-width:768px) and (max-width:1024px){}","@media (min-width:768px){.hero-wrapper.__jsx-style-dynamic-selector{position:absolute;height:".concat(f.state.heroBumper,"px;padding-bottom:100px;pointer-events:none;}.offset-desk.__jsx-style-dynamic-selector{margin-left:0;}}")]),be(g.a,{id:"3058421870",dynamic:[f.state.heroHeight]},["#up_aal_psc_learn_sig_offer{margin-bottom:8px;}",".config-section>span.line+br{display:none;}",".priceSummary-section{text-align:right;}",".pointer-enabled{pointer-events:auto;}",".z-index-1{z-index:1;}","body,html{height:100%;}",".float-right{float:right;}",".full-width{width:100%;}","#specsAndFeaturesID{margin-bottom:65px;}",".rel{z-index:auto;}",".type-legal ul{list-style-type:disc;padding-left:32px;}",".ribbon-height{height:24px;}",".ribbon-bumper{height:0.01px;margin-bottom:32px;}",".fixed-height{width:100%;text-align:center;}",".offset-desk{margin-left:8.3333333333%;}",".activate-sim-link a,.activate-sim-link a:hover{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;color:#0057b8;}",".price-label{font-size:11px;}","@media (max-width:767px){.fixed-height.with-compatible{margin-top:124px;}.fixed-height{height:327px;position:relative;}.mobile-pad-l{padding-left:16px;}.mobile-pad-r{padding-right:16px;}.col-mobile-pad-l{padding-left:16px !important;}.col-mobile-pad-r{padding-right:16px- !important;}.col-pad-l{padding-left:12px;}.col-pad-r{padding-right:12px;}.row-pad-r{padding-right:12px;}.offset-desk{margin-left:0;}.head-pad-l{padding-left:16px;}.head-pad-r{padding-right:16px;}.config-section{min-height:inherit;}.priceSummary-section{margin:24px 0 0;text-align:left;}.hero-wrapper.grid-col-12.full-width{-webkit-flex-basis:83.33%;-ms-flex-preferred-size:83.33%;flex-basis:83.33%;max-width:83.33%;}.text-center-mbl{text-align:center;}.price-label{font-size:10px;}.hero-min-height{padding:0 !important;}}",".heroImageSlide img{max-width:229px;}","@media (min-width:768px){input:disabled+.radio-button-skin::after{display:none;}.col-pad-l{padding-left:16px;}.col-pad-r{padding-right:16px;}.row-pad-r{padding-right:0px;}.col-mobile-pad-r{padding-right:0px !important;}.col-mobile-pad-l{padding-left:8px !important;}.fixed-height{height:640px;position:relative;}.sticky-container{position:-webkit-sticky;position:sticky;top:0px;}.hero-min-height{min-height:".concat(f.state.heroHeight,"px;}.hide-in-desktop{visibility:hidden;}.head-pad-l{padding-left:16px;}.head-pad-r{padding-right:16px;}.sticky-padding{padding-top:60px;}}"),"@media (max-width:1024px)and (min-width:768px){.offset-desk{margin-left:0;}.priceSummary-section{margin:24px 0 0;text-align:left;}}","@media (max-width:480px){.head-pad-l{padding-left:12px;}.head-pad-r{padding-right:12px;}}",".hide{display:none;}","#zoom_box>button{display:none;}",".zoomBoxEnable .heroImageSlide{cursor:pointer;}",".alert-pastdue{background:#f2f2f2;padding:24px 0px;}","@media (min-width:768px){.alert-pastdue{padding:24px 16px 0px 16px;}}"]))}}]),u}(v.PureComponent);Object(f.a)(Ne,"contextType",I.a),function(e){e.True="true",e.Eligible="eligible",e.InEigible="ineligible",e.Existing="existing",e.False="false"}(ke||(ke={}))}).call(this,a("8oxB"))},dNln:function(e,t,a){"use strict";a.r(t);var n=a("vJKn"),o=a.n(n),i=a("rg98"),r=a("xvhg"),s=a("q1tI"),c=a("Wl/2"),l=a("+ob+"),d=a("AGoX"),p=a("IyUE"),u=a("Cao8"),m=a("mwIZ"),f=a.n(m),h=s.createElement;t.default=function(e){var t=s.useState(!0),a=Object(r.a)(t,2),n=a[0],m=a[1],g=s.useState(!1),b=Object(r.a)(g,2),C=b[0],v=b[1],y=s.useState(""),k=Object(r.a)(y,2),O=k[0],S=k[1];return s.useEffect((function(){function t(){return(t=Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.fetchPlansLegalContent(e.longLegalPath).then((function(t){var a=f()(t,"idp-cms-feed.".concat(e.offerID,"_offertray_lm.master.legalLongPath[0].master.legalText"));a?S(a):v(!0)}));case 3:m(!1),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),v(!0),p.a.Error("Unable to load port in legal: ".concat(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}e.data.isOpen&&function(){t.apply(this,arguments)}()}),[e.data.isOpen]),h(d.default,{isOpen:e.data.isOpen,onRequestClose:e.data.onRequestClose,modalContainerClassName:e.data.containerClassName,modalContentClassName:e.data.contentClassName,modalRowClassName:e.data.rowClassName,modalCloseClassName:e.data.closeClassName,modalTextClassName:e.data.textClassName,showSeperator:e.data.showSeperator,width:e.data.width},n&&!C&&h("div",null,h(l.a,{height:"28px",width:"84px"}),h(l.a,{height:"60px",width:"100%",innerClass:"mar-b-xs"}),h(l.a,{height:"60px",width:"100%",innerClass:"mar-b-xs"}),h(l.a,{height:"60px",width:"100%",innerClass:"mar-b-md"}),h(l.a,{height:"60px",width:"90%",innerClass:"mar-b-xs"}),h(l.a,{height:"60px",width:"80%",innerClass:"mar-b-md"}),h(l.a,{height:"24px",width:"72px",innerClass:"mar-b-xxs"}),h("br",null)),!n&&!C&&h("div",{dangerouslySetInnerHTML:{__html:O}}),C&&h("div",{className:c["portInLegalModal-error"]},h("h1",null,"We encountered an error.")),h("div",{className:"pad-b-sm"}))}},de9S:function(e,t,a){"use strict";var n=a("cWkm");t.a=n.a},fWe6:function(e,t,a){"use strict";var n=a("Wazr");t.a=n.a},kB7X:function(e,t,a){"use strict";var n=a("H+61"),o=a("UlJF"),i=a("7LId"),r=a("VIvw"),s=a("iHvq"),c=a("MX0m"),l=a.n(c),d=a("q1tI"),p=a("Da3r"),u=a("U/e8"),m=d.createElement;function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(s.a)(e);if(t){var o=Object(s.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(r.a)(this,a)}}var h=function(e){Object(i.a)(a,e);var t=f(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return m("div",{className:"jsx-2574661285 flex flex-column"},m("h1",{className:"jsx-2574661285 type-md font-bold color-ui-black product-header line-h-md"},this.props.data.displayName),this.props.compatibleDevices&&1===Object(u.xb)(this.props.compatibleDevices).length&&m("p",{className:"jsx-2574661285 product-header"},"Compatible with ",Object(u.xb)(this.props.compatibleDevices)[0].model),this.props.data.paymentType&&"postpaid"===this.props.data.paymentType&&this.props.data.deviceCondition&&this.props.data.deviceCondition.key&&this.props.data.deviceCondition.key.toLowerCase()===p.d.deviceCondition.preOwnedKey.toLowerCase()&&m("span",{className:"jsx-2574661285 deviceConditionHeader"},this.props.data.deviceCondition.displayName),this.props.data.deviceIntro&&m("p",{className:"jsx-2574661285 type-base font-regular"},this.props.data.deviceIntro),m(l.a,{id:"2574661285"},[".product-header.jsx-2574661285{margin-bottom:0px;}",".deviceConditionHeader.jsx-2574661285{line-height:15px;font-size:12px;color:#696969;display:inline;}"]))}}]),a}(d.Component);t.a=h},kwE9:function(e,t,a){"use strict";var n=a("vJKn"),o=a.n(n),i=a("rg98"),r=a("xvhg"),s=a("MX0m"),c=a.n(s),l=a("q1tI"),d=a.n(l),p=a("zm1R"),u=a("74Z4"),m=a("JE1H"),f=a("mwIZ"),h=a.n(f),g=a("wbWO"),b=a("U/e8"),C=a("n212"),v=a("lNN+"),y=a("cq7Z"),k=a("zd1r"),O=a("etCC"),S=a("LEk/"),x=a("j5is"),I=a("Da3r"),T=a("BTSr"),w=a("l1Gu"),L=a("Tewe"),j=a("kjGT"),P=a("jqru"),N=a("JNjH"),D=a("uVxl"),M=a("f4IJ"),A=a("N1Ph"),E=a("uc5p"),R=a("vyOo"),F=a("Vvt1"),U=a.n(F),B=d.a.createElement,H=U()((function(){return Promise.resolve().then((function(){return a("1rtV")}))}),{ssr:!1,loadableGenerated:{webpack:function(){return["1rtV"]},modules:["../src/pages/ProductDetailsUpAalPage/components/Plans/UpgradeRatePlan.tsx -> ../CRPNotificationModal"]}}),_=function(e){var t,a,n,o,i,s,c=new y.a,l=d.a.useRef(),u=d.a.useContext(T.a),m=d.a.useContext(N.a),f=d.a.useState(!1),g=Object(r.a)(f,2),C=g[0],v=g[1],O=d.a.useState(!1),S=Object(r.a)(O,2),x=S[0],w=S[1],F=Object(b.M)(null===e||void 0===e||null===(t=e.selectedSku)||void 0===t?void 0:t.deviceType,null===e||void 0===e||null===(a=e.selectedSku)||void 0===a?void 0:a.deviceSubType,null===e||void 0===e||null===(n=e.selectedSku)||void 0===n?void 0:n.paymentType);d.a.useEffect((function(){setTimeout((function(){_()}),1e3)}),[]);var U,_=function(){var e={url:k.j.planChangeUrl.replace("[[deviceType]]",F),"page.pageInfo.friendlyPageName":k.g.friendlyPageName.ChangePlanPage,"page.pageInfo.lineOfBusiness":k.j.lineOfBusiness,"page.pageInfo.flowCode":k.j.flowCode,"page.attributes.productType":k.j.productType};c.firePageLoadEvent(e)},V=function(){v(!0);var e={url:k.j.declineModalUrl.replace("[[deviceType]]",F),"page.pageInfo.friendlyPageName":k.g.friendlyPageName.DeclinePlanChangeModal,"page.pageInfo.flowCode":k.j.flowCode,"page.pageInfo.lineOfBusiness":k.j.lineOfBusiness,"page.attributes.productType":k.j.productType};c.firePageLoadEvent(e)},W=[{id:"change-plan-now-intent",value:"0",displayValue:h()(e.planCmsContent,"".concat(I.d.configView.pscCMSFeedRootPath,".configLabels.master.crpButtonLabelYes"),I.d.crpPlanContent.crpButtonLabelYes),subContent:h()(e.planCmsContent,"".concat(I.d.configView.pscCMSFeedRootPath,".configLabels.master.crpButtonLabelYesDescription"),I.d.crpPlanContent.crpButtonLabelYesDescription)},{id:"change-plan-later-intent",value:"1",displayValue:h()(e.planCmsContent,"".concat(I.d.configView.pscCMSFeedRootPath,".configLabels.master.crpButtonLabelLater"),I.d.crpPlanContent.crpButtonLabelLater),subContent:h()(e.planCmsContent,"".concat(I.d.configView.pscCMSFeedRootPath,".configLabels.master.crpButtonLabelLaterDescription"),I.d.crpPlanContent.crpButtonLabelLaterDescription),link:h()(e.planCmsContent,"".concat(I.d.configView.pscCMSFeedRootPath,".configLabels.master.crpButtonLabelLaterLink"),I.d.crpPlanContent.crpButtonLabelLaterLink)}],z={marginClassName:"mar-l-none",fontClassName:"type-sm",type:"unordered-svg-sm",lists:function(){var t=[],a=h()(e.planCmsContent,"".concat(I.d.configView.pscCMSFeedRootPath,".configLabels.master.crpUnlimitedFeatures"),I.d.crpPlanContent.crpUnlimitedFeatures);return a&&a.map((function(e){t.push({icon:B(L.IconSvg,{ariaHidden:!1,ariaLabel:"Checkmark icon",svgNodeStr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26"><path class="svg-base" d="M 22 12 a 5 5 0 0 0 -5 -5 a 5 5 0 0 0 -5 5 a 5 5 0 0 0 5 5 a 5 5 0 0 0 5 -5"/></svg>'}),text:B("div",{dangerouslySetInnerHTML:{__html:e}})})})),t}()};return B(d.a.Fragment,null,B("div",{className:"bg-ui-white ".concat(M.plansContainer," pad-sm-lg pad-md-md pad-lg-sm pad-l-sm-md pad-r-sm-md")},B("div",{ref:l}),B("span",{"data-qa":"".concat(e.dataQa,"-plans-header"),className:"type-base color-ui-black font-regular formfield-label edit-header-plans"},B("span",{className:"type-base font-bold color-ui-black mar-b-none pad-r-xxxs line-h-md",style:{width:"100%"},id:"plansHeader",tabIndex:0},(U=e.planCmsContent,h()(U,"".concat(I.d.configView.pscCMSFeedRootPath,".configLabels.master.crpChangePlanHeadingLabel"),I.d.crpPlanContent.crpChangePlanHeadingLabel)))),B("div",null,B(L.Alert,{type:"warning",className:M.plansAlertMessage},B("div",{dangerouslySetInnerHTML:{__html:function(t){var a,n=h()(t,"".concat(I.d.configView.pscCMSFeedRootPath,".configLabels.master.crpUnlimitedDescription"),I.d.crpPlanContent.crpUnlimitedDescription);return null===n||void 0===n?void 0:n.replaceAll("[[device name]]",null===e||void 0===e||null===(a=e.skuInContext)||void 0===a?void 0:a.shortDisplayName)}(e.planCmsContent)}}))),B("div",null,B("div",{className:"".concat(M.currentPlanContainer," flex-self-stretch bg-ui-background-gray")},B("p",{className:M.currentPlanHeader},function(e){return h()(e,"".concat(I.d.configView.pscCMSFeedRootPath,".configLabels.master.crpCurrentPlanLabel"),I.d.crpPlanContent.crpCurrentPlanLabel)}(e.planCmsContent)),B("div",null,B("div",{className:"".concat(M.currentPlanNameText," ").concat(M.currentPlanName)},Object(b.rb)()),B("div",{className:M.currentPlanNamePrice})))),B("div",{className:M.planSwitchContainer},B(E.a,{options:{allowMultipleOpen:!0}},B(A.b,{title:h()(e.planCmsContent,"".concat(I.d.configView.pscCMSFeedRootPath,".configLabels.master.crpUnlimitedPlanLabel"),I.d.crpPlanContent.crpUnlimitedPlanLabel),id:"switch-unlimited-plan",isListItem:!0,url:"",dataQa:"",onAccordionClick:function(){return function(e){w(!e);var t={linkDestinationUrl:k.j.planChangeUrl.replace("[[deviceType]]",F),linkName:e?k.j.collapsePlans:k.j.expandPlans,linkPosition:k.j.linkPositionBody,flowCode:k.j.flowCode,"page.attributes.productType":k.j.productType};c.fireLinkClickEvent(t)}(x)}},B(p.d,{className:"flex"},B(p.a,{width:2},B("img",{className:M.deviceImage,src:h()(e.planCmsContent,"".concat(I.d.configView.pscCMSFeedRootPath,".configLabels.master.crpWirelessNetworkIcon"),I.d.crpPlanContent.crpWirelessNetworkIcon)})),B(p.a,{width:10},B("p",{className:M.featureListHeader},h()(e.planCmsContent,"".concat(I.d.configView.pscCMSFeedRootPath,".configLabels.master.crpSubHeadingLabel"),I.d.crpPlanContent.crpSubHeadingLabel)),B(L.Lists,{data:z})))))),B("div",null,B(j.b,{id:"change-plan-rate-select-options",onChange:function(t){var a=(e||{}).setSelectedCRPIntent,n=parseInt(t);a(W[n].value)},disabled:!1,defaultSelection:"0"},W.map((function(t,a){return B(j.a,{name:"plan-options-upgrade",value:t.value,id:t.id,options:{fullWidth:!0,buttonClasses:"pad-xs",zIndex:1}},B(P.a,{displayPrice:{displayPrefix:"",displayPrice:"",displaySuffix:""},displayValue:t.displayValue,hidePrice:!0,isInsurance:!1,isSelected:!1,radioSubContent:function(){return B(d.a.Fragment,null,t.subContent&&B(d.a.Fragment,null,B(D.a,{space:16,topSpace:16}),B("div",{className:"text-align-left full-width"},B("span",{className:"type-sm ".concat(M.planSubContent)},t.subContent),"\xa0",t.link&&B(R.a,{events:{onClick:V},dataQa:"notofication-link",reportingLinkUrl:k.j.planChangeUrl.replace("[[deviceType]]",F)},t.link))))},selectedSku:e.skuInContext,skuId:m.selectedSku.skuId,prepaidDevicePromotion:void 0,deviceRibbonCmsfeed:void 0}))}))))),C&&B(H,{data:{isOpen:C,onRequestClose:function(){!function(){var e={linkDestinationUrl:k.j.planChangeUrl.replace("[[deviceType]]",F),linkName:"Close",linkPosition:k.j.linkPositionBody,flowCode:k.j.flowCode,"page.attributes.productType":k.j.productType};c.fireLinkClickEvent(e),_()}(),v(!1)},planCmsContent:e.planCmsContent,showBottomButtons:!1,priceList:Object(b.wb)(null===u||void 0===u||null===(o=u.priceConfigContext)||void 0===o||null===(i=o.selectedContractTerm)||void 0===i?void 0:i.commitmentTerm,e.devices,e.selectedSku),shortDisplayName:null===e||void 0===e||null===(s=e.skuInContext)||void 0===s?void 0:s.shortDisplayName}}))},V=a("maZt"),W=a("P7d+"),z=a("1rtV"),G=a("sEfC"),Q=a.n(G),q=d.a.createElement;t.a=function(e){var t,a,n,s,l=d.a.useContext(T.a),f=h()(e.planCmsContent,"idp-cms-feed.productselectionconfig.contentFragments",void 0),L=h()(e.selectedSku,"mediaTypes.images.masterImageUrl"),j=h()(f,"modals"),P=h()(f,"priceBar.master",{}),N=g.a.getDeviceImage(e.selectedSku),D=Object(b.eb)(L,N),M="simcard"===e.deviceSubType,A=d.a.useState("0"),E=Object(r.a)(A,2),R=E[0],F=E[1],U=d.a.useState(!1),B=Object(r.a)(U,2),H=B[0],G=B[1],X=new y.a,Z=d.a.useRef(null),K=Object(b.M)(null===e||void 0===e||null===(t=e.selectedSku)||void 0===t?void 0:t.deviceType,null===e||void 0===e||null===(a=e.selectedSku)||void 0===a?void 0:a.deviceSubType,null===e||void 0===e||null===(n=e.selectedSku)||void 0===n?void 0:n.paymentType);d.a.useEffect((function(){window.scrollTo(0,0)}),[]),d.a.useEffect((function(){window.scrollTo(0,Z.current.offsetTop)}),[]),d.a.useEffect((function(){if(e.IXPFeatureFlags&&"true"===e.IXPFeatureFlags["pdp-change-rate-plan"]){var t=l.promotions,a=l.priceConfigContext,n=e.spoPromotions,o=e.devices,i=e.selectedSku,r=a.priceOptions&&a.priceOptions[i.skuId]?a.priceOptions[i.skuId][a.selectedPricingIndex||0]:null,s=Object(b.Gb)(t,null===r||void 0===r?void 0:r.commitmentTerm,n,o,i);s&&(l.setIsCrpEligible(s),a.setSelectedContractTerm(r))}}),[e.spoPromotions,l.priceConfigContext]);var J=function(){X.fireLinkClickEvent({linkDestinationUrl:"/buy/postpaid/line-selection",linkName:"Edit",linkPosition:"Header"})},Y=h()(e.planCmsContent,"".concat(I.d.configView.pscCMSFeedRootPath,".configLabels.master.crpNotificationModalContent.crpPrimaryButtonText"),I.d.crpNotificationModalContent.crpPrimaryButtonText),$=h()(e.planCmsContent,"".concat(I.d.configView.pscCMSFeedRootPath,".configLabels.master.crpNotificationModalContent.crpSecondaryButtonText"),I.d.crpNotificationModalContent.crpSecondaryButtonText),ee=function(e,t){console.log("Clicked PLAN CHNAGE link "+e+" url "+t)},te=function(){},ae=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Promise((function(e){Q()(Object(i.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.removePlansFromCart();case 2:t=a.sent,e(t);case 4:case"end":return a.stop()}}),a)}))),1300)(),l.setMultilineSelectedPlan([]),l.setSelectedPlan(void 0),l.setPlanLists([])})),e.next=3,a;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=3,s();case 3:!(a=e.sent)||null!==(t=a)&&void 0!==t&&t.error?(l.openAddToCartErrorModal(),G(!1)):oe($);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(e){G(!1);var t={linkDestinationUrl:k.j.planChangeUrl.replace("[[deviceType]]",K),linkName:e,linkPosition:k.j.linkPositionBody,flowCode:k.j.flowCode};X.fireLinkClickEvent(t),function(){var e={url:k.j.planChangeUrl.replace("[[deviceType]]",K),"page.pageInfo.friendlyPageName":k.g.friendlyPageName.ChangePlanPage,"page.pageInfo.flowCode":k.j.flowCode,"page.attributes.productType":k.j.productType};X.firePageLoadEvent(e)}()},oe=function(t){var a=function(e){return l.editLosgId?"".concat(e,"?edit=").concat(l.editLosgId):e};if("0"===R){var n={linkDestinationUrl:k.j.chooseNewPlanUrl.replace("[[deviceType]]",K),linkName:k.j.changeMyPlan,linkPostion:k.j.linkPositionBody,flowCode:k.j.flowCode,"page.attributes.productType":k.j.productType};X.fireLinkClickEvent(n),e.history.push(a(e.chooseNewPlanConfigViewPath))}else if(H){var o={linkDestinationUrl:k.j.configPageUrl.replace("[[deviceType]]",K),linkName:t,linkPosition:k.j.linkPositionBody,flowCode:k.j.flowCode,"page.attributes.productType":k.j.productType};X.fireLinkClickEvent(o),e.history.push(a(e.configViewPath))}else{var i={linkDestinationUrl:k.j.declineModalUrl.replace("[[deviceType]]",K),linkName:k.j.continueCurrentPlan,linkPostion:k.j.linkPositionBody,flowCode:k.j.flowCode,"page.attributes.productType":k.j.productType};X.fireLinkClickEvent(i);var r={url:k.j.declineModalUrl.replace("[[deviceType]]",K),"page.pageInfo.friendlyPageName":k.g.friendlyPageName.DeclinePlanChangeModal,"page.pageInfo.flowCode":k.j.flowCode,"page.pageInfo.lineOfBusiness":k.j.lineOfBusiness,"page.attributes.productType":k.j.productType};X.firePageLoadEvent(r),G(!0)}};return q(v.a.Consumer,null,(function(t){var a,n,o,i,r;return q(d.a.Fragment,null,e.IXPFeatureFlags&&"true"===e.IXPFeatureFlags["pdp-header-fallback"]?q(S.a,{page:C.b.PLAN_CONFIG,onEditClick:J}):q(w.a,{currentPageId:k.c.PSC_PLAN_CHANGE,invokePageFromHeader:ee,losgId:e.editLosgId,deviceType:e.selectedSku.deviceType,deviceSubType:e.selectedSku.deviceSubType,uniqueURLName:e.selectedSku.uniqueURLName,history:e.history,priceOptions:e.priceOptions,spoPromotions:e.spoPromotions,IXPFeatureFlags:e.IXPFeatureFlags,showPage:"0"===R}),q(p.b,{id:"pageContainer",className:"clearfix rel pad-r-none pad-l-none mar-t-sm-lg mar-t-md-md mar-t-lg-sm"},q(p.d,{className:"pad-l-none-sm pad-r-none-sm pad-l-xs pad-r-xs flex-wrap"},q(p.a,{width:6,widthMd:6,widthSm:12,className:"pad-t-none pad-b-none pad-l-none-sm pad-r-none-sm mar-b-xl-sm"},q(u.a,{selectedSku:e.selectedSku,defaultImgUrl:D,imgUrl:Object(b.Fb)()?null===(a=l.byodCombinedResponse)||void 0===a?void 0:a.deviceUrl:m.a.getCarouselImages(e.idpcmsContent,e.selectedSku.skuId)[0],deviceViewPath:e.learnViewPath,productInfoCmsContent:h()(f,"productInfo.master",void 0),isByodFlow:M,shortDisplayName:Object(b.Fb)()?null===(n=l.byodCombinedResponse)||void 0===n?void 0:n.shortDisplayName:e.selectedSku.shortDisplayName})),q(p.a,{width:6,widthMd:6,widthSm:12,className:"clearfix pad-t-none pad-b-none pad-l-none-sm pad-r-none-sm"},q("div",{ref:Z,className:"jsx-1912698521"},q(_,{customerType:e.customerProfile&&e.customerProfile.customerType,planCmsContent:e.planCmsContent,editLosgId:e.editLosgId,updateEditLosgId:e.updateEditLosgId,skuInContext:e.selectedSku,catalogOffers:e.catalogOffers,featureFlags:e.IXPFeatureFlags,setSelectedCRPIntent:F,devices:e.devices,selectedSku:e.selectedSku}))))),q(O.a,{priceSection:q(x.a,{dueMonthlyLabel:h()(f,"priceBar.master.dueMonthlyText",I.d.priceBar.dueMonthlyText),dueTodayLabel:h()(f,"priceBar.master.pscDueTodayText",I.d.priceBar.dueTodayText),taxNote:h()(f,"priceBar.master.taxNoteText",I.d.priceBar.taxNoteText),editLosgId:e.editLosgId}),ctaSection:q(V.a.Consumer,null,(function(a){return q(T.a.Consumer,null,(function(n){return q(W.a,{deviceType:e.deviceType,isContinueEnabled:!0,uniqueURLName:e.selectedSku.uniqueURLName,selectedSku:e.selectedSku,deviceSubType:e.deviceSubType,isAccessory:!1,events:{handleSubmitReporting:te,redirectToConfigView:oe},modalsContent:j,profileInfo:e.customerProfile,dataQa:"".concat(e.dataQa,"-NextStepCTA"),quantity:1,pageLoadEvent:e.pageLoadEvent,goldenEyeContext:a,priceOptions:e.priceOptions,idpcmsCommonContent:Object(b.a)(e.idpcmsContent,e.selectedSku).commonContent,isIdpAccessoryRedirectOn:"true"===t.featureFlags["pdp-accessory-idp-atc"],isIdpEditAction:e.isIdpEditAction,cartDetails:n,updateEditLosgId:e.updateEditLosgId,configViewPath:e.chooseNewPlanConfigViewPath,priceBarCmsContent:P})}))})),taxNote:h()(f,"priceBar.master.taxNoteText",I.d.priceBar.taxNoteText),containerClass:"mar-b-xxl"}),H&&q(z.default,{data:{isOpen:H,onRequestClose:function(){return ne(k.j.closeLink)},onPrimaryBtnClick:function(){return ne(Y)},onSecondaryBtnClick:function(){return ae()},showBottomButtons:!0,planCmsContent:e.planCmsContent,priceList:Object(b.wb)(null===l||void 0===l||null===(o=l.priceConfigContext)||void 0===o||null===(i=o.selectedContractTerm)||void 0===i?void 0:i.commitmentTerm,e.devices,e.selectedSku),shortDisplayName:null===e||void 0===e||null===(r=e.selectedSku)||void 0===r?void 0:r.shortDisplayName}}),q(c.a,{id:"1912698521"},["#up_aal_psc_planconfig_sig_offer{margin-bottom:8px;}"]))}))}},lIbG:function(e,t,a){"use strict";var n=a("H+61"),o=a("UlJF"),i=a("+Css"),r=a("7LId"),s=a("VIvw"),c=a("iHvq"),l=a("cpVT"),d=a("q1tI"),p=a("xEeC"),u=a("cq7Z"),m=a("Da3r"),f=a("C3wX"),h=a("U/e8"),g=a("0Yz8"),b=d.createElement;function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}var k=function(e){Object(r.a)(a,e);var t=y(a);function a(e){var o;return Object(n.a)(this,a),o=t.call(this,e),Object(l.a)(Object(i.a)(o),"reporting",void 0),o.state={intentsObject:{},addToCartSuccess:void 0},o.reporting=new u.a,o.intentModalCallback=o.intentModalCallback.bind(Object(i.a)(o)),o.intentModalPageLoadEvent=o.intentModalPageLoadEvent.bind(Object(i.a)(o)),o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.intentsToShow.length>0&&this.generateIntentsObject(this.props.intentsToShow,this.props.showNewCustomerLink)}},{key:"componentWillUpdate",value:function(e){(e.intentsToShow.length>0&&e.intentsToShow!==this.props.intentsToShow||e.showNewCustomerLink!==this.props.showNewCustomerLink)&&this.generateIntentsObject(e.intentsToShow,e.showNewCustomerLink)}},{key:"render",value:function(){return b(d.Fragment,null,b(p.default,{userIntentData:this.state.intentsObject,headerText:"Sign in for faster checkout",dataQa:"PDPPage-intentModal-",isIntentModalOpen:this.props.isIntentModalOpen,onUserInput:this.intentModalCallback,showNewCustomerLink:this.props.showNewCustomerLink,bgPageLoadEvent:this.props.bgPageLoadEvent,modalPageLoadEvent:this.intentModalPageLoadEvent,isAccessory:this.props.isAccessory}))}},{key:"intentModalPageLoadEvent",value:function(){var e=v({},{"page.attributes.productType":"Accessory","page.attributes.sku":this.props.selectedSku.skuId,"page.attributes.skuName":this.props.selectedSku.shortDisplayName||this.props.selectedSku.displayName,"page.category.applicationName":"Sales Wireless Full Web","page.category.pageFunction":"Sales","page.category.pageGroup":"WIRELESS ONLINE STORE","page.category.pageOwnership":"Consumer","page.location.url":"/accessories/intent/modal","page.category.siteSection":"myATT Sales","page.location._addressBarFullURL":window.location.href,"page.location.domain":window.location.hostName,"page.pageInfo.lineOfBusiness":"Wireless","page.pageInfo.flowCode":Object(f.b)(this.props.profileInfo.flowIndicator,this.props.profileInfo.subFlowType,this.props.selectedSku.deviceType),"page.pageInfo.responsiveWebDesignFlag":1,"page.pageInfo.zipCode":this.props.profileInfo.zipCode,"chat.offerCode":"Default","user.customerType":Object(f.c)(this.props.profileInfo.customerType),"user.account.liabilityType":Object(f.d)(this.props.profileInfo.customerType),"user.login.userType":Object(h.zb)(),"user.uuid":this.props.profileInfo.uuid,"page.pageInfo.friendlyPageName":"DS Accessory Only Intent Modal Pg",url:"/devices/intent/modal"});this.reporting.firePageLoadEvent(e)}},{key:"intentModalCallback",value:function(e){switch(this.setIntentButtonAsSpinner(e),e){case"ACCNEW":Object(h.ec)(m.d.intentModalContent.UnauthWirelessAccessory.New.intentDisplayName);break;case"ACC":Object(h.ec)(m.d.intentModalContent.UnauthWirelessAccessory.Existing.intentDisplayName);break;case"EXIT":default:this.props.closeModal()}}},{key:"setIntentButtonAsSpinner",value:function(e){b(g.a,{config:{size:"30px"}});if("ACCNEW"===e)this.setState({intentsObject:v(v({},this.state.intentsObject),{},{New:[v(v({},this.state.intentsObject.New[0]),{},{intentDisplayName:b(g.a,{config:{size:"20px"}})})]})});else{var t=this.state.intentsObject.Existing.map((function(t){return t.key===e?v(v({},t),{},{intentDisplayName:b(g.a,{config:{size:"20px"}})}):t}));this.setState({intentsObject:v(v({},this.state.intentsObject),{},{Existing:t})})}}},{key:"generateIntentsObject",value:function(e,t){var a={Existing:[],New:[]};e.indexOf("ACCNEW")>-1&&(a.New=[m.d.intentModalContent.UnauthWirelessAccessory.New]),e.indexOf("ACC")>-1&&a.Existing.push(m.d.intentModalContent.UnauthWirelessAccessory.Existing),this.setState({intentsObject:a})}},{key:"fireModalLinkClickEvent",value:function(e,t){var a={linkDestinationUrl:t,linkName:e,linkPosition:"Body"};this.reporting.fireLinkClickEvent(a)}}]),a}(d.Component);t.a=k},"la6/":function(e,t,a){"use strict";var n=a("vJKn"),o=a.n(n),i=a("rg98"),r=a("H+61"),s=a("UlJF"),c=a("+Css"),l=a("7LId"),d=a("VIvw"),p=a("iHvq"),u=a("cpVT"),m=a("q1tI"),f=a("5G2V"),h=a("EujV"),g=a("mwIZ"),b=a.n(g),C=a("psIL"),v=a("IyUE"),y=a("0Yz8"),k=a("U/e8"),O=m.createElement;function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var x=function(e){Object(l.a)(n,e);var t=S(n);function n(e){var o;return Object(r.a)(this,n),o=t.call(this,e),Object(u.a)(Object(c.a)(o),"prop65Icon",void 0),Object(u.a)(Object(c.a)(o),"prop65Title",void 0),Object(u.a)(Object(c.a)(o),"prop65Text",void 0),Object(u.a)(Object(c.a)(o),"parsedProp65Text",void 0),o.state={legalHtml:"",loader:!0},o.prop65Icon=a("wQxn"),o}return Object(s.a)(n,[{key:"getPricingLegal",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(k.T)(this.props.priceOptions,!1),a=C.a.fetchPricingLegalPathsFromCMS(this.props.idpcmsContentResponse,t),e.next=4,C.a.getLegalContentFromIDPCMS6_4(a,null,"postpaid","pricing");case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.prop65Flag){e.next=9;break}return e.next=3,this.loadProp65Html(this.props.prop65Content);case 3:t=e.sent,this.prop65Title=b()(t,"idp-cms-feed.prop65cancerandreproductivewarning-lm.master.legalModalTitle"),this.prop65Text=b()(t,"idp-cms-feed.prop65cancerandreproductivewarning-lm.master.legalLongPath[0].master.legalText"),this.parsedProp65Text=this.prop65Text.replace("<a","<a target=_blank"),e.next=19;break;case 9:return e.prev=9,e.next=12,this.getPricingLegal();case 12:a=e.sent,this.setState({loader:!1,legalHtml:a}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),v.a.Error("LegalTabPanel: Error fetching pricing legal: ",e.t0);case 19:case"end":return e.stop()}}),e,this,[[9,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadProp65Html",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.p)(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderProp65Accordion",value:function(){var e=this.prop65Title,t=this.parsedProp65Text;return O("div",{className:f.prop65},O("span",{dangerouslySetInnerHTML:{__html:e}}),O("br",null),O("img",{src:this.prop65Icon,className:f.prop65Icon}),O("span",{dangerouslySetInnerHTML:{__html:t}}))}},{key:"render",value:function(){return O("div",{className:"container"},this.props.prop65Flag?this.renderProp65Accordion():this.state.loader?O(y.a,null):this.state.legalHtml&&O(h.a,{legalText:this.state.legalHtml}))}}]),n}(m.Component);t.a=x},nsYm:function(e,t,a){"use strict";a.r(t);var n=a("cpVT"),o=a("MX0m"),i=a.n(o),r=a("q1tI"),s=a.n(r),c=a("JNjH"),l=a("kjGT"),d=a("U/e8"),p=a("jqru"),u=a("7naU"),m=a("N1Ph"),f=a("cq7Z"),h=a("zKQ6"),g=a("BTSr"),b=a("J2m7"),C=a.n(b),v=s.a.createElement;function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.default=function(e){var t=e.selectedSku,a=e.dataQa,n=(e.tradeInConsented,e.portInConsented,e.nextUpConsented,e.hylaOfferCodeRetrieved,e.onLegalClick),o=e.onOfferClick,b=s.a.useContext(c.a),y=s.a.useContext(g.a),O=b.priceOptions,S=0;({})[t.skuId]=O&&O[t.skuId];var x=Object(r.useState)(!1),I=x[0],T=x[1],w=Object(r.useState)(!1),L=w[0],j=w[1],P=Object(r.useState)(!1),N=P[0],D=P[1],M=Object(r.useState)(null),A=M[0],E=M[1];Object(r.useEffect)((function(){var a=Object(d.Dc)("GET");if(!Object(d.Mb)(a)){var n=!1,o=!1,i=!1,r=!1;e.collapsePricing?(o=!0,n=!1,i=!0,r=!0):(o=!1,n=!0,i=!1,r=!1),T(o),j(n),D(i),E(r)}var s=sessionStorage.getItem("selectedDeviceConfig")&&JSON.parse(sessionStorage.getItem("selectedDeviceConfig")),c=y.getItemByLosgId(y.editLosgId),l=c&&c.items&&C()(c.items,{itemType:"device"});l&&l.productSKU&&l.productSKU===t.skuId||null!==s&&void 0!==s&&s.commitmentTerm?(T(!0),j(!1),D(!0),E(!0)):(T(!1),!s&&j(!0),D(!1),E(!1))}),[]),Object(r.useEffect)((function(){!0===e.capacityChanged&&j(!1)}),[e.capacityChanged]),Object(r.useEffect)((function(){var t=Object(d.Dc)("GET");Object(d.Mb)(t)||!0!==e.collapsePricing||(T(!0),E(!0),j(!1),D(!0))}),[e.collapsePricing]),Object(r.useEffect)((function(){("PRICING-TERMS"!==e.widgetInFocus&&A||"PRICING-TERMS"!==e.widgetInFocus&&N)&&T(!0)}),[e.widgetInFocus]);var R=function(){var t=new f.a,a={linkDestinationUrl:b.selectedSku.devicePageURL,linkName:"PricingOptions"+(I?"_Expand":"_Collapse"),linkPosition:"Body"};t.fireLinkClickEvent(a),T(!I),e.updateWidgetinFocus("price"),I||e.updateChildCompStatusChange("price_change",!1)},F=function(){var e=[];return O&&O[t.skuId]&&(O[t.skuId].sort((function(e,t){return e.ranking>t.ranking?1:-1})),e=O[t.skuId].map((function(e,t){return k(k({},e),{},{priceIndex:t})})).filter((function(e){return!e.monthlyNextUpCharge&&!(t.isDeviceSim&&"24"===e.name)})),S=O[t.skuId].findIndex((function(e){return 1!==e.termLength&&24!==e.termLength}))),e}(),U=null===t.deviceType,B=Object(d.j)(b.getNonNextupPriceOption(),b,!0,!1);b&&b.priceOptions&&b.selectedSku&&b.selectedSku.skuId&&b.priceOptions[b.selectedSku.skuId];var H=null===b||void 0===b?void 0:b.getNonNextupPriceOption(),_=(null===H||void 0===H?void 0:H.displayName)||"";return v(s.a.Fragment,null,b.priceOptions&&b.priceOptions[b.selectedSku.skuId]&&b.priceOptions[b.selectedSku.skuId][b.selectedPricingIndex]&&!t.isComingSoon&&F.length>=1&&v("div",{"aria-label":"Pricing option",className:"jsx-1279422686 "+"".concat(L?h.boxWidgetDisabled:"PRICING-TERMS"===e.widgetInFocus?h.boxWidgetInFocus:h.boxWidget)},v("span",{onClick:R,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(R(),e.preventDefault(),e.stopPropagation())},tabIndex:A?0:null,"aria-hidden":"false","aria-controls":"Pricing option",role:"button","aria-expanded":!I,className:"jsx-1279422686 formfield-label pad-b-xs pad-b-xxs-sm cursor edit-header-pricing"},v("span",{style:{width:"100%"},className:"jsx-1279422686 "+"type-base color-ui-black mar-b-none pad-r-xxxs line-h-md ".concat(I?"font-regular":"font-bold")},N||I?b.priceOptions[b.selectedSku.skuId][b.selectedPricingIndex].priceOptionHeading:b.priceOptions[b.selectedSku.skuId][b.selectedPricingIndex].selectPricingOptionHeading),A&&v(m.a,{expanded:!I,iconLabel:"Edit",isAriaButton:!1})),I&&v("div",{className:"jsx-1279422686 flex full-width font-regular type-base color-ui-black mar-b-none"},v("span",{dangerouslySetInnerHTML:{__html:_.replace("with Next Up<sup>SM</sup>","")},className:"jsx-1279422686 type-base font-bold"}),v("div",{className:"jsx-1279422686 margin-left-auto"},v("span",{className:"jsx-1279422686 type-base font-bold text-right"},"".concat(B.displayPrefix+B.displayPrice)),v("span",{className:"jsx-1279422686 type-sm font-bold"},B.displaySuffix))),v(l.b,{id:"pricingTermsSelection",ariaLabel:b.priceOptions[b.selectedSku.skuId][b.selectedPricingIndex].priceOptionHeading,ariaExpanded:!I,onChange:function(a){0===O[t.skuId][parseInt(a)].leaseTotalMonths&&b.setIsTradeInSelected(!1),b.updateSelectedContractTerm(parseInt(a),!0),setTimeout((function(){e.updateChildCompStatusChange("price_change")}),100),E(!0),T(!0)},defaultSelection:!0!==L&&!1!==N?b.selectedPricingIndex===(b.nextUpContent&&b.nextUpContent.nextUpIndex)?S:b.selectedPricingIndex:null,dataQa:a,disabled:L},!I&&v("div",{className:"jsx-1279422686 flex flex-column"},F.map((function(i){var r=Object(d.j)(i,b,!0),s=i.displayName+" "+r.displayPrefix+r.displayPrice+r.displaySuffix;return v(l.a,{value:i.priceIndex,name:i.commitmentTermId,inputName:"priceOptionLabel",id:i.commitmentTermId,ariaLabel:s,ariaControls:i.priceIndex,ariaHidden:I,options:{fullWidth:!0,zIndex:1,buttonClasses:"flex-column pad-xs ".concat("PRICING-TERMS"===e.widgetInFocus?"bg-ui-white":"")},dataQa:"".concat(a,"-").concat(i.commitmentTermId),disabled:L},(function(e){return v(p.a,{isSelected:e,skuId:t.skuId,selectedSku:t,displayValue:i.displayName||i.name,displayPrice:Object(d.j)(i,b,!0),radioSubContent:function(e,t){return v(u.a,{isSelected:e,priceOption:t,onLegalClick:n,onOfferClick:o,isAccessory:U})}})}))}))))),v(i.a,{id:"1279422686"},[".margin-left-auto.jsx-1279422686{margin-left:auto;}",".configured-label.jsx-1279422686{font-size:16px;margin-bottom:24px;line-height:1.6;}",".font-subheader.jsx-1279422686{font-size:16px;}",".font-monthly.jsx-1279422686{font-size:14px;}",".pricing-prefix.jsx-1279422686{font-size:14px;}",".edit-header-pricing.jsx-1279422686:focus{outline:0.7px dotted #0057b8;}"]))}}}]);