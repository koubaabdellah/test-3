function compressQueueList(e){var s=0;if(e.constructor.toString().indexOf("Array")==-1)return e;for(var n=0;n<e.length;n++)if(typeof e[n]==="number"&&e[n]>0)s|=e[n];return s}function SpokesAction(e){this.Age=0;this.Callback=e;this.isValid=true}SpokesAction.Action_List=new Array;setInterval((function(){var e=SpokesAction.Action_List.length-1;for(var s=e;s>=0;s--){var n=SpokesAction.Action_List[s];n.Age++;if(n.Age>4){SpokesAction.Action_List.splice(s,1);if(n.isValid&&typeof n.Callback==="function")n.Callback(new SpokesResponse({Description:"",Err:{Description:"No response.  Server appears to be offline.",Error_Code:0,Type:4},Result:null,Type:0,Type_Name:"Unknown",isError:true}))}}}),2e3);function Spokes(e){this.Path=typeof e==="undefined"||e==null?"https://127.0.0.1:32018":e;this.Device=new Device(this.Path);this.Plugin=new Plugin(this.Path);this.UserPreference=new UserPreference(this.Path)}function Device(e){this.Path=e;this.Device_Id="";this.Sess_Id="";this.isAttached=false}Device.prototype.attach=function(e,s){var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);local=this;$.getJSON(this.Path+"/DeviceServices/Attach?uid="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.SessionHash)s.isValid=false;if(s.isValid&&!s.isError){local.Sess_Id=s.Result;local.isAttached=true}n.isValid=false;if(typeof n.Callback==="function")n.Callback(s)}));return true};Device.prototype.release=function(e){if(this.isAttached==false)return false;var s=new SpokesAction(e);SpokesAction.Action_List.unshift(s);local=this;$.getJSON(this.Path+"/DeviceServices/Release?sess="+this.Sess_Id+"&callback=?",(function(e){var n=new SpokesResponse(e);if(n.Type!=SpokesResponseType.Bool)n.isValid=false;local.Sess_Id="";local.isAttached=false;s.isValid=false;if(typeof s.Callback==="function")s.Callback(n)}));return true};Device.prototype.deviceInfo=function(e){if(e==null||e==undefined)return false;var s=new SpokesAction(e);SpokesAction.Action_List.unshift(s);local=this;$.getJSON(this.Path+"/DeviceServices/Info?callback=?",(function(e){var n=new SpokesResponse(e);if(n.Type!=SpokesResponseType.DeviceInfo)n.isValid=false;if(n.isValid&&!n.isError){local.Device_Id=n.Result.Uid}s.isValid=false;if(s.Callback!=null&&s.Callback!=undefined)s.Callback(n)}));return true};Device.prototype.atdMobileCallerId=function(e){var s=new SpokesAction(e);SpokesAction.Action_List.unshift(s);$.getJSON(this.Path+"/DeviceServices/ATDMobileCallerId?sess="+this.Sess_Id+"&callback=?",(function(e){var n=new SpokesResponse(e);if(n.Type!=SpokesResponseType.String)n.isValid=false;s.isValid=false;if(s.Callback!=null&&s.Callback!=undefined)s.Callback(n)}));return true};Device.prototype.proximity=function(e,s){if(typeof e!=="boolean")return false;var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/DeviceServices/Proximity?sess="+this.Sess_Id+"&enabled="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.String)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};Device.prototype.events=function(e,s){if(s==undefined&&typeof e==="function"){s=e;e=0}e=compressQueueList(e);if(s==null||s==undefined)return false;var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/DeviceServices/Events?sess="+this.Sess_Id+"&queue="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.DeviceEventArray)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};Device.prototype.headsetEvents=function(e){var s=SpokesEventType.HeadsetButtonPressed|SpokesEventType.HeadsetStateChange;return this.events(s,e)};Device.prototype.baseEvents=function(e){var s=SpokesEventType.BaseButtonPressed|SpokesEventType.BaseStateChange;return this.events(s,e)};Device.prototype.atdEvents=function(e){return this.events(SpokesEventType.ATDStateChange,e)};Device.prototype.ring=function(e,s){if(typeof e!=="boolean")return false;var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/DeviceServices/Ring?enabled="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};Device.prototype.audioState=function(e,s){if(typeof e!=="number")return false;var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);e=SpokesAudioType.Lookup[e];$.getJSON(this.Path+"/DeviceServices/AudioState?state="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};Device.prototype.getEventRegistry=function(e){var s=new SpokesAction(e);SpokesAction.Action_List.unshift(s);$.getJSON(this.Path+"/EventManager/GetRegistry?sess="+this.Sess_Id+"&callback=?",(function(e){var n=new SpokesResponse(e);if(n.Type!=SpokesResponseType.Integer)n.isValid=false;s.isValid=false;if(s.Callback!=null&&s.Callback!=undefined)s.Callback(n)}));return true};Device.prototype.setEventRegistry=function(e,s){e=compressQueueList(e);var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/EventManager/SetRegistry?sess="+this.Sess_Id+"&queue="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Integer)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};Device.prototype.addEventRegistry=function(e,s){e=compressQueueList(e);var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/EventManager/AddRegistry?sess="+this.Sess_Id+"&queue="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Integer)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};Device.prototype.removeEventRegistry=function(e,s){e=compressQueueList(e);var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/EventManager/RemoveRegistry?sess="+this.Sess_Id+"&queue="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Integer)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};Device.prototype.setGlobalTTL=function(e,s){var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/EventManager/GlobalTTL?sess="+this.Sess_Id+"&ttl="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Integer)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};Device.prototype.setGlobalMaxEvents=function(e,s){var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/EventManager/GlobalMaxCount?sess="+this.Sess_Id+"&max="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Integer)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};Device.prototype.setQueueTTL=function(e,s,n){e=compressQueueList(e);var t=new SpokesAction(n);SpokesAction.Action_List.unshift(t);$.getJSON(this.Path+"/EventManager/TTL?sess="+this.Sess_Id+"&queue="+e+"&ttl="+s+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Integer)s.isValid=false;t.isValid=false;if(t.Callback!=null&&t.Callback!=undefined)t.Callback(s)}));return true};Device.prototype.setQueueMaxEvents=function(e,s,n){e=compressQueueList(e);var t=new SpokesAction(n);SpokesAction.Action_List.unshift(t);$.getJSON(this.Path+"/EventManager/MaxCount?sess="+this.Sess_Id+"&queue="+e+"&max="+s+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Integer)s.isValid=false;t.isValid=false;if(t.Callback!=null&&t.Callback!=undefined)t.Callback(s)}));return true};function SessionCallState(){}SessionCallState.Unknown=0;SessionCallState.AcceptCall=1;SessionCallState.TerminateCall=2;SessionCallState.HoldCall=3;SessionCallState.Resumecall=4;SessionCallState.Flash=5;SessionCallState.CallInProgress=6;SessionCallState.CallRinging=7;SessionCallState.CallEnded=8;SessionCallState.TransferToHeadSet=9;SessionCallState.TransferToSpeaker=10;SessionCallState.MuteON=11;SessionCallState.MuteOFF=12;SessionCallState.MobileCallRinging=13;SessionCallState.MobileCallInProgress=14;SessionCallState.MobileCallEnded=15;SessionCallState.Don=16;SessionCallState.Doff=17;SessionCallState.CallIdle=18;SessionCallState.Play=19;SessionCallState.Pause=20;SessionCallState.Stop=21;SessionCallState.DTMFKey=22;SessionCallState.RejectCall=23;SessionCallState.Lookup=Array();SessionCallState.Lookup[SessionCallState.Unknown]="Unknown";SessionCallState.Lookup[SessionCallState.AcceptCall]="AcceptCall";SessionCallState.Lookup[SessionCallState.TerminateCall]="TerminateCall";SessionCallState.Lookup[SessionCallState.HoldCall]="HoldCall";SessionCallState.Lookup[SessionCallState.Resumecall]="Resumecall";SessionCallState.Lookup[SessionCallState.Flash]="Flash";SessionCallState.Lookup[SessionCallState.CallInProgress]="CallInProgress";SessionCallState.Lookup[SessionCallState.CallRinging]="CallRinging";SessionCallState.Lookup[SessionCallState.CallEnded]="CallEnded";SessionCallState.Lookup[SessionCallState.TransferToHeadSet]="TransferToHeadSet";SessionCallState.Lookup[SessionCallState.TransferToSpeaker]="TransferToSpeaker";SessionCallState.Lookup[SessionCallState.MuteON]="MuteON";SessionCallState.Lookup[SessionCallState.MuteOFF]="MuteOFF";SessionCallState.Lookup[SessionCallState.MobileCallRinging]="MobileCallRinging";SessionCallState.Lookup[SessionCallState.MobileCallInProgress]="MobileCallInProgress";SessionCallState.Lookup[SessionCallState.MobileCallEnded]="MobileCallEnded";SessionCallState.Lookup[SessionCallState.Don]="Don";SessionCallState.Lookup[SessionCallState.Doff]="Doff";SessionCallState.Lookup[SessionCallState.CallIdle]="CallIdle";SessionCallState.Lookup[SessionCallState.Play]="Play";SessionCallState.Lookup[SessionCallState.Pause]="Pause";SessionCallState.Lookup[SessionCallState.Stop]="Stop";SessionCallState.Lookup[SessionCallState.DTMFKey]="DTMFKey";SessionCallState.Lookup[SessionCallState.RejectCall]="RejectCall";function SpokesAudioType(){}SpokesAudioType.MonoOn=1;SpokesAudioType.MonoOff=2;SpokesAudioType.StereoOn=3;SpokesAudioType.StereoOff=4;SpokesAudioType.MonoOnWait=5;SpokesAudioType.StereoOnWait=6;SpokesAudioType.Lookup=Array();SpokesAudioType.Lookup[SpokesAudioType.MonoOn]="MonoOn";SpokesAudioType.Lookup[SpokesAudioType.MonoOff]="MonoOff";SpokesAudioType.Lookup[SpokesAudioType.StereoOn]="StereoOn";SpokesAudioType.Lookup[SpokesAudioType.StereoOff]="StereoOff";SpokesAudioType.Lookup[SpokesAudioType.MonoOnWait]="MonoOnWait";SpokesAudioType.Lookup[SpokesAudioType.StereoOnWait]="StereoOnWait";function SpokesResponseType(){}SpokesResponseType.Unknown=0;SpokesResponseType.Error=1;SpokesResponseType.Bool=2;SpokesResponseType.Integer=3;SpokesResponseType.DeviceInfo=4;SpokesResponseType.DeviceInfoArray=5;SpokesResponseType.DeviceEventArray=6;SpokesResponseType.SessionHash=7;SpokesResponseType.String=8;SpokesResponseType.CallManagerState=9;SpokesResponseType.CallStateArray=10;SpokesResponseType.ContactArray=11;SpokesResponseType.StringArray=12;function SpokesResponse(e){this.Type=e["Type"];this.Type_Name=e["Type_Name"];this.Description=e["Description"];this.isError=e["isError"];this.isValid=true;this.Err=null;this.Result=null;if(this.isError){this.Err=new SpokesError(e["Err"]);return}switch(this.Type){case SpokesResponseType.Bool:case SpokesResponseType.Integer:case SpokesResponseType.SessionHash:case SpokesResponseType.String:case SpokesResponseType.CallManagerState:this.Result=e["Result"];break;case SpokesResponseType.DeviceInfo:this.Result=new SpokesDeviceInfo(e["Result"]);break;case SpokesResponseType.DeviceInfoArray:var s=e["Result"];this.Result=new Array;for(var n=0;n<s.length;n++)this.Result[n]=new SpokesDeviceInfo(s[n]);break;case SpokesResponseType.DeviceEventArray:var s=e["Result"];this.Result=new Array;for(var n=0;n<s.length;n++)this.Result[n]=new SpokesEvent(s[n]);break;case SpokesResponseType.CallStateArray:case SpokesResponseType.StringArray:var s=e["Result"];this.Result=new Array;for(var n=0;n<s.length;n++)this.Result[n]=s[n];break;case SpokesResponseType.ContactArray:var s=e["Result"];this.Result=new Array;for(var n=0;n<s.length;n++)this.Result[n]=new SpokesContact(s[n]);break;default:alert("Invalid object type sent");break}}function SpokesDeviceInfo(e){this.Uid=e["Uid"];this.DevicePath=e["DevicePath"];this.InternalName=e["InternalName"];this.IsAttached=e["IsAttached"];this.ManufacturerName=e["ManufacturerName"];this.ProductId=e["ProductId"];this.ProductName=e["ProductName"];this.SerialNumber=e["SerialNumber"];this.VendorId=e["VendorId"];this.VersionNumber=e["VersionNumber"];this.USBVersionNumber=e["USBVersionNumber"];this.BaseFirmwareVersion=e["BaseFirmwareVersion"];this.BluetoothFirmwareVersion=e["BluetoothFirmwareVersion"];this.RemoteFirmwareVersion=e["RemoteFirmwareVersion"];this.BaseSerialNumber=e["BaseSerialNumber"];this.HeadsetSerialNumber=e["HeadsetSerialNumber"]}function SpokesEventType(){}SpokesEventType.DeviceStateChange=1;SpokesEventType.HeadsetStateChange=2;SpokesEventType.HeadsetButtonPressed=4;SpokesEventType.BaseStateChange=8;SpokesEventType.BaseButtonPressed=16;SpokesEventType.CallStateChange=32;SpokesEventType.ATDStateChange=64;function SpokesEvent(e){this.Event_Log_Type_Name=e["Event_Log_Type_Name"];this.Event_Log_Type_Id=e["Event_Log_Type_Id"];this.Event_Name=e["Event_Name"];this.Event_Id=e["Event_Id"];this.Timestamp=e["Timestamp"];this.Age=e["Age"]}function SpokesErrorType(){}SpokesErrorType.Unknown=0;SpokesErrorType.Invalid_Uid=1;SpokesErrorType.Exception=2;SpokesErrorType.Invalid_Session=3;SpokesErrorType.Server_Offline=4;function SpokesError(e){this.Type=e["Type"];this.Description=e["Description"];this.Error_Code=e["Error_Code"]}function SpokesContact(e){this.Id=e["Id"];this.Name=e["Name"];this.Email=e["Email"];this.Phone=e["Phone"];this.SipUri=e["SipUri"];this.WorkPhone=e["WorkPhone"];this.HomePhone=e["HomePhone"];this.MobilePhone=e["MobilePhone"];this.FriendlyName=e["FriendlyName"]}function SpokesCallId(e){this.Id=e["Id"];this.InConference=e["InConference"];this.ConferenceId=e["ConferenceId"]}function Plugin(e){this.Path=e;this.Sess_Id="";this.isAttached=false}Plugin.prototype.pluginList=function(e){var s=new SpokesAction(e);SpokesAction.Action_List.unshift(s);$.getJSON(this.Path+"/SessionManager/PluginList?callback=?",(function(e){var n=new SpokesResponse(e);if(n.Type!=SpokesResponseType.StringArray)n.isValid=false;s.isValid=false;if(s.Callback!=null&&s.Callback!=undefined)s.Callback(n)}));return true};Plugin.prototype.register=function(e,s){var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/SessionManager/Register?name="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};Plugin.prototype.unRegister=function(e,s){var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/SessionManager/UnRegister?name="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};Plugin.prototype.isActive=function(e,s,n){var t=new SpokesAction(n);SpokesAction.Action_List.unshift(t);$.getJSON(this.Path+"/SessionManager/IsActive?name="+e+"&active="+s+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;t.isValid=false;if(t.Callback!=null&&t.Callback!=undefined)t.Callback(s)}));return true};Plugin.prototype.callManagerState=function(e){var s=new SpokesAction(e);SpokesAction.Action_List.unshift(s);$.getJSON(this.Path+"/CallServices/CallManagerState?callback=?",(function(e){var n=new SpokesResponse(e);if(n.Type!=SpokesResponseType.CallManagerState)n.isValid=false;s.isValid=false;if(s.Callback!=null&&s.Callback!=undefined)s.Callback(n)}));return true};Plugin.prototype.sessionEvents=function(e){var s=new SpokesAction(e);SpokesAction.Action_List.unshift(s);$.getJSON(this.Path+"/CallServices/Events?callback=?",(function(e){var n=new SpokesResponse(e);if(n.Type!=SpokesResponseType.StringArray)n.isValid=false;s.isValid=false;if(s.Callback!=null&&s.Callback!=undefined)s.Callback(n)}));return true};Plugin.prototype.sessionCallEvents=function(e,s){var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/CallServices/SessionManagerCallEvents?name="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.StringArray)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};Plugin.prototype.callEvents=function(e,s){var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/CallServices/CallEvents?name="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.CallStateArray)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};Plugin.prototype.callRequests=function(e,s){var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/CallServices/CallRequests?name="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.ContactArray)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};Plugin.prototype.incomingCall=function(e,s,n,t,a,i){var o=new SpokesAction(i);SpokesAction.Action_List.unshift(o);if(s.getName()!="SpokesCallId"||n.getName()!="SpokesContact")return false;s=JSON.stringify(s);n=JSON.stringify(n);$.getJSON(this.Path+"/CallServices/IncomingCall?name="+e+"&callID="+s+"&contact="+n+"&tones="+t+"&route="+a+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;o.isValid=false;if(o.Callback!=null&&o.Callback!=undefined)o.Callback(s)}));return true};Plugin.prototype.outgoingCall=function(e,s,n,t,a){var i=new SpokesAction(a);SpokesAction.Action_List.unshift(i);if(s.getName()!="SpokesCallId"||n.getName()!="SpokesContact")return false;s=JSON.stringify(s);n=JSON.stringify(n);$.getJSON(this.Path+"/CallServices/OutgoingCall?name="+e+"&callID="+s+"&contact="+n+"&route="+t+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;i.isValid=false;if(i.Callback!=null&&i.Callback!=undefined)i.Callback(s)}));return true};Plugin.prototype.terminateCall=function(e,s,n){var t=new SpokesAction(n);SpokesAction.Action_List.unshift(t);if(s.getName()!="SpokesCallId")return false;s=JSON.stringify(s);$.getJSON(this.Path+"/CallServices/TerminateCall?name="+e+"&callID="+s+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;t.isValid=false;if(t.Callback!=null&&t.Callback!=undefined)t.Callback(s)}));return true};Plugin.prototype.answerCall=function(e,s,n){var t=new SpokesAction(n);SpokesAction.Action_List.unshift(t);if(s.getName()!="SpokesCallId")return false;s=JSON.stringify(s);$.getJSON(this.Path+"/CallServices/AnswerCall?name="+e+"&callID="+s+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;t.isValid=false;if(t.Callback!=null&&t.Callback!=undefined)t.Callback(s)}));return true};Plugin.prototype.holdCall=function(e,s,n){var t=new SpokesAction(n);SpokesAction.Action_List.unshift(t);if(s.getName()!="SpokesCallId")return false;s=JSON.stringify(s);$.getJSON(this.Path+"/CallServices/HoldCall?name="+e+"&callID="+s+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;t.isValid=false;if(t.Callback!=null&&t.Callback!=undefined)t.Callback(s)}));return true};Plugin.prototype.resumeCall=function(e,s,n){var t=new SpokesAction(n);SpokesAction.Action_List.unshift(t);if(s.getName()!="SpokesCallId")return false;s=JSON.stringify(s);$.getJSON(this.Path+"/CallServices/ResumeCall?name="+e+"&callID="+s+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;t.isValid=false;if(t.Callback!=null&&t.Callback!=undefined)t.Callback(s)}));return true};Plugin.prototype.muteCall=function(e,s,n){var t=new SpokesAction(n);SpokesAction.Action_List.unshift(t);$.getJSON(this.Path+"/CallServices/MuteCall?name="+e+"&muted="+s+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;t.isValid=false;if(t.Callback!=null&&t.Callback!=undefined)t.Callback(s)}));return true};Plugin.prototype.insertCall=function(e,s,n,t){var a=new SpokesAction(t);SpokesAction.Action_List.unshift(a);if(s.getName()!="SpokesCallId"||n.getName()!="SpokesContact")return false;s=JSON.stringify(s);n=JSON.stringify(n);$.getJSON(this.Path+"/CallServices/InsertCall?name="+e+"&callID="+s+"&contact="+n+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;a.isValid=false;if(a.Callback!=null&&a.Callback!=undefined)a.Callback(s)}));return true};Plugin.prototype.setAudioRoute=function(e,s,n,t){var a=new SpokesAction(t);SpokesAction.Action_List.unshift(a);if(s.getName()!="SpokesCallId")return false;s=JSON.stringify(s);$.getJSON(this.Path+"/CallServices/SetAudioRoute?name="+e+"&callID="+s+"&route="+n+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;a.isValid=false;if(a.Callback!=null&&a.Callback!=undefined)a.Callback(s)}));return true};Plugin.prototype.setConferenceId=function(e,s,n){var t=new SpokesAction(n);SpokesAction.Action_List.unshift(t);if(s.getName()!="SpokesCallId")return false;s=JSON.stringify(s);$.getJSON(this.Path+"/CallServices/SetConferenceId?name="+e+"&callID="+s+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;t.isValid=false;if(t.Callback!=null&&t.Callback!=undefined)t.Callback(s)}));return true};Plugin.prototype.makeCall=function(e,s,n){var t=new SpokesAction(n);SpokesAction.Action_List.unshift(t);if(s.getName()!="SpokesContact")return false;s=JSON.stringify(s);$.getJSON(this.Path+"/CallServices/MakeCall?name="+e+"&contact="+s+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;t.isValid=false;if(t.Callback!=null&&t.Callback!=undefined)t.Callback(s)}));return true};var getName=function(){var e=/function (.{1,})\(/;var s=e.exec(this.constructor.toString());return s&&s.length>1?s[1]:""};SpokesCallId.prototype.getName=getName;SpokesContact.prototype.getName=getName;function UserPreference(e){this.Path=e}UserPreference.prototype.getDefaultSoftphone=function(e){var s=new SpokesAction(e);SpokesAction.Action_List.unshift(s);$.getJSON(this.Path+"/UserPreference/GetDefaultSoftPhone?callback=?",(function(e){var n=new SpokesResponse(e);if(n.Type!=SpokesResponseType.String)n.isValid=false;s.isValid=false;if(s.Callback!=null&&s.Callback!=undefined)s.Callback(n)}));return true};UserPreference.prototype.getEscalateToVoiceSoftPhone=function(e){var s=new SpokesAction(e);SpokesAction.Action_List.unshift(s);$.getJSON(this.Path+"/UserPreference/GetEscalateToVoiceSoftPhone?callback=?",(function(e){var n=new SpokesResponse(e);if(n.Type!=SpokesResponseType.String)n.isValid=false;s.isValid=false;if(s.Callback!=null&&s.Callback!=undefined)s.Callback(n)}));return true};UserPreference.prototype.getMediaPlayerActionIncomingCall=function(e){var s=new SpokesAction(e);SpokesAction.Action_List.unshift(s);$.getJSON(this.Path+"/UserPreference/GetMediaPlayerActionIncomingCall?callback=?",(function(e){var n=new SpokesResponse(e);if(n.Type!=SpokesResponseType.String)n.isValid=false;s.isValid=false;if(s.Callback!=null&&s.Callback!=undefined)s.Callback(n)}));return true};UserPreference.prototype.getMediaPlayerActionEndedCall=function(e){var s=new SpokesAction(e);SpokesAction.Action_List.unshift(s);$.getJSON(this.Path+"/UserPreference/GetMediaPlayerActionEndedCall?callback=?",(function(e){var n=new SpokesResponse(e);if(n.Type!=SpokesResponseType.String)n.isValid=false;s.isValid=false;if(s.Callback!=null&&s.Callback!=undefined)s.Callback(n)}));return true};UserPreference.prototype.getAutoPresence=function(e){var s=new SpokesAction(e);SpokesAction.Action_List.unshift(s);$.getJSON(this.Path+"/UserPreference/GetAutoPresence?callback=?",(function(e){var n=new SpokesResponse(e);if(n.Type!=SpokesResponseType.Bool)n.isValid=false;s.isValid=false;if(s.Callback!=null&&s.Callback!=undefined)s.Callback(n)}));return true};UserPreference.prototype.getDoffAction=function(e){var s=new SpokesAction(e);SpokesAction.Action_List.unshift(s);$.getJSON(this.Path+"/UserPreference/GetDoffAction?callback=?",(function(e){var n=new SpokesResponse(e);if(n.Type!=SpokesResponseType.String)n.isValid=false;s.isValid=false;if(s.Callback!=null&&s.Callback!=undefined)s.Callback(n)}));return true};UserPreference.prototype.getDonAction=function(e){var s=new SpokesAction(e);SpokesAction.Action_List.unshift(s);$.getJSON(this.Path+"/UserPreference/GetDonAction?callback=?",(function(e){var n=new SpokesResponse(e);if(n.Type!=SpokesResponseType.String)n.isValid=false;s.isValid=false;if(s.Callback!=null&&s.Callback!=undefined)s.Callback(n)}));return true};UserPreference.prototype.getKeepLinkUp=function(e){var s=new SpokesAction(e);SpokesAction.Action_List.unshift(s);$.getJSON(this.Path+"/UserPreference/GetKeepLinkUp?callback=?",(function(e){var n=new SpokesResponse(e);if(n.Type!=SpokesResponseType.Bool)n.isValid=false;s.isValid=false;if(s.Callback!=null&&s.Callback!=undefined)s.Callback(n)}));return true};UserPreference.prototype.getRingPCAndHS=function(e){var s=new SpokesAction(e);SpokesAction.Action_List.unshift(s);$.getJSON(this.Path+"/UserPreference/GetRingPCAndHS?callback=?",(function(e){var n=new SpokesResponse(e);if(n.Type!=SpokesResponseType.Bool)n.isValid=false;s.isValid=false;if(s.Callback!=null&&s.Callback!=undefined)s.Callback(n)}));return true};UserPreference.prototype.setDefaultSoftphone=function(e,s){var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/UserPreference/SetDefaultSoftPhone?name="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};UserPreference.prototype.setEscalateToVoiceSoftPhone=function(e,s){var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/UserPreference/SetEscalateToVoiceSoftPhone?name="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};UserPreference.prototype.setMediaPlayerActionIncomingCall=function(e,s){var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/UserPreference/SetMediaPlayerActionIncomingCall?actionIncoming="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};UserPreference.prototype.setMediaPlayerActionEndedCall=function(e,s){var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/UserPreference/SetMediaPlayerActionEndedCall?actionEnded="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};UserPreference.prototype.setAutoPresence=function(e,s){var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/UserPreference/SetAutoPresence?autoPresence="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};UserPreference.prototype.setDoffAction=function(e,s){var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/UserPreference/SetDoffAction?doffAction="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};UserPreference.prototype.setDonAction=function(e,s){var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/UserPreference/SetDonAction?donAction="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};UserPreference.prototype.setKeepLinkUp=function(e,s){var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/UserPreference/SetKeepLinkUp?keepLinkUp="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};UserPreference.prototype.setRingPCAndHS=function(e,s){var n=new SpokesAction(s);SpokesAction.Action_List.unshift(n);$.getJSON(this.Path+"/UserPreference/SetRingPCAndHS?ringPcAndHS="+e+"&callback=?",(function(e){var s=new SpokesResponse(e);if(s.Type!=SpokesResponseType.Bool)s.isValid=false;n.isValid=false;if(n.Callback!=null&&n.Callback!=undefined)n.Callback(s)}));return true};