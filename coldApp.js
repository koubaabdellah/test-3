function createCORSXHR(method,url){var xhr=new XMLHttpRequest;return"withCredentials"in xhr?xhr.open(method,url,!0):"undefined"!=typeof XDomainRequest?(xhr=new XDomainRequest).open(method,url):xhr=null,xhr}function makeCorsRequest(url,xhr,postBody,success,failure){xhr||failure("CORS not supported"),xhr.setRequestHeader("Content-Type","application/json"),xhr.setRequestHeader("Accept","application/json"),xhr.setRequestHeader("X-Requested-By",senderApp),xhr.withCredentials=!0,xhr.onload=function(){var res=JSON.parse(xhr.responseText);if(res&&res.Result)if(res.Result.Code&&res.Result.Code===successCode){try{var gnessJson_new=JSON.parse(res.GlobalNavSessionCookie),gnessJson_newStr=JSON.stringify(gnessJson_new);document.cookie="GNSESS="+gnessJson_newStr+";secure; domain=.att.com; path=/"}catch(e){console.log("Error while setting GNESS cookie ")}success(res)}else failure({code:res.Result.Code,message:res.Result.Description,url:url});else failure({code:"NORESP",message:"No response/result object in xhr response",url:url})},xhr.onerror=function(){failure({code:"XHRFAIL",message:"xhr call failed",url:url})},xhr.send(postBody)}function getCookie(cname){for(var name=cname+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(name))return c.substring(name.length,c.length)}return""}function successCors(){console.log("in Success ..CORS Call responded success")}function failureCors(failureJson){console.log("in Fail ..CORS Call responded failure"+failureJson)}function setRequestData(bestData){BEST_API_PREFIX=bestData.ApiBaseURL,GNSESS_URI=bestData.GnessURL,coldAppBestRequest=bestData.BestRequest,senderApp=bestData.AppName,successCode=bestData.SuccessCode}function makeColdAppBestCall(){var xhr=createCORSXHR("POST",BEST_API_PREFIX+GNSESS_URI);makeCorsRequest(BEST_API_PREFIX+GNSESS_URI,xhr,coldAppBestRequest,successCors,failureCors)}var BEST_API_PREFIX,GNSESS_URI,coldAppBestRequest,senderApp="DOPSS",successCode="S0000";