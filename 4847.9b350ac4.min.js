"use strict";(this["webpackChunkapplication"]=this["webpackChunkapplication"]||[]).push([[4847],{909513:(e,t,n)=>{n.d(t,{v:()=>c});var r=n(862926);var i=n.n(r);var o=n(969368);var a=n(942166);var u=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){i(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var s=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var c=function(){function RCMApi(){}RCMApi.createRCMeeting=function(e){var t={data:e,authFree:false,method:r.NETWORK_METHOD.POST,HAPriority:r.HA_PRIORITY.HIGH,path:r.RequestPath.buildRequestPath(""+o.M.API_MEETING)};return RCMApi.networkClient.http(t)};RCMApi.validateAccountStatus=function(){var e={authFree:false,method:r.NETWORK_METHOD.HEAD,path:r.RequestPath.buildRequestPath(o.M.API_MEETINGS_CONFIG+"/user/validate")};return RCMApi.networkClient.http(e)};RCMApi.getServiceInfo=function(){var e={authFree:false,method:r.NETWORK_METHOD.GET,path:r.RequestPath.buildRequestPath(o.M.API_MEETING+"/service-info")};return RCMApi.networkClient.http(e)};RCMApi.getServiceInfoByAccountIdAndExtensionId=function(e,t){var n=o.M.API_MEETING.replace("account/~","account/"+r.FORMAT_MARK).replace("extension/~","extension/"+r.FORMAT_MARK);var i={authFree:false,method:r.NETWORK_METHOD.GET,path:r.RequestPath.buildRequestPath(n+"/service-info",e,t)};return RCMApi.networkClient.http(i)};RCMApi.getMeetInvitation=function(e,t){var n={authFree:false,method:r.NETWORK_METHOD.GET,params:{language:t},path:r.RequestPath.buildRequestPath(o.M.API_MEETING+"/"+r.FORMAT_MARK+"/invitation",e)};return RCMApi.networkClient.http(n)};RCMApi.updateServiceInfo=function(e){var t={data:e,authFree:false,method:r.NETWORK_METHOD.PATCH,path:r.RequestPath.buildRequestPath(o.M.API_MEETING+"/service-info")};return RCMApi.networkClient.http(t)};RCMApi.getMeetSettingById=function(e){return u(this,void 0,void 0,(function(){var t,n;return s(this,(function(i){switch(i.label){case 0:t={authFree:false,method:r.NETWORK_METHOD.GET,path:r.RequestPath.buildRequestPath(o.M.API_MEETING+"/"+r.FORMAT_MARK,e)};return[4,RCMApi.networkClient.http(t)];case 1:n=i.sent();n&&(n.alternativeHostsArray=[]);if(n===null||n===void 0?void 0:n.alternativeHosts){n.alternativeHostsArray=n.alternativeHosts.split(a.K5)}return[2,n]}}))}))};RCMApi.updateMeetSettingById=function(e,t){t.alternativeHosts="";if(t.alternativeHostsArray&&t.alternativeHostsArray.length>0){t.alternativeHosts=t.alternativeHostsArray.join(a.K5)}t.alternativeHostsArray=undefined;var n={data:t,authFree:false,method:r.NETWORK_METHOD.PUT,path:r.RequestPath.buildRequestPath(o.M.API_MEETING+"/"+r.FORMAT_MARK,e)};return RCMApi.networkClient.http(n)};RCMApi.getRCMDelegateUserList=function(){var e={authFree:false,method:r.NETWORK_METHOD.GET,path:r.RequestPath.buildRequestPath(o.M.API_MEETINGS_CONFIG+"/assisted")};return RCMApi.networkClient.http(e)};RCMApi.getLockSettings=function(){var e={authFree:false,method:r.NETWORK_METHOD.GET,path:r.RequestPath.buildRequestPath(""+o.M.API_MEETING_LOCK_SETTINGS)};return RCMApi.networkClient.http(e)};RCMApi.getUserSettings=function(e){var t=""+o.M.API_MEETING_USER_SETTINGS;var n;if(e){n=r.RequestPath.buildRequestPath(t.replace("extension/~","extension/"+r.FORMAT_MARK),e)}else{n=r.RequestPath.buildRequestPath(t)}var i={authFree:false,method:r.NETWORK_METHOD.GET,path:n};return RCMApi.networkClient.http(i)};RCMApi.updateUserHeadshot=function(e){var t=new FormData;t.append("profilePic",e);var n={data:t,authFree:false,method:r.NETWORK_METHOD.POST,path:r.RequestPath.buildRequestPath(""+o.M.API_MEETING_UPDATE_AVATAR),headers:{"content-type":"multipart/form-data"}};return RCMApi.networkClient.http(n)};RCMApi.getMeetingList=function(e){var t={authFree:false,method:r.NETWORK_METHOD.GET,path:r.RequestPath.buildRequestPath(""+o.M.API_MEETING),params:e};return RCMApi.networkClient.http(t)};RCMApi.deleteMeeting=function(e){var t={authFree:false,method:r.NETWORK_METHOD.DELETE,path:r.RequestPath.buildRequestPath(o.M.API_MEETING+"/"+r.FORMAT_MARK,e)};return RCMApi.networkClient.http(t)};return RCMApi}()},969368:(e,t,n)=>{n.d(t,{M:()=>i});var r="v1.0";var i={API_MEETING:"/restapi/"+r+"/account/~/extension/~/meeting",API_MEETINGS_CONFIG:"restapi/v1.0/account/~/extension/~/meetings-configuration",API_MEETING_FEATURES:"/restapi/"+r+"/account/~/meeting-features",API_MEETING_LOCK_SETTINGS:"/restapi/v1.0/account/~/meeting/locked-settings",API_MEETING_USER_SETTINGS:"/restapi/v1.0/account/~/extension/~/meeting/user-settings",API_MEETING_UPDATE_AVATAR:"/restapi/v1.0/account/~/extension/~/meeting-configuration/profile-image"}},961638:(e,t,n)=>{n.d(t,{o:()=>r});var r={RCM_CONFIG:"RCM_CONFIG",RCM_DELEGATE_USER_LIST:"RCM_DELEGATE_USER_LIST",RCM_PMI_SETTING:"RCM_PMI_SETTING",HAS_RCM_ACCOUNT:"has_rcm_account",RCM_LOCK_SETTINGS:"rcm_lock_settings",RCM_USER_SETTINGS:"rcm_user_settings",HAS_MEETINGS:"has_meetings"}},942166:(e,t,n)=>{n.d(t,{oF:()=>i,tE:()=>a,IM:()=>u,SG:()=>s,QT:()=>c,bS:()=>f,v4:()=>d,FY:()=>p,K5:()=>v});var r=n(295454);var i=r.Lb.RCM;var o="RCM";var a=1;var u=1;var s=100;var c={RCM:"ENTITY.MEETING",MEETING_LIST:"ENTITY.CALENDAR_EVENT"};var l;(function(e){e["ZOOM_PMI"]="zoom_pmi";e["ZOOM_PMI_SETTINGS"]="pmi_settings";e["INSTANT_MEETINGS"]="instantMeetings";e["ZOOM_ID"]="zoom_id"})(l||(l={}));var f;(function(e){e["INVALID_PARAM"]="CMN-101";e["PMI_ALREADY_USED"]="MET-114";e["ALTERNATIVE_HOSTS_SIZE_INVALID"]="MET-1061";e["ALTERNATIVE_HOSTS_ZOOM_INVALID"]="MET-1062";e["ALTERNATIVE_HOSTS_RC_INVALID"]="MET-1063"})(f||(f={}));var d;(function(e){e["de"]="de-DE"})(d||(d={}));var p={CALENDAR_MODULE_LOAD_FINISH:"CALENDAR_MODULE_LOAD_FINISH",CALENDAR_FILTER_OPTIONS_CHANGE:"CALENDAR_FILTER_OPTIONS_CHANGE",ZOOM_ACCOUNT_STATUS_CHANGE:"zoom_account_status_change",REGISTER_MEETING_SYNC_SOURCE_PROVIDER:"register_meeting_sync_source_provider"};var v=";"},81413:(e,t,n)=>{n.d(t,{TG:()=>r.TG,D4:()=>r.D4,$q:()=>r.$q,h8:()=>r.h8,zp:()=>r.zp,hv:()=>r.hv,Es:()=>r.Es,xf:()=>r.xf});var r=n(230905)},230905:(e,t,n)=>{n.d(t,{hv:()=>r.hv,$q:()=>r.$q,h8:()=>r.h8,zp:()=>r.zp,xf:()=>r.xf,D4:()=>i.D4,Es:()=>o,TG:()=>i.TG});var r=n(954083);var i=n(982313);var o;(function(e){e["None"]="none";e["JoinBeforeHost"]="jbh_only";e["All"]="all"})(o||(o={}))},419960:(e,t,n)=>{n.d(t,{k:()=>u});var r=n(862926);var i=n.n(r);var o=n(204285);var a="[MEET][CORE][RCM]";var u=r.ModuleLogger.getLogger(a,(function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e}),o.VIDEO_EVENT_DATA_FEATURE_KEY)},814847:(e,t,n)=>{n.d(t,{M:()=>r.M,S:()=>Q});var r=n(938406);var i=n(696206);var o=n(707938);var a=n(812490);var u=n(531616);var s=n(260666);var c=n(961638);var l=n(667489);var f=n(960782);var d=n(782117);var p=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var v=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){i(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var _=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var h=function(e){p(HostKeySettingItemProvider,e);function HostKeySettingItemProvider(t){var n=e.call(this,{id:r.M.Host_Key})||this;n._meetingService=t;return n}HostKeySettingItemProvider.prototype._getRCMConfigKey=function(){var e=this._meetingService.DBConfig;return e.getNotificationKey(c.o.RCM_CONFIG)};HostKeySettingItemProvider.prototype._getVideoService=function(){return v(this,void 0,void 0,(function(){return _(this,(function(e){switch(e.label){case 0:return[4,this._meetingService.meetModule.getVideoService()];case 1:return[2,e.sent()]}}))}))};HostKeySettingItemProvider.prototype._getState=function(){var e,t;return v(this,void 0,void 0,(function(){var n,r,i,o;return _(this,(function(s){switch(s.label){case 0:n=(0,l.getModule)(f.COMMON_KEY_ACTION_MODULE).getKeyActionService().get(f.ACTION_KEY.VIDEO_CONFERENCING);return[4,n===null||n===void 0?void 0:n.getAction()];case 1:return[4,(e=s.sent())===null||e===void 0?void 0:e.get()];case 2:r=s.sent();i=((t=(0,l.getCurrentAccount)())===null||t===void 0?void 0:t.accountType())===d.Q5.RC;o=i;if(!o)return[3,4];return[4,this._getVideoService()];case 3:o=s.sent()===a.ZE.RINGCENTRAL_MEETINGS_EMBEDDED;s.label=4;case 4:if(o&&r){return[2,u.Ye.ENABLE]}return[2,u.Ye.INVISIBLE]}}))}))};HostKeySettingItemProvider.prototype._getValue=function(e){return v(this,void 0,void 0,(function(){var t;return _(this,(function(n){switch(n.label){case 0:if(e===u.Ye.INVISIBLE){return[2,Promise.resolve(undefined)]}return[4,this._meetingService.DBConfig.getRCMConfig()];case 1:t=n.sent();return[2,t&&t.externalUserInfo&&t.externalUserInfo.hostKey]}}))}))};HostKeySettingItemProvider.prototype.buildValueProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return v(e,void 0,void 0,(function(){var e;return _(this,(function(t){switch(t.label){case 0:return[4,this._getState()];case 1:e=t.sent();return[2,this._getValue(e)]}}))}))}})};HostKeySettingItemProvider.prototype.buildStateProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return v(e,void 0,void 0,(function(){return _(this,(function(e){return[2,this._getState()]}))}))}})};HostKeySettingItemProvider.prototype.onLoad=function(){var e=this;var handleUpdate=function(){e.getStateProvider().notifyChange();e.getValueProvider().notifyChange()};this.onSettingUpdate(s.H.Video_Service,handleUpdate);this.on(this._getRCMConfigKey(),handleUpdate)};return HostKeySettingItemProvider}(o.t);var g=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var M=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){i(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var S=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var E=function(e){g(MeetSettingSettingItemProvider,e);function MeetSettingSettingItemProvider(t){var n=e.call(this,{id:r.M.RCM_MEET_SETTING})||this;n._meetingService=t;return n}MeetSettingSettingItemProvider.prototype._getVideoService=function(){return M(this,void 0,void 0,(function(){return S(this,(function(e){switch(e.label){case 0:return[4,this._meetingService.meetModule.getVideoService()];case 1:return[2,e.sent()]}}))}))};MeetSettingSettingItemProvider.prototype._getState=function(){var e,t;return M(this,void 0,void 0,(function(){var n,r,i,o;return S(this,(function(s){switch(s.label){case 0:n=(0,l.getModule)(f.COMMON_KEY_ACTION_MODULE).getKeyActionService().get(f.ACTION_KEY.VIDEO_CONFERENCING);return[4,n===null||n===void 0?void 0:n.getAction()];case 1:return[4,(e=s.sent())===null||e===void 0?void 0:e.get()];case 2:r=s.sent();i=((t=(0,l.getCurrentAccount)())===null||t===void 0?void 0:t.accountType())===d.Q5.RC;o=i;if(!o)return[3,4];return[4,this._getVideoService()];case 3:o=s.sent()===a.ZE.RINGCENTRAL_MEETINGS_EMBEDDED;s.label=4;case 4:if(o&&r){return[2,u.Ye.ENABLE]}return[2,u.Ye.INVISIBLE]}}))}))};MeetSettingSettingItemProvider.prototype.buildStateProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return M(e,void 0,void 0,(function(){return S(this,(function(e){return[2,this._getState()]}))}))}})};MeetSettingSettingItemProvider.prototype.onLoad=function(){var e=this;var handleUpdate=function(){e.getStateProvider().notifyChange()};this.onSettingUpdate(s.H.Video_Service,handleUpdate)};return MeetSettingSettingItemProvider}(o.t);var I=n(419960);var y=n(909513);var P=n(298784);var b=n.n(P);var R=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var C=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){i(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var T=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var m=function(e){R(PMISettingItemProvider,e);function PMISettingItemProvider(t){var n=e.call(this,{id:r.M.RCM_PMI})||this;n._meetingService=t;return n}PMISettingItemProvider.prototype._getRCMConfigKey=function(){var e=this._meetingService.DBConfig;return e.getNotificationKey(c.o.RCM_CONFIG)};PMISettingItemProvider.prototype._getRCMPMIConfigKey=function(){var e=this._meetingService.DBConfig;return e.getNotificationKey(c.o.RCM_PMI_SETTING)};PMISettingItemProvider.prototype._getVideoService=function(){return C(this,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,this._meetingService.meetModule.getVideoService()];case 1:return[2,e.sent()]}}))}))};PMISettingItemProvider.prototype._getState=function(){var e,t;return C(this,void 0,void 0,(function(){var n,r,o,u;return T(this,(function(s){switch(s.label){case 0:n=(0,l.getModule)(f.COMMON_KEY_ACTION_MODULE).getKeyActionService().get(f.ACTION_KEY.VIDEO_CONFERENCING);return[4,n===null||n===void 0?void 0:n.getAction()];case 1:return[4,(e=s.sent())===null||e===void 0?void 0:e.get()];case 2:r=s.sent();o=((t=(0,l.getCurrentAccount)())===null||t===void 0?void 0:t.accountType())===d.Q5.RC;u=o;if(!u)return[3,4];return[4,this._getVideoService()];case 3:u=s.sent()===a.ZE.RINGCENTRAL_MEETINGS_EMBEDDED;s.label=4;case 4:if(u&&r){return[2,i.ESettingItemState.ENABLE]}return[2,i.ESettingItemState.INVISIBLE]}}))}))};PMISettingItemProvider.prototype._updatePMISetting=function(e,t){return C(this,void 0,void 0,(function(){var n,r;return T(this,(function(i){switch(i.label){case 0:n={allowJoinBeforeHost:t.allowJoinBeforeHost,audioOptions:t.audioOptions,startHostVideo:t.startHostVideo,startParticipantsVideo:t.startParticipantsVideo,password:t.password,globalDialInCountries:t.globalDialInCountries,enableWaitingRoom:t.enableWaitingRoom,muteParticipantsOnEntry:t.muteParticipantsOnEntry,enforceLogin:t.enforceLogin,autoRecordType:t.autoRecordType,alternativeHostsArray:t.alternativeHostsArray};i.label=1;case 1:i.trys.push([1,4,,5]);return[4,y.v.updateMeetSettingById(e,n)];case 2:i.sent();return[4,this._meetingService.requestRCMConfig()];case 3:i.sent();return[3,5];case 4:r=i.sent();I.k.report("Update RCM PMI setting failed",r);throw r;case 5:return[2]}}))}))};PMISettingItemProvider.prototype.getValue=function(e){return C(this,void 0,void 0,(function(){var t,n,r,o,a,u;return T(this,(function(s){switch(s.label){case 0:if(e!==i.ESettingItemState.ENABLE){return[2,Promise.resolve(undefined)]}t="";n=false;r="";o="";return[4,this._meetingService.DBConfig.getRCMConfig()];case 1:a=s.sent();return[4,this._createZOOMPMISetting()];case 2:u=s.sent();if(a&&a.externalUserInfo){t=a.externalUserInfo.personalMeetingId||"";n=a.externalUserInfo.usePmiForInstantMeetings||false;r=a.externalUserInfo.personalLink||"";o=u.joinUri||""}this._cacheValue={pmi:t,usePersonalMeetingId:n,setting:u,pmiLink:o,personalLink:r};return[2,this._cacheValue]}}))}))};PMISettingItemProvider.prototype._createZOOMPMISetting=function(){return C(this,void 0,void 0,(function(){var e,t;return T(this,(function(n){switch(n.label){case 0:return[4,this._meetingService.DBConfig.getRCMPMISetting()];case 1:e=n.sent();t={joinUri:e&&e.links&&e.links.joinUri,allowJoinBeforeHost:e&&e.allowJoinBeforeHost,audioOptions:e&&e.audioOptions,startHostVideo:e&&e.startHostVideo,startParticipantsVideo:e&&e.startParticipantsVideo,password:e&&e.password,globalDialInCountries:e&&e.globalDialInCountries,enableWaitingRoom:e&&e.enableWaitingRoom,muteParticipantsOnEntry:e&&e.muteParticipantsOnEntry,enforceLogin:e&&e.enforceLogin,autoRecordType:e&&e.autoRecordType,alternativeHostsArray:e&&e.alternativeHostsArray};return[2,t]}}))}))};PMISettingItemProvider.prototype.buildValueProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return C(e,void 0,void 0,(function(){var e;return T(this,(function(t){switch(t.label){case 0:return[4,this._getState()];case 1:e=t.sent();return[2,this.getValue(e)]}}))}))},setter:function(t){return C(e,void 0,void 0,(function(){var e,n,r,i,o;var a;return T(this,(function(u){switch(u.label){case 0:e=t.pmi;n=this._cacheValue;if(!(!n||e!==n.pmi||t.usePersonalMeetingId!==n.usePersonalMeetingId))return[3,3];r={externalUserInfo:{personalMeetingId:e,usePmiForInstantMeetings:t.usePersonalMeetingId}};return[4,y.v.updateServiceInfo(r)];case 1:i=u.sent();return[4,this._meetingService.DBConfig.setRCMConfig(i)];case 2:u.sent();u.label=3;case 3:if(!(!n||e!==n.pmi||!b().isEqual(n.setting,t.setting)))return[3,5];return[4,this._updatePMISetting(e,t.setting)];case 4:u.sent();u.label=5;case 5:return[4,this._meetingService.DBConfig.getRCMPMISetting()];case 6:o=u.sent();t.pmiLink=((a=o.links)===null||a===void 0?void 0:a.joinUri)||"";this._cacheValue=t;this.getValueProvider().notifyChange();return[2]}}))}))}})};PMISettingItemProvider.prototype.buildStateProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return e._getState()}})};PMISettingItemProvider.prototype.onLoad=function(){var e=this;var handleUpdate=function(){e.getValueProvider().notifyChange();e.getStateProvider().notifyChange()};this.onSettingUpdate(s.H.Video_Service,handleUpdate);this.on(this._getRCMConfigKey(),handleUpdate);this.on(this._getRCMPMIConfigKey(),handleUpdate)};return PMISettingItemProvider}(o.t);var A=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var w=undefined&&undefined.__assign||function(){w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return w.apply(this,arguments)};var O=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){i(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var N=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var D=function(e){A(LockSettingsItemProvider,e);function LockSettingsItemProvider(t){var n=e.call(this,{id:r.M.RCM_LOCK_SETTINGS,source:{type:i.Pe.CONSTANT}})||this;n._meetingService=t;return n}LockSettingsItemProvider.prototype.buildValueProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return e._getValue()}})};Object.defineProperty(LockSettingsItemProvider.prototype,"dbConfig",{get:function(){return this._meetingService.DBConfig},enumerable:true,configurable:true});LockSettingsItemProvider.prototype.onLoad=function(){var e=this;var handleUpdate=function(){e.getValueProvider().notifyChange()};this.on(this._getRCVConferencesKey(),handleUpdate)};LockSettingsItemProvider.prototype._getRCVConferencesKey=function(){return this.dbConfig.getNotificationKey(c.o.RCM_LOCK_SETTINGS)};LockSettingsItemProvider.prototype._getValue=function(){return O(this,void 0,void 0,(function(){var e,t,n;return N(this,(function(r){switch(r.label){case 0:return[4,this.dbConfig.getRCMLockSettings()];case 1:e=r.sent();t=e&&w(w({},e.scheduleMeeting),e.recording);n={startHostVideo:false,startParticipantsVideo:false,audioOptions:false,allowJoinBeforeHost:false,requirePasswordForSchedulingNewMeetings:false,requirePasswordForInstantMeetings:false,requirePasswordForPmiMeetings:false,autoRecording:false,enforceLogin:false};if(t){Object.entries(n).forEach((function(e){if(t[e[0]])n[e[0]]=t[e[0]]}))}return[2,n]}}))}))};return LockSettingsItemProvider}(o.t);var G=n(81413);var V=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var L=undefined&&undefined.__assign||function(){L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return L.apply(this,arguments)};var H=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){i(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var k=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var K=function(e){V(UserSettingsItemProvider,e);function UserSettingsItemProvider(t){var n=e.call(this,{id:r.M.RCM_USER_SETTINGS,source:{type:i.Pe.CONSTANT}})||this;n._meetingService=t;return n}UserSettingsItemProvider.prototype.buildValueProvider=function(){var e=this;return this.buildBaseItemValueProvider({getter:function(){return e._getValue()}})};Object.defineProperty(UserSettingsItemProvider.prototype,"dbConfig",{get:function(){return this._meetingService.DBConfig},enumerable:true,configurable:true});UserSettingsItemProvider.prototype.onLoad=function(){var e=this;var handleUpdate=function(){e.getValueProvider().notifyChange()};this.on(this._getRCVConferencesKey(),handleUpdate)};UserSettingsItemProvider.prototype._getRCVConferencesKey=function(){return this.dbConfig.getNotificationKey(c.o.RCM_USER_SETTINGS)};UserSettingsItemProvider.prototype._getValue=function(){return H(this,void 0,void 0,(function(){var e,t,n;return k(this,(function(r){switch(r.label){case 0:return[4,this.dbConfig.getRCMUserSettings()];case 1:e=r.sent();t=e&&L(L(L({},e.recording),e.scheduleMeeting),e.telephony);n={pstnPasswordProtected:false,requirePasswordForSchedulingNewMeetings:false,requirePasswordForScheduledMeetings:false,requirePasswordForInstantMeetings:false,requirePasswordForPmiMeetings:G.Es.None,pmiPassword:"",startHostVideo:true,startParticipantsVideo:true,audioOptions:[G.D4.Both],allowJoinBeforeHost:true,usePmiForScheduledMeetings:false,usePmiForInstantMeetings:false,globalDialCountries:[],enforceLogin:false,localRecording:false,cloudRecording:false,autoRecording:G.TG.NONE};if(t){Object.entries(n).forEach((function(e){if(t[e[0]]!==undefined)n[e[0]]=t[e[0]]}))}return[2,n]}}))}))};return UserSettingsItemProvider}(o.t);var x=n(38942);var U=n(302186);var F=n(376271);var B=n(968006);var q=n(721974);var j=n(204285);var W=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Y=undefined&&undefined.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){i(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};var Z=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var J=function(e){W(RCMDirectShareSettingItemProvider,e);function RCMDirectShareSettingItemProvider(){var t=e.call(this,r.M.DIRECT_SHARE)||this;t._profileSettingKey=j.PROFILE_SETTING_KEYS.SHOW_DIRECT_SHARE_BUTTON_RCM;t._canUseDirectShare=false;var n=(0,l.getModule)(x.FEATURE_FLAG_MODULE);if(n){n.observe(x.G.D_USE_DIRECT_SHARE_RCME,(function(e){t._canUseDirectShare=e;t.getStateProvider().notifyChange()}),true)}return t}RCMDirectShareSettingItemProvider.prototype._trackInitialState=function(){};RCMDirectShareSettingItemProvider.prototype._getValueOverride=function(e){return Y(this,void 0,void 0,(function(){return Z(this,(function(t){I.k.log("Got initial value: "+e);return[2,e]}))}))};RCMDirectShareSettingItemProvider.prototype._trackDirectShareSettingValue=function(e,t,n){if(n===void 0){n=U.Pal.instance.getPlatformUtils().getOSName()||"unresolved"}if(e!==t){var r={type:"meetings",videoService:"RingCentral Meetings",name:"display share in room option",option:!e&&t?"off to on":"on to off",endPoint:n};I.k.tags("[DirectShare Analytics]").info("Jup_Web/DT_settings_updateSetting",r);B.s6.track("Jup_Web/DT_settings_updateSetting",r)}};RCMDirectShareSettingItemProvider.prototype._getState=function(){return Y(this,void 0,void 0,(function(){var e,t,n;return Z(this,(function(r){switch(r.label){case 0:e=U.Pal.instance.getPlatformUtils().isElectron();if(!(e&&this._canUseDirectShare))return[3,2];t=(0,l.getModule)(i.oF);return[4,t.getSettingItemValue(q.H.Video_Service)];case 1:n=r.sent();if(n!==a.ZE.RINGCENTRAL_VIDEO_EMBEDDED){return[2,u.Ye.ENABLE]}r.label=2;case 2:return[2,u.Ye.INVISIBLE]}}))}))};return RCMDirectShareSettingItemProvider}(F.m);var z=undefined&&undefined.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return extendStatics(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}}();var Q=function(e){z(RCMSettingManager,e);function RCMSettingManager(t){var n=e.call(this)||this;n._meetingService=t;return n}RCMSettingManager.prototype.getProviderMap=function(){var e;return e={},e[r.M.Host_Key]=new h(this._meetingService),e[r.M.RCM_MEET_SETTING]=new E(this._meetingService),e[r.M.RCM_PMI]=new m(this._meetingService),e[r.M.RCM_LOCK_SETTINGS]=new D(this._meetingService),e[r.M.RCM_USER_SETTINGS]=new K(this._meetingService),e[r.M.DIRECT_SHARE]=new J,e};return RCMSettingManager}(i.AbstractModuleSettingProviderManager)}}]);