"use strict";var dt=new Date,oshpData={defaults:{CommonData:{AppName:"OSHP"},Version:"005ZVX",status:{code:"0",type:"none",message:"Ok"},current:{saved:!1,validated:!1,cached:!1,previousView:"",processOSRequest:!1},additionalData:{statusMessage:""}},useStubs:!1,useStubsError:!1,defReasonCode:"CRQ",CADReasonCode:"CDR",externalOrderSource:"MYW",cacheErrorAppName:"OMH_ERROR",updatePayAPP:"DOPSS",customerType:"B2C",useStubsContent:!1,globalReport:{"page.category.applicationName":"Support OPSS - OMH","page.category.pageFunction":"Support","page.pageInfo.lineOfBusiness":"Wireless","page.category.pageOwnership":"Consumer","page.pageInfo.responsiveWebDesignFlag":"1"}},oshpApp=angular.module("orderStatusApp",["ngRoute","att.core","ngIdle","att.oshpservices","ngResource","att.sandbox","ngCookies","orderStatusDir","orderStatusApp.directives","reporting.services","reporting.directives"]).config(["$routeProvider","$locationProvider","ManageContentURIs","KeepaliveProvider","IdleProvider","ReportInterfaceAngularConfig",function($routeProvider,$locationProvider,ManageContentURIs,KeepaliveProvider,IdleProvider,ReportInterfaceAngularConfig){$routeProvider.when("/checkmyorder/orderDetails",{templateUrl:"views/orderDetails.html",resolve:startCtrl.resolve,controller:startCtrl}).when("/checkmyorder/omhub.rt",{templateUrl:"view/home.html",resolve:startCtrl.resolve,controller:startCtrl}).when("/checkmyorder/orderDetails.rt",{templateUrl:"views/orderDetails.html",resolve:orderDetailsCtrl.resolve,controller:orderDetailsCtrl}).when("/checkmyorder/appOrderDetails.rt",{templateUrl:"views/appMarketplace/appMarketOrderDetails.html",resolve:{appdetails:["$rootScope","SessionKeeper",function($rootScope,SessionKeeper){var current=$rootScope.current;current||(current=$rootScope.current=SessionKeeper.read()),angular.isDefined(current.appMarketOrderDetails)||$rootScope.replaceView("omhub")}]},controller:appOrderDetailsCtrl,report:angular.extend(oshpData.globalReport,{"page.pageInfo.flowCode":"CMO_UNAUTH","page.pageInfo.friendlyPageName":"CMO App Marketplace Order Status Details Pg","page.location.url":"/checkmyorder/appMarketOrderDetails.rt",eventAction:"pageLoad",eventCode:"Page_Load"})}).when("/checkmyorder/cancelOrder.rt",{templateUrl:"view/cancelation/cancelOrder.html",resolve:cancelOrderCtrl.resolve,controller:cancelOrderCtrl}).when("/checkmyorder/orderCancelled.rt",{templateUrl:"view/cancelation/order-cancelled.html",resolve:orderCancelCtrl.resolve,controller:orderCancelCtrl}).when("/checkmyorder/validationEmailSent.rt",{templateUrl:"view/common/validationEmailSent.html",resolve:validationEmailCtrl.resolve,controller:validationEmailCtrl}).when("/checkmyorder/maintenance.rt",{templateUrl:"view/maintenance-page.html"}).when("/checkmyorder/orderSummary.rt",{templateUrl:"views/redesign_omHubOrderSummary.html",resolve:orderSummaryCtrl.resolve,controller:orderSummaryCtrl}).when("/checkmyorder/processOSRequest.rt",{templateUrl:"views/redesign_omHubOrderSummary.html",resolve:orderSummaryCtrl.resolve,controller:orderSummaryCtrl}).when("/checkmyorder/login.rt",{templateUrl:"view/authUser.html",resolve:loginCtrl.resolve,controller:loginCtrl}).when("/checkmyorder/test.rt",{templateUrl:"view/extrenalhandoffUrlCreation.html",resolve:startCtrl.resolve,controller:startCtrl}).when("/checkmyorder/dtvNowOrderDetail.rt",{templateUrl:"views/dtvNowOrderDetails.html",resolve:dtvNowOrderDetailCtrl.resolve,controller:dtvNowOrderDetailCtrl,report:{"page.category.applicationName":"Support OPSS - OMH","page.category.pageFunction":"Support","page.pageInfo.lineOfBusiness":"Home Solutions","page.pageInfo.friendlyPageName":"CMO Order Status Details Pg","page.location.url":"/checkmyorder/dtvNowOrderDetails.rt","page.category.pageOwnership":"Consumer","page.pageInfo.responsiveWebDesignFlag":"1"}}).otherwise({redirectTo:"/checkmyorder/omhub.rt"}),window.history&&window.history.pushState?$locationProvider.html5Mode(!0):$locationProvider.html5Mode(!1);var orderNumObjPay,orderNumObjCncl,payStrgflag=!1,cnclStrgflag=!1,orderContent=[],contflag=!1;void 0!==localStorage.getItem("successCnclOrderList")&&null!=localStorage.getItem("successCnclOrderList")&&(orderNumObjCncl=localStorage.getItem("successCnclOrderList"),cnclStrgflag=!0),void 0!==localStorage.getItem("PaymentUpdateSuccessList")&&null!=localStorage.getItem("PaymentUpdateSuccessList")&&(orderNumObjPay=localStorage.getItem("PaymentUpdateSuccessList"),payStrgflag=!0),void 0!=localStorage.getItem("content")&&null!=localStorage.getItem("content")&&(orderContent=JSON.parse(localStorage.getItem("content")),contflag=!0),localStorage.clear(),cnclStrgflag&&localStorage.setItem("successCnclOrderList",orderNumObjCncl),payStrgflag&&localStorage.setItem("PaymentUpdateSuccessList",orderNumObjPay),contflag&&localStorage.setItem("content",JSON.stringify(orderContent)),localStorage.setItem("dtmPageLOB","Wireless"),localStorage.setItem("dtmPageOwnership","Consumer"),localStorage.setItem("dtmPageFunction","Support"),localStorage.setItem("dtmAppName","Support OPSS - OMH"),ManageContentURIs.settings={content:{contentUri:"services/resources/unauth/common/contentprovider/getContent",contentStubUri:"json/cms/content.json"},error:{errorUri:"services/resources/unauth/common/errorprovider/errorlist",errorStubUri:"json/errors.json"},useStub:oshpData.useStubsContent,commonData:oshpData.defaults.CommonData,version:oshpData.defaults.Version},ReportInterfaceAngularConfig.breakpoints=[{min:0,max:480,isMobile:!0,rwd:"Smartphone"},{min:481,max:768,isMobile:!1,rwd:"Tablet"},{min:769,max:2e8,isMobile:!1,rwd:"Desktop"}],IdleProvider.idle(1800),IdleProvider.timeout(60),KeepaliveProvider.interval(600),KeepaliveProvider.http("/checkmyorder/services/resources/unauth/common/keepaliveprovider/heartbeat")}]);oshpApp.run(["$rootScope","ContentService","$log",function($rootScope,ContentService,$log){1===window.location.pathname.search("es-us")?(localStorage.setItem("dtmLanguage","ES"),$rootScope.language="Spanish"):(localStorage.setItem("dtmLanguage","EN"),$rootScope.language="English"),$rootScope.feErrors=function(){ContentService.preloadFEErrors({errors:"OM100,OM200,OM108,OM208,OM123,OM223,OM124,OM224,OM142,OM125",language:$rootScope.language,appName:oshpData.cacheErrorAppName},oshpData.useStubsContent).then(function(data){return $rootScope.feErrors=data,$rootScope.feErrors},function(error){$log.log("Error in Content")})},$rootScope.feErrors()}]);var openTarget=null;$(document).on("click",'[data-toggle="modal"]',function(){return $(".modal").fadeTo(0,"0"),(openTarget=$(this)).addClass("focusDead"),setTimeout(function(){var modHeight=$(".modal:visible").height();null==modHeight&&(modHeight=376),$("html, body").scrollTop(0),$(".modal").css("margin-top",-modHeight/2),$(".modal").fadeTo(0,"1"),$('.modal:visible form[name="ccForm"] input:first').focus()},200),setTimeout(function(){$(".modal:visible button:first").focus(),$(".modal:visible a").focus(),$("#wrapper").removeAttr("aria-hidden"),$("button.btn-tooltip").attr("title","Help: The CVC security code is on the back of your card right after the credit card number")},1e3),!1}),$(document).on("click",'[data-dismiss="modal"], .modal-backdrop',function(){setTimeout(function(){openTarget.blur(),openTarget.removeClass("focusDead")},1e3),$("#update-method-btn").attr("disabled","disabled")}),$(document).on("bind","keydown keyup",function(evt){27===evt.which&&$(".modal:visible")&&setTimeout(function(){openTarget.blur(),openTarget.removeClass("focusDead")},1e3),$(".modal:visible")&&$(".modal-footer button:first-child").is(":focus")&&$(".modal-footer button:first-child").bind("keydown",function(event){var keycode=event.keyCode;9===keycode&&$(".modal-footer button:nth-child(2)").is(":disabled")?$(".modal:visible a").focus():9===keycode&&$(".modal-footer button:nth-child(2)").is(":enabled")?$("button:last").focus():16===keycode&&$(".modal-footer button:nth-child(2)").is(":disabled")&&$("input:last").focus()}),$(".modal:visible")&&$(".modal-footer button:nth-child(2)").is(":enabled")&&$(".modal-footer button:nth-child(2)").bind("keydown",function(event){var keycode=event.keyCode;9===keycode?$(".modal:visible a").focus():16===keycode&&$(".modal-footer button:nth-child(2)").is(":enabled")&&$(".modal-footer button:first-child").focus()})});var modalFooCtrl=function($scope){};angular.module("orderStatusApp.directives",[]).directive("datalayerNotifier",[function(){return{restrict:"A",priority:1,link:function(scope,element,attrs){element.bind("click",function(){attrs.datalayerNotifier.search("Link_Click")>0&&"#"!==attrs.href?DataMappingInterface.directiveInvocation(attrs.datalayerNotifier,scope,attrs.href):DataMappingInterface.directiveInvocation(attrs.datalayerNotifier,scope,"")})}}}]),oshpApp.run(function($rootScope){$rootScope.$on("customeventnotification",function(scope,data,currentscope){void 0!==DataMappingInterface?DataMappingInterface.customEventNotification(data,currentscope):console.eror("DataMappingFramework:: error - mapping failed for broadcasted event as framework is missing")})}),oshpApp.factory("geolocation",["$q","$rootScope","$window",function($q,$rootScope,$window){return{getLocation:function(){var deferred=$q.defer();return $window.navigator?$window.navigator.geolocation.getCurrentPosition(function(position){$rootScope.$apply(function(){deferred.resolve(position.coords.latitude+","+position.coords.longitude)})},function(error){$rootScope.$apply(function(){deferred.reject(error)})}):$rootScope.$apply(function(){deferred.reject(new Error("Geolocation is not supported"))}),deferred.promise}}}]),oshpApp.constant("constants",{dtvProductType:"DIRECTV",wirelessProductType:"WIRELESS",uverseProductType:"UVERSE",trueBoolean:"true",falseBoolean:"false",wirelessEGProductType:"WLS-EG",EGProductType:"EG",WLLDataProductType:"WLLDATA",WLLVoiceProductType:"WLLVOICE",dtvNowProductType:"DTVNOW",dtvNowBundleProductType:"DTVNOW_B",bundleProductType:"BUNDLE",dtvNowDeviceProductType:"DTVN_DEVICE",dtvNowServiceProductType:"DTVNOWSERVC",WLLProductType:"WLL",dtvOrderProductType:"DTV"});